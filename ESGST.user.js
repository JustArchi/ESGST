// ==UserScript==
// @name ESGST
// @namespace ESGST
// @description Enhances SteamGifts and SteamTrades by adding some cool features to them.
// @icon https://dl.dropboxusercontent.com/s/lr3t3bxrxfxylqe/esgstIcon.ico?raw=1
// @version 7.17.1
// @author revilheart
// @contributor Royalgamer06
// @downloadURL https://github.com/revilheart/ESGST/raw/master/ESGST.user.js
// @updateURL https://github.com/revilheart/ESGST/raw/master/ESGST.meta.js
// @match https://www.steamgifts.com/*
// @match https://www.steamtrades.com/*
// @connect raw.githubusercontent.com
// @connect api.steampowered.com
// @connect store.steampowered.com
// @connect script.google.com
// @connect script.googleusercontent.com
// @connect sgtools.info
// @connect steamcommunity.com
// @connect steamgifts.com
// @connect steamtrades.com
// @connect isthereanydeal.com
// @connect api.dropboxapi.com
// @connect content.dropboxapi.com
// @connect api.imgur.com
// @connect googleapis.com
// @connect graph.microsoft.com
// @grant GM_setValue
// @grant GM_getValue
// @grant GM_deleteValue
// @grant GM_listValues
// @grant GM_xmlhttpRequest
// @grant GM.setValue
// @grant GM.getValue
// @grant GM.deleteValue
// @grant GM.listValues
// @grant GM.xmlHttpRequest
// @run-at document-start
// @noframes
// ==/UserScript==

!function(e,t){'use strict';'object'==typeof module&&'object'==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error('jQuery requires a window with a document');return t(e)}:t(e)}('undefined'!=typeof window?window:this,function(e,t){'use strict';var s=[],n=e.document,i=Object.getPrototypeOf,a=s.slice,o=s.concat,r=s.push,l=s.indexOf,c={},d=c.toString,g=c.hasOwnProperty,u=g.toString,h=u.call(Object),m={};function p(e,t){var s=(t=t||n).createElement('script');s.text=e,t.head.appendChild(s).parentNode.removeChild(s)}var f='3.2.1',v=function(e,t){return new v.fn.init(e,t)},x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,w=/^-ms-/,b=/-([a-z])/g,y=function(e,t){return t.toUpperCase()};function F(e){var t=!!e&&'length'in e&&e.length,s=v.type(e);return'function'!==s&&!v.isWindow(e)&&('array'===s||0===t||'number'==typeof t&&t>0&&t-1 in e)}v.fn=v.prototype={jquery:f,constructor:v,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=v.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return v.each(this,e)},map:function(e){return this.pushStack(v.map(this,function(t,s){return e.call(t,s,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,s=+e+(e<0?t:0);return this.pushStack(s>=0&&s<t?[this[s]]:[])},end:function(){return this.prevObject||this.constructor()},push:r,sort:s.sort,splice:s.splice},v.extend=v.fn.extend=function(){var e,t,s,n,i,a,o=arguments[0]||{},r=1,l=arguments.length,c=!1;for('boolean'==typeof o&&(c=o,o=arguments[r]||{},r++),'object'==typeof o||v.isFunction(o)||(o={}),r===l&&(o=this,r--);r<l;r++)if(null!=(e=arguments[r]))for(t in e)s=o[t],o!==(n=e[t])&&(c&&n&&(v.isPlainObject(n)||(i=Array.isArray(n)))?(i?(i=!1,a=s&&Array.isArray(s)?s:[]):a=s&&v.isPlainObject(s)?s:{},o[t]=v.extend(c,a,n)):void 0!==n&&(o[t]=n));return o},v.extend({expando:'jQuery'+(f+Math.random()).replace(/\D/g,''),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return'function'===v.type(e)},isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=v.type(e);return('number'===t||'string'===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,s;return!(!e||'[object Object]'!==d.call(e)||(t=i(e))&&(s=g.call(t,'constructor')&&t.constructor,'function'!=typeof s||u.call(s)!==h))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+'':'object'==typeof e||'function'==typeof e?c[d.call(e)]||'object':typeof e},globalEval:function(e){p(e)},camelCase:function(e){return e.replace(w,'ms-').replace(b,y)},each:function(e,t){var s,n=0;if(F(e))for(s=e.length;n<s&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?'':(e+'').replace(x,'')},makeArray:function(e,t){var s=t||[];return null!=e&&(F(Object(e))?v.merge(s,'string'==typeof e?[e]:e):r.call(s,e)),s},inArray:function(e,t,s){return null==t?-1:l.call(t,e,s)},merge:function(e,t){for(var s=+t.length,n=0,i=e.length;n<s;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,s){for(var n,i=[],a=0,o=e.length,r=!s;a<o;a++)(n=!t(e[a],a))!==r&&i.push(e[a]);return i},map:function(e,t,s){var n,i,a=0,r=[];if(F(e))for(n=e.length;a<n;a++)null!=(i=t(e[a],a,s))&&r.push(i);else for(a in e)null!=(i=t(e[a],a,s))&&r.push(i);return o.apply([],r)},guid:1,proxy:function(e,t){var s,n,i;if('string'==typeof t&&(s=e[t],t=e,e=s),v.isFunction(e))return n=a.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||v.guid++,i},now:Date.now,support:m}),'function'==typeof Symbol&&(v.fn[Symbol.iterator]=s[Symbol.iterator]),v.each('Boolean Number String Function Array Date RegExp Object Error Symbol'.split(' '),function(e,t){c['[object '+t+']']=t.toLowerCase()});var _=function(e){var t,s,n,i,a,o,r,l,c,d,g,u,h,m,p,f,v,x,w,b='sizzle'+1*new Date,y=e.document,F=0,_=0,k=oe(),E=oe(),S=oe(),C=function(e,t){return e===t&&(g=!0),0},A={}.hasOwnProperty,T=[],D=T.pop,L=T.push,B=T.push,M=T.slice,j=function(e,t){for(var s=0,n=e.length;s<n;s++)if(e[s]===t)return s;return-1},G='checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped',P='[\\x20\\t\\r\\n\\f]',I='(?:\\\\.|[\\w-]|[^\0-\\xa0])+',H='\\['+P+'*('+I+')(?:'+P+'*([*^$|!~]?=)'+P+'*(?:\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)"|('+I+'))|)'+P+'*\\]',N=':('+I+')(?:\\(((\'((?:\\\\.|[^\\\\\'])*)\'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|'+H+')*)|.*)\\)|)',R=new RegExp(P+'+','g'),$=new RegExp('^'+P+'+|((?:^|[^\\\\])(?:\\\\.)*)'+P+'+$','g'),q=new RegExp('^'+P+'*,'+P+'*'),W=new RegExp('^'+P+'*([>+~]|'+P+')'+P+'*'),O=new RegExp('='+P+'*([^\\]\'"]*?)'+P+'*\\]','g'),U=new RegExp(N),V=new RegExp('^'+I+'$'),J={ID:new RegExp('^#('+I+')'),CLASS:new RegExp('^\\.('+I+')'),TAG:new RegExp('^('+I+'|[*])'),ATTR:new RegExp('^'+H),PSEUDO:new RegExp('^'+N),CHILD:new RegExp('^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\('+P+'*(even|odd|(([+-]|)(\\d*)n|)'+P+'*(?:([+-]|)'+P+'*(\\d+)|))'+P+'*\\)|)','i'),bool:new RegExp('^(?:'+G+')$','i'),needsContext:new RegExp('^'+P+'*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\('+P+'*((?:-\\d)?\\d*)'+P+'*\\)|)(?=[^-]|$)','i')},K=/^(?:input|select|textarea|button)$/i,z=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,X=new RegExp('\\\\([\\da-f]{1,6}'+P+'?|('+P+')|.)','ig'),ee=function(e,t,s){var n='0x'+t-65536;return n!=n||s?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,se=function(e,t){return t?'\0'===e?'ï¿½':e.slice(0,-1)+'\\'+e.charCodeAt(e.length-1).toString(16)+' ':'\\'+e},ne=function(){u()},ie=xe(function(e){return!0===e.disabled&&('form'in e||'label'in e)},{dir:'parentNode',next:'legend'});try{B.apply(T=M.call(y.childNodes),y.childNodes),T[y.childNodes.length].nodeType}catch(e){B={apply:T.length?function(e,t){L.apply(e,M.call(t))}:function(e,t){for(var s=e.length,n=0;e[s++]=t[n++];);e.length=s-1}}}function ae(e,t,n,i){var a,r,c,d,g,m,v,x=t&&t.ownerDocument,F=t?t.nodeType:9;if(n=n||[],'string'!=typeof e||!e||1!==F&&9!==F&&11!==F)return n;if(!i&&((t?t.ownerDocument||t:y)!==h&&u(t),t=t||h,p)){if(11!==F&&(g=Q.exec(e)))if(a=g[1]){if(9===F){if(!(c=t.getElementById(a)))return n;if(c.id===a)return n.push(c),n}else if(x&&(c=x.getElementById(a))&&w(t,c)&&c.id===a)return n.push(c),n}else{if(g[2])return B.apply(n,t.getElementsByTagName(e)),n;if((a=g[3])&&s.getElementsByClassName&&t.getElementsByClassName)return B.apply(n,t.getElementsByClassName(a)),n}if(s.qsa&&!S[e+' ']&&(!f||!f.test(e))){if(1!==F)x=t,v=e;else if('object'!==t.nodeName.toLowerCase()){for((d=t.getAttribute('id'))?d=d.replace(te,se):t.setAttribute('id',d=b),r=(m=o(e)).length;r--;)m[r]='#'+d+' '+ve(m[r]);v=m.join(','),x=Z.test(e)&&pe(t.parentNode)||t}if(v)try{return B.apply(n,x.querySelectorAll(v)),n}catch(e){}finally{d===b&&t.removeAttribute('id')}}}return l(e.replace($,'$1'),t,n,i)}function oe(){var e=[];function t(s,i){return e.push(s+' ')>n.cacheLength&&delete t[e.shift()],t[s+' ']=i}return t}function re(e){return e[b]=!0,e}function le(e){var t=h.createElement('fieldset');try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var s=e.split('|'),i=s.length;i--;)n.attrHandle[s[i]]=t}function de(e,t){var s=t&&e,n=s&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(s)for(;s=s.nextSibling;)if(s===t)return-1;return e?1:-1}function ge(e){return function(t){var s;return'input'===t.nodeName.toLowerCase()&&t.type===e}}function ue(e){return function(t){var s=t.nodeName.toLowerCase();return('input'===s||'button'===s)&&t.type===e}}function he(e){return function(t){return'form'in t?t.parentNode&&!1===t.disabled?'label'in t?'label'in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:'label'in t&&t.disabled===e}}function me(e){return re(function(t){return t=+t,re(function(s,n){for(var i,a=e([],s.length,t),o=a.length;o--;)s[i=a[o]]&&(s[i]=!(n[i]=s[i]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in s=ae.support={},a=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&'HTML'!==t.nodeName},u=ae.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:y;return o!==h&&9===o.nodeType&&o.documentElement?(m=(h=o).documentElement,p=!a(h),y!==h&&(i=h.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener('unload',ne,!1):i.attachEvent&&i.attachEvent('onunload',ne)),s.attributes=le(function(e){return e.className='i',!e.getAttribute('className')}),s.getElementsByTagName=le(function(e){return e.appendChild(h.createComment('')),!e.getElementsByTagName('*').length}),s.getElementsByClassName=Y.test(h.getElementsByClassName),s.getById=le(function(e){return m.appendChild(e).id=b,!h.getElementsByName||!h.getElementsByName(b).length}),s.getById?(n.filter.ID=function(e){var t=e.replace(X,ee);return function(e){return e.getAttribute('id')===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&p){var s=t.getElementById(e);return s?[s]:[]}}):(n.filter.ID=function(e){var t=e.replace(X,ee);return function(e){var s=void 0!==e.getAttributeNode&&e.getAttributeNode('id');return s&&s.value===t}},n.find.ID=function(e,t){if(void 0!==t.getElementById&&p){var s,n,i,a=t.getElementById(e);if(a){if((s=a.getAttributeNode('id'))&&s.value===e)return[a];for(i=t.getElementsByName(e),n=0;a=i[n++];)if((s=a.getAttributeNode('id'))&&s.value===e)return[a]}return[]}}),n.find.TAG=s.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):s.qsa?t.querySelectorAll(e):void 0}:function(e,t){var s,n=[],i=0,a=t.getElementsByTagName(e);if('*'===e){for(;s=a[i++];)1===s.nodeType&&n.push(s);return n}return a},n.find.CLASS=s.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&p)return t.getElementsByClassName(e)},v=[],f=[],(s.qsa=Y.test(h.querySelectorAll))&&(le(function(e){m.appendChild(e).innerHTML='<a id=\''+b+'\'></a><select id=\''+b+'-\r\\\' msallowcapture=\'\'><option selected=\'\'></option></select>',e.querySelectorAll('[msallowcapture^=\'\']').length&&f.push('[*^$]='+P+'*(?:\'\'|"")'),e.querySelectorAll('[selected]').length||f.push('\\['+P+'*(?:value|'+G+')'),e.querySelectorAll('[id~='+b+'-]').length||f.push('~='),e.querySelectorAll(':checked').length||f.push(':checked'),e.querySelectorAll('a#'+b+'+*').length||f.push('.#.+[+~]')}),le(function(e){e.innerHTML='<a href=\'\' disabled=\'disabled\'></a><select disabled=\'disabled\'><option/></select>';var t=h.createElement('input');t.setAttribute('type','hidden'),e.appendChild(t).setAttribute('name','D'),e.querySelectorAll('[name=d]').length&&f.push('name'+P+'*[*^$|!~]?='),2!==e.querySelectorAll(':enabled').length&&f.push(':enabled',':disabled'),m.appendChild(e).disabled=!0,2!==e.querySelectorAll(':disabled').length&&f.push(':enabled',':disabled'),e.querySelectorAll('*,:x'),f.push(',.*:')})),(s.matchesSelector=Y.test(x=m.matches||m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&le(function(e){s.disconnectedMatch=x.call(e,'*'),x.call(e,'[s!=\'\']:x'),v.push('!=',N)}),f=f.length&&new RegExp(f.join('|')),v=v.length&&new RegExp(v.join('|')),t=Y.test(m.compareDocumentPosition),w=t||Y.test(m.contains)?function(e,t){var s=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(s.contains?s.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return g=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!s.sortDetached&&t.compareDocumentPosition(e)===n?e===h||e.ownerDocument===y&&w(y,e)?-1:t===h||t.ownerDocument===y&&w(y,t)?1:d?j(d,e)-j(d,t):0:4&n?-1:1)}:function(e,t){if(e===t)return g=!0,0;var s,n=0,i=e.parentNode,a=t.parentNode,o=[e],r=[t];if(!i||!a)return e===h?-1:t===h?1:i?-1:a?1:d?j(d,e)-j(d,t):0;if(i===a)return de(e,t);for(s=e;s=s.parentNode;)o.unshift(s);for(s=t;s=s.parentNode;)r.unshift(s);for(;o[n]===r[n];)n++;return n?de(o[n],r[n]):o[n]===y?-1:r[n]===y?1:0},h):h},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&u(e),t=t.replace(O,'=\'$1\']'),s.matchesSelector&&p&&!S[t+' ']&&(!v||!v.test(t))&&(!f||!f.test(t)))try{var n=x.call(e,t);if(n||s.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return ae(t,h,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==h&&u(e),w(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==h&&u(e);var i=n.attrHandle[t.toLowerCase()],a=i&&A.call(n.attrHandle,t.toLowerCase())?i(e,t,!p):void 0;return void 0!==a?a:s.attributes||!p?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},ae.escape=function(e){return(e+'').replace(te,se)},ae.error=function(e){throw new Error('Syntax error, unrecognized expression: '+e)},ae.uniqueSort=function(e){var t,n=[],i=0,a=0;if(g=!s.detectDuplicates,d=!s.sortStable&&e.slice(0),e.sort(C),g){for(;t=e[a++];)t===e[a]&&(i=n.push(a));for(;i--;)e.splice(n[i],1)}return d=null,e},i=ae.getText=function(e){var t,s='',n=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if('string'==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)s+=i(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[n++];)s+=i(t);return s},(n=ae.selectors={cacheLength:50,createPseudo:re,match:J,attrHandle:{},find:{},relative:{'>':{dir:'parentNode',first:!0},' ':{dir:'parentNode'},'+':{dir:'previousSibling',first:!0},'~':{dir:'previousSibling'}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(X,ee),e[3]=(e[3]||e[4]||e[5]||'').replace(X,ee),'~='===e[2]&&(e[3]=' '+e[3]+' '),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),'nth'===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*('even'===e[3]||'odd'===e[3])),e[5]=+(e[7]+e[8]||'odd'===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,s=!e[6]&&e[2];return J.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||'':s&&U.test(s)&&(t=o(s,!0))&&(t=s.indexOf(')',s.length-t)-s.length)&&(e[0]=e[0].slice(0,t),e[2]=s.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(X,ee).toLowerCase();return'*'===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+' '];return t||(t=new RegExp('(^|'+P+')'+e+'('+P+'|$)'))&&k(e,function(e){return t.test('string'==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute('class')||'')})},ATTR:function(e,t,s){return function(n){var i=ae.attr(n,e);return null==i?'!='===t:!t||(i+='','='===t?i===s:'!='===t?i!==s:'^='===t?s&&0===i.indexOf(s):'*='===t?s&&i.indexOf(s)>-1:'$='===t?s&&i.slice(-s.length)===s:'~='===t?(' '+i.replace(R,' ')+' ').indexOf(s)>-1:'|='===t&&(i===s||i.slice(0,s.length+1)===s+'-'))}},CHILD:function(e,t,s,n,i){var a='nth'!==e.slice(0,3),o='last'!==e.slice(-4),r='of-type'===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,s,l){var c,d,g,u,h,m,p=a!==o?'nextSibling':'previousSibling',f=t.parentNode,v=r&&t.nodeName.toLowerCase(),x=!l&&!r,w=!1;if(f){if(a){for(;p;){for(u=t;u=u[p];)if(r?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;m=p='only'===e&&!m&&'nextSibling'}return!0}if(m=[o?f.firstChild:f.lastChild],o&&x){for(w=(h=(c=(d=(g=(u=f)[b]||(u[b]={}))[u.uniqueID]||(g[u.uniqueID]={}))[e]||[])[0]===F&&c[1])&&c[2],u=h&&f.childNodes[h];u=++h&&u&&u[p]||(w=h=0)||m.pop();)if(1===u.nodeType&&++w&&u===t){d[e]=[F,h,w];break}}else if(x&&(w=h=(c=(d=(g=(u=t)[b]||(u[b]={}))[u.uniqueID]||(g[u.uniqueID]={}))[e]||[])[0]===F&&c[1]),!1===w)for(;(u=++h&&u&&u[p]||(w=h=0)||m.pop())&&((r?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++w||(x&&((d=(g=u[b]||(u[b]={}))[u.uniqueID]||(g[u.uniqueID]={}))[e]=[F,w]),u!==t)););return(w-=i)===n||w%n==0&&w/n>=0}}},PSEUDO:function(e,t){var s,i=n.pseudos[e]||n.setFilters[e.toLowerCase()]||ae.error('unsupported pseudo: '+e);return i[b]?i(t):i.length>1?(s=[e,e,'',t],n.setFilters.hasOwnProperty(e.toLowerCase())?re(function(e,s){for(var n,a=i(e,t),o=a.length;o--;)e[n=j(e,a[o])]=!(s[n]=a[o])}):function(e){return i(e,0,s)}):i}},pseudos:{not:re(function(e){var t=[],s=[],n=r(e.replace($,'$1'));return n[b]?re(function(e,t,s,i){for(var a,o=n(e,null,i,[]),r=e.length;r--;)(a=o[r])&&(e[r]=!(t[r]=a))}):function(e,i,a){return t[0]=e,n(t,null,a,s),t[0]=null,!s.pop()}}),has:re(function(e){return function(t){return ae(e,t).length>0}}),contains:re(function(e){return e=e.replace(X,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:re(function(e){return V.test(e||'')||ae.error('unsupported lang: '+e),e=e.replace(X,ee).toLowerCase(),function(t){var s;do{if(s=p?t.lang:t.getAttribute('xml:lang')||t.getAttribute('lang'))return(s=s.toLowerCase())===e||0===s.indexOf(e+'-')}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var s=e.location&&e.location.hash;return s&&s.slice(1)===t.id},root:function(e){return e===m},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:he(!1),disabled:he(!0),checked:function(e){var t=e.nodeName.toLowerCase();return'input'===t&&!!e.checked||'option'===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!n.pseudos.empty(e)},header:function(e){return z.test(e.nodeName)},input:function(e){return K.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return'input'===t&&'button'===e.type||'button'===t},text:function(e){var t;return'input'===e.nodeName.toLowerCase()&&'text'===e.type&&(null==(t=e.getAttribute('type'))||'text'===t.toLowerCase())},first:me(function(){return[0]}),last:me(function(e,t){return[t-1]}),eq:me(function(e,t,s){return[s<0?s+t:s]}),even:me(function(e,t){for(var s=0;s<t;s+=2)e.push(s);return e}),odd:me(function(e,t){for(var s=1;s<t;s+=2)e.push(s);return e}),lt:me(function(e,t,s){for(var n=s<0?s+t:s;--n>=0;)e.push(n);return e}),gt:me(function(e,t,s){for(var n=s<0?s+t:s;++n<t;)e.push(n);return e})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[t]=ge(t);for(t in{submit:!0,reset:!0})n.pseudos[t]=ue(t);function fe(){}function ve(e){for(var t=0,s=e.length,n='';t<s;t++)n+=e[t].value;return n}function xe(e,t,s){var n=t.dir,i=t.next,a=i||n,o=s&&'parentNode'===a,r=_++;return t.first?function(t,s,i){for(;t=t[n];)if(1===t.nodeType||o)return e(t,s,i);return!1}:function(t,s,l){var c,d,g,u=[F,r];if(l){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,s,l))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(d=(g=t[b]||(t[b]={}))[t.uniqueID]||(g[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[n]||t;else{if((c=d[a])&&c[0]===F&&c[1]===r)return u[2]=c[2];if(d[a]=u,u[2]=e(t,s,l))return!0}return!1}}function we(e){return e.length>1?function(t,s,n){for(var i=e.length;i--;)if(!e[i](t,s,n))return!1;return!0}:e[0]}function be(e,t,s){for(var n=0,i=t.length;n<i;n++)ae(e,t[n],s);return s}function ye(e,t,s,n,i){for(var a,o=[],r=0,l=e.length,c=null!=t;r<l;r++)(a=e[r])&&(s&&!s(a,n,i)||(o.push(a),c&&t.push(r)));return o}function Fe(e,t,s,n,i,a){return n&&!n[b]&&(n=Fe(n)),i&&!i[b]&&(i=Fe(i,a)),re(function(a,o,r,l){var c,d,g,u=[],h=[],m=o.length,p=a||be(t||'*',r.nodeType?[r]:r,[]),f=!e||!a&&t?p:ye(p,u,e,r,l),v=s?i||(a?e:m||n)?[]:o:f;if(s&&s(f,v,r,l),n)for(c=ye(v,h),n(c,[],r,l),d=c.length;d--;)(g=c[d])&&(v[h[d]]=!(f[h[d]]=g));if(a){if(i||e){if(i){for(c=[],d=v.length;d--;)(g=v[d])&&c.push(f[d]=g);i(null,v=[],c,l)}for(d=v.length;d--;)(g=v[d])&&(c=i?j(a,g):u[d])>-1&&(a[c]=!(o[c]=g))}}else v=ye(v===o?v.splice(m,v.length):v),i?i(null,o,v,l):B.apply(o,v)})}function _e(e){for(var t,s,i,a=e.length,o=n.relative[e[0].type],r=o||n.relative[' '],l=o?1:0,d=xe(function(e){return e===t},r,!0),g=xe(function(e){return j(t,e)>-1},r,!0),u=[function(e,s,n){var i=!o&&(n||s!==c)||((t=s).nodeType?d(e,s,n):g(e,s,n));return t=null,i}];l<a;l++)if(s=n.relative[e[l].type])u=[xe(we(u),s)];else{if((s=n.filter[e[l].type].apply(null,e[l].matches))[b]){for(i=++l;i<a&&!n.relative[e[i].type];i++);return Fe(l>1&&we(u),l>1&&ve(e.slice(0,l-1).concat({value:' '===e[l-2].type?'*':''})).replace($,'$1'),s,l<i&&_e(e.slice(l,i)),i<a&&_e(e=e.slice(i)),i<a&&ve(e))}u.push(s)}return we(u)}function ke(e,t){var s=t.length>0,i=e.length>0,a=function(a,o,r,l,d){var g,m,f,v=0,x='0',w=a&&[],b=[],y=c,_=a||i&&n.find.TAG('*',d),k=F+=null==y?1:Math.random()||.1,E=_.length;for(d&&(c=o===h||o||d);x!==E&&null!=(g=_[x]);x++){if(i&&g){for(m=0,o||g.ownerDocument===h||(u(g),r=!p);f=e[m++];)if(f(g,o||h,r)){l.push(g);break}d&&(F=k)}s&&((g=!f&&g)&&v--,a&&w.push(g))}if(v+=x,s&&x!==v){for(m=0;f=t[m++];)f(w,b,o,r);if(a){if(v>0)for(;x--;)w[x]||b[x]||(b[x]=D.call(l));b=ye(b)}B.apply(l,b),d&&!a&&b.length>0&&v+t.length>1&&ae.uniqueSort(l)}return d&&(F=k,c=y),w};return s?re(a):a}return fe.prototype=n.filters=n.pseudos,n.setFilters=new fe,o=ae.tokenize=function(e,t){var s,i,a,o,r,l,c,d=E[e+' '];if(d)return t?0:d.slice(0);for(r=e,l=[],c=n.preFilter;r;){for(o in s&&!(i=q.exec(r))||(i&&(r=r.slice(i[0].length)||r),l.push(a=[])),s=!1,(i=W.exec(r))&&(s=i.shift(),a.push({value:s,type:i[0].replace($,' ')}),r=r.slice(s.length)),n.filter)!(i=J[o].exec(r))||c[o]&&!(i=c[o](i))||(s=i.shift(),a.push({value:s,type:o,matches:i}),r=r.slice(s.length));if(!s)break}return t?r.length:r?ae.error(e):E(e,l).slice(0)},r=ae.compile=function(e,t){var s,n=[],i=[],a=S[e+' '];if(!a){for(t||(t=o(e)),s=t.length;s--;)(a=_e(t[s]))[b]?n.push(a):i.push(a);(a=S(e,ke(i,n))).selector=e}return a},l=ae.select=function(e,t,s,i){var a,l,c,d,g,u='function'==typeof e&&e,h=!i&&o(e=u.selector||e);if(s=s||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&'ID'===(c=l[0]).type&&9===t.nodeType&&p&&n.relative[l[1].type]){if(!(t=(n.find.ID(c.matches[0].replace(X,ee),t)||[])[0]))return s;u&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(a=J.needsContext.test(e)?0:l.length;a--&&(c=l[a],!n.relative[d=c.type]);)if((g=n.find[d])&&(i=g(c.matches[0].replace(X,ee),Z.test(l[0].type)&&pe(t.parentNode)||t))){if(l.splice(a,1),!(e=i.length&&ve(l)))return B.apply(s,i),s;break}}return(u||r(e,h))(i,t,!p,s,!t||Z.test(e)&&pe(t.parentNode)||t),s},s.sortStable=b.split('').sort(C).join('')===b,s.detectDuplicates=!!g,u(),s.sortDetached=le(function(e){return 1&e.compareDocumentPosition(h.createElement('fieldset'))}),le(function(e){return e.innerHTML='<a href=\'#\'></a>','#'===e.firstChild.getAttribute('href')})||ce('type|href|height|width',function(e,t,s){if(!s)return e.getAttribute(t,'type'===t.toLowerCase()?1:2)}),s.attributes&&le(function(e){return e.innerHTML='<input/>',e.firstChild.setAttribute('value',''),''===e.firstChild.getAttribute('value')})||ce('value',function(e,t,s){if(!s&&'input'===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute('disabled')})||ce(G,function(e,t,s){var n;if(!s)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),ae}(e);v.find=_,v.expr=_.selectors,v.expr[':']=v.expr.pseudos,v.uniqueSort=v.unique=_.uniqueSort,v.text=_.getText,v.isXMLDoc=_.isXML,v.contains=_.contains,v.escapeSelector=_.escape;var k=function(e,t,s){for(var n=[],i=void 0!==s;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&v(e).is(s))break;n.push(e)}return n},E=function(e,t){for(var s=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&s.push(e);return s},S=v.expr.match.needsContext;function C(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var A=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,T=/^.[^:#\[\.,]*$/;function D(e,t,s){return v.isFunction(t)?v.grep(e,function(e,n){return!!t.call(e,n,e)!==s}):t.nodeType?v.grep(e,function(e){return e===t!==s}):'string'!=typeof t?v.grep(e,function(e){return l.call(t,e)>-1!==s}):T.test(t)?v.filter(t,e,s):(t=v.filter(t,e),v.grep(e,function(e){return l.call(t,e)>-1!==s&&1===e.nodeType}))}v.filter=function(e,t,s){var n=t[0];return s&&(e=':not('+e+')'),1===t.length&&1===n.nodeType?v.find.matchesSelector(n,e)?[n]:[]:v.find.matches(e,v.grep(t,function(e){return 1===e.nodeType}))},v.fn.extend({find:function(e){var t,s,n=this.length,i=this;if('string'!=typeof e)return this.pushStack(v(e).filter(function(){for(t=0;t<n;t++)if(v.contains(i[t],this))return!0}));for(s=this.pushStack([]),t=0;t<n;t++)v.find(e,i[t],s);return n>1?v.uniqueSort(s):s},filter:function(e){return this.pushStack(D(this,e||[],!1))},not:function(e){return this.pushStack(D(this,e||[],!0))},is:function(e){return!!D(this,'string'==typeof e&&S.test(e)?v(e):e||[],!1).length}});var L,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,M;(v.fn.init=function(e,t,s){var i,a;if(!e)return this;if(s=s||L,'string'==typeof e){if(!(i='<'===e[0]&&'>'===e[e.length-1]&&e.length>=3?[null,e,null]:B.exec(e))||!i[1]&&t)return!t||t.jquery?(t||s).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof v?t[0]:t,v.merge(this,v.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:n,!0)),A.test(i[1])&&v.isPlainObject(t))for(i in t)v.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(a=n.getElementById(i[2]))&&(this[0]=a,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v.isFunction(e)?void 0!==s.ready?s.ready(e):e(v):v.makeArray(e,this)}).prototype=v.fn,L=v(n);var j=/^(?:parents|prev(?:Until|All))/,G={children:!0,contents:!0,next:!0,prev:!0};function P(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}v.fn.extend({has:function(e){var t=v(e,this),s=t.length;return this.filter(function(){for(var e=0;e<s;e++)if(v.contains(this,t[e]))return!0})},closest:function(e,t){var s,n=0,i=this.length,a=[],o='string'!=typeof e&&v(e);if(!S.test(e))for(;n<i;n++)for(s=this[n];s&&s!==t;s=s.parentNode)if(s.nodeType<11&&(o?o.index(s)>-1:1===s.nodeType&&v.find.matchesSelector(s,e))){a.push(s);break}return this.pushStack(a.length>1?v.uniqueSort(a):a)},index:function(e){return e?'string'==typeof e?l.call(v(e),this[0]):l.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(v.uniqueSort(v.merge(this.get(),v(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),v.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,'parentNode')},parentsUntil:function(e,t,s){return k(e,'parentNode',s)},next:function(e){return P(e,'nextSibling')},prev:function(e){return P(e,'previousSibling')},nextAll:function(e){return k(e,'nextSibling')},prevAll:function(e){return k(e,'previousSibling')},nextUntil:function(e,t,s){return k(e,'nextSibling',s)},prevUntil:function(e,t,s){return k(e,'previousSibling',s)},siblings:function(e){return E((e.parentNode||{}).firstChild,e)},children:function(e){return E(e.firstChild)},contents:function(e){return C(e,'iframe')?e.contentDocument:(C(e,'template')&&(e=e.content||e),v.merge([],e.childNodes))}},function(e,t){v.fn[e]=function(s,n){var i=v.map(this,t,s);return'Until'!==e.slice(-5)&&(n=s),n&&'string'==typeof n&&(i=v.filter(n,i)),this.length>1&&(G[e]||v.uniqueSort(i),j.test(e)&&i.reverse()),this.pushStack(i)}});var I=/[^\x20\t\r\n\f]+/g;function H(e){var t={};return v.each(e.match(I)||[],function(e,s){t[s]=!0}),t}function N(e){return e}function R(e){throw e}function $(e,t,s,n){var i;try{e&&v.isFunction(i=e.promise)?i.call(e).done(t).fail(s):e&&v.isFunction(i=e.then)?i.call(e,t,s):t.apply(void 0,[e].slice(n))}catch(e){s.apply(void 0,[e])}}v.Callbacks=function(e){e='string'==typeof e?H(e):v.extend({},e);var t,s,n,i,a=[],o=[],r=-1,l=function(){for(i=i||e.once,n=t=!0;o.length;r=-1)for(s=o.shift();++r<a.length;)!1===a[r].apply(s[0],s[1])&&e.stopOnFalse&&(r=a.length,s=!1);e.memory||(s=!1),t=!1,i&&(a=s?[]:'')},c={add:function(){return a&&(s&&!t&&(r=a.length-1,o.push(s)),function t(s){v.each(s,function(s,n){v.isFunction(n)?e.unique&&c.has(n)||a.push(n):n&&n.length&&'string'!==v.type(n)&&t(n)})}(arguments),s&&!t&&l()),this},remove:function(){return v.each(arguments,function(e,t){for(var s;(s=v.inArray(t,a,s))>-1;)a.splice(s,1),s<=r&&r--}),this},has:function(e){return e?v.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return i=o=[],a=s='',this},disabled:function(){return!a},lock:function(){return i=o=[],s||t||(a=s=''),this},locked:function(){return!!i},fireWith:function(e,s){return i||(s=[e,(s=s||[]).slice?s.slice():s],o.push(s),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!n}};return c},v.extend({Deferred:function(t){var s=[['notify','progress',v.Callbacks('memory'),v.Callbacks('memory'),2],['resolve','done',v.Callbacks('once memory'),v.Callbacks('once memory'),0,'resolved'],['reject','fail',v.Callbacks('once memory'),v.Callbacks('once memory'),1,'rejected']],n='pending',i={state:function(){return n},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return v.Deferred(function(t){v.each(s,function(s,n){var i=v.isFunction(e[n[4]])&&e[n[4]];a[n[1]](function(){var e=i&&i.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[n[0]+'With'](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,n,i){var a=0;function o(t,s,n,i){return function(){var r=this,l=arguments,c=function(){var e,c;if(!(t<a)){if((e=n.apply(r,l))===s.promise())throw new TypeError('Thenable self-resolution');c=e&&('object'==typeof e||'function'==typeof e)&&e.then,v.isFunction(c)?i?c.call(e,o(a,s,N,i),o(a,s,R,i)):(a++,c.call(e,o(a,s,N,i),o(a,s,R,i),o(a,s,N,s.notifyWith))):(n!==N&&(r=void 0,l=[e]),(i||s.resolveWith)(r,l))}},d=i?c:function(){try{c()}catch(e){v.Deferred.exceptionHook&&v.Deferred.exceptionHook(e,d.stackTrace),t+1>=a&&(n!==R&&(r=void 0,l=[e]),s.rejectWith(r,l))}};t?d():(v.Deferred.getStackHook&&(d.stackTrace=v.Deferred.getStackHook()),e.setTimeout(d))}}return v.Deferred(function(e){s[0][3].add(o(0,e,v.isFunction(i)?i:N,e.notifyWith)),s[1][3].add(o(0,e,v.isFunction(t)?t:N)),s[2][3].add(o(0,e,v.isFunction(n)?n:R))}).promise()},promise:function(e){return null!=e?v.extend(e,i):i}},a={};return v.each(s,function(e,t){var o=t[2],r=t[5];i[t[1]]=o.add,r&&o.add(function(){n=r},s[3-e][2].disable,s[0][2].lock),o.add(t[3].fire),a[t[0]]=function(){return a[t[0]+'With'](this===a?void 0:this,arguments),this},a[t[0]+'With']=o.fireWith}),i.promise(a),t&&t.call(a,a),a},when:function(e){var t=arguments.length,s=t,n=Array(s),i=a.call(arguments),o=v.Deferred(),r=function(e){return function(s){n[e]=this,i[e]=arguments.length>1?a.call(arguments):s,--t||o.resolveWith(n,i)}};if(t<=1&&($(e,o.done(r(s)).resolve,o.reject,!t),'pending'===o.state()||v.isFunction(i[s]&&i[s].then)))return o.then();for(;s--;)$(i[s],r(s),o.reject);return o.promise()}});var q=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;v.Deferred.exceptionHook=function(t,s){e.console&&e.console.warn&&t&&q.test(t.name)&&e.console.warn('jQuery.Deferred exception: '+t.message,t.stack,s)},v.readyException=function(t){e.setTimeout(function(){throw t})};var W=v.Deferred();function O(){n.removeEventListener('DOMContentLoaded',O),e.removeEventListener('load',O),v.ready()}v.fn.ready=function(e){return W.then(e).catch(function(e){v.readyException(e)}),this},v.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--v.readyWait:v.isReady)||(v.isReady=!0,!0!==e&&--v.readyWait>0||W.resolveWith(n,[v]))}}),v.ready.then=W.then,'complete'===n.readyState||'loading'!==n.readyState&&!n.documentElement.doScroll?e.setTimeout(v.ready):(n.addEventListener('DOMContentLoaded',O),e.addEventListener('load',O));var U=function(e,t,s,n,i,a,o){var r=0,l=e.length,c=null==s;if('object'===v.type(s))for(r in i=!0,s)U(e,t,r,s[r],!0,a,o);else if(void 0!==n&&(i=!0,v.isFunction(n)||(o=!0),c&&(o?(t.call(e,n),t=null):(c=t,t=function(e,t,s){return c.call(v(e),s)})),t))for(;r<l;r++)t(e[r],s,o?n:n.call(e[r],r,t(e[r],s)));return i?e:c?t.call(e):l?t(e[0],s):a},V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=v.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,s){var n,i=this.cache(e);if('string'==typeof t)i[v.camelCase(t)]=s;else for(n in t)i[v.camelCase(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][v.camelCase(t)]},access:function(e,t,s){return void 0===t||t&&'string'==typeof t&&void 0===s?this.get(e,t):(this.set(e,t,s),void 0!==s?s:t)},remove:function(e,t){var s,n=e[this.expando];if(void 0!==n){if(void 0!==t){Array.isArray(t)?t=t.map(v.camelCase):t=(t=v.camelCase(t))in n?[t]:t.match(I)||[],s=t.length;for(;s--;)delete n[t[s]]}(void 0===t||v.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!v.isEmptyObject(t)}};var K=new J,z=new J,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function Z(e){return'true'===e||'false'!==e&&('null'===e?null:e===+e+''?+e:Y.test(e)?JSON.parse(e):e)}function X(e,t,s){var n;if(void 0===s&&1===e.nodeType)if(n='data-'+t.replace(Q,'-$&').toLowerCase(),'string'==typeof(s=e.getAttribute(n))){try{s=Z(s)}catch(e){}z.set(e,t,s)}else s=void 0;return s}v.extend({hasData:function(e){return z.hasData(e)||K.hasData(e)},data:function(e,t,s){return z.access(e,t,s)},removeData:function(e,t){z.remove(e,t)},_data:function(e,t,s){return K.access(e,t,s)},_removeData:function(e,t){K.remove(e,t)}}),v.fn.extend({data:function(e,t){var s,n,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=z.get(a),1===a.nodeType&&!K.get(a,'hasDataAttrs'))){for(s=o.length;s--;)o[s]&&(0===(n=o[s].name).indexOf('data-')&&(n=v.camelCase(n.slice(5)),X(a,n,i[n])));K.set(a,'hasDataAttrs',!0)}return i}return'object'==typeof e?this.each(function(){z.set(this,e)}):U(this,function(t){var s;if(a&&void 0===t){if(void 0!==(s=z.get(a,e)))return s;if(void 0!==(s=X(a,e)))return s}else this.each(function(){z.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){z.remove(this,e)})}}),v.extend({queue:function(e,t,s){var n;if(e)return t=(t||'fx')+'queue',n=K.get(e,t),s&&(!n||Array.isArray(s)?n=K.access(e,t,v.makeArray(s)):n.push(s)),n||[]},dequeue:function(e,t){t=t||'fx';var s=v.queue(e,t),n=s.length,i=s.shift(),a=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};'inprogress'===i&&(i=s.shift(),n--),i&&('fx'===t&&s.unshift('inprogress'),delete a.stop,i.call(e,o,a)),!n&&a&&a.empty.fire()},_queueHooks:function(e,t){var s=t+'queueHooks';return K.get(e,s)||K.access(e,s,{empty:v.Callbacks('once memory').add(function(){K.remove(e,[t+'queue',s])})})}}),v.fn.extend({queue:function(e,t){var s=2;return'string'!=typeof e&&(t=e,e='fx',s--),arguments.length<s?v.queue(this[0],e):void 0===t?this:this.each(function(){var s=v.queue(this,e,t);v._queueHooks(this,e),'fx'===e&&'inprogress'!==s[0]&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||'fx',[])},promise:function(e,t){var s,n=1,i=v.Deferred(),a=this,o=this.length,r=function(){--n||i.resolveWith(a,[a])};for('string'!=typeof e&&(t=e,e=void 0),e=e||'fx';o--;)(s=K.get(a[o],e+'queueHooks'))&&s.empty&&(n++,s.empty.add(r));return r(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp('^(?:([+-])=|)('+ee+')([a-z%]*)$','i'),se=['Top','Right','Bottom','Left'],ne=function(e,t){return'none'===(e=t||e).style.display||''===e.style.display&&v.contains(e.ownerDocument,e)&&'none'===v.css(e,'display')},ie=function(e,t,s,n){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in i=s.apply(e,n||[]),t)e.style[a]=o[a];return i};function ae(e,t,s,n){var i,a=1,o=20,r=n?function(){return n.cur()}:function(){return v.css(e,t,'')},l=r(),c=s&&s[3]||(v.cssNumber[t]?'':'px'),d=(v.cssNumber[t]||'px'!==c&&+l)&&te.exec(v.css(e,t));if(d&&d[3]!==c){c=c||d[3],s=s||[],d=+l||1;do{d/=a=a||'.5',v.style(e,t,d+c)}while(a!==(a=r()/l)&&1!==a&&--o)}return s&&(d=+d||+l||0,i=s[1]?d+(s[1]+1)*s[2]:+s[2],n&&(n.unit=c,n.start=d,n.end=i)),i}var oe={};function re(e){var t,s=e.ownerDocument,n=e.nodeName,i=oe[n];return i||(t=s.body.appendChild(s.createElement(n)),i=v.css(t,'display'),t.parentNode.removeChild(t),'none'===i&&(i='block'),oe[n]=i,i)}function le(e,t){for(var s,n,i=[],a=0,o=e.length;a<o;a++)(n=e[a]).style&&(s=n.style.display,t?('none'===s&&(i[a]=K.get(n,'display')||null,i[a]||(n.style.display='')),''===n.style.display&&ne(n)&&(i[a]=re(n))):'none'!==s&&(i[a]='none',K.set(n,'display',s)));for(a=0;a<o;a++)null!=i[a]&&(e[a].style.display=i[a]);return e}v.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return'boolean'==typeof e?e?this.show():this.hide():this.each(function(){ne(this)?v(this).show():v(this).hide()})}});var ce=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ge=/^$|\/(?:java|ecma)script/i,ue={option:[1,'<select multiple=\'multiple\'>','</select>'],thead:[1,'<table>','</table>'],col:[2,'<table><colgroup>','</colgroup></table>'],tr:[2,'<table><tbody>','</tbody></table>'],td:[3,'<table><tbody><tr>','</tr></tbody></table>'],_default:[0,'','']};function he(e,t){var s;return s=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||'*'):void 0!==e.querySelectorAll?e.querySelectorAll(t||'*'):[],void 0===t||t&&C(e,t)?v.merge([e],s):s}function me(e,t){for(var s=0,n=e.length;s<n;s++)K.set(e[s],'globalEval',!t||K.get(t[s],'globalEval'))}ue.optgroup=ue.option,ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td;var pe=/<|&#?\w+;/;function fe(e,t,s,n,i){for(var a,o,r,l,c,d,g=t.createDocumentFragment(),u=[],h=0,m=e.length;h<m;h++)if((a=e[h])||0===a)if('object'===v.type(a))v.merge(u,a.nodeType?[a]:a);else if(pe.test(a)){for(o=o||g.appendChild(t.createElement('div')),r=(de.exec(a)||['',''])[1].toLowerCase(),l=ue[r]||ue._default,o.innerHTML=l[1]+v.htmlPrefilter(a)+l[2],d=l[0];d--;)o=o.lastChild;v.merge(u,o.childNodes),(o=g.firstChild).textContent=''}else u.push(t.createTextNode(a));for(g.textContent='',h=0;a=u[h++];)if(n&&v.inArray(a,n)>-1)i&&i.push(a);else if(c=v.contains(a.ownerDocument,a),o=he(g.appendChild(a),'script'),c&&me(o),s)for(d=0;a=o[d++];)ge.test(a.type||'')&&s.push(a);return g}!function(){var e,t=n.createDocumentFragment().appendChild(n.createElement('div')),s=n.createElement('input');s.setAttribute('type','radio'),s.setAttribute('checked','checked'),s.setAttribute('name','t'),t.appendChild(s),m.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML='<textarea>x</textarea>',m.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var ve=n.documentElement,xe=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,be=/^([^.]*)(?:\.(.+)|)/;function ye(){return!0}function Fe(){return!1}function _e(){try{return n.activeElement}catch(e){}}function ke(e,t,s,n,i,a){var o,r;if('object'==typeof t){for(r in'string'!=typeof s&&(n=n||s,s=void 0),t)ke(e,r,s,n,t[r],a);return e}if(null==n&&null==i?(i=s,n=s=void 0):null==i&&('string'==typeof s?(i=n,n=void 0):(i=n,n=s,s=void 0)),!1===i)i=Fe;else if(!i)return e;return 1===a&&(o=i,(i=function(e){return v().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=v.guid++)),e.each(function(){v.event.add(this,t,i,n,s)})}v.event={global:{},add:function(e,t,s,n,i){var a,o,r,l,c,d,g,u,h,m,p,f=K.get(e);if(f)for(s.handler&&(s=(a=s).handler,i=a.selector),i&&v.find.matchesSelector(ve,i),s.guid||(s.guid=v.guid++),(l=f.events)||(l=f.events={}),(o=f.handle)||(o=f.handle=function(t){return void 0!==v&&v.event.triggered!==t.type?v.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||'').match(I)||['']).length;c--;)h=p=(r=be.exec(t[c])||[])[1],m=(r[2]||'').split('.').sort(),h&&(g=v.event.special[h]||{},h=(i?g.delegateType:g.bindType)||h,g=v.event.special[h]||{},d=v.extend({type:h,origType:p,data:n,handler:s,guid:s.guid,selector:i,needsContext:i&&v.expr.match.needsContext.test(i),namespace:m.join('.')},a),(u=l[h])||((u=l[h]=[]).delegateCount=0,g.setup&&!1!==g.setup.call(e,n,m,o)||e.addEventListener&&e.addEventListener(h,o)),g.add&&(g.add.call(e,d),d.handler.guid||(d.handler.guid=s.guid)),i?u.splice(u.delegateCount++,0,d):u.push(d),v.event.global[h]=!0)},remove:function(e,t,s,n,i){var a,o,r,l,c,d,g,u,h,m,p,f=K.hasData(e)&&K.get(e);if(f&&(l=f.events)){for(c=(t=(t||'').match(I)||['']).length;c--;)if(h=p=(r=be.exec(t[c])||[])[1],m=(r[2]||'').split('.').sort(),h){for(g=v.event.special[h]||{},u=l[h=(n?g.delegateType:g.bindType)||h]||[],r=r[2]&&new RegExp('(^|\\.)'+m.join('\\.(?:.*\\.|)')+'(\\.|$)'),o=a=u.length;a--;)d=u[a],!i&&p!==d.origType||s&&s.guid!==d.guid||r&&!r.test(d.namespace)||n&&n!==d.selector&&('**'!==n||!d.selector)||(u.splice(a,1),d.selector&&u.delegateCount--,g.remove&&g.remove.call(e,d));o&&!u.length&&(g.teardown&&!1!==g.teardown.call(e,m,f.handle)||v.removeEvent(e,h,f.handle),delete l[h])}else for(h in l)v.event.remove(e,h+t[c],s,n,!0);v.isEmptyObject(l)&&K.remove(e,'handle events')}},dispatch:function(e){var t=v.event.fix(e),s,n,i,a,o,r,l=new Array(arguments.length),c=(K.get(this,'events')||{})[t.type]||[],d=v.event.special[t.type]||{};for(l[0]=t,s=1;s<arguments.length;s++)l[s]=arguments[s];if(t.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,t)){for(r=v.event.handlers.call(this,t,c),s=0;(a=r[s++])&&!t.isPropagationStopped();)for(t.currentTarget=a.elem,n=0;(o=a.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(i=((v.event.special[o.origType]||{}).handle||o.handler).apply(a.elem,l))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,t),t.result}},handlers:function(e,t){var s,n,i,a,o,r=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!('click'===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&('click'!==e.type||!0!==c.disabled)){for(a=[],o={},s=0;s<l;s++)void 0===o[i=(n=t[s]).selector+' ']&&(o[i]=n.needsContext?v(i,this).index(c)>-1:v.find(i,this,null,[c]).length),o[i]&&a.push(n);a.length&&r.push({elem:c,handlers:a})}return c=this,l<t.length&&r.push({elem:c,handlers:t.slice(l)}),r},addProp:function(e,t){Object.defineProperty(v.Event.prototype,e,{enumerable:!0,configurable:!0,get:v.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[v.expando]?e:new v.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_e()&&this.focus)return this.focus(),!1},delegateType:'focusin'},blur:{trigger:function(){if(this===_e()&&this.blur)return this.blur(),!1},delegateType:'focusout'},click:{trigger:function(){if('checkbox'===this.type&&this.click&&C(this,'input'))return this.click(),!1},_default:function(e){return C(e.target,'a')}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},v.removeEvent=function(e,t,s){e.removeEventListener&&e.removeEventListener(t,s)},v.Event=function(e,t){return this instanceof v.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ye:Fe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),void(this[v.expando]=!0)):new v.Event(e,t)},v.Event.prototype={constructor:v.Event,isDefaultPrevented:Fe,isPropagationStopped:Fe,isImmediatePropagationStopped:Fe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ye,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ye,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ye,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},v.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},v.event.addProp),v.each({mouseenter:'mouseover',mouseleave:'mouseout',pointerenter:'pointerover',pointerleave:'pointerout'},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var s,n=this,i=e.relatedTarget,a=e.handleObj;return i&&(i===n||v.contains(n,i))||(e.type=a.origType,s=a.handler.apply(this,arguments),e.type=t),s}}}),v.fn.extend({on:function(e,t,s,n){return ke(this,e,t,s,n)},one:function(e,t,s,n){return ke(this,e,t,s,n,1)},off:function(e,t,s){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,v(e.delegateTarget).off(n.namespace?n.origType+'.'+n.namespace:n.origType,n.selector,n.handler),this;if('object'==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&'function'!=typeof t||(s=t,t=void 0),!1===s&&(s=Fe),this.each(function(){v.event.remove(this,e,s,t)})}});var Ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Se=/<script|<style|<link/i,Ce=/checked\s*(?:[^=]|=\s*.checked.)/i,Ae=/^true\/(.*)/,Te=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return C(e,'table')&&C(11!==t.nodeType?t:t.firstChild,'tr')&&v('>tbody',e)[0]||e}function Le(e){return e.type=(null!==e.getAttribute('type'))+'/'+e.type,e}function Be(e){var t=Ae.exec(e.type);return t?e.type=t[1]:e.removeAttribute('type'),e}function Me(e,t){var s,n,i,a,o,r,l,c;if(1===t.nodeType){if(K.hasData(e)&&(a=K.access(e),o=K.set(t,a),c=a.events))for(i in delete o.handle,o.events={},c)for(s=0,n=c[i].length;s<n;s++)v.event.add(t,i,c[i][s]);z.hasData(e)&&(r=z.access(e),l=v.extend({},r),z.set(t,l))}}function je(e,t){var s=t.nodeName.toLowerCase();'input'===s&&ce.test(e.type)?t.checked=e.checked:'input'!==s&&'textarea'!==s||(t.defaultValue=e.defaultValue)}function Ge(e,t,s,n){t=o.apply([],t);var i,a,r,l,c,d,g=0,u=e.length,h=u-1,f=t[0],x=v.isFunction(f);if(x||u>1&&'string'==typeof f&&!m.checkClone&&Ce.test(f))return e.each(function(i){var a=e.eq(i);x&&(t[0]=f.call(this,i,a.html())),Ge(a,t,s,n)});if(u&&(a=(i=fe(t,e[0].ownerDocument,!1,e,n)).firstChild,1===i.childNodes.length&&(i=a),a||n)){for(l=(r=v.map(he(i,'script'),Le)).length;g<u;g++)c=i,g!==h&&(c=v.clone(c,!0,!0),l&&v.merge(r,he(c,'script'))),s.call(e[g],c,g);if(l)for(d=r[r.length-1].ownerDocument,v.map(r,Be),g=0;g<l;g++)c=r[g],ge.test(c.type||'')&&!K.access(c,'globalEval')&&v.contains(d,c)&&(c.src?v._evalUrl&&v._evalUrl(c.src):p(c.textContent.replace(Te,''),d))}return e}function Pe(e,t,s){for(var n,i=t?v.filter(t,e):e,a=0;null!=(n=i[a]);a++)s||1!==n.nodeType||v.cleanData(he(n)),n.parentNode&&(s&&v.contains(n.ownerDocument,n)&&me(he(n,'script')),n.parentNode.removeChild(n));return e}v.extend({htmlPrefilter:function(e){return e.replace(Ee,'<$1></$2>')},clone:function(e,t,s){var n,i,a,o,r=e.cloneNode(!0),l=v.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||v.isXMLDoc(e)))for(o=he(r),n=0,i=(a=he(e)).length;n<i;n++)je(a[n],o[n]);if(t)if(s)for(a=a||he(e),o=o||he(r),n=0,i=a.length;n<i;n++)Me(a[n],o[n]);else Me(e,r);return(o=he(r,'script')).length>0&&me(o,!l&&he(e,'script')),r},cleanData:function(e){for(var t,s,n,i=v.event.special,a=0;void 0!==(s=e[a]);a++)if(V(s)){if(t=s[K.expando]){if(t.events)for(n in t.events)i[n]?v.event.remove(s,n):v.removeEvent(s,n,t.handle);s[K.expando]=void 0}s[z.expando]&&(s[z.expando]=void 0)}}}),v.fn.extend({detach:function(e){return Pe(this,e,!0)},remove:function(e){return Pe(this,e)},text:function(e){return U(this,function(e){return void 0===e?v.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ge(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)})},prepend:function(){return Ge(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ge(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ge(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(v.cleanData(he(e,!1)),e.textContent='');return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},s=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if('string'==typeof e&&!Se.test(e)&&!ue[(de.exec(e)||['',''])[1].toLowerCase()]){e=v.htmlPrefilter(e);try{for(;s<n;s++)1===(t=this[s]||{}).nodeType&&(v.cleanData(he(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Ge(this,arguments,function(t){var s=this.parentNode;v.inArray(this,e)<0&&(v.cleanData(he(this)),s&&s.replaceChild(t,this))},e)}}),v.each({appendTo:'append',prependTo:'prepend',insertBefore:'before',insertAfter:'after',replaceAll:'replaceWith'},function(e,t){v.fn[e]=function(e){for(var s,n=[],i=v(e),a=i.length-1,o=0;o<=a;o++)s=o===a?this:this.clone(!0),v(i[o])[t](s),r.apply(n,s.get());return this.pushStack(n)}});var Ie=/^margin/,He=new RegExp('^('+ee+')(?!px)[a-z%]+$','i'),Ne=function(t){var s=t.ownerDocument.defaultView;return s&&s.opener||(s=e),s.getComputedStyle(t)};function Re(e,t,s){var n,i,a,o,r=e.style;return(s=s||Ne(e))&&(''!==(o=s.getPropertyValue(t)||s[t])||v.contains(e.ownerDocument,e)||(o=v.style(e,t)),!m.pixelMarginRight()&&He.test(o)&&Ie.test(t)&&(n=r.width,i=r.minWidth,a=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=s.width,r.width=n,r.minWidth=i,r.maxWidth=a)),void 0!==o?o+'':o}function $e(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}!function(){function t(){if(l){l.style.cssText='box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%',l.innerHTML='',ve.appendChild(r);var t=e.getComputedStyle(l);s='1%'!==t.top,o='2px'===t.marginLeft,i='4px'===t.width,l.style.marginRight='50%',a='4px'===t.marginRight,ve.removeChild(r),l=null}}var s,i,a,o,r=n.createElement('div'),l=n.createElement('div');l.style&&(l.style.backgroundClip='content-box',l.cloneNode(!0).style.backgroundClip='',m.clearCloneStyle='content-box'===l.style.backgroundClip,r.style.cssText='border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute',r.appendChild(l),v.extend(m,{pixelPosition:function(){return t(),s},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),a},reliableMarginLeft:function(){return t(),o}}))}();var qe=/^(none|table(?!-c[ea]).+)/,We=/^--/,Oe={position:'absolute',visibility:'hidden',display:'block'},Ue={letterSpacing:'0',fontWeight:'400'},Ve=['Webkit','Moz','ms'],Je=n.createElement('div').style;function Ke(e){if(e in Je)return e;for(var t=e[0].toUpperCase()+e.slice(1),s=Ve.length;s--;)if((e=Ve[s]+t)in Je)return e}function ze(e){var t=v.cssProps[e];return t||(t=v.cssProps[e]=Ke(e)||e),t}function Ye(e,t,s){var n=te.exec(t);return n?Math.max(0,n[2]-(s||0))+(n[3]||'px'):t}function Qe(e,t,s,n,i){var a,o=0;for(a=s===(n?'border':'content')?4:'width'===t?1:0;a<4;a+=2)'margin'===s&&(o+=v.css(e,s+se[a],!0,i)),n?('content'===s&&(o-=v.css(e,'padding'+se[a],!0,i)),'margin'!==s&&(o-=v.css(e,'border'+se[a]+'Width',!0,i))):(o+=v.css(e,'padding'+se[a],!0,i),'padding'!==s&&(o+=v.css(e,'border'+se[a]+'Width',!0,i)));return o}function Ze(e,t,s){var n,i=Ne(e),a=Re(e,t,i),o='border-box'===v.css(e,'boxSizing',!1,i);return He.test(a)?a:(n=o&&(m.boxSizingReliable()||a===e.style[t]),'auto'===a&&(a=e['offset'+t[0].toUpperCase()+t.slice(1)]),(a=parseFloat(a)||0)+Qe(e,t,s||(o?'border':'content'),n,i)+'px')}function Xe(e,t,s,n,i){return new Xe.prototype.init(e,t,s,n,i)}v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var s=Re(e,'opacity');return''===s?'1':s}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:'cssFloat'},style:function(e,t,s,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,r=v.camelCase(t),l=We.test(t),c=e.style;return l||(t=ze(r)),o=v.cssHooks[t]||v.cssHooks[r],void 0===s?o&&'get'in o&&void 0!==(i=o.get(e,!1,n))?i:c[t]:('string'===(a=typeof s)&&(i=te.exec(s))&&i[1]&&(s=ae(e,t,i),a='number'),void(null!=s&&s==s&&('number'===a&&(s+=i&&i[3]||(v.cssNumber[r]?'':'px')),m.clearCloneStyle||''!==s||0!==t.indexOf('background')||(c[t]='inherit'),o&&'set'in o&&void 0===(s=o.set(e,s,n))||(l?c.setProperty(t,s):c[t]=s))))}},css:function(e,t,s,n){var i,a,o,r=v.camelCase(t),l;return We.test(t)||(t=ze(r)),(o=v.cssHooks[t]||v.cssHooks[r])&&'get'in o&&(i=o.get(e,!0,s)),void 0===i&&(i=Re(e,t,n)),'normal'===i&&t in Ue&&(i=Ue[t]),''===s||s?(a=parseFloat(i),!0===s||isFinite(a)?a||0:i):i}}),v.each(['height','width'],function(e,t){v.cssHooks[t]={get:function(e,s,n){if(s)return!qe.test(v.css(e,'display'))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,n):ie(e,Oe,function(){return Ze(e,t,n)})},set:function(e,s,n){var i,a=n&&Ne(e),o=n&&Qe(e,t,n,'border-box'===v.css(e,'boxSizing',!1,a),a);return o&&(i=te.exec(s))&&'px'!==(i[3]||'px')&&(e.style[t]=s,s=v.css(e,t)),Ye(e,s,o)}}}),v.cssHooks.marginLeft=$e(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Re(e,'marginLeft'))||e.getBoundingClientRect().left-ie(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+'px'}),v.each({margin:'',padding:'',border:'Width'},function(e,t){v.cssHooks[e+t]={expand:function(s){for(var n=0,i={},a='string'==typeof s?s.split(' '):[s];n<4;n++)i[e+se[n]+t]=a[n]||a[n-2]||a[0];return i}},Ie.test(e)||(v.cssHooks[e+t].set=Ye)}),v.fn.extend({css:function(e,t){return U(this,function(e,t,s){var n,i,a={},o=0;if(Array.isArray(t)){for(n=Ne(e),i=t.length;o<i;o++)a[t[o]]=v.css(e,t[o],!1,n);return a}return void 0!==s?v.style(e,t,s):v.css(e,t)},e,t,arguments.length>1)}}),v.Tween=Xe,Xe.prototype={constructor:Xe,init:function(e,t,s,n,i,a){this.elem=e,this.prop=s,this.easing=i||v.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=a||(v.cssNumber[s]?'':'px')},cur:function(){var e=Xe.propHooks[this.prop];return e&&e.get?e.get(this):Xe.propHooks._default.get(this)},run:function(e){var t,s=Xe.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),s&&s.set?s.set(this):Xe.propHooks._default.set(this),this}},Xe.prototype.init.prototype=Xe.prototype,Xe.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=v.css(e.elem,e.prop,''))&&'auto'!==t?t:0},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[v.cssProps[e.prop]]&&!v.cssHooks[e.prop]?e.elem[e.prop]=e.now:v.style(e.elem,e.prop,e.now+e.unit)}}},Xe.propHooks.scrollTop=Xe.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:'swing'},v.fx=Xe.prototype.init,v.fx.step={};var et,tt,st=/^(?:toggle|show|hide)$/,nt=/queueHooks$/;function it(){tt&&(!1===n.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(it):e.setTimeout(it,v.fx.interval),v.fx.tick())}function at(){return e.setTimeout(function(){et=void 0}),et=v.now()}function ot(e,t){var s,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i['margin'+(s=se[n])]=i['padding'+s]=e;return t&&(i.opacity=i.width=e),i}function rt(e,t,s){for(var n,i=(dt.tweeners[t]||[]).concat(dt.tweeners['*']),a=0,o=i.length;a<o;a++)if(n=i[a].call(s,t,e))return n}function lt(e,t,s){var n,i,a,o,r,l,c,d,g='width'in t||'height'in t,u=this,h={},m=e.style,p=e.nodeType&&ne(e),f=K.get(e,'fxshow');for(n in s.queue||(null==(o=v._queueHooks(e,'fx')).unqueued&&(o.unqueued=0,r=o.empty.fire,o.empty.fire=function(){o.unqueued||r()}),o.unqueued++,u.always(function(){u.always(function(){o.unqueued--,v.queue(e,'fx').length||o.empty.fire()})})),t)if(i=t[n],st.test(i)){if(delete t[n],a=a||'toggle'===i,i===(p?'hide':'show')){if('show'!==i||!f||void 0===f[n])continue;p=!0}h[n]=f&&f[n]||v.style(e,n)}if((l=!v.isEmptyObject(t))||!v.isEmptyObject(h))for(n in g&&1===e.nodeType&&(s.overflow=[m.overflow,m.overflowX,m.overflowY],null==(c=f&&f.display)&&(c=K.get(e,'display')),'none'===(d=v.css(e,'display'))&&(c?d=c:(le([e],!0),c=e.style.display||c,d=v.css(e,'display'),le([e]))),('inline'===d||'inline-block'===d&&null!=c)&&'none'===v.css(e,'float')&&(l||(u.done(function(){m.display=c}),null==c&&(d=m.display,c='none'===d?'':d)),m.display='inline-block')),s.overflow&&(m.overflow='hidden',u.always(function(){m.overflow=s.overflow[0],m.overflowX=s.overflow[1],m.overflowY=s.overflow[2]})),l=!1,h)l||(f?'hidden'in f&&(p=f.hidden):f=K.access(e,'fxshow',{display:c}),a&&(f.hidden=!p),p&&le([e],!0),u.done(function(){for(n in p||le([e]),K.remove(e,'fxshow'),h)v.style(e,n,h[n])})),l=rt(p?f[n]:0,n,u),n in f||(f[n]=l.start,p&&(l.end=l.start,l.start=0))}function ct(e,t){var s,n,i,a,o;for(s in e)if(i=t[n=v.camelCase(s)],a=e[s],Array.isArray(a)&&(i=a[1],a=e[s]=a[0]),s!==n&&(e[n]=a,delete e[s]),(o=v.cssHooks[n])&&'expand'in o)for(s in a=o.expand(a),delete e[n],a)s in e||(e[s]=a[s],t[s]=i);else t[n]=i}function dt(e,t,s){var n,i,a=0,o=dt.prefilters.length,r=v.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=et||at(),s=Math.max(0,c.startTime+c.duration-t),n,a=1-(s/c.duration||0),o=0,l=c.tweens.length;o<l;o++)c.tweens[o].run(a);return r.notifyWith(e,[c,a,s]),a<1&&l?s:(l||r.notifyWith(e,[c,1,0]),r.resolveWith(e,[c]),!1)},c=r.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{},easing:v.easing._default},s),originalProperties:t,originalOptions:s,startTime:et||at(),duration:s.duration,tweens:[],createTween:function(t,s){var n=v.Tween(e,c.opts,t,s,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var s=0,n=t?c.tweens.length:0;if(i)return this;for(i=!0;s<n;s++)c.tweens[s].run(1);return t?(r.notifyWith(e,[c,1,0]),r.resolveWith(e,[c,t])):r.rejectWith(e,[c,t]),this}}),d=c.props;for(ct(d,c.opts.specialEasing);a<o;a++)if(n=dt.prefilters[a].call(c,e,d,c.opts))return v.isFunction(n.stop)&&(v._queueHooks(c.elem,c.opts.queue).stop=v.proxy(n.stop,n)),n;return v.map(d,rt,c),v.isFunction(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),v.fx.timer(v.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}v.Animation=v.extend(dt,{tweeners:{'*':[function(e,t){var s=this.createTween(e,t);return ae(s.elem,e,te.exec(t),s),s}]},tweener:function(e,t){v.isFunction(e)?(t=e,e=['*']):e=e.match(I);for(var s,n=0,i=e.length;n<i;n++)s=e[n],dt.tweeners[s]=dt.tweeners[s]||[],dt.tweeners[s].unshift(t)},prefilters:[lt],prefilter:function(e,t){t?dt.prefilters.unshift(e):dt.prefilters.push(e)}}),v.speed=function(e,t,s){var n=e&&'object'==typeof e?v.extend({},e):{complete:s||!s&&t||v.isFunction(e)&&e,duration:e,easing:s&&t||t&&!v.isFunction(t)&&t};return v.fx.off?n.duration=0:'number'!=typeof n.duration&&(n.duration in v.fx.speeds?n.duration=v.fx.speeds[n.duration]:n.duration=v.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue='fx'),n.old=n.complete,n.complete=function(){v.isFunction(n.old)&&n.old.call(this),n.queue&&v.dequeue(this,n.queue)},n},v.fn.extend({fadeTo:function(e,t,s,n){return this.filter(ne).css('opacity',0).show().end().animate({opacity:t},e,s,n)},animate:function(e,t,s,n){var i=v.isEmptyObject(e),a=v.speed(t,s,n),o=function(){var t=dt(this,v.extend({},e),a);(i||K.get(this,'finish'))&&t.stop(!0)};return o.finish=o,i||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,s){var n=function(e){var t=e.stop;delete e.stop,t(s)};return'string'!=typeof e&&(s=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||'fx',[]),this.each(function(){var t=!0,i=null!=e&&e+'queueHooks',a=v.timers,o=K.get(this);if(i)o[i]&&o[i].stop&&n(o[i]);else for(i in o)o[i]&&o[i].stop&&nt.test(i)&&n(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(s),t=!1,a.splice(i,1));!t&&s||v.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||'fx'),this.each(function(){var t,s=K.get(this),n=s[e+'queue'],i=s[e+'queueHooks'],a=v.timers,o=n?n.length:0;for(s.finish=!0,v.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete s.finish})}}),v.each(['toggle','show','hide'],function(e,t){var s=v.fn[t];v.fn[t]=function(e,n,i){return null==e||'boolean'==typeof e?s.apply(this,arguments):this.animate(ot(t,!0),e,n,i)}}),v.each({slideDown:ot('show'),slideUp:ot('hide'),slideToggle:ot('toggle'),fadeIn:{opacity:'show'},fadeOut:{opacity:'hide'},fadeToggle:{opacity:'toggle'}},function(e,t){v.fn[e]=function(e,s,n){return this.animate(t,e,s,n)}}),v.timers=[],v.fx.tick=function(){var e,t=0,s=v.timers;for(et=v.now();t<s.length;t++)(e=s[t])()||s[t]!==e||s.splice(t--,1);s.length||v.fx.stop(),et=void 0},v.fx.timer=function(e){v.timers.push(e),v.fx.start()},v.fx.interval=13,v.fx.start=function(){tt||(tt=!0,it())},v.fx.stop=function(){tt=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fn.delay=function(t,s){return t=v.fx&&v.fx.speeds[t]||t,s=s||'fx',this.queue(s,function(s,n){var i=e.setTimeout(s,t);n.stop=function(){e.clearTimeout(i)}})},function(){var e=n.createElement('input'),t,s=n.createElement('select').appendChild(n.createElement('option'));e.type='checkbox',m.checkOn=''!==e.value,m.optSelected=s.selected,(e=n.createElement('input')).value='t',e.type='radio',m.radioValue='t'===e.value}();var gt,ut=v.expr.attrHandle;v.fn.extend({attr:function(e,t){return U(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})}}),v.extend({attr:function(e,t,s){var n,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?v.prop(e,t,s):(1===a&&v.isXMLDoc(e)||(i=v.attrHooks[t.toLowerCase()]||(v.expr.match.bool.test(t)?gt:void 0)),void 0!==s?null===s?void v.removeAttr(e,t):i&&'set'in i&&void 0!==(n=i.set(e,s,t))?n:(e.setAttribute(t,s+''),s):i&&'get'in i&&null!==(n=i.get(e,t))?n:null==(n=v.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&'radio'===t&&C(e,'input')){var s=e.value;return e.setAttribute('type',t),s&&(e.value=s),t}}}},removeAttr:function(e,t){var s,n=0,i=t&&t.match(I);if(i&&1===e.nodeType)for(;s=i[n++];)e.removeAttribute(s)}}),gt={set:function(e,t,s){return!1===t?v.removeAttr(e,s):e.setAttribute(s,s),s}},v.each(v.expr.match.bool.source.match(/\w+/g),function(e,t){var s=ut[t]||v.find.attr;ut[t]=function(e,t,n){var i,a,o=t.toLowerCase();return n||(a=ut[o],ut[o]=i,i=null!=s(e,t,n)?o:null,ut[o]=a),i}});var ht=/^(?:input|select|textarea|button)$/i,mt=/^(?:a|area)$/i;function pt(e){var t;return(e.match(I)||[]).join(' ')}function ft(e){return e.getAttribute&&e.getAttribute('class')||''}v.fn.extend({prop:function(e,t){return U(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[v.propFix[e]||e]})}}),v.extend({prop:function(e,t,s){var n,i,a=e.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&v.isXMLDoc(e)||(t=v.propFix[t]||t,i=v.propHooks[t]),void 0!==s?i&&'set'in i&&void 0!==(n=i.set(e,s,t))?n:e[t]=s:i&&'get'in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=v.find.attr(e,'tabindex');return t?parseInt(t,10):ht.test(e.nodeName)||mt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:'htmlFor',class:'className'}}),m.optSelected||(v.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),v.each(['tabIndex','readOnly','maxLength','cellSpacing','cellPadding','rowSpan','colSpan','useMap','frameBorder','contentEditable'],function(){v.propFix[this.toLowerCase()]=this}),v.fn.extend({addClass:function(e){var t,s,n,i,a,o,r,l=0;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,ft(this)))});if('string'==typeof e&&e)for(t=e.match(I)||[];s=this[l++];)if(i=ft(s),n=1===s.nodeType&&' '+pt(i)+' '){for(o=0;a=t[o++];)n.indexOf(' '+a+' ')<0&&(n+=a+' ');i!==(r=pt(n))&&s.setAttribute('class',r)}return this},removeClass:function(e){var t,s,n,i,a,o,r,l=0;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,ft(this)))});if(!arguments.length)return this.attr('class','');if('string'==typeof e&&e)for(t=e.match(I)||[];s=this[l++];)if(i=ft(s),n=1===s.nodeType&&' '+pt(i)+' '){for(o=0;a=t[o++];)for(;n.indexOf(' '+a+' ')>-1;)n=n.replace(' '+a+' ',' ');i!==(r=pt(n))&&s.setAttribute('class',r)}return this},toggleClass:function(e,t){var s=typeof e;return'boolean'==typeof t&&'string'===s?t?this.addClass(e):this.removeClass(e):v.isFunction(e)?this.each(function(s){v(this).toggleClass(e.call(this,s,ft(this),t),t)}):this.each(function(){var t,n,i,a;if('string'===s)for(n=0,i=v(this),a=e.match(I)||[];t=a[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&'boolean'!==s||((t=ft(this))&&K.set(this,'__className__',t),this.setAttribute&&this.setAttribute('class',t||!1===e?'':K.get(this,'__className__')||''))})},hasClass:function(e){var t,s,n=0;for(t=' '+e+' ';s=this[n++];)if(1===s.nodeType&&(' '+pt(ft(s))+' ').indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;v.fn.extend({val:function(e){var t,s,n,i=this[0];return arguments.length?(n=v.isFunction(e),this.each(function(s){var i;1===this.nodeType&&(null==(i=n?e.call(this,s,v(this).val()):e)?i='':'number'==typeof i?i+='':Array.isArray(i)&&(i=v.map(i,function(e){return null==e?'':e+''})),(t=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()])&&'set'in t&&void 0!==t.set(this,i,'value')||(this.value=i))})):i?(t=v.valHooks[i.type]||v.valHooks[i.nodeName.toLowerCase()])&&'get'in t&&void 0!==(s=t.get(i,'value'))?s:'string'==typeof(s=i.value)?s.replace(vt,''):null==s?'':s:void 0}}),v.extend({valHooks:{option:{get:function(e){var t=v.find.attr(e,'value');return null!=t?t:pt(v.text(e))}},select:{get:function(e){var t,s,n,i=e.options,a=e.selectedIndex,o='select-one'===e.type,r=o?null:[],l=o?a+1:i.length;for(n=a<0?l:o?a:0;n<l;n++)if(((s=i[n]).selected||n===a)&&!s.disabled&&(!s.parentNode.disabled||!C(s.parentNode,'optgroup'))){if(t=v(s).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var s,n,i=e.options,a=v.makeArray(t),o=i.length;o--;)((n=i[o]).selected=v.inArray(v.valHooks.option.get(n),a)>-1)&&(s=!0);return s||(e.selectedIndex=-1),a}}}}),v.each(['radio','checkbox'],function(){v.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=v.inArray(v(e).val(),t)>-1}},m.checkOn||(v.valHooks[this].get=function(e){return null===e.getAttribute('value')?'on':e.value})});var xt=/^(?:focusinfocus|focusoutblur)$/;v.extend(v.event,{trigger:function(t,s,i,a){var o,r,l,c,d,u,h,m=[i||n],p=g.call(t,'type')?t.type:t,f=g.call(t,'namespace')?t.namespace.split('.'):[];if(r=l=i=i||n,3!==i.nodeType&&8!==i.nodeType&&!xt.test(p+v.event.triggered)&&(p.indexOf('.')>-1&&(p=(f=p.split('.')).shift(),f.sort()),d=p.indexOf(':')<0&&'on'+p,(t=t[v.expando]?t:new v.Event(p,'object'==typeof t&&t)).isTrigger=a?2:3,t.namespace=f.join('.'),t.rnamespace=t.namespace?new RegExp('(^|\\.)'+f.join('\\.(?:.*\\.|)')+'(\\.|$)'):null,t.result=void 0,t.target||(t.target=i),s=null==s?[t]:v.makeArray(s,[t]),h=v.event.special[p]||{},a||!h.trigger||!1!==h.trigger.apply(i,s))){if(!a&&!h.noBubble&&!v.isWindow(i)){for(c=h.delegateType||p,xt.test(c+p)||(r=r.parentNode);r;r=r.parentNode)m.push(r),l=r;l===(i.ownerDocument||n)&&m.push(l.defaultView||l.parentWindow||e)}for(o=0;(r=m[o++])&&!t.isPropagationStopped();)t.type=o>1?c:h.bindType||p,(u=(K.get(r,'events')||{})[t.type]&&K.get(r,'handle'))&&u.apply(r,s),(u=d&&r[d])&&u.apply&&V(r)&&(t.result=u.apply(r,s),!1===t.result&&t.preventDefault());return t.type=p,a||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(m.pop(),s)||!V(i)||d&&v.isFunction(i[p])&&!v.isWindow(i)&&((l=i[d])&&(i[d]=null),v.event.triggered=p,i[p](),v.event.triggered=void 0,l&&(i[d]=l)),t.result}},simulate:function(e,t,s){var n=v.extend(new v.Event,s,{type:e,isSimulated:!0});v.event.trigger(n,null,t)}}),v.fn.extend({trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){var s=this[0];if(s)return v.event.trigger(e,t,s,!0)}}),v.each('blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu'.split(' '),function(e,t){v.fn[t]=function(e,s){return arguments.length>0?this.on(t,null,e,s):this.trigger(t)}}),v.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),m.focusin='onfocusin'in e,m.focusin||v.each({focus:'focusin',blur:'focusout'},function(e,t){var s=function(e){v.event.simulate(t,e.target,v.event.fix(e))};v.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=K.access(n,t);i||n.addEventListener(e,s,!0),K.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=K.access(n,t)-1;i?K.access(n,t,i):(n.removeEventListener(e,s,!0),K.remove(n,t))}}});var wt=e.location,bt=v.now(),yt=/\?/;v.parseXML=function(t){var s;if(!t||'string'!=typeof t)return null;try{s=(new e.DOMParser).parseFromString(t,'text/xml')}catch(e){s=void 0}return s&&!s.getElementsByTagName('parsererror').length||v.error('Invalid XML: '+t),s};var Ft=/\[\]$/,_t=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,Et=/^(?:input|select|textarea|keygen)/i;function St(e,t,s,n){var i;if(Array.isArray(t))v.each(t,function(t,i){s||Ft.test(e)?n(e,i):St(e+'['+('object'==typeof i&&null!=i?t:'')+']',i,s,n)});else if(s||'object'!==v.type(t))n(e,t);else for(i in t)St(e+'['+i+']',t[i],s,n)}v.param=function(e,t){var s,n=[],i=function(e,t){var s=v.isFunction(t)?t():t;n[n.length]=encodeURIComponent(e)+'='+encodeURIComponent(null==s?'':s)};if(Array.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){i(this.name,this.value)});else for(s in e)St(s,e[s],t,i);return n.join('&')},v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=v.prop(this,'elements');return e?v.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!v(this).is(':disabled')&&Et.test(this.nodeName)&&!kt.test(e)&&(this.checked||!ce.test(e))}).map(function(e,t){var s=v(this).val();return null==s?null:Array.isArray(s)?v.map(s,function(e){return{name:t.name,value:e.replace(_t,'\r\n')}}):{name:t.name,value:s.replace(_t,'\r\n')}}).get()}});var Ct=/%20/g,At=/#.*$/,Tt=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Bt=/^(?:GET|HEAD)$/,Mt=/^\/\//,jt={},Gt={},Pt='*/'.concat('*'),It=n.createElement('a');function Ht(e){return function(t,s){'string'!=typeof t&&(s=t,t='*');var n,i=0,a=t.toLowerCase().match(I)||[];if(v.isFunction(s))for(;n=a[i++];)'+'===n[0]?(n=n.slice(1)||'*',(e[n]=e[n]||[]).unshift(s)):(e[n]=e[n]||[]).push(s)}}function Nt(e,t,s,n){var i={},a=e===Gt;function o(r){var l;return i[r]=!0,v.each(e[r]||[],function(e,r){var c=r(t,s,n);return'string'!=typeof c||a||i[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}return o(t.dataTypes[0])||!i['*']&&o('*')}function Rt(e,t){var s,n,i=v.ajaxSettings.flatOptions||{};for(s in t)void 0!==t[s]&&((i[s]?e:n||(n={}))[s]=t[s]);return n&&v.extend(!0,e,n),e}function $t(e,t,s){for(var n,i,a,o,r=e.contents,l=e.dataTypes;'*'===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader('Content-Type'));if(n)for(i in r)if(r[i]&&r[i].test(n)){l.unshift(i);break}if(l[0]in s)a=l[0];else{for(i in s){if(!l[0]||e.converters[i+' '+l[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),s[a]}function qt(e,t,s,n){var i,a,o,r,l,c={},d=e.dataTypes.slice();if(d[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=d.shift();a;)if(e.responseFields[a]&&(s[e.responseFields[a]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=d.shift())if('*'===a)a=l;else if('*'!==l&&l!==a){if(!(o=c[l+' '+a]||c['* '+a]))for(i in c)if((r=i.split(' '))[1]===a&&(o=c[l+' '+r[0]]||c['* '+r[0]])){!0===o?o=c[i]:!0!==c[i]&&(a=r[0],d.unshift(r[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:'parsererror',error:o?e:'No conversion from '+l+' to '+a}}}return{state:'success',data:t}}It.href=wt.href,v.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:'GET',isLocal:Lt.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:'application/x-www-form-urlencoded; charset=UTF-8',accepts:{'*':Pt,text:'text/plain',html:'text/html',xml:'application/xml, text/xml',json:'application/json, text/javascript'},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:'responseXML',text:'responseText',json:'responseJSON'},converters:{'* text':String,'text html':!0,'text json':JSON.parse,'text xml':v.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Rt(Rt(e,v.ajaxSettings),t):Rt(v.ajaxSettings,e)},ajaxPrefilter:Ht(jt),ajaxTransport:Ht(Gt),ajax:function(t,s){'object'==typeof t&&(s=t,t=void 0),s=s||{};var i,a,o,r,l,c,d,g,u,h,m=v.ajaxSetup({},s),p=m.context||m,f=m.context&&(p.nodeType||p.jquery)?v(p):v.event,x=v.Deferred(),w=v.Callbacks('once memory'),b=m.statusCode||{},y={},F={},_='canceled',k={readyState:0,getResponseHeader:function(e){var t;if(d){if(!r)for(r={};t=Dt.exec(o);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return d?o:null},setRequestHeader:function(e,t){return null==d&&(e=F[e.toLowerCase()]=F[e.toLowerCase()]||e,y[e]=t),this},overrideMimeType:function(e){return null==d&&(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(d)k.always(e[k.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||_;return i&&i.abort(t),E(0,t),this}};if(x.promise(k),m.url=((t||m.url||wt.href)+'').replace(Mt,wt.protocol+'//'),m.type=s.method||s.type||m.method||m.type,m.dataTypes=(m.dataType||'*').toLowerCase().match(I)||[''],null==m.crossDomain){c=n.createElement('a');try{c.href=m.url,c.href=c.href,m.crossDomain=It.protocol+'//'+It.host!=c.protocol+'//'+c.host}catch(e){m.crossDomain=!0}}if(m.data&&m.processData&&'string'!=typeof m.data&&(m.data=v.param(m.data,m.traditional)),Nt(jt,m,s,k),d)return k;for(u in(g=v.event&&m.global)&&0==v.active++&&v.event.trigger('ajaxStart'),m.type=m.type.toUpperCase(),m.hasContent=!Bt.test(m.type),a=m.url.replace(At,''),m.hasContent?m.data&&m.processData&&0===(m.contentType||'').indexOf('application/x-www-form-urlencoded')&&(m.data=m.data.replace(Ct,'+')):(h=m.url.slice(a.length),m.data&&(a+=(yt.test(a)?'&':'?')+m.data,delete m.data),!1===m.cache&&(a=a.replace(Tt,'$1'),h=(yt.test(a)?'&':'?')+'_='+bt+++h),m.url=a+h),m.ifModified&&(v.lastModified[a]&&k.setRequestHeader('If-Modified-Since',v.lastModified[a]),v.etag[a]&&k.setRequestHeader('If-None-Match',v.etag[a])),(m.data&&m.hasContent&&!1!==m.contentType||s.contentType)&&k.setRequestHeader('Content-Type',m.contentType),k.setRequestHeader('Accept',m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+('*'!==m.dataTypes[0]?', '+Pt+'; q=0.01':''):m.accepts['*']),m.headers)k.setRequestHeader(u,m.headers[u]);if(m.beforeSend&&(!1===m.beforeSend.call(p,k,m)||d))return k.abort();if(_='abort',w.add(m.complete),k.done(m.success),k.fail(m.error),i=Nt(Gt,m,s,k)){if(k.readyState=1,g&&f.trigger('ajaxSend',[k,m]),d)return k;m.async&&m.timeout>0&&(l=e.setTimeout(function(){k.abort('timeout')},m.timeout));try{d=!1,i.send(y,E)}catch(e){if(d)throw e;E(-1,e)}}else E(-1,'No Transport');function E(t,s,n,r){var c,u,h,y,F,_=s;d||(d=!0,l&&e.clearTimeout(l),i=void 0,o=r||'',k.readyState=t>0?4:0,c=t>=200&&t<300||304===t,n&&(y=$t(m,k,n)),y=qt(m,y,k,c),c?(m.ifModified&&((F=k.getResponseHeader('Last-Modified'))&&(v.lastModified[a]=F),(F=k.getResponseHeader('etag'))&&(v.etag[a]=F)),204===t||'HEAD'===m.type?_='nocontent':304===t?_='notmodified':(_=y.state,u=y.data,c=!(h=y.error))):(h=_,!t&&_||(_='error',t<0&&(t=0))),k.status=t,k.statusText=(s||_)+'',c?x.resolveWith(p,[u,_,k]):x.rejectWith(p,[k,_,h]),k.statusCode(b),b=void 0,g&&f.trigger(c?'ajaxSuccess':'ajaxError',[k,m,c?u:h]),w.fireWith(p,[k,_]),g&&(f.trigger('ajaxComplete',[k,m]),--v.active||v.event.trigger('ajaxStop')))}return k},getJSON:function(e,t,s){return v.get(e,t,s,'json')},getScript:function(e,t){return v.get(e,void 0,t,'script')}}),v.each(['get','post'],function(e,t){v[t]=function(e,s,n,i){return v.isFunction(s)&&(i=i||n,n=s,s=void 0),v.ajax(v.extend({url:e,type:t,dataType:i,data:s,success:n},v.isPlainObject(e)&&e))}}),v._evalUrl=function(e){return v.ajax({url:e,type:'GET',dataType:'script',cache:!0,async:!1,global:!1,throws:!0})},v.fn.extend({wrapAll:function(e){var t;return this[0]&&(v.isFunction(e)&&(e=e.call(this[0])),t=v(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),s=t.contents();s.length?s.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(s){v(this).wrapAll(t?e.call(this,s):e)})},unwrap:function(e){return this.parent(e).not('body').each(function(){v(this).replaceWith(this.childNodes)}),this}}),v.expr.pseudos.hidden=function(e){return!v.expr.pseudos.visible(e)},v.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},v.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Wt={0:200,1223:204},Ot=v.ajaxSettings.xhr();m.cors=!!Ot&&'withCredentials'in Ot,m.ajax=Ot=!!Ot,v.ajaxTransport(function(t){var s,n;if(m.cors||Ot&&!t.crossDomain)return{send:function(i,a){var o,r=t.xhr();if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];for(o in t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||i['X-Requested-With']||(i['X-Requested-With']='XMLHttpRequest'),i)r.setRequestHeader(o,i[o]);s=function(e){return function(){s&&(s=n=r.onload=r.onerror=r.onabort=r.onreadystatechange=null,'abort'===e?r.abort():'error'===e?'number'!=typeof r.status?a(0,'error'):a(r.status,r.statusText):a(Wt[r.status]||r.status,r.statusText,'text'!==(r.responseType||'text')||'string'!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=s(),n=r.onerror=s('error'),void 0!==r.onabort?r.onabort=n:r.onreadystatechange=function(){4===r.readyState&&e.setTimeout(function(){s&&n()})},s=s('abort');try{r.send(t.hasContent&&t.data||null)}catch(e){if(s)throw e}},abort:function(){s&&s()}}}),v.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),v.ajaxSetup({accepts:{script:'text/javascript, application/javascript, application/ecmascript, application/x-ecmascript'},contents:{script:/\b(?:java|ecma)script\b/},converters:{'text script':function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter('script',function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type='GET')}),v.ajaxTransport('script',function(e){var t,s;if(e.crossDomain)return{send:function(i,a){t=v('<script>').prop({charset:e.scriptCharset,src:e.url}).on('load error',s=function(e){t.remove(),s=null,e&&a('error'===e.type?404:200,e.type)}),n.head.appendChild(t[0])},abort:function(){s&&s()}}});var Ut=[],Vt=/(=)\?(?=&|$)|\?\?/;v.ajaxSetup({jsonp:'callback',jsonpCallback:function(){var e=Ut.pop()||v.expando+'_'+bt++;return this[e]=!0,e}}),v.ajaxPrefilter('json jsonp',function(t,s,n){var i,a,o,r=!1!==t.jsonp&&(Vt.test(t.url)?'url':'string'==typeof t.data&&0===(t.contentType||'').indexOf('application/x-www-form-urlencoded')&&Vt.test(t.data)&&'data');if(r||'jsonp'===t.dataTypes[0])return i=t.jsonpCallback=v.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,r?t[r]=t[r].replace(Vt,'$1'+i):!1!==t.jsonp&&(t.url+=(yt.test(t.url)?'&':'?')+t.jsonp+'='+i),t.converters['script json']=function(){return o||v.error(i+' was not called'),o[0]},t.dataTypes[0]='json',a=e[i],e[i]=function(){o=arguments},n.always(function(){void 0===a?v(e).removeProp(i):e[i]=a,t[i]&&(t.jsonpCallback=s.jsonpCallback,Ut.push(i)),o&&v.isFunction(a)&&a(o[0]),o=a=void 0}),'script'}),m.createHTMLDocument=function(){var e=n.implementation.createHTMLDocument('').body;return e.innerHTML='<form></form><form></form>',2===e.childNodes.length}(),v.parseHTML=function(e,t,s){return'string'!=typeof e?[]:('boolean'==typeof t&&(s=t,t=!1),t||(m.createHTMLDocument?((i=(t=n.implementation.createHTMLDocument('')).createElement('base')).href=n.location.href,t.head.appendChild(i)):t=n),a=A.exec(e),o=!s&&[],a?[t.createElement(a[1])]:(a=fe([e],t,o),o&&o.length&&v(o).remove(),v.merge([],a.childNodes)));var i,a,o},v.fn.load=function(e,t,s){var n,i,a,o=this,r=e.indexOf(' ');return r>-1&&(n=pt(e.slice(r)),e=e.slice(0,r)),v.isFunction(t)?(s=t,t=void 0):t&&'object'==typeof t&&(i='POST'),o.length>0&&v.ajax({url:e,type:i||'GET',dataType:'html',data:t}).done(function(e){a=arguments,o.html(n?v('<div>').append(v.parseHTML(e)).find(n):e)}).always(s&&function(e,t){o.each(function(){s.apply(this,a||[e.responseText,t,e])})}),this},v.each(['ajaxStart','ajaxStop','ajaxComplete','ajaxError','ajaxSuccess','ajaxSend'],function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.expr.pseudos.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length},v.offset={setOffset:function(e,t,s){var n,i,a,o,r,l,c,d=v.css(e,'position'),g=v(e),u={};'static'===d&&(e.style.position='relative'),r=g.offset(),a=v.css(e,'top'),l=v.css(e,'left'),(c=('absolute'===d||'fixed'===d)&&(a+l).indexOf('auto')>-1)?(o=(n=g.position()).top,i=n.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),v.isFunction(t)&&(t=t.call(e,s,v.extend({},r))),null!=t.top&&(u.top=t.top-r.top+o),null!=t.left&&(u.left=t.left-r.left+i),'using'in t?t.using.call(e,u):g.css(u)}},v.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){v.offset.setOffset(this,e,t)});var t,s,n,i,a=this[0];return a?a.getClientRects().length?(n=a.getBoundingClientRect(),s=(t=a.ownerDocument).documentElement,i=t.defaultView,{top:n.top+i.pageYOffset-s.clientTop,left:n.left+i.pageXOffset-s.clientLeft}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,s=this[0],n={top:0,left:0};return'fixed'===v.css(s,'position')?t=s.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),C(e[0],'html')||(n=e.offset()),n={top:n.top+v.css(e[0],'borderTopWidth',!0),left:n.left+v.css(e[0],'borderLeftWidth',!0)}),{top:t.top-n.top-v.css(s,'marginTop',!0),left:t.left-n.left-v.css(s,'marginLeft',!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&'static'===v.css(e,'position');)e=e.offsetParent;return e||ve})}}),v.each({scrollLeft:'pageXOffset',scrollTop:'pageYOffset'},function(e,t){var s='pageYOffset'===t;v.fn[e]=function(n){return U(this,function(e,n,i){var a;return v.isWindow(e)?a=e:9===e.nodeType&&(a=e.defaultView),void 0===i?a?a[t]:e[n]:void(a?a.scrollTo(s?a.pageXOffset:i,s?i:a.pageYOffset):e[n]=i)},e,n,arguments.length)}}),v.each(['top','left'],function(e,t){v.cssHooks[t]=$e(m.pixelPosition,function(e,s){if(s)return s=Re(e,t),He.test(s)?v(e).position()[t]+'px':s})}),v.each({Height:'height',Width:'width'},function(e,t){v.each({padding:'inner'+e,content:t,'':'outer'+e},function(s,n){v.fn[n]=function(i,a){var o=arguments.length&&(s||'boolean'!=typeof i),r=s||(!0===i||!0===a?'margin':'border');return U(this,function(t,s,i){var a;return v.isWindow(t)?0===n.indexOf('outer')?t['inner'+e]:t.document.documentElement['client'+e]:9===t.nodeType?(a=t.documentElement,Math.max(t.body['scroll'+e],a['scroll'+e],t.body['offset'+e],a['offset'+e],a['client'+e])):void 0===i?v.css(t,s,r):v.style(t,s,i,r)},t,o?i:void 0,o)}})}),v.fn.extend({bind:function(e,t,s){return this.on(e,null,t,s)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,s,n){return this.on(t,e,s,n)},undelegate:function(e,t,s){return 1===arguments.length?this.off(e,'**'):this.off(t,e||'**',s)}}),v.holdReady=function(e){e?v.readyWait++:v.ready(!0)},v.isArray=Array.isArray,v.parseJSON=JSON.parse,v.nodeName=C,'function'==typeof define&&define.amd&&define('jquery',[],function(){return v});var Jt=e.jQuery,Kt=e.$;return v.noConflict=function(t){return e.$===v&&(e.$=Kt),t&&e.jQuery===v&&(e.jQuery=Jt),v},t||(e.jQuery=e.$=v),v}),function(e){'function'==typeof define&&define.amd?define(['jquery'],e):e(jQuery)}(function(e){function t(e){for(var t=e.css('visibility');'inherit'===t;)t=(e=e.parent()).css('visibility');return'hidden'!==t}function s(e){for(var t,s;e.length&&e[0]!==document;){if(('absolute'===(t=e.css('position'))||'relative'===t||'fixed'===t)&&(s=parseInt(e.css('zIndex'),10),!isNaN(s)&&0!==s))return s;e=e.parent()}return 0}function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId='ui-datepicker-div',this._inlineClass='ui-datepicker-inline',this._appendClass='ui-datepicker-append',this._triggerClass='ui-datepicker-trigger',this._dialogClass='ui-datepicker-dialog',this._disableClass='ui-datepicker-disabled',this._unselectableClass='ui-datepicker-unselectable',this._currentClass='ui-datepicker-current-day',this._dayOverClass='ui-datepicker-days-cell-over',this.regional=[],this.regional['']={closeText:'Done',prevText:'Prev',nextText:'Next',currentText:'Today',monthNames:['January','February','March','April','May','June','July','August','September','October','November','December'],monthNamesShort:['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],dayNames:['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],dayNamesShort:['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],dayNamesMin:['Su','Mo','Tu','We','Th','Fr','Sa'],weekHeader:'Wk',dateFormat:'mm/dd/yy',firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:''},this._defaults={showOn:'focus',showAnim:'fadeIn',showOptions:{},defaultDate:null,appendText:'',buttonText:'...',buttonImage:'',buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:'c-10:c+10',showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:'+10',minDate:null,maxDate:null,duration:'fast',beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:'',altFormat:'',constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional['']),this.regional.en=e.extend(!0,{},this.regional['']),this.regional['en-US']=e.extend(!0,{},this.regional.en),this.dpDiv=i(e('<div id=\''+this._mainDivId+'\' class=\'ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\'></div>'))}function i(t){var s='button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a';return t.on('mouseout',s,function(){e(this).removeClass('ui-state-hover'),-1!==this.className.indexOf('ui-datepicker-prev')&&e(this).removeClass('ui-datepicker-prev-hover'),-1!==this.className.indexOf('ui-datepicker-next')&&e(this).removeClass('ui-datepicker-next-hover')}).on('mouseover',s,a)}function a(){e.datepicker._isDisabledDatepicker(f.inline?f.dpDiv.parent()[0]:f.input[0])||(e(this).parents('.ui-datepicker-calendar').find('a').removeClass('ui-state-hover'),e(this).addClass('ui-state-hover'),-1!==this.className.indexOf('ui-datepicker-prev')&&e(this).addClass('ui-datepicker-prev-hover'),-1!==this.className.indexOf('ui-datepicker-next')&&e(this).addClass('ui-datepicker-next-hover'))}function o(t,s){for(var n in e.extend(t,s),s)null==s[n]&&(t[n]=s[n]);return t}function r(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger('change')}}e.ui=e.ui||{},e.ui.version='1.12.1';var l=0,c=Array.prototype.slice;e.cleanData=function(t){return function(s){var n,i,a;for(a=0;null!=(i=s[a]);a++)try{(n=e._data(i,'events'))&&n.remove&&e(i).triggerHandler('remove')}catch(e){}t(s)}}(e.cleanData),e.widget=function(t,s,n){var i,a,o,r={},l=t.split('.')[0],c=l+'-'+(t=t.split('.')[1]);return n||(n=s,s=e.Widget),e.isArray(n)&&(n=e.extend.apply(null,[{}].concat(n))),e.expr[':'][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},i=e[l][t],a=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,i,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),(o=new s).options=e.widget.extend({},o.options),e.each(n,function(t,n){return e.isFunction(n)?void(r[t]=function(){function e(){return s.prototype[t].apply(this,arguments)}function i(e){return s.prototype[t].apply(this,e)}return function(){var t,s=this._super,a=this._superApply;return this._super=e,this._superApply=i,t=n.apply(this,arguments),this._super=s,this._superApply=a,t}}()):void(r[t]=n)}),a.prototype=e.widget.extend(o,{widgetEventPrefix:i&&o.widgetEventPrefix||t},r,{constructor:a,namespace:l,widgetName:t,widgetFullName:c}),i?(e.each(i._childConstructors,function(t,s){var n=s.prototype;e.widget(n.namespace+'.'+n.widgetName,a,s._proto)}),delete i._childConstructors):s._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var s,n,i=c.call(arguments,1),a=0,o=i.length;o>a;a++)for(s in i[a])n=i[a][s],i[a].hasOwnProperty(s)&&void 0!==n&&(t[s]=e.isPlainObject(n)?e.isPlainObject(t[s])?e.widget.extend({},t[s],n):e.widget.extend({},n):n);return t},e.widget.bridge=function(t,s){var n=s.prototype.widgetFullName||t;e.fn[t]=function(i){var a='string'==typeof i,o=c.call(arguments,1),r=this;return a?this.length||'instance'!==i?this.each(function(){var s,a=e.data(this,n);return'instance'===i?(r=a,!1):a?e.isFunction(a[i])&&'_'!==i.charAt(0)?(s=a[i].apply(a,o))!==a&&void 0!==s?(r=s&&s.jquery?r.pushStack(s.get()):s,!1):void 0:e.error('no such method \''+i+'\' for '+t+' widget instance'):e.error('cannot call methods on '+t+' prior to initialization; attempted to call method \''+i+'\'')}):r=void 0:(o.length&&(i=e.widget.extend.apply(null,[i].concat(o))),this.each(function(){var t=e.data(this,n);t?(t.option(i||{}),t._init&&t._init()):e.data(this,n,new s(i,this))})),r}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:'widget',widgetEventPrefix:'',defaultElement:'<div>',options:{classes:{},disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=l++,this.eventNamespace='.'+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger('create',null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,s){t._removeClass(s,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr('aria-disabled'),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,s){var n,i,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if('string'==typeof t)if(o={},t=(n=t.split('.')).shift(),n.length){for(i=o[t]=e.widget.extend({},this.options[t]),a=0;n.length-1>a;a++)i[n[a]]=i[n[a]]||{},i=i[n[a]];if(t=n.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=s}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=s}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return'classes'===e&&this._setOptionClasses(t),this.options[e]=t,'disabled'===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var s,n,i;for(s in t)i=this.classesElementLookup[s],t[s]!==this.options.classes[s]&&i&&i.length&&(n=e(i.get()),this._removeClass(i,s),n.addClass(this._classes({element:n,keys:s,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+'-disabled',null,!!e),e&&(this._removeClass(this.hoverable,null,'ui-state-hover'),this._removeClass(this.focusable,null,'ui-state-focus'))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){function s(s,a){var o,r;for(r=0;s.length>r;r++)o=i.classesElementLookup[s[r]]||e(),o=t.add?e(e.unique(o.get().concat(t.element.get()))):e(o.not(t.element).get()),i.classesElementLookup[s[r]]=o,n.push(s[r]),a&&t.classes[s[r]]&&n.push(t.classes[s[r]])}var n=[],i=this;return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:'_untrackClassesElement'}),t.keys&&s(t.keys.match(/\S+/g)||[],!0),t.extra&&s(t.extra.match(/\S+/g)||[]),n.join(' ')},_untrackClassesElement:function(t){var s=this;e.each(s.classesElementLookup,function(n,i){-1!==e.inArray(t.target,i)&&(s.classesElementLookup[n]=e(i.not(t.target).get()))})},_removeClass:function(e,t,s){return this._toggleClass(e,t,s,!1)},_addClass:function(e,t,s){return this._toggleClass(e,t,s,!0)},_toggleClass:function(e,t,s,n){n='boolean'==typeof n?n:s;var i='string'==typeof e||null===e,a={extra:i?t:s,keys:i?e:t,element:i?this.element:e,add:n};return a.element.toggleClass(this._classes(a),n),this},_on:function(t,s,n){var i,a=this;'boolean'!=typeof t&&(n=s,s=t,t=!1),n?(s=i=e(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,i=this.widget()),e.each(n,function(n,o){function r(){return t||!0!==a.options.disabled&&!e(this).hasClass('ui-state-disabled')?('string'==typeof o?a[o]:o).apply(a,arguments):void 0}'string'!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+a.eventNamespace,d=l[2];d?i.on(c,d,r):s.on(c,r)})},_off:function(t,s){s=(s||'').split(' ').join(this.eventNamespace+' ')+this.eventNamespace,t.off(s).off(s),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function s(){return('string'==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(s,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,'ui-state-hover')},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,'ui-state-hover')}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,'ui-state-focus')},focusout:function(t){this._removeClass(e(t.currentTarget),null,'ui-state-focus')}})},_trigger:function(t,s,n){var i,a,o=this.options[t];if(n=n||{},(s=e.Event(s)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),s.target=this.element[0],a=s.originalEvent)for(i in a)i in s||(s[i]=a[i]);return this.element.trigger(s,n),!(e.isFunction(o)&&!1===o.apply(this.element[0],[s].concat(n))||s.isDefaultPrevented())}},e.each({show:'fadeIn',hide:'fadeOut'},function(t,s){e.Widget.prototype['_'+t]=function(n,i,a){'string'==typeof i&&(i={effect:i});var o,r=i?!0===i||'number'==typeof i?s:i.effect||s:t;'number'==typeof(i=i||{})&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=a,i.delay&&n.delay(i.delay),o&&e.effects&&e.effects.effect[r]?n[t](i):r!==t&&n[r]?n[r](i.duration,i.easing,a):n.queue(function(s){e(this)[t](),a&&a.call(n[0]),s()})}}),e.widget,function(){function t(e,t,s){return[parseFloat(e[0])*(g.test(e[0])?t/100:1),parseFloat(e[1])*(g.test(e[1])?s/100:1)]}function s(t,s){return parseInt(e.css(t,s),10)||0}function n(t){var s=t[0];return 9===s.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(s)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:s.preventDefault?{width:0,height:0,offset:{top:s.pageY,left:s.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}var i,a=Math.max,o=Math.abs,r=/left|center|right/,l=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,g=/%$/,u=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,s,n=e('<div style=\'display:block;position:absolute;width:50px;height:50px;overflow:hidden;\'><div style=\'height:100px;width:auto;\'></div></div>'),a=n.children()[0];return e('body').append(n),t=a.offsetWidth,n.css('overflow','scroll'),t===(s=a.offsetWidth)&&(s=n[0].clientWidth),n.remove(),i=t-s},getScrollInfo:function(t){var s=t.isWindow||t.isDocument?'':t.element.css('overflow-x'),n=t.isWindow||t.isDocument?'':t.element.css('overflow-y'),i='scroll'===s||'auto'===s&&t.width<t.element[0].scrollWidth,a;return{width:'scroll'===n||'auto'===n&&t.height<t.element[0].scrollHeight?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var s=e(t||window),n=e.isWindow(s[0]),i=!!s[0]&&9===s[0].nodeType,a;return{element:s,isWindow:n,isDocument:i,offset:!n&&!i?e(t).offset():{left:0,top:0},scrollLeft:s.scrollLeft(),scrollTop:s.scrollTop(),width:s.outerWidth(),height:s.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return u.apply(this,arguments);i=e.extend({},i);var g,h,m,p,f,v,x=e(i.of),w=e.position.getWithinInfo(i.within),b=e.position.getScrollInfo(w),y=(i.collision||'flip').split(' '),F={};return v=n(x),x[0].preventDefault&&(i.at='left top'),h=v.width,m=v.height,p=v.offset,f=e.extend({},p),e.each(['my','at'],function(){var e,t,s=(i[this]||'').split(' ');1===s.length&&(s=r.test(s[0])?s.concat(['center']):l.test(s[0])?['center'].concat(s):['center','center']),s[0]=r.test(s[0])?s[0]:'center',s[1]=l.test(s[1])?s[1]:'center',e=c.exec(s[0]),t=c.exec(s[1]),F[this]=[e?e[0]:0,t?t[0]:0],i[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===y.length&&(y[1]=y[0]),'right'===i.at[0]?f.left+=h:'center'===i.at[0]&&(f.left+=h/2),'bottom'===i.at[1]?f.top+=m:'center'===i.at[1]&&(f.top+=m/2),g=t(F.at,h,m),f.left+=g[0],f.top+=g[1],this.each(function(){var n,r,l=e(this),c=l.outerWidth(),d=l.outerHeight(),u=s(this,'marginLeft'),v=s(this,'marginTop'),_=c+u+s(this,'marginRight')+b.width,k=d+v+s(this,'marginBottom')+b.height,E=e.extend({},f),S=t(F.my,l.outerWidth(),l.outerHeight());'right'===i.my[0]?E.left-=c:'center'===i.my[0]&&(E.left-=c/2),'bottom'===i.my[1]?E.top-=d:'center'===i.my[1]&&(E.top-=d/2),E.left+=S[0],E.top+=S[1],n={marginLeft:u,marginTop:v},e.each(['left','top'],function(t,s){e.ui.position[y[t]]&&e.ui.position[y[t]][s](E,{targetWidth:h,targetHeight:m,elemWidth:c,elemHeight:d,collisionPosition:n,collisionWidth:_,collisionHeight:k,offset:[g[0]+S[0],g[1]+S[1]],my:i.my,at:i.at,within:w,elem:l})}),i.using&&(r=function(e){var t=p.left-E.left,s=t+h-c,n=p.top-E.top,r=n+m-d,g={target:{element:x,left:p.left,top:p.top,width:h,height:m},element:{element:l,left:E.left,top:E.top,width:c,height:d},horizontal:0>s?'left':t>0?'right':'center',vertical:0>r?'top':n>0?'bottom':'middle'};c>h&&h>o(t+s)&&(g.horizontal='center'),d>m&&m>o(n+r)&&(g.vertical='middle'),g.important=a(o(t),o(s))>a(o(n),o(r))?'horizontal':'vertical',i.using.call(this,e,g)}),l.offset(e.extend(E,{using:r}))})},e.ui.position={fit:{left:function(e,t){var s,n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=e.left-t.collisionPosition.marginLeft,l=i-r,c=r+t.collisionWidth-o-i;t.collisionWidth>o?l>0&&0>=c?(s=e.left+l+t.collisionWidth-o-i,e.left+=l-s):e.left=c>0&&0>=l?i:l>c?i+o-t.collisionWidth:i:l>0?e.left+=l:c>0?e.left-=c:e.left=a(e.left-r,e.left)},top:function(e,t){var s,n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,r=e.top-t.collisionPosition.marginTop,l=i-r,c=r+t.collisionHeight-o-i;t.collisionHeight>o?l>0&&0>=c?(s=e.top+l+t.collisionHeight-o-i,e.top+=l-s):e.top=c>0&&0>=l?i:l>c?i+o-t.collisionHeight:i:l>0?e.top+=l:c>0?e.top-=c:e.top=a(e.top-r,e.top)}},flip:{left:function(e,t){var s,n,i=t.within,a=i.offset.left+i.scrollLeft,r=i.width,l=i.isWindow?i.scrollLeft:i.offset.left,c=e.left-t.collisionPosition.marginLeft,d=c-l,g=c+t.collisionWidth-r-l,u='left'===t.my[0]?-t.elemWidth:'right'===t.my[0]?t.elemWidth:0,h='left'===t.at[0]?t.targetWidth:'right'===t.at[0]?-t.targetWidth:0,m=-2*t.offset[0];0>d?(0>(s=e.left+u+h+m+t.collisionWidth-r-a)||o(d)>s)&&(e.left+=u+h+m):g>0&&(((n=e.left-t.collisionPosition.marginLeft+u+h+m-l)>0||g>o(n))&&(e.left+=u+h+m))},top:function(e,t){var s,n,i=t.within,a=i.offset.top+i.scrollTop,r=i.height,l=i.isWindow?i.scrollTop:i.offset.top,c=e.top-t.collisionPosition.marginTop,d=c-l,g=c+t.collisionHeight-r-l,u,h='top'===t.my[1]?-t.elemHeight:'bottom'===t.my[1]?t.elemHeight:0,m='top'===t.at[1]?t.targetHeight:'bottom'===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];0>d?(0>(n=e.top+h+m+p+t.collisionHeight-r-a)||o(d)>n)&&(e.top+=h+m+p):g>0&&(((s=e.top-t.collisionPosition.marginTop+h+m+p-l)>0||g>o(s))&&(e.top+=h+m+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}}}(),e.ui.position,e.extend(e.expr[':'],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(s){return!!e.data(s,t)}}):function(t,s,n){return!!e.data(t,n[3])}}),e.fn.extend({disableSelection:function(){var e='onselectstart'in document.createElement('div')?'selectstart':'mousedown';return function(){return this.on(e+'.ui-disableSelection',function(e){e.preventDefault()})}}(),enableSelection:function(){return this.off('.ui-disableSelection')}});var d='ui-effects-',g='ui-effects-style',u='ui-effects-animated',h=e;e.effects={effect:{}},function(e,t){function s(e,t,s){var n=g[t.type]||{};return null==e?s||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:0>e?0:e>n.max?n.max:e)}function n(s){var n=c(),i=n._rgba=[];return s=s.toLowerCase(),m(l,function(e,a){var o,r=a.re.exec(s),l=r&&a.parse(r),c=a.space||'rgba';return l?(o=n[c](l),n[d[c].cache]=o[d[c].cache],i=n._rgba=o._rgba,!1):t}),i.length?('0,0,0,0'===i.join()&&e.extend(i,a.transparent),n):a[s]}function i(e,t,s){return 1>6*(s=(s+1)%1)?e+6*(t-e)*s:1>2*s?t:2>3*s?e+6*(t-e)*(2/3-s):e}var a,o='backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor',r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:'hsla',parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],c=e.Color=function(t,s,n,i){return new e.Color.fn.parse(t,s,n,i)},d={rgba:{props:{red:{idx:0,type:'byte'},green:{idx:1,type:'byte'},blue:{idx:2,type:'byte'}}},hsla:{props:{hue:{idx:0,type:'degrees'},saturation:{idx:1,type:'percent'},lightness:{idx:2,type:'percent'}}}},g={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},u=c.support={},h=e('<p>')[0],m=e.each;h.style.cssText='background-color:rgba(1,1,1,.5)',u.rgba=h.style.backgroundColor.indexOf('rgba')>-1,m(d,function(e,t){t.cache='_'+e,t.props.alpha={idx:3,type:'percent',def:1}}),c.fn=e.extend(c.prototype,{parse:function(i,o,r,l){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(o),o=t);var g=this,u=e.type(i),h=this._rgba=[];return o!==t&&(i=[i,o,r,l],u='array'),'string'===u?this.parse(n(i)||a._default):'array'===u?(m(d.rgba.props,function(e,t){h[t.idx]=s(i[t.idx],t)}),this):'object'===u?(m(d,i instanceof c?function(e,t){i[t.cache]&&(g[t.cache]=i[t.cache].slice())}:function(t,n){var a=n.cache;m(n.props,function(e,t){if(!g[a]&&n.to){if('alpha'===e||null==i[e])return;g[a]=n.to(g._rgba)}g[a][t.idx]=s(i[e],t,!0)}),g[a]&&0>e.inArray(null,g[a].slice(0,3))&&(g[a][3]=1,n.from&&(g._rgba=n.from(g[a])))}),this):t},is:function(e){var s=c(e),n=!0,i=this;return m(d,function(e,a){var o,r=s[a.cache];return r&&(o=i[a.cache]||a.to&&a.to(i._rgba)||[],m(a.props,function(e,s){return null!=r[s.idx]?n=r[s.idx]===o[s.idx]:t})),n}),n},_space:function(){var e=[],t=this;return m(d,function(s,n){t[n.cache]&&e.push(s)}),e.pop()},transition:function(e,t){var n=c(e),i=n._space(),a=d[i],o=0===this.alpha()?c('transparent'):this,r=o[a.cache]||a.to(o._rgba),l=r.slice();return n=n[a.cache],m(a.props,function(e,i){var a=i.idx,o=r[a],c=n[a],d=g[i.type]||{};null!==c&&(null===o?l[a]=c:(d.mod&&(c-o>d.mod/2?o+=d.mod:o-c>d.mod/2&&(o-=d.mod)),l[a]=s((c-o)*t+o,i)))}),this[i](l)},blend:function(t){if(1===this._rgba[3])return this;var s=this._rgba.slice(),n=s.pop(),i=c(t)._rgba;return c(e.map(s,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var t='rgba(',s=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===s[3]&&(s.pop(),t='rgb('),t+s.join()+')'},toHslaString:function(){var t='hsla(',s=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+'%'),e});return 1===s[3]&&(s.pop(),t='hsl('),t+s.join()+')'},toHexString:function(t){var s=this._rgba.slice(),n=s.pop();return t&&s.push(~~(255*n)),'#'+e.map(s,function(e){return 1===(e=(e||0).toString(16)).length?'0'+e:e}).join('')},toString:function(){return 0===this._rgba[3]?'transparent':this.toRgbaString()}}),c.fn.parse.prototype=c.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,s,n=e[0]/255,i=e[1]/255,a=e[2]/255,o=e[3],r=Math.max(n,i,a),l=Math.min(n,i,a),c=r-l,d=r+l,g=.5*d;return t=l===r?0:n===r?60*(i-a)/c+360:i===r?60*(a-n)/c+120:60*(n-i)/c+240,s=0===c?0:.5>=g?c/d:c/(2-d),[Math.round(t)%360,s,g,null==o?1:o]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,s=e[1],n=e[2],a=e[3],o=.5>=n?n*(1+s):n+s-n*s,r=2*n-o;return[Math.round(255*i(r,o,t+1/3)),Math.round(255*i(r,o,t)),Math.round(255*i(r,o,t-1/3)),a]},m(d,function(n,i){var a=i.props,o=i.cache,l=i.to,d=i.from;c.fn[n]=function(n){if(l&&!this[o]&&(this[o]=l(this._rgba)),n===t)return this[o].slice();var i,r=e.type(n),g='array'===r||'object'===r?n:arguments,u=this[o].slice();return m(a,function(e,t){var n=g['object'===r?e:t.idx];null==n&&(n=u[t.idx]),u[t.idx]=s(n,t)}),d?((i=c(d(u)))[o]=u,i):c(u)},m(a,function(t,s){c.fn[t]||(c.fn[t]=function(i){var a,o=e.type(i),l='alpha'===t?this._hsla?'hsla':'rgba':n,c=this[l](),d=c[s.idx];return'undefined'===o?d:('function'===o&&(i=i.call(this,d),o=e.type(i)),null==i&&s.empty?this:('string'===o&&((a=r.exec(i))&&(i=d+parseFloat(a[2])*('+'===a[1]?1:-1))),c[s.idx]=i,this[l](c)))})})}),c.hook=function(t){var s=t.split(' ');m(s,function(t,s){e.cssHooks[s]={set:function(t,i){var a,o,r='';if('transparent'!==i&&('string'!==e.type(i)||(a=n(i)))){if(i=c(a||i),!u.rgba&&1!==i._rgba[3]){for(o='backgroundColor'===s?t.parentNode:t;(''===r||'transparent'===r)&&o&&o.style;)try{r=e.css(o,'backgroundColor'),o=o.parentNode}catch(e){}i=i.blend(r&&'transparent'!==r?r:'_default')}i=i.toRgbaString()}try{t.style[s]=i}catch(e){}}},e.fx.step[s]=function(t){t.colorInit||(t.start=c(t.elem,s),t.end=c(t.end),t.colorInit=!0),e.cssHooks[s].set(t.elem,t.start.transition(t.end,t.pos))}})},c.hook(o),e.cssHooks.borderColor={expand:function(e){var t={};return m(['Top','Right','Bottom','Left'],function(s,n){t['border'+n+'Color']=e}),t}},a=e.Color.names={aqua:'#00ffff',black:'#000000',blue:'#0000ff',fuchsia:'#ff00ff',gray:'#808080',green:'#008000',lime:'#00ff00',maroon:'#800000',navy:'#000080',olive:'#808000',purple:'#800080',red:'#ff0000',silver:'#c0c0c0',teal:'#008080',white:'#ffffff',yellow:'#ffff00',transparent:[null,null,null,0],_default:'#ffffff'}}(h),function(){function t(t){var s,n,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,a={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)'string'==typeof i[s=i[n]]&&(a[e.camelCase(s)]=i[s]);else for(s in i)'string'==typeof i[s]&&(a[s]=i[s]);return a}function s(t,s){var n,a,o={};for(n in s)a=s[n],t[n]!==a&&(i[n]||(e.fx.step[n]||!isNaN(parseFloat(a)))&&(o[n]=a));return o}var n=['add','remove','toggle'],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(['borderLeftStyle','borderRightStyle','borderBottomStyle','borderTopStyle'],function(t,s){e.fx.step[s]=function(e){('none'!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(h.style(e.elem,s,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,a,o,r){var l=e.speed(a,o,r);return this.queue(function(){var a,o=e(this),r=o.attr('class')||'',c=l.children?o.find('*').addBack():o;c=c.map(function(){var s;return{el:e(this),start:t(this)}}),(a=function(){e.each(n,function(e,t){i[t]&&o[t+'Class'](i[t])})})(),c=c.map(function(){return this.end=t(this.el[0]),this.diff=s(this.start,this.end),this}),o.attr('class',r),c=c.map(function(){var t=this,s=e.Deferred(),n=e.extend({},l,{queue:!1,complete:function(){s.resolve(t)}});return this.el.animate(this.diff,n),s.promise()}),e.when.apply(e,c.get()).done(function(){a(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,'')})}),l.complete.call(o[0])})})},e.fn.extend({addClass:function(t){return function(s,n,i,a){return n?e.effects.animateClass.call(this,{add:s},n,i,a):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(s,n,i,a){return arguments.length>1?e.effects.animateClass.call(this,{remove:s},n,i,a):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(s,n,i,a,o){return'boolean'==typeof n||void 0===n?i?e.effects.animateClass.call(this,n?{add:s}:{remove:s},i,a,o):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:s},n,i,a)}}(e.fn.toggleClass),switchClass:function(t,s,n,i,a){return e.effects.animateClass.call(this,{add:s,remove:t},n,i,a)}})}(),function(){function t(t,s,n,i){return e.isPlainObject(t)&&(s=t,t=t.effect),t={effect:t},null==s&&(s={}),e.isFunction(s)&&(i=s,n=null,s={}),('number'==typeof s||e.fx.speeds[s])&&(i=n,n=s,s={}),e.isFunction(n)&&(i=n,n=null),s&&e.extend(t,s),n=n||s.duration,t.duration=e.fx.off?0:'number'==typeof n?n:n in e.fx.speeds?e.fx.speeds[n]:e.fx.speeds._default,t.complete=i||s.complete,t}function s(t){return!(t&&'number'!=typeof t&&!e.fx.speeds[t])||('string'==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||'object'==typeof t&&!t.effect))}function n(e,t){var s=t.outerWidth(),n=t.outerHeight(),i,a=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||['',0,s,n,0];return{top:parseFloat(a[1])||0,right:'auto'===a[2]?s:parseFloat(a[2]),bottom:'auto'===a[3]?n:parseFloat(a[3]),left:parseFloat(a[4])||0}}e.expr&&e.expr.filters&&e.expr.filters.animated&&(e.expr.filters.animated=function(t){return function(s){return!!e(s).data(u)||t(s)}}(e.expr.filters.animated)),!1!==e.uiBackCompat&&e.extend(e.effects,{save:function(e,t){for(var s=0,n=t.length;n>s;s++)null!==t[s]&&e.data(d+t[s],e[0].style[t[s]])},restore:function(e,t){for(var s,n=0,i=t.length;i>n;n++)null!==t[n]&&(s=e.data(d+t[n]),e.css(t[n],s))},setMode:function(e,t){return'toggle'===t&&(t=e.is(':hidden')?'show':'hide'),t},createWrapper:function(t){if(t.parent().is('.ui-effects-wrapper'))return t.parent();var s={width:t.outerWidth(!0),height:t.outerHeight(!0),float:t.css('float')},n=e('<div></div>').addClass('ui-effects-wrapper').css({fontSize:'100%',background:'transparent',border:'none',margin:0,padding:0}),i={width:t.width(),height:t.height()},a=document.activeElement;try{a.id}catch(e){a=document.body}return t.wrap(n),(t[0]===a||e.contains(t[0],a))&&e(a).trigger('focus'),n=t.parent(),'static'===t.css('position')?(n.css({position:'relative'}),t.css({position:'relative'})):(e.extend(s,{position:t.css('position'),zIndex:t.css('z-index')}),e.each(['top','left','bottom','right'],function(e,n){s[n]=t.css(n),isNaN(parseInt(s[n],10))&&(s[n]='auto')}),t.css({position:'relative',top:0,left:0,right:'auto',bottom:'auto'})),t.css(i),n.css(s).show()},removeWrapper:function(t){var s=document.activeElement;return t.parent().is('.ui-effects-wrapper')&&(t.parent().replaceWith(t),(t[0]===s||e.contains(t[0],s))&&e(s).trigger('focus')),t}}),e.extend(e.effects,{version:'1.12.1',define:function(t,s,n){return n||(n=s,s='effect'),e.effects.effect[t]=n,e.effects.effect[t].mode=s,n},scaledDimensions:function(e,t,s){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var n='horizontal'!==s?(t||100)/100:1,i='vertical'!==s?(t||100)/100:1;return{height:e.height()*i,width:e.width()*n,outerHeight:e.outerHeight()*i,outerWidth:e.outerWidth()*n}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,s){var n=e.queue();t>1&&n.splice.apply(n,[1,0].concat(n.splice(t,s))),e.dequeue()},saveStyle:function(e){e.data(g,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(g)||'',e.removeData(g)},mode:function(e,t){var s=e.is(':hidden');return'toggle'===t&&(t=s?'show':'hide'),(s?'hide'===t:'show'===t)&&(t='none'),t},getBaseline:function(e,t){var s,n;switch(e[0]){case'top':s=0;break;case'middle':s=.5;break;case'bottom':s=1;break;default:s=e[0]/t.height}switch(e[1]){case'left':n=0;break;case'center':n=.5;break;case'right':n=1;break;default:n=e[1]/t.width}return{x:n,y:s}},createPlaceholder:function(t){var s,n=t.css('position'),i=t.position();return t.css({marginTop:t.css('marginTop'),marginBottom:t.css('marginBottom'),marginLeft:t.css('marginLeft'),marginRight:t.css('marginRight')}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()),/^(static|relative)/.test(n)&&(n='absolute',s=e('<'+t[0].nodeName+'>').insertAfter(t).css({display:/^(inline|ruby)/.test(t.css('display'))?'inline-block':'block',visibility:'hidden',marginTop:t.css('marginTop'),marginBottom:t.css('marginBottom'),marginLeft:t.css('marginLeft'),marginRight:t.css('marginRight'),float:t.css('float')}).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).addClass('ui-effects-placeholder'),t.data(d+'placeholder',s)),t.css({position:n,left:i.left,top:i.top}),s},removePlaceholder:function(e){var t=d+'placeholder',s=e.data(t);s&&(s.remove(),e.removeData(t))},cleanUp:function(t){e.effects.restoreStyle(t),e.effects.removePlaceholder(t)},setTransition:function(t,s,n,i){return i=i||{},e.each(s,function(e,s){var a=t.cssUnit(s);a[0]>0&&(i[s]=a[0]*n+a[1])}),i}}),e.fn.extend({effect:function(){function s(t){function s(){r.removeData(u),e.effects.cleanUp(r),'hide'===n.mode&&r.hide(),o()}function o(){e.isFunction(l)&&l.call(r[0]),e.isFunction(t)&&t()}var r=e(this);n.mode=d.shift(),!1===e.uiBackCompat||a?'none'===n.mode?(r[c](),o()):i.call(r[0],n,s):(r.is(':hidden')?'hide'===c:'show'===c)?(r[c](),o()):i.call(r[0],n,o)}var n=t.apply(this,arguments),i=e.effects.effect[n.effect],a=i.mode,o=n.queue,r=o||'fx',l=n.complete,c=n.mode,d=[],g=function(t){var s=e(this),n=e.effects.mode(s,c)||a;s.data(u,!0),d.push(n),a&&('show'===n||n===a&&'hide'===n)&&s.show(),a&&'none'===n||e.effects.saveStyle(s),e.isFunction(t)&&t()};return e.fx.off||!i?c?this[c](n.duration,l):this.each(function(){l&&l.call(this)}):!1===o?this.each(g).each(s):this.queue(r,g).queue(r,s)},show:function(e){return function(n){if(s(n))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode='show',this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(n){if(s(n))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode='hide',this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(n){if(s(n)||'boolean'==typeof n)return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode='toggle',this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var s=this.css(t),n=[];return e.each(['em','px','%','pt'],function(e,t){s.indexOf(t)>0&&(n=[parseFloat(s),t])}),n},cssClip:function(e){return e?this.css('clip','rect('+e.top+'px '+e.right+'px '+e.bottom+'px '+e.left+'px)'):n(this.css('clip'),this)},transfer:function(t,s){var n=e(this),i=e(t.to),a='fixed'===i.css('position'),o=e('body'),r=a?o.scrollTop():0,l=a?o.scrollLeft():0,c=i.offset(),d={top:c.top-r,left:c.left-l,height:i.innerHeight(),width:i.innerWidth()},g=n.offset(),u=e('<div class=\'ui-effects-transfer\'></div>').appendTo('body').addClass(t.className).css({top:g.top-r,left:g.left-l,height:n.innerHeight(),width:n.innerWidth(),position:a?'fixed':'absolute'}).animate(d,t.duration,t.easing,function(){u.remove(),e.isFunction(s)&&s()})}}),e.fx.step.clip=function(t){t.clipInit||(t.start=e(t.elem).cssClip(),'string'==typeof t.end&&(t.end=n(t.end,t.elem)),t.clipInit=!0),e(t.elem).cssClip({top:t.pos*(t.end.top-t.start.top)+t.start.top,right:t.pos*(t.end.right-t.start.right)+t.start.right,bottom:t.pos*(t.end.bottom-t.start.bottom)+t.start.bottom,left:t.pos*(t.end.left-t.start.left)+t.start.left})}}(),function(){var t={};e.each(['Quad','Cubic','Quart','Quint','Expo'],function(e,s){t[s]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,s=4;((t=Math.pow(2,--s))-1)/11>e;);return 1/Math.pow(4,3-s)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,s){e.easing['easeIn'+t]=s,e.easing['easeOut'+t]=function(e){return 1-s(1-e)},e.easing['easeInOut'+t]=function(e){return.5>e?s(2*e)/2:1-s(-2*e+2)/2}})}();var m=e.effects,m;e.effects.define('blind','hide',function(t,s){var n={up:['bottom','top'],vertical:['bottom','top'],down:['top','bottom'],left:['right','left'],horizontal:['right','left'],right:['left','right']},i=e(this),a=t.direction||'up',o=i.cssClip(),r={clip:e.extend({},o)},l=e.effects.createPlaceholder(i);r.clip[n[a][0]]=r.clip[n[a][1]],'show'===t.mode&&(i.cssClip(r.clip),l&&l.css(e.effects.clipToBox(r)),r.clip=o),l&&l.animate(e.effects.clipToBox(r),t.duration,t.easing),i.animate(r,{queue:!1,duration:t.duration,easing:t.easing,complete:s})}),e.effects.define('bounce',function(t,s){var n,i,a,o=e(this),r=t.mode,l='hide'===r,c='show'===r,d=t.direction||'up',g=t.distance,u=t.times||5,h=2*u+(c||l?1:0),m=t.duration/h,p=t.easing,f='up'===d||'down'===d?'top':'left',v='up'===d||'left'===d,x=0,w=o.queue().length;for(e.effects.createPlaceholder(o),a=o.css(f),g||(g=o['top'===f?'outerHeight':'outerWidth']()/3),c&&((i={opacity:1})[f]=a,o.css('opacity',0).css(f,v?2*-g:2*g).animate(i,m,p)),l&&(g/=Math.pow(2,u-1)),(i={})[f]=a;u>x;x++)(n={})[f]=(v?'-=':'+=')+g,o.animate(n,m,p).animate(i,m,p),g=l?2*g:g/2;l&&((n={opacity:0})[f]=(v?'-=':'+=')+g,o.animate(n,m,p)),o.queue(s),e.effects.unshift(o,w,h+1)}),e.effects.define('clip','hide',function(t,s){var n,i={},a=e(this),o=t.direction||'vertical',r='both'===o,l=r||'horizontal'===o,c=r||'vertical'===o;n=a.cssClip(),i.clip={top:c?(n.bottom-n.top)/2:n.top,right:l?(n.right-n.left)/2:n.right,bottom:c?(n.bottom-n.top)/2:n.bottom,left:l?(n.right-n.left)/2:n.left},e.effects.createPlaceholder(a),'show'===t.mode&&(a.cssClip(i.clip),i.clip=n),a.animate(i,{queue:!1,duration:t.duration,easing:t.easing,complete:s})}),e.effects.define('drop','hide',function(t,s){var n,i=e(this),a,o='show'===t.mode,r=t.direction||'left',l='up'===r||'down'===r?'top':'left',c='up'===r||'left'===r?'-=':'+=',d='+='===c?'-=':'+=',g={opacity:0};e.effects.createPlaceholder(i),n=t.distance||i['top'===l?'outerHeight':'outerWidth'](!0)/2,g[l]=c+n,o&&(i.css(g),g[l]=d+n,g.opacity=1),i.animate(g,{queue:!1,duration:t.duration,easing:t.easing,complete:s})}),e.effects.define('explode','hide',function(t,s){function n(){w.push(this),w.length===g*u&&i()}function i(){h.css({visibility:'visible'}),e(w).remove(),s()}var a,o,r,l,c,d,g=t.pieces?Math.round(Math.sqrt(t.pieces)):3,u=g,h=e(this),m,p='show'===t.mode,f=h.show().css('visibility','hidden').offset(),v=Math.ceil(h.outerWidth()/u),x=Math.ceil(h.outerHeight()/g),w=[];for(a=0;g>a;a++)for(l=f.top+a*x,d=a-(g-1)/2,o=0;u>o;o++)r=f.left+o*v,c=o-(u-1)/2,h.clone().appendTo('body').wrap('<div></div>').css({position:'absolute',visibility:'visible',left:-o*v,top:-a*x}).parent().addClass('ui-effects-explode').css({position:'absolute',overflow:'hidden',width:v,height:x,left:r+(p?c*v:0),top:l+(p?d*x:0),opacity:p?0:1}).animate({left:r+(p?0:c*v),top:l+(p?0:d*x),opacity:p?1:0},t.duration||500,t.easing,n)}),e.effects.define('fade','toggle',function(t,s){var n='show'===t.mode;e(this).css('opacity',n?0:1).animate({opacity:n?1:0},{queue:!1,duration:t.duration,easing:t.easing,complete:s})}),e.effects.define('fold','hide',function(t,s){var n=e(this),i=t.mode,a='show'===i,o='hide'===i,r=t.size||15,l=/([0-9]+)%/.exec(r),c,d=!!t.horizFirst?['right','bottom']:['bottom','right'],g=t.duration/2,u=e.effects.createPlaceholder(n),h=n.cssClip(),m={clip:e.extend({},h)},p={clip:e.extend({},h)},f=[h[d[0]],h[d[1]]],v=n.queue().length;l&&(r=parseInt(l[1],10)/100*f[o?0:1]),m.clip[d[0]]=r,p.clip[d[0]]=r,p.clip[d[1]]=0,a&&(n.cssClip(p.clip),u&&u.css(e.effects.clipToBox(p)),p.clip=h),n.queue(function(s){u&&u.animate(e.effects.clipToBox(m),g,t.easing).animate(e.effects.clipToBox(p),g,t.easing),s()}).animate(m,g,t.easing).animate(p,g,t.easing).queue(s),e.effects.unshift(n,v,4)}),e.effects.define('highlight','show',function(t,s){var n=e(this),i={backgroundColor:n.css('backgroundColor')};'hide'===t.mode&&(i.opacity=0),e.effects.saveStyle(n),n.css({backgroundImage:'none',backgroundColor:t.color||'#ffff99'}).animate(i,{queue:!1,duration:t.duration,easing:t.easing,complete:s})}),e.effects.define('size',function(t,s){var n,i,a,o=e(this),r=['fontSize'],l=['borderTopWidth','borderBottomWidth','paddingTop','paddingBottom'],c=['borderLeftWidth','borderRightWidth','paddingLeft','paddingRight'],d=t.mode,g='effect'!==d,u=t.scale||'both',h=t.origin||['middle','center'],m=o.css('position'),p=o.position(),f=e.effects.scaledDimensions(o),v=t.from||f,x=t.to||e.effects.scaledDimensions(o,0);e.effects.createPlaceholder(o),'show'===d&&(a=v,v=x,x=a),i={from:{y:v.height/f.height,x:v.width/f.width},to:{y:x.height/f.height,x:x.width/f.width}},('box'===u||'both'===u)&&(i.from.y!==i.to.y&&(v=e.effects.setTransition(o,l,i.from.y,v),x=e.effects.setTransition(o,l,i.to.y,x)),i.from.x!==i.to.x&&(v=e.effects.setTransition(o,c,i.from.x,v),x=e.effects.setTransition(o,c,i.to.x,x))),('content'===u||'both'===u)&&i.from.y!==i.to.y&&(v=e.effects.setTransition(o,r,i.from.y,v),x=e.effects.setTransition(o,r,i.to.y,x)),h&&(n=e.effects.getBaseline(h,f),v.top=(f.outerHeight-v.outerHeight)*n.y+p.top,v.left=(f.outerWidth-v.outerWidth)*n.x+p.left,x.top=(f.outerHeight-x.outerHeight)*n.y+p.top,x.left=(f.outerWidth-x.outerWidth)*n.x+p.left),o.css(v),('content'===u||'both'===u)&&(l=l.concat(['marginTop','marginBottom']).concat(r),c=c.concat(['marginLeft','marginRight']),o.find('*[width]').each(function(){var s=e(this),n=e.effects.scaledDimensions(s),a={height:n.height*i.from.y,width:n.width*i.from.x,outerHeight:n.outerHeight*i.from.y,outerWidth:n.outerWidth*i.from.x},o={height:n.height*i.to.y,width:n.width*i.to.x,outerHeight:n.height*i.to.y,outerWidth:n.width*i.to.x};i.from.y!==i.to.y&&(a=e.effects.setTransition(s,l,i.from.y,a),o=e.effects.setTransition(s,l,i.to.y,o)),i.from.x!==i.to.x&&(a=e.effects.setTransition(s,c,i.from.x,a),o=e.effects.setTransition(s,c,i.to.x,o)),g&&e.effects.saveStyle(s),s.css(a),s.animate(o,t.duration,t.easing,function(){g&&e.effects.restoreStyle(s)})})),o.animate(x,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){var t=o.offset();0===x.opacity&&o.css('opacity',v.opacity),g||(o.css('position','static'===m?'relative':m).offset(t),e.effects.saveStyle(o)),s()}})}),e.effects.define('scale',function(t,s){var n=e(this),i=t.mode,a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:'effect'!==i?0:100),o=e.extend(!0,{from:e.effects.scaledDimensions(n),to:e.effects.scaledDimensions(n,a,t.direction||'both'),origin:t.origin||['middle','center']},t);t.fade&&(o.from.opacity=1,o.to.opacity=0),e.effects.effect.size.call(this,o,s)}),e.effects.define('puff','hide',function(t,s){var n=e.extend(!0,{},t,{fade:!0,percent:parseInt(t.percent,10)||150});e.effects.effect.scale.call(this,n,s)}),e.effects.define('pulsate','show',function(t,s){var n=e(this),i=t.mode,a='show'===i,o,r=a||'hide'===i,l=2*(t.times||5)+(r?1:0),c=t.duration/l,d=0,g=1,u=n.queue().length;for((a||!n.is(':visible'))&&(n.css('opacity',0).show(),d=1);l>g;g++)n.animate({opacity:d},c,t.easing),d=1-d;n.animate({opacity:d},c,t.easing),n.queue(s),e.effects.unshift(n,u,l+1)}),e.effects.define('shake',function(t,s){var n=1,i=e(this),a=t.direction||'left',o=t.distance||20,r=t.times||3,l=2*r+1,c=Math.round(t.duration/l),d='up'===a||'down'===a?'top':'left',g='up'===a||'left'===a,u={},h={},m={},p=i.queue().length;for(e.effects.createPlaceholder(i),u[d]=(g?'-=':'+=')+o,h[d]=(g?'+=':'-=')+2*o,m[d]=(g?'-=':'+=')+2*o,i.animate(u,c,t.easing);r>n;n++)i.animate(h,c,t.easing).animate(m,c,t.easing);i.animate(h,c,t.easing).animate(u,c/2,t.easing).queue(s),e.effects.unshift(i,p,l+1)}),e.effects.define('slide','show',function(t,s){var n,i,a=e(this),o={up:['bottom','top'],down:['top','bottom'],left:['right','left'],right:['left','right']},r=t.mode,l=t.direction||'left',c='up'===l||'down'===l?'top':'left',d='up'===l||'left'===l,g=t.distance||a['top'===c?'outerHeight':'outerWidth'](!0),u={};e.effects.createPlaceholder(a),n=a.cssClip(),i=a.position()[c],u[c]=(d?-1:1)*g+i,u.clip=a.cssClip(),u.clip[o[l][1]]=u.clip[o[l][0]],'show'===r&&(a.cssClip(u.clip),a.css(c,u[c]),u.clip=n,u[c]=i),a.animate(u,{queue:!1,duration:t.duration,easing:t.easing,complete:s})}),!1!==e.uiBackCompat&&(m=e.effects.define('transfer',function(t,s){e(this).transfer(t,s)})),e.ui.focusable=function(s,n){var i,a,o,r,l,c=s.nodeName.toLowerCase();return'area'===c?(a=(i=s.parentNode).name,!(!s.href||!a||'map'!==i.nodeName.toLowerCase())&&((o=e('img[usemap=\'#'+a+'\']')).length>0&&o.is(':visible'))):(/^(input|select|textarea|button|object)$/.test(c)?(r=!s.disabled)&&((l=e(s).closest('fieldset')[0])&&(r=!l.disabled)):r='a'===c&&s.href||n,r&&e(s).is(':visible')&&t(e(s)))},e.extend(e.expr[':'],{focusable:function(t){return e.ui.focusable(t,null!=e.attr(t,'tabindex'))}}),e.ui.focusable,e.fn.form=function(){return'string'==typeof this[0].form?this.closest('form'):e(this[0].form)},e.ui.formResetMixin={_formResetHandler:function(){var t=e(this);setTimeout(function(){var s=t.data('ui-form-reset-instances');e.each(s,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data('ui-form-reset-instances')||[];e.length||this.form.on('reset.ui-form-reset',this._formResetHandler),e.push(this),this.form.data('ui-form-reset-instances',e)}},_unbindFormResetHandler:function(){if(this.form.length){var t=this.form.data('ui-form-reset-instances');t.splice(e.inArray(this,t),1),t.length?this.form.data('ui-form-reset-instances',t):this.form.removeData('ui-form-reset-instances').off('reset.ui-form-reset')}}},'1.7'===e.fn.jquery.substring(0,3)&&(e.each(['Width','Height'],function(t,s){function n(t,s,n,a){return e.each(i,function(){s-=parseFloat(e.css(t,'padding'+this))||0,n&&(s-=parseFloat(e.css(t,'border'+this+'Width'))||0),a&&(s-=parseFloat(e.css(t,'margin'+this))||0)}),s}var i='Width'===s?['Left','Right']:['Top','Bottom'],a=s.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn['inner'+s]=function(t){return void 0===t?o['inner'+s].call(this):this.each(function(){e(this).css(a,n(this,t)+'px')})},e.fn['outer'+s]=function(t,i){return'number'!=typeof t?o['outer'+s].call(this,t):this.each(function(){e(this).css(a,n(this,t,!0,i)+'px')})}}),e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},e.ui.escapeSelector=function(){var e=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g;return function(t){return t.replace(e,'\\$1')}}(),e.fn.labels=function(){var t,s,n,i,a;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(i=this.eq(0).parents('label'),(n=this.attr('id'))&&(a=(t=this.eq(0).parents().last()).add(t.length?t.siblings():this.siblings()),s='label[for=\''+e.ui.escapeSelector(n)+'\']',i=i.add(a.find(s).addBack(s))),this.pushStack(i))},e.fn.scrollParent=function(t){var s=this.css('position'),n='absolute'===s,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,a=this.parents().filter(function(){var t=e(this);return(!n||'static'!==t.css('position'))&&i.test(t.css('overflow')+t.css('overflow-y')+t.css('overflow-x'))}).eq(0);return'fixed'!==s&&a.length?a:e(this[0].ownerDocument||document)},e.extend(e.expr[':'],{tabbable:function(t){var s=e.attr(t,'tabindex'),n=null!=s;return(!n||s>=0)&&e.ui.focusable(t,n)}}),e.fn.extend({uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id='ui-id-'+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr('id')})}}),e.widget('ui.accordion',{version:'1.12.1',options:{active:0,animate:{},classes:{'ui-accordion-header':'ui-corner-top','ui-accordion-header-collapsed':'ui-corner-all','ui-accordion-content':'ui-corner-bottom'},collapsible:!1,event:'click',header:'> li > :first-child, > :not(li):even',heightStyle:'auto',icons:{activeHeader:'ui-icon-triangle-1-s',header:'ui-icon-triangle-1-e'},activate:null,beforeActivate:null},hideProps:{borderTopWidth:'hide',borderBottomWidth:'hide',paddingTop:'hide',paddingBottom:'hide',height:'hide'},showProps:{borderTopWidth:'show',borderBottomWidth:'show',paddingTop:'show',paddingBottom:'show',height:'show'},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this._addClass('ui-accordion','ui-widget ui-helper-reset'),this.element.attr('role','tablist'),t.collapsible||!1!==t.active&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t,s,n=this.options.icons;n&&(t=e('<span>'),this._addClass(t,'ui-accordion-header-icon','ui-icon '+n.header),t.prependTo(this.headers),s=this.active.children('.ui-accordion-header-icon'),this._removeClass(s,n.header)._addClass(s,null,n.activeHeader)._addClass(this.headers,'ui-accordion-icons'))},_destroyIcons:function(){this._removeClass(this.headers,'ui-accordion-icons'),this.headers.children('.ui-accordion-header-icon').remove()},_destroy:function(){var e;this.element.removeAttr('role'),this.headers.removeAttr('role aria-expanded aria-selected aria-controls tabIndex').removeUniqueId(),this._destroyIcons(),e=this.headers.next().css('display','').removeAttr('role aria-hidden aria-labelledby').removeUniqueId(),'content'!==this.options.heightStyle&&e.css('height','')},_setOption:function(e,t){return'active'===e?void this._activate(t):('event'===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),'collapsible'!==e||t||!1!==this.options.active||this._activate(0),void('icons'===e&&(this._destroyIcons(),t&&this._createIcons())))},_setOptionDisabled:function(e){this._super(e),this.element.attr('aria-disabled',e),this._toggleClass(null,'ui-state-disabled',!!e),this._toggleClass(this.headers.add(this.headers.next()),null,'ui-state-disabled',!!e)},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var s=e.ui.keyCode,n=this.headers.length,i=this.headers.index(t.target),a=!1;switch(t.keyCode){case s.RIGHT:case s.DOWN:a=this.headers[(i+1)%n];break;case s.LEFT:case s.UP:a=this.headers[(i-1+n)%n];break;case s.SPACE:case s.ENTER:this._eventHandler(t);break;case s.HOME:a=this.headers[0];break;case s.END:a=this.headers[n-1]}a&&(e(t.target).attr('tabIndex',-1),e(a).attr('tabIndex',0),e(a).trigger('focus'),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().trigger('focus')},refresh:function(){var t=this.options;this._processPanels(),!1===t.active&&!0===t.collapsible||!this.headers.length?(t.active=!1,this.active=e()):!1===t.active?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find('.ui-state-disabled').length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,'ui-accordion-header ui-accordion-header-collapsed','ui-state-default'),this.panels=this.headers.next().filter(':not(.ui-accordion-content-active)').hide(),this._addClass(this.panels,'ui-accordion-content','ui-helper-reset ui-widget-content'),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,s=this.options,n=s.heightStyle,i=this.element.parent();this.active=this._findActive(s.active),this._addClass(this.active,'ui-accordion-header-active','ui-state-active')._removeClass(this.active,'ui-accordion-header-collapsed'),this._addClass(this.active.next(),'ui-accordion-content-active'),this.active.next().show(),this.headers.attr('role','tab').each(function(){var t=e(this),s=t.uniqueId().attr('id'),n=t.next(),i=n.uniqueId().attr('id');t.attr('aria-controls',i),n.attr('aria-labelledby',s)}).next().attr('role','tabpanel'),this.headers.not(this.active).attr({'aria-selected':'false','aria-expanded':'false',tabIndex:-1}).next().attr({'aria-hidden':'true'}).hide(),this.active.length?this.active.attr({'aria-selected':'true','aria-expanded':'true',tabIndex:0}).next().attr({'aria-hidden':'false'}):this.headers.eq(0).attr('tabIndex',0),this._createIcons(),this._setupEvents(s.event),'fill'===n?(t=i.height(),this.element.siblings(':visible').each(function(){var s=e(this),n=s.css('position');'absolute'!==n&&'fixed'!==n&&(t-=s.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css('overflow','auto')):'auto'===n&&(t=0,this.headers.next().each(function(){var s=e(this).is(':visible');s||e(this).show(),t=Math.max(t,e(this).css('height','').height()),s||e(this).hide()}).height(t))},_activate:function(t){var s=this._findActive(t)[0];s!==this.active[0]&&(s=s||this.active[0],this._eventHandler({target:s,currentTarget:s,preventDefault:e.noop}))},_findActive:function(t){return'number'==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var s={keydown:'_keydown'};t&&e.each(t.split(' '),function(e,t){s[t]='_eventHandler'}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,s),this._on(this.headers.next(),{keydown:'_panelKeyDown'}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var s,n,i=this.options,a=this.active,o=e(t.currentTarget),r=o[0]===a[0],l=r&&i.collapsible,c=l?e():o.next(),d,g={oldHeader:a,oldPanel:a.next(),newHeader:l?e():o,newPanel:c};t.preventDefault(),r&&!i.collapsible||!1===this._trigger('beforeActivate',t,g)||(i.active=!l&&this.headers.index(o),this.active=r?e():o,this._toggle(g),this._removeClass(a,'ui-accordion-header-active','ui-state-active'),i.icons&&(s=a.children('.ui-accordion-header-icon'),this._removeClass(s,null,i.icons.activeHeader)._addClass(s,null,i.icons.header)),r||(this._removeClass(o,'ui-accordion-header-collapsed')._addClass(o,'ui-accordion-header-active','ui-state-active'),i.icons&&(n=o.children('.ui-accordion-header-icon'),this._removeClass(n,null,i.icons.header)._addClass(n,null,i.icons.activeHeader)),this._addClass(o.next(),'ui-accordion-content-active')))},_toggle:function(t){var s=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=s,this.prevHide=n,this.options.animate?this._animate(s,n,t):(n.hide(),s.show(),this._toggleComplete(t)),n.attr({'aria-hidden':'true'}),n.prev().attr({'aria-selected':'false','aria-expanded':'false'}),s.length&&n.length?n.prev().attr({tabIndex:-1,'aria-expanded':'false'}):s.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr('tabIndex'),10)}).attr('tabIndex',-1),s.attr('aria-hidden','false').prev().attr({'aria-selected':'true','aria-expanded':'true',tabIndex:0})},_animate:function(e,t,s){var n,i,a,o=this,r=0,l=e.css('box-sizing'),c=e.length&&(!t.length||e.index()<t.index()),d=this.options.animate||{},g=c&&d.down||d,u=function(){o._toggleComplete(s)};return'number'==typeof g&&(a=g),'string'==typeof g&&(i=g),i=i||g.easing||d.easing,a=a||g.duration||d.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(this.hideProps,{duration:a,easing:i,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:a,easing:i,complete:u,step:function(e,s){s.now=Math.round(e),'height'!==s.prop?'content-box'===l&&(r+=s.now):'content'!==o.options.heightStyle&&(s.now=Math.round(n-t.outerHeight()-r),r=0)}})):t.animate(this.hideProps,a,i,u):e.animate(this.showProps,a,i,u)},_toggleComplete:function(e){var t=e.oldPanel,s=t.prev();this._removeClass(t,'ui-accordion-content-active'),this._removeClass(s,'ui-accordion-header-active')._addClass(s,'ui-accordion-header-collapsed'),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger('activate',null,e)}}),e.ui.safeActiveElement=function(e){var t;try{t=e.activeElement}catch(s){t=e.body}return t||(t=e.body),t.nodeName||(t=e.body),t},e.widget('ui.menu',{version:'1.12.1',defaultElement:'<ul>',delay:300,options:{icons:{submenu:'ui-icon-caret-1-e'},items:'> *',menus:'ul',position:{my:'left top',at:'right top'},role:'menu',blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass('ui-menu','ui-widget ui-widget-content'),this._on({'mousedown .ui-menu-item':function(e){e.preventDefault()},'click .ui-menu-item':function(t){var s=e(t.target),n=e(e.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&s.not('.ui-state-disabled').length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),s.has('.ui-menu').length?this.expand(t):!this.element.is(':focus')&&n.closest('.ui-menu').length&&(this.element.trigger('focus',[!0]),this.active&&1===this.active.parents('.ui-menu').length&&clearTimeout(this.timer)))},'mouseenter .ui-menu-item':function(t){if(!this.previousFilter){var s=e(t.target).closest('.ui-menu-item'),n=e(t.currentTarget);s[0]===n[0]&&(this._removeClass(n.siblings().children('.ui-state-active'),null,'ui-state-active'),this.focus(t,n))}},mouseleave:'collapseAll','mouseleave .ui-menu':'collapseAll',focus:function(e,t){var s=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,s)},blur:function(t){this._delay(function(){var s;!e.contains(this.element[0],e.ui.safeActiveElement(this.document[0]))&&this.collapseAll(t)})},keydown:'_keydown'}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var t,s=this.element.find('.ui-menu-item').removeAttr('role aria-disabled').children('.ui-menu-item-wrapper').removeUniqueId().removeAttr('tabIndex role aria-haspopup');this.element.removeAttr('aria-activedescendant').find('.ui-menu').addBack().removeAttr('role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex').removeUniqueId().show(),s.children().each(function(){var t=e(this);t.data('ui-menu-submenu-caret')&&t.remove()})},_keydown:function(t){var s,n,i,a,o=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move('first','first',t);break;case e.ui.keyCode.END:this._move('last','last',t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is('.ui-state-disabled')&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:o=!1,n=this.previousFilter||'',a=!1,i=t.keyCode>=96&&105>=t.keyCode?''+(t.keyCode-96):String.fromCharCode(t.keyCode),clearTimeout(this.filterTimer),i===n?a=!0:i=n+i,s=this._filterMenuItems(i),(s=a&&-1!==s.index(this.active.next())?this.active.nextAll('.ui-menu-item'):s).length||(i=String.fromCharCode(t.keyCode),s=this._filterMenuItems(i)),s.length?(this.focus(t,s),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&t.preventDefault()},_activate:function(e){this.active&&!this.active.is('.ui-state-disabled')&&(this.active.children('[aria-haspopup=\'true\']').length?this.expand(e):this.select(e))},refresh:function(){var t,s,n,i,a,o=this,r=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass('ui-menu-icons',null,!!this.element.find('.ui-icon').length),n=l.filter(':not(.ui-menu)').hide().attr({role:this.options.role,'aria-hidden':'true','aria-expanded':'false'}).each(function(){var t=e(this),s=t.prev(),n=e('<span>').data('ui-menu-submenu-caret',!0);o._addClass(n,'ui-menu-icon','ui-icon '+r),s.attr('aria-haspopup','true').prepend(n),t.attr('aria-labelledby',s.attr('id'))}),this._addClass(n,'ui-menu','ui-widget ui-widget-content ui-front'),(s=(t=l.add(this.element)).find(this.options.items)).not('.ui-menu-item').each(function(){var t=e(this);o._isDivider(t)&&o._addClass(t,'ui-menu-divider','ui-widget-content')}),a=(i=s.not('.ui-menu-item, .ui-menu-divider')).children().not('.ui-menu').uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(i,'ui-menu-item')._addClass(a,'ui-menu-item-wrapper'),s.filter('.ui-state-disabled').attr('aria-disabled','true'),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:'menuitem',listbox:'option'}[this.options.role]},_setOption:function(e,t){if('icons'===e){var s=this.element.find('.ui-menu-icon');this._removeClass(s,null,this.options.icons.submenu)._addClass(s,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr('aria-disabled',e+''),this._toggleClass(null,'ui-state-disabled',!!e)},focus:function(e,t){var s,n,i;this.blur(e,e&&'focus'===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children('.ui-menu-item-wrapper'),this._addClass(n,null,'ui-state-active'),this.options.role&&this.element.attr('aria-activedescendant',n.attr('id')),i=this.active.parent().closest('.ui-menu-item').children('.ui-menu-item-wrapper'),this._addClass(i,null,'ui-state-active'),e&&'keydown'===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(s=t.children('.ui-menu')).length&&e&&/^mouse/.test(e.type)&&this._startOpening(s),this.activeMenu=t.parent(),this._trigger('focus',e,{item:t})},_scrollIntoView:function(t){var s,n,i,a,o,r;this._hasScroll()&&(s=parseFloat(e.css(this.activeMenu[0],'borderTopWidth'))||0,n=parseFloat(e.css(this.activeMenu[0],'paddingTop'))||0,i=t.offset().top-this.activeMenu.offset().top-s-n,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=t.outerHeight(),0>i?this.activeMenu.scrollTop(a+i):i+r>o&&this.activeMenu.scrollTop(a+i-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children('.ui-menu-item-wrapper'),null,'ui-state-active'),this._trigger('blur',e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),'true'===e.attr('aria-hidden')&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var s=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find('.ui-menu').not(t.parents('.ui-menu')).hide().attr('aria-hidden','true'),t.show().removeAttr('aria-hidden').attr('aria-expanded','true').position(s)},collapseAll:function(t,s){clearTimeout(this.timer),this.timer=this._delay(function(){var n=s?this.element:e(t&&t.target).closest(this.element.find('.ui-menu'));n.length||(n=this.element),this._close(n),this.blur(t),this._removeClass(n.find('.ui-state-active'),null,'ui-state-active'),this.activeMenu=n},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find('.ui-menu').hide().attr('aria-hidden','true').attr('aria-expanded','false')},_closeOnDocumentClick:function(t){return!e(t.target).closest('.ui-menu').length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest('.ui-menu-item',this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children('.ui-menu ').find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move('next','first',e)},previous:function(e){this._move('prev','last',e)},isFirstItem:function(){return this.active&&!this.active.prevAll('.ui-menu-item').length},isLastItem:function(){return this.active&&!this.active.nextAll('.ui-menu-item').length},_move:function(e,t,s){var n;this.active&&(n='first'===e||'last'===e?this.active['first'===e?'prevAll':'nextAll']('.ui-menu-item').eq(-1):this.active[e+'All']('.ui-menu-item').eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[t]()),this.focus(s,n)},nextPage:function(t){var s,n,i;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll('.ui-menu-item').each(function(){return 0>(s=e(this)).offset().top-n-i}),this.focus(t,s)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?'last':'first']()))):void this.next(t)},previousPage:function(t){var s,n,i;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll('.ui-menu-item').each(function(){return(s=e(this)).offset().top-n+i>0}),this.focus(t,s)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop('scrollHeight')},select:function(t){this.active=this.active||e(t.target).closest('.ui-menu-item');var s={item:this.active};this.active.has('.ui-menu').length||this.collapseAll(t,!0),this._trigger('select',t,s)},_filterMenuItems:function(t){var s=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,'\\$&'),n=RegExp('^'+s,'i');return this.activeMenu.find(this.options.items).filter('.ui-menu-item').filter(function(){return n.test(e.trim(e(this).children('.ui-menu-item-wrapper').text()))})}}),e.widget('ui.autocomplete',{version:'1.12.1',defaultElement:'<input>',options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:'left top',at:'left bottom',collision:'none'},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,s,n,i=this.element[0].nodeName.toLowerCase(),a='textarea'===i,o='input'===i;this.isMultiLine=a||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[a||o?'val':'text'],this.isNewMenu=!0,this._addClass('ui-autocomplete-input'),this.element.attr('autocomplete','off'),this._on(this.element,{keydown:function(i){if(this.element.prop('readOnly'))return t=!0,n=!0,void(s=!0);t=!1,n=!1,s=!1;var a=e.ui.keyCode;switch(i.keyCode){case a.PAGE_UP:t=!0,this._move('previousPage',i);break;case a.PAGE_DOWN:t=!0,this._move('nextPage',i);break;case a.UP:t=!0,this._keyEvent('previous',i);break;case a.DOWN:t=!0,this._keyEvent('next',i);break;case a.ENTER:this.menu.active&&(t=!0,i.preventDefault(),this.menu.select(i));break;case a.TAB:this.menu.active&&this.menu.select(i);break;case a.ESCAPE:this.menu.element.is(':visible')&&(this.isMultiLine||this._value(this.term),this.close(i),i.preventDefault());break;default:s=!0,this._searchTimeout(i)}},keypress:function(n){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(':visible'))&&n.preventDefault());if(!s){var i=e.ui.keyCode;switch(n.keyCode){case i.PAGE_UP:this._move('previousPage',n);break;case i.PAGE_DOWN:this._move('nextPage',n);break;case i.UP:this._keyEvent('previous',n);break;case i.DOWN:this._keyEvent('next',n)}}},input:function(e){return n?(n=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e('<ul>').appendTo(this._appendTo()).menu({role:null}).hide().menu('instance'),this._addClass(this.menu.element,'ui-autocomplete','ui-front'),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==e.ui.safeActiveElement(this.document[0])&&this.element.trigger('focus')})},menufocus:function(t,s){var n,i;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one('mousemove',function(){e(t.target).trigger(t.originalEvent)})):(i=s.item.data('ui-autocomplete-item'),!1!==this._trigger('focus',t,{item:i})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(i.value),void((n=s.item.attr('aria-label')||i.value)&&e.trim(n).length&&(this.liveRegion.children().hide(),e('<div>').text(n).appendTo(this.liveRegion))))},menuselect:function(t,s){var n=s.item.data('ui-autocomplete-item'),i=this.previous;this.element[0]!==e.ui.safeActiveElement(this.document[0])&&(this.element.trigger('focus'),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger('select',t,{item:n})&&this._value(n.value),this.term=this._value(),this.close(t),this.selectedItem=n}}),this.liveRegion=e('<div>',{role:'status','aria-live':'assertive','aria-relevant':'additions'}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,'ui-helper-hidden-accessible'),this._on(this.window,{beforeunload:function(){this.element.removeAttr('autocomplete')}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr('autocomplete'),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),'source'===e&&this._initSource(),'appendTo'===e&&this.menu.element.appendTo(this._appendTo()),'disabled'===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(t){var s=this.menu.element[0];return t.target===this.element[0]||t.target===s||e.contains(s,t.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest('.ui-front, dialog')),t.length||(t=this.document[0].body),t},_initSource:function(){var t,s,n=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(s,n){n(e.ui.autocomplete.filter(t,s.term))}):'string'==typeof this.options.source?(s=this.options.source,this.source=function(t,i){n.xhr&&n.xhr.abort(),n.xhr=e.ajax({url:s,data:t,dataType:'json',success:function(e){i(e)},error:function(){i([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),s=this.menu.element.is(':visible'),n=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!s&&!n)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger('search',t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass('ui-autocomplete-loading'),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass('ui-autocomplete-loading')},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger('response',null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger('open')):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,'mousedown'),this.menu.element.is(':visible')&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger('close',e))},_change:function(e){this.previous!==this._value()&&this._trigger('change',e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return'string'==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var s=this.menu.element.empty();this._renderMenu(s,t),this.isNewMenu=!0,this.menu.refresh(),s.show(),this._resizeMenu(),s.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:'_closeOnClickOutside'})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width('').outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,s){var n=this;e.each(s,function(e,s){n._renderItemData(t,s)})},_renderItemData:function(e,t){return this._renderItem(e,t).data('ui-autocomplete-item',t)},_renderItem:function(t,s){return e('<li>').append(e('<div>').text(s.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(':visible')?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(':visible'))&&(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop('contentEditable');return'inherit'===t?this._isContentEditable(e.parent()):'true'===t}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,'\\$&')},filter:function(t,s){var n=RegExp(e.ui.autocomplete.escapeRegex(s),'i');return e.grep(t,function(e){return n.test(e.label||e.value||e)})}}),e.widget('ui.autocomplete',e.ui.autocomplete,{options:{messages:{noResults:'No search results.',results:function(e){return e+(e>1?' results are':' result is')+' available, use up and down arrow keys to navigate.'}}},__response:function(t){var s;this._superApply(arguments),this.options.disabled||this.cancelSearch||(s=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e('<div>').text(s).appendTo(this.liveRegion))}}),e.ui.autocomplete;var p=/ui-corner-([a-z]){2,6}/g,f;e.widget('ui.controlgroup',{version:'1.12.1',defaultElement:'<div>',options:{direction:'horizontal',disabled:null,onlyVisible:!0,items:{button:'input[type=button], input[type=submit], input[type=reset], button, a',controlgroupLabel:'.ui-controlgroup-label',checkboxradio:'input[type=\'checkbox\'], input[type=\'radio\']',selectmenu:'select',spinner:'.ui-spinner-input'}},_create:function(){this._enhance()},_enhance:function(){this.element.attr('role','toolbar'),this.refresh()},_destroy:function(){this._callChildMethod('destroy'),this.childWidgets.removeData('ui-controlgroup-data'),this.element.removeAttr('role'),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find('.ui-controlgroup-label-contents').contents().unwrap()},_initWidgets:function(){var t=this,s=[];e.each(this.options.items,function(n,i){var a,o={};return i?'controlgroupLabel'===n?((a=t.element.find(i)).each(function(){var t=e(this);t.children('.ui-controlgroup-label-contents').length||t.contents().wrapAll('<span class=\'ui-controlgroup-label-contents\'></span>')}),t._addClass(a,null,'ui-widget ui-widget-content ui-state-default'),void(s=s.concat(a.get()))):void(e.fn[n]&&(o=t['_'+n+'Options']?t['_'+n+'Options']('middle'):{classes:{}},t.element.find(i).each(function(){var i=e(this),a=i[n]('instance'),r=e.widget.extend({},o);if('button'!==n||!i.parent('.ui-spinner').length){a||(a=i[n]()[n]('instance')),a&&(r.classes=t._resolveClassesValues(r.classes,a)),i[n](r);var l=i[n]('widget');e.data(l[0],'ui-controlgroup-data',a||i[n]('instance')),s.push(l[0])}}))):void 0}),this.childWidgets=e(e.unique(s)),this._addClass(this.childWidgets,'ui-controlgroup-item')},_callChildMethod:function(t){this.childWidgets.each(function(){var s,n=e(this).data('ui-controlgroup-data');n&&n[t]&&n[t]()})},_updateCornerClass:function(e,t){var s='ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all',n=this._buildSimpleOptions(t,'label').classes.label;this._removeClass(e,null,s),this._addClass(e,null,n)},_buildSimpleOptions:function(e,t){var s='vertical'===this.options.direction,n={classes:{}};return n.classes[t]={middle:'',first:'ui-corner-'+(s?'top':'left'),last:'ui-corner-'+(s?'bottom':'right'),only:'ui-corner-all'}[e],n},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,'ui-spinner');return t.classes['ui-spinner-up']='',t.classes['ui-spinner-down']='',t},_buttonOptions:function(e){return this._buildSimpleOptions(e,'ui-button')},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,'ui-checkboxradio-label')},_selectmenuOptions:function(e){var t='vertical'===this.options.direction;return{width:!!t&&'auto',classes:{middle:{'ui-selectmenu-button-open':'','ui-selectmenu-button-closed':''},first:{'ui-selectmenu-button-open':'ui-corner-'+(t?'top':'tl'),'ui-selectmenu-button-closed':'ui-corner-'+(t?'top':'left')},last:{'ui-selectmenu-button-open':t?'':'ui-corner-tr','ui-selectmenu-button-closed':'ui-corner-'+(t?'bottom':'right')},only:{'ui-selectmenu-button-open':'ui-corner-top','ui-selectmenu-button-closed':'ui-corner-all'}}[e]}},_resolveClassesValues:function(t,s){var n={};return e.each(t,function(i){var a=s.options.classes[i]||'';a=e.trim(a.replace(p,'')),n[i]=(a+' '+t[i]).replace(/\s+/g,' ')}),n},_setOption:function(e,t){return'direction'===e&&this._removeClass('ui-controlgroup-'+this.options.direction),this._super(e,t),'disabled'===e?void this._callChildMethod(t?'disable':'enable'):void this.refresh()},refresh:function(){var t,s=this;this._addClass('ui-controlgroup ui-controlgroup-'+this.options.direction),'horizontal'===this.options.direction&&this._addClass(null,'ui-helper-clearfix'),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(':visible')),t.length&&(e.each(['first','last'],function(e,n){var i=t[n]().data('ui-controlgroup-data');if(i&&s['_'+i.widgetName+'Options']){var a=s['_'+i.widgetName+'Options'](1===t.length?'only':n);a.classes=s._resolveClassesValues(a.classes,i),i.element[i.widgetName](a)}else s._updateCornerClass(t[n](),n)}),this._callChildMethod('refresh'))}}),e.widget('ui.checkboxradio',[e.ui.formResetMixin,{version:'1.12.1',options:{disabled:null,label:null,icon:!0,classes:{'ui-checkboxradio-label':'ui-corner-all','ui-checkboxradio-icon':'ui-corner-all'}},_getCreateOptions:function(){var t,s,n=this,i=this._super()||{};return this._readType(),s=this.element.labels(),this.label=e(s[s.length-1]),this.label.length||e.error('No label found for checkboxradio widget'),this.originalLabel='',this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?e(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(i.disabled=t),i},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption('disabled',this.options.disabled),this._addClass('ui-checkboxradio','ui-helper-hidden-accessible'),this._addClass(this.label,'ui-checkboxradio-label','ui-button ui-widget'),'radio'===this.type&&this._addClass(this.label,'ui-checkboxradio-radio-label'),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,'ui-checkboxradio-checked','ui-state-active'),this.icon&&this._addClass(this.icon,null,'ui-state-hover')),this._on({change:'_toggleClasses',focus:function(){this._addClass(this.label,null,'ui-state-focus ui-visual-focus')},blur:function(){this._removeClass(this.label,null,'ui-state-focus ui-visual-focus')}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,'input'===t&&/radio|checkbox/.test(this.type)||e.error('Can\'t create checkboxradio on element.nodeName='+t+' and element.type='+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t,s=this.element[0].name,n='input[name=\''+e.ui.escapeSelector(s)+'\']';return s?(t=this.form.length?e(this.form[0].elements).filter(n):e(n).filter(function(){return 0===e(this).form().length})).not(this.element):e([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,'ui-checkboxradio-checked','ui-state-active',t),this.options.icon&&'checkbox'===this.type&&this._toggleClass(this.icon,null,'ui-icon-check ui-state-checked',t)._toggleClass(this.icon,null,'ui-icon-blank',!t),'radio'===this.type&&this._getRadioGroup().each(function(){var t=e(this).checkboxradio('instance');t&&t._removeClass(t.label,'ui-checkboxradio-checked','ui-state-active')})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){return'label'!==e||t?(this._super(e,t),'disabled'===e?(this._toggleClass(this.label,null,'ui-state-disabled',t),void(this.element[0].disabled=t)):void this.refresh()):void 0},_updateIcon:function(t){var s='ui-icon ui-icon-background ';this.options.icon?(this.icon||(this.icon=e('<span>'),this.iconSpace=e('<span> </span>'),this._addClass(this.iconSpace,'ui-checkboxradio-icon-space')),'checkbox'===this.type?(s+=t?'ui-icon-check ui-state-checked':'ui-icon-blank',this._removeClass(this.icon,null,t?'ui-icon-blank':'ui-icon-check')):s+='ui-icon-blank',this._addClass(this.icon,'ui-checkboxradio-icon',s),t||this._removeClass(this.icon,null,'ui-icon-check ui-state-checked'),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,'ui-checkboxradio-checked','ui-state-active',e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]),e.ui.checkboxradio,e.widget('ui.button',{version:'1.12.1',defaultElement:'<button>',options:{classes:{'ui-button':'ui-corner-all'},disabled:null,icon:null,iconPosition:'beginning',label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is('input'),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr('title'),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass('ui-button','ui-widget'),this._setOption('disabled',this.options.disabled),this._enhance(),this.element.is('a')&&this._on({keyup:function(t){t.keyCode===e.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger('click'))}})},_enhance:function(){this.element.is('button')||this.element.attr('role','button'),this.options.icon&&(this._updateIcon('icon',this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr('title'),this.options.showLabel||this.title||this.element.attr('title',this.options.label)},_updateIcon:function(t,s){var n='iconPosition'!==t,i=n?this.options.iconPosition:s,a='top'===i||'bottom'===i;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=e('<span>'),this._addClass(this.icon,'ui-button-icon','ui-icon'),this.options.showLabel||this._addClass('ui-button-icon-only')),n&&this._addClass(this.icon,null,s),this._attachIcon(i),a?(this._addClass(this.icon,null,'ui-widget-icon-block'),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=e('<span> </span>'),this._addClass(this.iconSpace,'ui-button-icon-space')),this._removeClass(this.icon,null,'ui-wiget-icon-block'),this._attachIconSpace(i))},_destroy:function(){this.element.removeAttr('role'),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr('title')},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?'before':'after'](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?'append':'prepend'](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,s=void 0===e.icon?this.options.icon:e.icon;t||s||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){'icon'===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),'iconPosition'===e&&this._updateIcon(e,t),'showLabel'===e&&(this._toggleClass('ui-button-icon-only',null,!t),this._updateTooltip()),'label'===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),'disabled'===e&&(this._toggleClass(null,'ui-state-disabled',t),this.element[0].disabled=t,t&&this.element.blur())},refresh:function(){var e=this.element.is('input, button')?this.element[0].disabled:this.element.hasClass('ui-button-disabled');e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==e.uiBackCompat&&(e.widget('ui.button',e.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition='end'),this._super()},_setOption:function(e,t){return'text'===e?void this._super('showLabel',t):('showLabel'===e&&(this.options.text=t),'icon'===e&&(this.options.icons.primary=t),'icons'===e&&(t.primary?(this._super('icon',t.primary),this._super('iconPosition','beginning')):t.secondary&&(this._super('icon',t.secondary),this._super('iconPosition','end'))),void this._superApply(arguments))}}),e.fn.button=function(t){return function(){return!this.length||this.length&&'INPUT'!==this[0].tagName||this.length&&'INPUT'===this[0].tagName&&'checkbox'!==this.attr('type')&&'radio'!==this.attr('type')?t.apply(this,arguments):(e.ui.checkboxradio||e.error('Checkboxradio widget missing'),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(e.fn.button),e.fn.buttonset=function(){return e.ui.controlgroup||e.error('Controlgroup widget missing'),'option'===arguments[0]&&'items'===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],'items.button',arguments[2]]):'option'===arguments[0]&&'items'===arguments[1]?this.controlgroup.apply(this,[arguments[0],'items.button']):('object'==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),e.ui.button,e.extend(e.ui,{datepicker:{version:'1.12.1'}}),e.extend(n.prototype,{markerClassName:'hasDatepicker',maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return o(this._defaults,e||{}),this},_attachDatepicker:function(t,s){var n,i,a;i='div'===(n=t.nodeName.toLowerCase())||'span'===n,t.id||(this.uuid+=1,t.id='dp'+this.uuid),(a=this._newInst(e(t),i)).settings=e.extend({},s||{}),'input'===n?this._connectDatepicker(t,a):i&&this._inlineDatepicker(t,a)},_newInst:function(t,s){var n;return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,'\\\\$1'),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:s,dpDiv:s?i(e('<div class=\''+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all\'></div>')):this.dpDiv}},_connectDatepicker:function(t,s){var n=e(t);s.append=e([]),s.trigger=e([]),n.hasClass(this.markerClassName)||(this._attachments(n,s),n.addClass(this.markerClassName).on('keydown',this._doKeyDown).on('keypress',this._doKeyPress).on('keyup',this._doKeyUp),this._autoSize(s),e.data(t,'datepicker',s),s.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,s){var n,i,a,o=this._get(s,'appendText'),r=this._get(s,'isRTL');s.append&&s.append.remove(),o&&(s.append=e('<span class=\''+this._appendClass+'\'>'+o+'</span>'),t[r?'before':'after'](s.append)),t.off('focus',this._showDatepicker),s.trigger&&s.trigger.remove(),('focus'===(n=this._get(s,'showOn'))||'both'===n)&&t.on('focus',this._showDatepicker),('button'===n||'both'===n)&&(i=this._get(s,'buttonText'),a=this._get(s,'buttonImage'),s.trigger=e(this._get(s,'buttonImageOnly')?e('<img/>').addClass(this._triggerClass).attr({src:a,alt:i,title:i}):e('<button type=\'button\'></button>').addClass(this._triggerClass).html(a?e('<img/>').attr({src:a,alt:i,title:i}):i)),t[r?'before':'after'](s.trigger),s.trigger.on('click',function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,'autoSize')&&!e.inline){var t,s,n,i,a=new Date(2009,11,20),o=this._get(e,'dateFormat');o.match(/[DM]/)&&(t=function(e){for(s=0,n=0,i=0;e.length>i;i++)e[i].length>s&&(s=e[i].length,n=i);return n},a.setMonth(t(this._get(e,o.match(/MM/)?'monthNames':'monthNamesShort'))),a.setDate(t(this._get(e,o.match(/DD/)?'dayNames':'dayNamesShort'))+20-a.getDay())),e.input.attr('size',this._formatDate(e,a).length)}},_inlineDatepicker:function(t,s){var n=e(t);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(s.dpDiv),e.data(t,'datepicker',s),this._setDate(s,this._getDefaultDate(s),!0),this._updateDatepicker(s),this._updateAlternate(s),s.settings.disabled&&this._disableDatepicker(t),s.dpDiv.css('display','block'))},_dialogDatepicker:function(t,s,n,i,a){var r,l,c,d,g,u=this._dialogInst;return u||(this.uuid+=1,r='dp'+this.uuid,this._dialogInput=e('<input type=\'text\' id=\''+r+'\' style=\'position: absolute; top: -100px; width: 0px;\'/>'),this._dialogInput.on('keydown',this._doKeyDown),e('body').append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},e.data(this._dialogInput[0],'datepicker',u)),o(u.settings,i||{}),s=s&&s.constructor===Date?this._formatDate(u,s):s,this._dialogInput.val(s),this._pos=a?a.length?a:[a.pageX,a.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,g=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+d,c/2-150+g]),this._dialogInput.css('left',this._pos[0]+20+'px').css('top',this._pos[1]+'px'),u.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],'datepicker',u),this},_destroyDatepicker:function(t){var s,n=e(t),i=e.data(t,'datepicker');n.hasClass(this.markerClassName)&&(s=t.nodeName.toLowerCase(),e.removeData(t,'datepicker'),'input'===s?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).off('focus',this._showDatepicker).off('keydown',this._doKeyDown).off('keypress',this._doKeyPress).off('keyup',this._doKeyUp)):('div'===s||'span'===s)&&n.removeClass(this.markerClassName).empty(),f===i&&(f=null))},_enableDatepicker:function(t){var s,n,i=e(t),a=e.data(t,'datepicker');i.hasClass(this.markerClassName)&&('input'===(s=t.nodeName.toLowerCase())?(t.disabled=!1,a.trigger.filter('button').each(function(){this.disabled=!1}).end().filter('img').css({opacity:'1.0',cursor:''})):('div'===s||'span'===s)&&((n=i.children('.'+this._inlineClass)).children().removeClass('ui-state-disabled'),n.find('select.ui-datepicker-month, select.ui-datepicker-year').prop('disabled',!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var s,n,i=e(t),a=e.data(t,'datepicker');i.hasClass(this.markerClassName)&&('input'===(s=t.nodeName.toLowerCase())?(t.disabled=!0,a.trigger.filter('button').each(function(){this.disabled=!0}).end().filter('img').css({opacity:'0.5',cursor:'default'})):('div'===s||'span'===s)&&((n=i.children('.'+this._inlineClass)).children().addClass('ui-state-disabled'),n.find('select.ui-datepicker-month, select.ui-datepicker-year').prop('disabled',!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,'datepicker')}catch(e){throw'Missing instance data for this datepicker'}},_optionDatepicker:function(t,s,n){var i,a,r,l,c=this._getInst(t);return 2===arguments.length&&'string'==typeof s?'defaults'===s?e.extend({},e.datepicker._defaults):c?'all'===s?e.extend({},c.settings):this._get(c,s):null:(i=s||{},'string'==typeof s&&((i={})[s]=n),void(c&&(this._curInst===c&&this._hideDatepicker(),a=this._getDateDatepicker(t,!0),r=this._getMinMaxDate(c,'min'),l=this._getMinMaxDate(c,'max'),o(c.settings,i),null!==r&&void 0!==i.dateFormat&&void 0===i.minDate&&(c.settings.minDate=this._formatDate(c,r)),null!==l&&void 0!==i.dateFormat&&void 0===i.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),'disabled'in i&&(i.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,a),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(e,t,s){this._optionDatepicker(e,t,s)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var s=this._getInst(e);s&&(this._setDate(s,t),this._updateDatepicker(s),this._updateAlternate(s))},_getDateDatepicker:function(e,t){var s=this._getInst(e);return s&&!s.inline&&this._setDateFromField(s,t),s?this._getDate(s):null},_doKeyDown:function(t){var s,n,i,a=e.datepicker._getInst(t.target),o=!0,r=a.dpDiv.is('.ui-datepicker-rtl');if(a._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),o=!1;break;case 13:return(i=e('td.'+e.datepicker._dayOverClass+':not(.'+e.datepicker._currentClass+')',a.dpDiv))[0]&&e.datepicker._selectDay(t.target,a.selectedMonth,a.selectedYear,i[0]),(s=e.datepicker._get(a,'onSelect'))?(n=e.datepicker._formatDate(a),s.apply(a.input?a.input[0]:null,[n,a])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,'stepBigMonths'):-e.datepicker._get(a,'stepMonths'),'M');break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,'stepBigMonths'):+e.datepicker._get(a,'stepMonths'),'M');break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),o=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),o=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?1:-1,'D'),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(a,'stepBigMonths'):-e.datepicker._get(a,'stepMonths'),'M');break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,'D'),o=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,r?-1:1,'D'),o=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(a,'stepBigMonths'):+e.datepicker._get(a,'stepMonths'),'M');break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,'D'),o=t.ctrlKey||t.metaKey;break;default:o=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):o=!1;o&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var s,n,i=e.datepicker._getInst(t.target);return e.datepicker._get(i,'constrainInput')?(s=e.datepicker._possibleChars(e.datepicker._get(i,'dateFormat')),n=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||' '>n||!s||s.indexOf(n)>-1):void 0},_doKeyUp:function(t){var s,n=e.datepicker._getInst(t.target);if(n.input.val()!==n.lastVal)try{(s=e.datepicker.parseDate(e.datepicker._get(n,'dateFormat'),n.input?n.input.val():null,e.datepicker._getFormatConfig(n)))&&(e.datepicker._setDateFromField(n),e.datepicker._updateAlternate(n),e.datepicker._updateDatepicker(n))}catch(e){}return!0},_showDatepicker:function(t){var n,i,a,r,l,c,d;('input'!==(t=t.target||t).nodeName.toLowerCase()&&(t=e('input',t.parentNode)[0]),e.datepicker._isDisabledDatepicker(t)||e.datepicker._lastInput===t)||(n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),!1!==(a=(i=e.datepicker._get(n,'beforeShow'))?i.apply(t,[t,n]):{})&&(o(n.settings,a),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=''),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return!(r|='fixed'===e(this).css('position'))}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:'absolute',display:'block',top:'-1000px'}),e.datepicker._updateDatepicker(n),l=e.datepicker._checkOffset(n,l,r),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?'static':r?'fixed':'absolute',display:'none',left:l.left+'px',top:l.top+'px'}),n.inline||(c=e.datepicker._get(n,'showAnim'),d=e.datepicker._get(n,'duration'),n.dpDiv.css('z-index',s(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?n.dpDiv.show(c,e.datepicker._get(n,'showOptions'),d):n.dpDiv[c||'show'](c?d:null),e.datepicker._shouldFocusInput(n)&&n.input.trigger('focus'),e.datepicker._curInst=n)))},_updateDatepicker:function(t){this.maxRows=4,f=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var s,n=this._getNumberOfMonths(t),i=n[1],o=17,r=t.dpDiv.find('.'+this._dayOverClass+' a');r.length>0&&a.apply(r.get(0)),t.dpDiv.removeClass('ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4').width(''),i>1&&t.dpDiv.addClass('ui-datepicker-multi-'+i).css('width',o*i+'em'),t.dpDiv[(1!==n[0]||1!==n[1]?'add':'remove')+'Class']('ui-datepicker-multi'),t.dpDiv[(this._get(t,'isRTL')?'add':'remove')+'Class']('ui-datepicker-rtl'),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.trigger('focus'),t.yearshtml&&(s=t.yearshtml,setTimeout(function(){s===t.yearshtml&&t.yearshtml&&t.dpDiv.find('select.ui-datepicker-year:first').replaceWith(t.yearshtml),s=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(':visible')&&!e.input.is(':disabled')&&!e.input.is(':focus')},_checkOffset:function(t,s,n){var i=t.dpDiv.outerWidth(),a=t.dpDiv.outerHeight(),o=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:e(document).scrollTop());return s.left-=this._get(t,'isRTL')?i-o:0,s.left-=n&&s.left===t.input.offset().left?e(document).scrollLeft():0,s.top-=n&&s.top===t.input.offset().top+r?e(document).scrollTop():0,s.left-=Math.min(s.left,s.left+i>l&&l>i?Math.abs(s.left+i-l):0),s.top-=Math.min(s.top,s.top+a>c&&c>a?Math.abs(a+r):0),s},_findPos:function(t){for(var s,n=this._getInst(t),i=this._get(n,'isRTL');t&&('hidden'===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[i?'previousSibling':'nextSibling'];return[(s=e(t).offset()).left,s.top]},_hideDatepicker:function(t){var s,n,i,a,o=this._curInst;!o||t&&o!==e.data(t,'datepicker')||this._datepickerShowing&&(s=this._get(o,'showAnim'),n=this._get(o,'duration'),i=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[s]||e.effects[s])?o.dpDiv.hide(s,e.datepicker._get(o,'showOptions'),n,i):o.dpDiv['slideDown'===s?'slideUp':'fadeIn'===s?'fadeOut':'hide'](s?n:null,i),s||i(),this._datepickerShowing=!1,(a=this._get(o,'onClose'))&&a.apply(o.input?o.input[0]:null,[o.input?o.input.val():'',o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:'absolute',left:'0',top:'-100px'}),e.blockUI&&(e.unblockUI(),e('body').append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off('.ui-datepicker-calendar')},_checkExternalClick:function(t){if(e.datepicker._curInst){var s=e(t.target),n=e.datepicker._getInst(s[0]);(s[0].id!==e.datepicker._mainDivId&&0===s.parents('#'+e.datepicker._mainDivId).length&&!s.hasClass(e.datepicker.markerClassName)&&!s.closest('.'+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||s.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==n)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,s,n){var i=e(t),a=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(a,s+('M'===n?this._get(a,'showCurrentAtPos'):0),n),this._updateDatepicker(a))},_gotoToday:function(t){var s,n=e(t),i=this._getInst(n[0]);this._get(i,'gotoCurrent')&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(s=new Date,i.selectedDay=s.getDate(),i.drawMonth=i.selectedMonth=s.getMonth(),i.drawYear=i.selectedYear=s.getFullYear()),this._notifyChange(i),this._adjustDate(n)},_selectMonthYear:function(t,s,n){var i=e(t),a=this._getInst(i[0]);a['selected'+('M'===n?'Month':'Year')]=a['draw'+('M'===n?'Month':'Year')]=parseInt(s.options[s.selectedIndex].value,10),this._notifyChange(a),this._adjustDate(i)},_selectDay:function(t,s,n,i){var a,o=e(t);e(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((a=this._getInst(o[0])).selectedDay=a.currentDay=e('a',i).html(),a.selectedMonth=a.currentMonth=s,a.selectedYear=a.currentYear=n,this._selectDate(t,this._formatDate(a,a.currentDay,a.currentMonth,a.currentYear)))},_clearDate:function(t){var s=e(t);this._selectDate(s,'')},_selectDate:function(t,s){var n,i=e(t),a=this._getInst(i[0]);s=null!=s?s:this._formatDate(a),a.input&&a.input.val(s),this._updateAlternate(a),(n=this._get(a,'onSelect'))?n.apply(a.input?a.input[0]:null,[s,a]):a.input&&a.input.trigger('change'),a.inline?this._updateDatepicker(a):(this._hideDatepicker(),this._lastInput=a.input[0],'object'!=typeof a.input[0]&&a.input.trigger('focus'),this._lastInput=null)},_updateAlternate:function(t){var s,n,i,a=this._get(t,'altField');a&&(s=this._get(t,'altFormat')||this._get(t,'dateFormat'),n=this._getDate(t),i=this.formatDate(s,n,this._getFormatConfig(t)),e(a).val(i))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,'']},iso8601Week:function(e){var t,s=new Date(e.getTime());return s.setDate(s.getDate()+4-(s.getDay()||7)),t=s.getTime(),s.setMonth(0),s.setDate(1),Math.floor(Math.round((t-s)/864e5)/7)+1},parseDate:function(t,s,n){if(null==t||null==s)throw'Invalid arguments';if(''===(s='object'==typeof s?''+s:s+''))return null;var i,a,o,r,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,d='string'!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),g=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,u=(n?n.dayNames:null)||this._defaults.dayNames,h=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,m=(n?n.monthNames:null)||this._defaults.monthNames,p=-1,f=-1,v=-1,x=-1,w=!1,b=function(e){var s=t.length>i+1&&t.charAt(i+1)===e;return s&&i++,s},y=function(e){var t=b(e),n='@'===e?14:'!'===e?20:'y'===e&&t?4:'o'===e?3:2,i,a=RegExp('^\\d{'+('y'===e?n:1)+','+n+'}'),o=s.substring(l).match(a);if(!o)throw'Missing number at position '+l;return l+=o[0].length,parseInt(o[0],10)},F=function(t,n,i){var a=-1,o=e.map(b(t)?i:n,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,t){var n=t[1];return s.substr(l,n.length).toLowerCase()===n.toLowerCase()?(a=t[0],l+=n.length,!1):void 0}),-1!==a)return a+1;throw'Unknown name at position '+l},_=function(){if(s.charAt(l)!==t.charAt(i))throw'Unexpected literal at position '+l;l++};for(i=0;t.length>i;i++)if(w)'\''!==t.charAt(i)||b('\'')?_():w=!1;else switch(t.charAt(i)){case'd':v=y('d');break;case'D':F('D',g,u);break;case'o':x=y('o');break;case'm':f=y('m');break;case'M':f=F('M',h,m);break;case'y':p=y('y');break;case'@':p=(r=new Date(y('@'))).getFullYear(),f=r.getMonth()+1,v=r.getDate();break;case'!':p=(r=new Date((y('!')-this._ticksTo1970)/1e4)).getFullYear(),f=r.getMonth()+1,v=r.getDate();break;case'\'':b('\'')?_():w=!0;break;default:_()}if(s.length>l&&(o=s.substr(l),!/^\s+/.test(o)))throw'Extra/unparsed characters found in date: '+o;if(-1===p?p=(new Date).getFullYear():100>p&&(p+=(new Date).getFullYear()-(new Date).getFullYear()%100+(d>=p?0:-100)),x>-1)for(f=1,v=x;!((a=this._getDaysInMonth(p,f-1))>=v);)f++,v-=a;if((r=this._daylightSavingAdjust(new Date(p,f-1,v))).getFullYear()!==p||r.getMonth()+1!==f||r.getDate()!==v)throw'Invalid date';return r},ATOM:'yy-mm-dd',COOKIE:'D, dd M yy',ISO_8601:'yy-mm-dd',RFC_822:'D, d M y',RFC_850:'DD, dd-M-y',RFC_1036:'D, d M y',RFC_1123:'D, d M yy',RFC_2822:'D, d M yy',RSS:'D, d M y',TICKS:'!',TIMESTAMP:'@',W3C:'yy-mm-dd',_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,s){if(!t)return'';var n,i=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,a=(s?s.dayNames:null)||this._defaults.dayNames,o=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,r=(s?s.monthNames:null)||this._defaults.monthNames,l=function(t){var s=e.length>n+1&&e.charAt(n+1)===t;return s&&n++,s},c=function(e,t,s){var n=''+t;if(l(e))for(;s>n.length;)n='0'+n;return n},d=function(e,t,s,n){return l(e)?n[t]:s[t]},g='',u=!1;if(t)for(n=0;e.length>n;n++)if(u)'\''!==e.charAt(n)||l('\'')?g+=e.charAt(n):u=!1;else switch(e.charAt(n)){case'd':g+=c('d',t.getDate(),2);break;case'D':g+=d('D',t.getDay(),i,a);break;case'o':g+=c('o',Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case'm':g+=c('m',t.getMonth()+1,2);break;case'M':g+=d('M',t.getMonth(),o,r);break;case'y':g+=l('y')?t.getFullYear():(10>t.getFullYear()%100?'0':'')+t.getFullYear()%100;break;case'@':g+=t.getTime();break;case'!':g+=1e4*t.getTime()+this._ticksTo1970;break;case'\'':l('\'')?g+='\'':u=!0;break;default:g+=e.charAt(n)}return g},_possibleChars:function(e){var t,s='',n=!1,i=function(s){var n=e.length>t+1&&e.charAt(t+1)===s;return n&&t++,n};for(t=0;e.length>t;t++)if(n)'\''!==e.charAt(t)||i('\'')?s+=e.charAt(t):n=!1;else switch(e.charAt(t)){case'd':case'm':case'y':case'@':s+='0123456789';break;case'D':case'M':return null;case'\'':i('\'')?s+='\'':n=!0;break;default:s+=e.charAt(t)}return s},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var s=this._get(e,'dateFormat'),n=e.lastVal=e.input?e.input.val():null,i=this._getDefaultDate(e),a=i,o=this._getFormatConfig(e);try{a=this.parseDate(s,n,o)||i}catch(e){n=t?'':n}e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),e.currentDay=n?a.getDate():0,e.currentMonth=n?a.getMonth():0,e.currentYear=n?a.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,'defaultDate'),new Date))},_determineDate:function(t,s,n){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},a,o=null==s||''===s?n:'string'==typeof s?function(s){try{return e.datepicker.parseDate(e.datepicker._get(t,'dateFormat'),s,e.datepicker._getFormatConfig(t))}catch(e){}for(var n=(s.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,i=n.getFullYear(),a=n.getMonth(),o=n.getDate(),r=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=r.exec(s);l;){switch(l[2]||'d'){case'd':case'D':o+=parseInt(l[1],10);break;case'w':case'W':o+=7*parseInt(l[1],10);break;case'm':case'M':a+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(i,a));break;case'y':case'Y':i+=parseInt(l[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(i,a))}l=r.exec(s)}return new Date(i,a,o)}(s):'number'==typeof s?isNaN(s)?n:i(s):new Date(s.getTime());return(o=o&&'Invalid Date'==''+o?n:o)&&(o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0)),this._daylightSavingAdjust(o)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,s){var n=!t,i=e.selectedMonth,a=e.selectedYear,o=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=o.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=o.getMonth(),e.drawYear=e.selectedYear=e.currentYear=o.getFullYear(),i===e.selectedMonth&&a===e.selectedYear||s||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?'':this._formatDate(e))},_getDate:function(e){var t;return!e.currentYear||e.input&&''===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(t){var s=this._get(t,'stepMonths'),n='#'+t.id.replace(/\\\\/g,'\\');t.dpDiv.find('[data-handler]').map(function(){var t={prev:function(){e.datepicker._adjustDate(n,-s,'M')},next:function(){e.datepicker._adjustDate(n,+s,'M')},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(n)},selectDay:function(){return e.datepicker._selectDay(n,+this.getAttribute('data-month'),+this.getAttribute('data-year'),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(n,this,'M'),!1},selectYear:function(){return e.datepicker._selectMonthYear(n,this,'Y'),!1}};e(this).on(this.getAttribute('data-event'),t[this.getAttribute('data-handler')])})},_generateHTML:function(e){var t,s,n,i,a,o,r,l,c,d,g,u,h,m,p,f,v,x,w,b,y,F,_,k,E,S,C,A,T,D,L,B,M,j,G,P,I,H,N,R=new Date,$=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),q=this._get(e,'isRTL'),W=this._get(e,'showButtonPanel'),O=this._get(e,'hideIfNoPrevNext'),U=this._get(e,'navigationAsDateFormat'),V=this._getNumberOfMonths(e),J=this._get(e,'showCurrentAtPos'),K=this._get(e,'stepMonths'),z=1!==V[0]||1!==V[1],Y=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,'min'),Z=this._getMinMaxDate(e,'max'),X=e.drawMonth-J,ee=e.drawYear;if(0>X&&(X+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-V[0]*V[1]+1,Z.getDate())),t=Q&&Q>t?Q:t;this._daylightSavingAdjust(new Date(ee,X,1))>t;)0>--X&&(X=11,ee--);for(e.drawMonth=X,e.drawYear=ee,s=this._get(e,'prevText'),s=U?this.formatDate(s,this._daylightSavingAdjust(new Date(ee,X-K,1)),this._getFormatConfig(e)):s,n=this._canAdjustMonth(e,-1,ee,X)?'<a class=\'ui-datepicker-prev ui-corner-all\' data-handler=\'prev\' data-event=\'click\' title=\''+s+'\'><span class=\'ui-icon ui-icon-circle-triangle-'+(q?'e':'w')+'\'>'+s+'</span></a>':O?'':'<a class=\'ui-datepicker-prev ui-corner-all ui-state-disabled\' title=\''+s+'\'><span class=\'ui-icon ui-icon-circle-triangle-'+(q?'e':'w')+'\'>'+s+'</span></a>',i=this._get(e,'nextText'),i=U?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,X+K,1)),this._getFormatConfig(e)):i,a=this._canAdjustMonth(e,1,ee,X)?'<a class=\'ui-datepicker-next ui-corner-all\' data-handler=\'next\' data-event=\'click\' title=\''+i+'\'><span class=\'ui-icon ui-icon-circle-triangle-'+(q?'w':'e')+'\'>'+i+'</span></a>':O?'':'<a class=\'ui-datepicker-next ui-corner-all ui-state-disabled\' title=\''+i+'\'><span class=\'ui-icon ui-icon-circle-triangle-'+(q?'w':'e')+'\'>'+i+'</span></a>',o=this._get(e,'currentText'),r=this._get(e,'gotoCurrent')&&e.currentDay?Y:$,o=U?this.formatDate(o,r,this._getFormatConfig(e)):o,l=e.inline?'':'<button type=\'button\' class=\'ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all\' data-handler=\'hide\' data-event=\'click\'>'+this._get(e,'closeText')+'</button>',c=W?'<div class=\'ui-datepicker-buttonpane ui-widget-content\'>'+(q?l:'')+(this._isInRange(e,r)?'<button type=\'button\' class=\'ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all\' data-handler=\'today\' data-event=\'click\'>'+o+'</button>':'')+(q?'':l)+'</div>':'',d=parseInt(this._get(e,'firstDay'),10),d=isNaN(d)?0:d,g=this._get(e,'showWeek'),u=this._get(e,'dayNames'),h=this._get(e,'dayNamesMin'),m=this._get(e,'monthNames'),p=this._get(e,'monthNamesShort'),f=this._get(e,'beforeShowDay'),v=this._get(e,'showOtherMonths'),x=this._get(e,'selectOtherMonths'),w=this._getDefaultDate(e),b='',F=0;V[0]>F;F++){for(_='',this.maxRows=4,k=0;V[1]>k;k++){if(E=this._daylightSavingAdjust(new Date(ee,X,e.selectedDay)),S=' ui-corner-all',C='',z){if(C+='<div class=\'ui-datepicker-group',V[1]>1)switch(k){case 0:C+=' ui-datepicker-group-first',S=' ui-corner-'+(q?'right':'left');break;case V[1]-1:C+=' ui-datepicker-group-last',S=' ui-corner-'+(q?'left':'right');break;default:C+=' ui-datepicker-group-middle',S=''}C+='\'>'}for(C+='<div class=\'ui-datepicker-header ui-widget-header ui-helper-clearfix'+S+'\'>'+(/all|left/.test(S)&&0===F?q?a:n:'')+(/all|right/.test(S)&&0===F?q?n:a:'')+this._generateMonthYearHeader(e,X,ee,Q,Z,F>0||k>0,m,p)+'</div><table class=\'ui-datepicker-calendar\'><thead><tr>',A=g?'<th class=\'ui-datepicker-week-col\'>'+this._get(e,'weekHeader')+'</th>':'',y=0;7>y;y++)T=(y+d)%7,A+='<th scope=\'col\''+((y+d+6)%7>=5?' class=\'ui-datepicker-week-end\'':'')+'><span title=\''+u[T]+'\'>'+h[T]+'</span></th>';for(C+=A+'</tr></thead><tbody>',D=this._getDaysInMonth(ee,X),ee===e.selectedYear&&X===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,D)),L=(this._getFirstDayOfMonth(ee,X)-d+7)%7,B=Math.ceil((L+D)/7),M=z&&this.maxRows>B?this.maxRows:B,this.maxRows=M,j=this._daylightSavingAdjust(new Date(ee,X,1-L)),G=0;M>G;G++){for(C+='<tr>',P=g?'<td class=\'ui-datepicker-week-col\'>'+this._get(e,'calculateWeek')(j)+'</td>':'',y=0;7>y;y++)I=f?f.apply(e.input?e.input[0]:null,[j]):[!0,''],N=(H=j.getMonth()!==X)&&!x||!I[0]||Q&&Q>j||Z&&j>Z,P+='<td class=\''+((y+d+6)%7>=5?' ui-datepicker-week-end':'')+(H?' ui-datepicker-other-month':'')+(j.getTime()===E.getTime()&&X===e.selectedMonth&&e._keyEvent||w.getTime()===j.getTime()&&w.getTime()===E.getTime()?' '+this._dayOverClass:'')+(N?' '+this._unselectableClass+' ui-state-disabled':'')+(H&&!v?'':' '+I[1]+(j.getTime()===Y.getTime()?' '+this._currentClass:'')+(j.getTime()===$.getTime()?' ui-datepicker-today':''))+'\''+(H&&!v||!I[2]?'':' title=\''+I[2].replace(/'/g,'&#39;')+'\'')+(N?'':' data-handler=\'selectDay\' data-event=\'click\' data-month=\''+j.getMonth()+'\' data-year=\''+j.getFullYear()+'\'')+'>'+(H&&!v?'&#xa0;':N?'<span class=\'ui-state-default\'>'+j.getDate()+'</span>':'<a class=\'ui-state-default'+(j.getTime()===$.getTime()?' ui-state-highlight':'')+(j.getTime()===Y.getTime()?' ui-state-active':'')+(H?' ui-priority-secondary':'')+'\' href=\'#\'>'+j.getDate()+'</a>')+'</td>',j.setDate(j.getDate()+1),j=this._daylightSavingAdjust(j);C+=P+'</tr>'}++X>11&&(X=0,ee++),_+=C+='</tbody></table>'+(z?'</div>'+(V[0]>0&&k===V[1]-1?'<div class=\'ui-datepicker-row-break\'></div>':''):'')}b+=_}return b+=c,e._keyEvent=!1,b},_generateMonthYearHeader:function(e,t,s,n,i,a,o,r){var l,c,d,g,u,h,m,p,f=this._get(e,'changeMonth'),v=this._get(e,'changeYear'),x=this._get(e,'showMonthAfterYear'),w='<div class=\'ui-datepicker-title\'>',b='';if(a||!f)b+='<span class=\'ui-datepicker-month\'>'+o[t]+'</span>';else{for(l=n&&n.getFullYear()===s,c=i&&i.getFullYear()===s,b+='<select class=\'ui-datepicker-month\' data-handler=\'selectMonth\' data-event=\'change\'>',d=0;12>d;d++)(!l||d>=n.getMonth())&&(!c||i.getMonth()>=d)&&(b+='<option value=\''+d+'\''+(d===t?' selected=\'selected\'':'')+'>'+r[d]+'</option>');b+='</select>'}if(x||(w+=b+(!a&&f&&v?'':'&#xa0;')),!e.yearshtml)if(e.yearshtml='',a||!v)w+='<span class=\'ui-datepicker-year\'>'+s+'</span>';else{for(g=this._get(e,'yearRange').split(':'),u=(new Date).getFullYear(),m=(h=function(e){var t=e.match(/c[+\-].*/)?s+parseInt(e.substring(1),10):e.match(/[+\-].*/)?u+parseInt(e,10):parseInt(e,10);return isNaN(t)?u:t})(g[0]),p=Math.max(m,h(g[1]||'')),m=n?Math.max(m,n.getFullYear()):m,p=i?Math.min(p,i.getFullYear()):p,e.yearshtml+='<select class=\'ui-datepicker-year\' data-handler=\'selectYear\' data-event=\'change\'>';p>=m;m++)e.yearshtml+='<option value=\''+m+'\''+(m===s?' selected=\'selected\'':'')+'>'+m+'</option>';e.yearshtml+='</select>',w+=e.yearshtml,e.yearshtml=null}return w+=this._get(e,'yearSuffix'),x&&(w+=(!a&&f&&v?'':'&#xa0;')+b),w+'</div>'},_adjustInstDate:function(e,t,s){var n=e.selectedYear+('Y'===s?t:0),i=e.selectedMonth+('M'===s?t:0),a=Math.min(e.selectedDay,this._getDaysInMonth(n,i))+('D'===s?t:0),o=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,i,a)));e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),('M'===s||'Y'===s)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var s=this._getMinMaxDate(e,'min'),n=this._getMinMaxDate(e,'max'),i=s&&s>t?s:t;return n&&i>n?n:i},_notifyChange:function(e){var t=this._get(e,'onChangeMonthYear');t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,'numberOfMonths');return null==t?[1,1]:'number'==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+'Date'),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,s,n){var i=this._getNumberOfMonths(e),a=this._daylightSavingAdjust(new Date(s,n+(0>t?t:i[0]*i[1]),1));return 0>t&&a.setDate(this._getDaysInMonth(a.getFullYear(),a.getMonth())),this._isInRange(e,a)},_isInRange:function(e,t){var s,n,i=this._getMinMaxDate(e,'min'),a=this._getMinMaxDate(e,'max'),o=null,r=null,l=this._get(e,'yearRange');return l&&(s=l.split(':'),n=(new Date).getFullYear(),o=parseInt(s[0],10),r=parseInt(s[1],10),s[0].match(/[+\-].*/)&&(o+=n),s[1].match(/[+\-].*/)&&(r+=n)),(!i||t.getTime()>=i.getTime())&&(!a||t.getTime()<=a.getTime())&&(!o||t.getFullYear()>=o)&&(!r||r>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,'shortYearCutoff');return{shortYearCutoff:t='string'!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,'dayNamesShort'),dayNames:this._get(e,'dayNames'),monthNamesShort:this._get(e,'monthNamesShort'),monthNames:this._get(e,'monthNames')}},_formatDate:function(e,t,s,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var i=t?'object'==typeof t?t:this._daylightSavingAdjust(new Date(n,s,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,'dateFormat'),i,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).on('mousedown',e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e('#'+e.datepicker._mainDivId).length&&e('body').append(e.datepicker.dpDiv);var s=Array.prototype.slice.call(arguments,1);return'string'!=typeof t||'isDisabled'!==t&&'getDate'!==t&&'widget'!==t?'option'===t&&2===arguments.length&&'string'==typeof arguments[1]?e.datepicker['_'+t+'Datepicker'].apply(e.datepicker,[this[0]].concat(s)):this.each(function(){'string'==typeof t?e.datepicker['_'+t+'Datepicker'].apply(e.datepicker,[this].concat(s)):e.datepicker._attachDatepicker(this,t)}):e.datepicker['_'+t+'Datepicker'].apply(e.datepicker,[this[0]].concat(s))},e.datepicker=new n,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version='1.12.1',e.datepicker,e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var v=!1;e(document).on('mouseup',function(){v=!1}),e.widget('ui.mouse',{version:'1.12.1',options:{cancel:'input, textarea, button, select, option',distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on('mousedown.'+this.widgetName,function(e){return t._mouseDown(e)}).on('click.'+this.widgetName,function(s){return!0===e.data(s.target,t.widgetName+'.preventClickEvent')?(e.removeData(s.target,t.widgetName+'.preventClickEvent'),s.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.off('.'+this.widgetName),this._mouseMoveDelegate&&this.document.off('mousemove.'+this.widgetName,this._mouseMoveDelegate).off('mouseup.'+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!v){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var s=this,n=1===t.which,i=!('string'!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(n&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+'.preventClickEvent')&&e.removeData(t.target,this.widgetName+'.preventClickEvent'),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},this.document.on('mousemove.'+this.widgetName,this._mouseMoveDelegate).on('mouseup.'+this.widgetName,this._mouseUpDelegate),t.preventDefault(),v=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off('mousemove.'+this.widgetName,this._mouseMoveDelegate).off('mouseup.'+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+'.preventClickEvent',!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,v=!1,t.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),e.ui.plugin={add:function(t,s,n){var i,a=e.ui[t].prototype;for(i in n)a.plugins[i]=a.plugins[i]||[],a.plugins[i].push([s,n[i]])},call:function(e,t,s,n){var i,a=e.plugins[t];if(a&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;a.length>i;i++)e.options[a[i][0]]&&a[i][1].apply(e.element,s)}},e.ui.safeBlur=function(t){t&&'body'!==t.nodeName.toLowerCase()&&e(t).trigger('blur')},e.widget('ui.draggable',e.ui.mouse,{version:'1.12.1',widgetEventPrefix:'drag',options:{addClasses:!0,appendTo:'parent',axis:!1,connectToSortable:!1,containment:!1,cursor:'auto',cursorAt:!1,grid:!1,handle:!1,helper:'original',iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:'default',scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:'both',snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){'original'===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass('ui-draggable'),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),'handle'===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is('.ui-draggable-dragging')?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var s=this.options;return!(this.helper||s.disabled||e(t.target).closest('.ui-resizable-handle').length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blurActiveElement(t),this._blockFrames(!0===s.iframeFix?'iframe':s.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e('<div>').css('position','absolute').appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var s=e.ui.safeActiveElement(this.document[0]),n;e(t.target).closest(s).length||e.ui.safeBlur(s)},_mouseStart:function(t){var s=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,'ui-draggable-dragging'),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css('position'),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return'fixed'===e(this).css('position')}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),!1===this._trigger('start',t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo('absolute'),!s){var n=this._uiHash();if(!1===this._trigger('drag',t,n))return this._mouseUp(new e.Event('mouseup',t)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+'px',this.helper[0].style.top=this.position.top+'px',e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var s=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),'invalid'===this.options.revert&&!n||'valid'===this.options.revert&&n||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==s._trigger('stop',t)&&s._clear()}):!1!==this._trigger('stop',t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger('focus'),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is('.ui-draggable-dragging')?this._mouseUp(new e.Event('mouseup',{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,'ui-draggable-handle')},_removeHandleClassName:function(){this._removeClass(this.handleElement,'ui-draggable-handle')},_createHelper:function(t){var s=this.options,n=e.isFunction(s.helper),i=n?e(s.helper.apply(this.element[0],[t])):'clone'===s.helper?this.element.clone().removeAttr('id'):this.element;return i.parents('body').length||i.appendTo('parent'===s.appendTo?this.element[0].parentNode:s.appendTo),n&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css('position'))||i.css('position','absolute'),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css('position'))||(this.element[0].style.position='relative')},_adjustOffsetFromHelper:function(t){'string'==typeof t&&(t=t.split(' ')),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),'left'in t&&(this.offset.click.left=t.left+this.margins.left),'right'in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),'top'in t&&(this.offset.click.top=t.top+this.margins.top),'bottom'in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),s=this.document[0];return'absolute'===this.cssPosition&&this.scrollParent[0]!==s&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css('borderTopWidth'),10)||0),left:t.left+(parseInt(this.offsetParent.css('borderLeftWidth'),10)||0)}},_getRelativeOffset:function(){if('relative'!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css('top'),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css('left'),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css('marginLeft'),10)||0,top:parseInt(this.element.css('marginTop'),10)||0,right:parseInt(this.element.css('marginRight'),10)||0,bottom:parseInt(this.element.css('marginBottom'),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,s,n,i=this.options,a=this.document[0];return this.relativeContainer=null,i.containment?'window'===i.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):'document'===i.containment?void(this.containment=[0,0,e(a).width()-this.helperProportions.width-this.margins.left,(e(a).height()||a.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):i.containment.constructor===Array?void(this.containment=i.containment):('parent'===i.containment&&(i.containment=this.helper[0].parentNode),void((n=(s=e(i.containment))[0])&&(t=/(scroll|auto)/.test(s.css('overflow')),this.containment=[(parseInt(s.css('borderLeftWidth'),10)||0)+(parseInt(s.css('paddingLeft'),10)||0),(parseInt(s.css('borderTopWidth'),10)||0)+(parseInt(s.css('paddingTop'),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(s.css('borderRightWidth'),10)||0)-(parseInt(s.css('paddingRight'),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(s.css('borderBottomWidth'),10)||0)-(parseInt(s.css('paddingBottom'),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var s='absolute'===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*s+this.offset.parent.top*s-('fixed'===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*s,left:t.left+this.offset.relative.left*s+this.offset.parent.left*s-('fixed'===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*s}},_generatePosition:function(e,t){var s,n,i,a,o=this.options,r=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return r&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),s=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):s=this.containment,e.pageX-this.offset.click.left<s[0]&&(l=s[0]+this.offset.click.left),e.pageY-this.offset.click.top<s[1]&&(c=s[1]+this.offset.click.top),e.pageX-this.offset.click.left>s[2]&&(l=s[2]+this.offset.click.left),e.pageY-this.offset.click.top>s[3]&&(c=s[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,c=s?i-this.offset.click.top>=s[1]||i-this.offset.click.top>s[3]?i:i-this.offset.click.top>=s[1]?i-o.grid[1]:i+o.grid[1]:i,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=s?a-this.offset.click.left>=s[0]||a-this.offset.click.left>s[2]?a:a-this.offset.click.left>=s[0]?a-o.grid[0]:a+o.grid[0]:a),'y'===o.axis&&(l=this.originalPageX),'x'===o.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+('fixed'===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+('fixed'===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,'ui-draggable-dragging'),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,s,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[s,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo('absolute'),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,s,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add('draggable','connectToSortable',{start:function(t,s,n){var i=e.extend({},s,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var s=e(this).sortable('instance');s&&!s.options.disabled&&(n.sortables.push(s),s.refreshPositions(),s._trigger('activate',t,i))})},stop:function(t,s,n){var i=e.extend({},s,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css('position'),top:e.placeholder.css('top'),left:e.placeholder.css('left')},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger('deactivate',t,i))})},drag:function(t,s,n){e.each(n.sortables,function(){var i=!1,a=this;a.positionAbs=n.positionAbs,a.helperProportions=n.helperProportions,a.offset.click=n.offset.click,a._intersectsWith(a.containerCache)&&(i=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==a&&this._intersectsWith(this.containerCache)&&e.contains(a.element[0],this.element[0])&&(i=!1),i})),i?(a.isOver||(a.isOver=1,n._parent=s.helper.parent(),a.currentItem=s.helper.appendTo(a.element).data('ui-sortable-item',!0),a.options._helper=a.options.helper,a.options.helper=function(){return s.helper[0]},t.target=a.currentItem[0],a._mouseCapture(t,!0),a._mouseStart(t,!0,!0),a.offset.click.top=n.offset.click.top,a.offset.click.left=n.offset.click.left,a.offset.parent.left-=n.offset.parent.left-a.offset.parent.left,a.offset.parent.top-=n.offset.parent.top-a.offset.parent.top,n._trigger('toSortable',t),n.dropped=a.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,a.fromOutside=n),a.currentItem&&(a._mouseDrag(t),s.position=a.position)):a.isOver&&(a.isOver=0,a.cancelHelperRemoval=!0,a.options._revert=a.options.revert,a.options.revert=!1,a._trigger('out',t,a._uiHash(a)),a._mouseStop(t,!0),a.options.revert=a.options._revert,a.options.helper=a.options._helper,a.placeholder&&a.placeholder.remove(),s.helper.appendTo(n._parent),n._refreshOffsets(t),s.position=n._generatePosition(t,!0),n._trigger('fromSortable',t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add('draggable','cursor',{start:function(t,s,n){var i=e('body'),a=n.options;i.css('cursor')&&(a._cursor=i.css('cursor')),i.css('cursor',a.cursor)},stop:function(t,s,n){var i=n.options;i._cursor&&e('body').css('cursor',i._cursor)}}),e.ui.plugin.add('draggable','opacity',{start:function(t,s,n){var i=e(s.helper),a=n.options;i.css('opacity')&&(a._opacity=i.css('opacity')),i.css('opacity',a.opacity)},stop:function(t,s,n){var i=n.options;i._opacity&&e(s.helper).css('opacity',i._opacity)}}),e.ui.plugin.add('draggable','scroll',{start:function(e,t,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&'HTML'!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(t,s,n){var i=n.options,a=!1,o=n.scrollParentNotHidden[0],r=n.document[0];o!==r&&'HTML'!==o.tagName?(i.axis&&'x'===i.axis||(n.overflowOffset.top+o.offsetHeight-t.pageY<i.scrollSensitivity?o.scrollTop=a=o.scrollTop+i.scrollSpeed:t.pageY-n.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=a=o.scrollTop-i.scrollSpeed)),i.axis&&'y'===i.axis||(n.overflowOffset.left+o.offsetWidth-t.pageX<i.scrollSensitivity?o.scrollLeft=a=o.scrollLeft+i.scrollSpeed:t.pageX-n.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=a=o.scrollLeft-i.scrollSpeed))):(i.axis&&'x'===i.axis||(t.pageY-e(r).scrollTop()<i.scrollSensitivity?a=e(r).scrollTop(e(r).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(r).scrollTop())<i.scrollSensitivity&&(a=e(r).scrollTop(e(r).scrollTop()+i.scrollSpeed))),i.axis&&'y'===i.axis||(t.pageX-e(r).scrollLeft()<i.scrollSensitivity?a=e(r).scrollLeft(e(r).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(r).scrollLeft())<i.scrollSensitivity&&(a=e(r).scrollLeft(e(r).scrollLeft()+i.scrollSpeed)))),!1!==a&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add('draggable','snap',{start:function(t,s,n){var i=n.options;n.snapElements=[],e(i.snap.constructor!==String?i.snap.items||':data(ui-draggable)':i.snap).each(function(){var t=e(this),s=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:s.top,left:s.left})})},drag:function(t,s,n){var i,a,o,r,l,c,d,g,u,h,m=n.options,p=m.snapTolerance,f=s.offset.left,v=f+n.helperProportions.width,x=s.offset.top,w=x+n.helperProportions.height;for(u=n.snapElements.length-1;u>=0;u--)c=(l=n.snapElements[u].left-n.margins.left)+n.snapElements[u].width,g=(d=n.snapElements[u].top-n.margins.top)+n.snapElements[u].height,l-p>v||f>c+p||d-p>w||x>g+p||!e.contains(n.snapElements[u].item.ownerDocument,n.snapElements[u].item)?(n.snapElements[u].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=!1):('inner'!==m.snapMode&&(i=p>=Math.abs(d-w),a=p>=Math.abs(g-x),o=p>=Math.abs(l-v),r=p>=Math.abs(c-f),i&&(s.position.top=n._convertPositionTo('relative',{top:d-n.helperProportions.height,left:0}).top),a&&(s.position.top=n._convertPositionTo('relative',{top:g,left:0}).top),o&&(s.position.left=n._convertPositionTo('relative',{top:0,left:l-n.helperProportions.width}).left),r&&(s.position.left=n._convertPositionTo('relative',{top:0,left:c}).left)),h=i||a||o||r,'outer'!==m.snapMode&&(i=p>=Math.abs(d-x),a=p>=Math.abs(g-w),o=p>=Math.abs(l-f),r=p>=Math.abs(c-v),i&&(s.position.top=n._convertPositionTo('relative',{top:d,left:0}).top),a&&(s.position.top=n._convertPositionTo('relative',{top:g-n.helperProportions.height,left:0}).top),o&&(s.position.left=n._convertPositionTo('relative',{top:0,left:l}).left),r&&(s.position.left=n._convertPositionTo('relative',{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[u].snapping&&(i||a||o||r||h)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[u].item})),n.snapElements[u].snapping=i||a||o||r||h)}}),e.ui.plugin.add('draggable','stack',{start:function(t,s,n){var i,a=n.options,o=e.makeArray(e(a.stack)).sort(function(t,s){return(parseInt(e(t).css('zIndex'),10)||0)-(parseInt(e(s).css('zIndex'),10)||0)});o.length&&(i=parseInt(e(o[0]).css('zIndex'),10)||0,e(o).each(function(t){e(this).css('zIndex',i+t)}),this.css('zIndex',i+o.length))}}),e.ui.plugin.add('draggable','zIndex',{start:function(t,s,n){var i=e(s.helper),a=n.options;i.css('zIndex')&&(a._zIndex=i.css('zIndex')),i.css('zIndex',a.zIndex)},stop:function(t,s,n){var i=n.options;i._zIndex&&e(s.helper).css('zIndex',i._zIndex)}}),e.ui.draggable,e.widget('ui.resizable',e.ui.mouse,{version:'1.12.1',widgetEventPrefix:'resize',options:{alsoResize:!1,animate:!1,animateDuration:'slow',animateEasing:'swing',aspectRatio:!1,autoHide:!1,classes:{'ui-resizable-se':'ui-icon ui-icon-gripsmall-diagonal-se'},containment:!1,ghost:!1,grid:!1,handles:'e,s,se',helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(t,s){if('hidden'===e(t).css('overflow'))return!1;var n=s&&'left'===s?'scrollLeft':'scrollTop',i=!1;return t[n]>0||(t[n]=1,i=t[n]>0,t[n]=0,i)},_create:function(){var t,s=this.options,n=this;this._addClass('ui-resizable'),e.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||'ui-resizable-helper':null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e('<div class=\'ui-wrapper\' style=\'overflow: hidden;\'></div>').css({position:this.element.css('position'),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css('top'),left:this.element.css('left')})),this.element=this.element.parent().data('ui-resizable',this.element.resizable('instance')),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css('marginTop'),marginRight:this.originalElement.css('marginRight'),marginBottom:this.originalElement.css('marginBottom'),marginLeft:this.originalElement.css('marginLeft')},this.element.css(t),this.originalElement.css('margin',0),this.originalResizeStyle=this.originalElement.css('resize'),this.originalElement.css('resize','none'),this._proportionallyResizeElements.push(this.originalElement.css({position:'static',zoom:1,display:'block'})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),s.autoHide&&e(this.element).on('mouseenter',function(){s.disabled||(n._removeClass('ui-resizable-autohide'),n._handles.show())}).on('mouseleave',function(){s.disabled||n.resizing||(n._addClass('ui-resizable-autohide'),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,s=function(t){e(t).removeData('resizable').removeData('ui-resizable').off('.resizable').find('.ui-resizable-handle').remove()};return this.elementIsWrapper&&(s(this.element),t=this.element,this.originalElement.css({position:t.css('position'),width:t.outerWidth(),height:t.outerHeight(),top:t.css('top'),left:t.css('left')}).insertAfter(t),t.remove()),this.originalElement.css('resize',this.originalResizeStyle),s(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case'handles':this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,s,n,i,a,o=this.options,r=this;if(this.handles=o.handles||(e('.ui-resizable-handle',this.element).length?{n:'.ui-resizable-n',e:'.ui-resizable-e',s:'.ui-resizable-s',w:'.ui-resizable-w',se:'.ui-resizable-se',sw:'.ui-resizable-sw',ne:'.ui-resizable-ne',nw:'.ui-resizable-nw'}:'e,s,se'),this._handles=e(),this.handles.constructor===String)for('all'===this.handles&&(this.handles='n,e,s,w,se,sw,ne,nw'),n=this.handles.split(','),this.handles={},s=0;n.length>s;s++)i='ui-resizable-'+(t=e.trim(n[s])),a=e('<div>'),this._addClass(a,'ui-resizable-handle '+i),a.css({zIndex:o.zIndex}),this.handles[t]='.ui-resizable-'+t,this.element.append(a);this._renderAxis=function(t){var s,n,i,a;for(s in t=t||this.element,this.handles)this.handles[s].constructor===String?this.handles[s]=this.element.children(this.handles[s]).first().show():(this.handles[s].jquery||this.handles[s].nodeType)&&(this.handles[s]=e(this.handles[s]),this._on(this.handles[s],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[s],this.element),a=/sw|ne|nw|se|n|s/.test(s)?n.outerHeight():n.outerWidth(),i=['padding',/ne|nw|n/.test(s)?'Top':/se|sw|s/.test(s)?'Bottom':/^e$/.test(s)?'Right':'Left'].join(''),t.css(i,a),this._proportionallyResize()),this._handles=this._handles.add(this.handles[s])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find('.ui-resizable-handle')),this._handles.disableSelection(),this._handles.on('mouseover',function(){r.resizing||(this.className&&(a=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=a&&a[1]?a[1]:'se')}),o.autoHide&&(this._handles.hide(),this._addClass('ui-resizable-autohide'))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var s,n,i=!1;for(s in this.handles)((n=e(this.handles[s])[0])===t.target||e.contains(n,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var s,n,i,a=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),s=this._num(this.helper.css('left')),n=this._num(this.helper.css('top')),a.containment&&(s+=e(a.containment).scrollLeft()||0,n+=e(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:s,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio='number'==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e('.ui-resizable-'+this.axis).css('cursor'),e('body').css('cursor','auto'===i?this.axis+'-resize':i),this._addClass('ui-resizable-resizing'),this._propagate('start',t),!0},_mouseDrag:function(t){var s,n,i=this.originalMousePosition,a=this.axis,o=t.pageX-i.left||0,r=t.pageY-i.top||0,l=this._change[a];return this._updatePrevProperties(),!!l&&(s=l.apply(this,[t,o,r]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(s=this._updateRatio(s,t)),s=this._respectSize(s,t),this._updateCache(s),this._propagate('resize',t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger('resize',t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var s,n,i,a,o,r,l,c=this.options,d=this;return this._helper&&(i=(n=(s=this._proportionallyResizeElements).length&&/textarea/i.test(s[0].nodeName))&&this._hasScroll(s[0],'left')?0:d.sizeDiff.height,a=n?0:d.sizeDiff.width,o={width:d.helper.width()-a,height:d.helper.height()-i},r=parseFloat(d.element.css('left'))+(d.position.left-d.originalPosition.left)||null,l=parseFloat(d.element.css('top'))+(d.position.top-d.originalPosition.top)||null,c.animate||this.element.css(e.extend(o,{top:l,left:r})),d.helper.height(d.size.height),d.helper.width(d.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e('body').css('cursor','auto'),this._removeClass('ui-resizable-resizing'),this._propagate('stop',t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+'px'),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+'px'),this.size.width!==this.prevSize.width&&(e.width=this.size.width+'px'),this.size.height!==this.prevSize.height&&(e.height=this.size.height+'px'),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,s,n,i,a,o=this.options;a={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||e)&&(t=a.minHeight*this.aspectRatio,n=a.minWidth/this.aspectRatio,s=a.maxHeight*this.aspectRatio,i=a.maxWidth/this.aspectRatio,t>a.minWidth&&(a.minWidth=t),n>a.minHeight&&(a.minHeight=n),a.maxWidth>s&&(a.maxWidth=s),a.maxHeight>i&&(a.maxHeight=i)),this._vBoundaries=a},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,s=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),'sw'===n&&(e.left=t.left+(s.width-e.width),e.top=null),'nw'===n&&(e.top=t.top+(s.height-e.height),e.left=t.left+(s.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,s=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,a=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,o=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,r=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(s),d=/nw|ne|n/.test(s);return a&&(e.width=t.minWidth),o&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),a&&c&&(e.left=r-t.minWidth),n&&c&&(e.left=r-t.maxWidth),o&&d&&(e.top=l-t.minHeight),i&&d&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,s=[],n=[e.css('borderTopWidth'),e.css('borderRightWidth'),e.css('borderBottomWidth'),e.css('borderLeftWidth')],i=[e.css('paddingTop'),e.css('paddingRight'),e.css('paddingBottom'),e.css('paddingLeft')];4>t;t++)s[t]=parseFloat(n[t])||0,s[t]+=parseFloat(i[t])||0;return{height:s[0]+s[2],width:s[1]+s[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,s=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:s.height()-this.outerDimensions.height||0,width:s.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,s=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e('<div style=\'overflow:hidden;\'></div>'),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:'absolute',left:this.elementOffset.left+'px',top:this.elementOffset.top+'px',zIndex:++s.zIndex}),this.helper.appendTo('body').disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var s=this.originalSize,n;return{left:this.originalPosition.left+t,width:s.width-t}},n:function(e,t,s){var n=this.originalSize,i;return{top:this.originalPosition.top+s,height:n.height-s}},s:function(e,t,s){return{height:this.originalSize.height+s}},se:function(t,s,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,s,n]))},sw:function(t,s,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,s,n]))},ne:function(t,s,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,s,n]))},nw:function(t,s,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,s,n]))}},_propagate:function(t,s){e.ui.plugin.call(this,t,[s,this.ui()]),'resize'!==t&&this._trigger(t,s,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add('resizable','animate',{stop:function(t){var s=e(this).resizable('instance'),n=s.options,i=s._proportionallyResizeElements,a=i.length&&/textarea/i.test(i[0].nodeName),o=a&&s._hasScroll(i[0],'left')?0:s.sizeDiff.height,r=a?0:s.sizeDiff.width,l={width:s.size.width-r,height:s.size.height-o},c=parseFloat(s.element.css('left'))+(s.position.left-s.originalPosition.left)||null,d=parseFloat(s.element.css('top'))+(s.position.top-s.originalPosition.top)||null;s.element.animate(e.extend(l,d&&c?{top:d,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(s.element.css('width')),height:parseFloat(s.element.css('height')),top:parseFloat(s.element.css('top')),left:parseFloat(s.element.css('left'))};i&&i.length&&e(i[0]).css({width:n.width,height:n.height}),s._updateCache(n),s._propagate('resize',t)}})}}),e.ui.plugin.add('resizable','containment',{start:function(){var t,s,n,i,a,o,r,l=e(this).resizable('instance'),c=l.options,d=l.element,g=c.containment,u=g instanceof e?g.get(0):/parent/.test(g)?d.parent().get(0):g;u&&(l.containerElement=e(u),/document/.test(g)||g===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(u),s=[],e(['Top','Right','Left','Bottom']).each(function(e,n){s[e]=l._num(t.css('padding'+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-s[3],width:t.innerWidth()-s[1]},n=l.containerOffset,i=l.containerSize.height,a=l.containerSize.width,o=l._hasScroll(u,'left')?u.scrollWidth:a,r=l._hasScroll(u)?u.scrollHeight:i,l.parentData={element:u,left:n.left,top:n.top,width:o,height:r}))},resize:function(t){var s,n,i,a,o=e(this).resizable('instance'),r=o.options,l=o.containerOffset,c=o.position,d=o._aspectRatio||t.shiftKey,g={top:0,left:0},u=o.containerElement,h=!0;u[0]!==document&&/static/.test(u.css('position'))&&(g=l),c.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-g.left),d&&(o.size.height=o.size.width/o.aspectRatio,h=!1),o.position.left=r.helper?l.left:0),c.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),d&&(o.size.width=o.size.height*o.aspectRatio,h=!1),o.position.top=o._helper?l.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css('position')),i&&a?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),s=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-g.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-g.top:o.offset.top-l.top)),s+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-s,d&&(o.size.height=o.size.width/o.aspectRatio,h=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,d&&(o.size.width=o.size.height*o.aspectRatio,h=!1)),h||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=e(this).resizable('instance'),s=t.options,n=t.containerOffset,i=t.containerPosition,a=t.containerElement,o=e(t.helper),r=o.offset(),l=o.outerWidth()-t.sizeDiff.width,c=o.outerHeight()-t.sizeDiff.height;t._helper&&!s.animate&&/relative/.test(a.css('position'))&&e(this).css({left:r.left-i.left-n.left,width:l,height:c}),t._helper&&!s.animate&&/static/.test(a.css('position'))&&e(this).css({left:r.left-i.left-n.left,width:l,height:c})}}),e.ui.plugin.add('resizable','alsoResize',{start:function(){var t,s=e(this).resizable('instance').options;e(s.alsoResize).each(function(){var t=e(this);t.data('ui-resizable-alsoresize',{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css('left')),top:parseFloat(t.css('top'))})})},resize:function(t,s){var n=e(this).resizable('instance'),i=n.options,a=n.originalSize,o=n.originalPosition,r={height:n.size.height-a.height||0,width:n.size.width-a.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};e(i.alsoResize).each(function(){var t=e(this),n=e(this).data('ui-resizable-alsoresize'),i={},a=t.parents(s.originalElement[0]).length?['width','height']:['width','height','top','left'];e.each(a,function(e,t){var s=(n[t]||0)+(r[t]||0);s&&s>=0&&(i[t]=s||null)}),t.css(i)})},stop:function(){e(this).removeData('ui-resizable-alsoresize')}}),e.ui.plugin.add('resizable','ghost',{start:function(){var t=e(this).resizable('instance'),s=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:'block',position:'relative',height:s.height,width:s.width,margin:0,left:0,top:0}),t._addClass(t.ghost,'ui-resizable-ghost'),!1!==e.uiBackCompat&&'string'==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable('instance');t.ghost&&t.ghost.css({position:'relative',height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable('instance');t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add('resizable','grid',{resize:function(){var t,s=e(this).resizable('instance'),n=s.options,i=s.size,a=s.originalSize,o=s.originalPosition,r=s.axis,l='number'==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,d=l[1]||1,g=Math.round((i.width-a.width)/c)*c,u=Math.round((i.height-a.height)/d)*d,h=a.width+g,m=a.height+u,p=n.maxWidth&&h>n.maxWidth,f=n.maxHeight&&m>n.maxHeight,v=n.minWidth&&n.minWidth>h,x=n.minHeight&&n.minHeight>m;n.grid=l,v&&(h+=c),x&&(m+=d),p&&(h-=c),f&&(m-=d),/^(se|s|e)$/.test(r)?(s.size.width=h,s.size.height=m):/^(ne)$/.test(r)?(s.size.width=h,s.size.height=m,s.position.top=o.top-u):/^(sw)$/.test(r)?(s.size.width=h,s.size.height=m,s.position.left=o.left-g):((0>=m-d||0>=h-c)&&(t=s._getPaddingPlusBorderDimensions(this)),m-d>0?(s.size.height=m,s.position.top=o.top-u):(m=d-t.height,s.size.height=m,s.position.top=o.top+a.height-m),h-c>0?(s.size.width=h,s.position.left=o.left-g):(h=c-t.width,s.size.width=h,s.position.left=o.left+a.width-h))}}),e.ui.resizable,e.widget('ui.dialog',{version:'1.12.1',options:{appendTo:'body',autoOpen:!0,buttons:[],classes:{'ui-dialog':'ui-corner-all','ui-dialog-titlebar':'ui-corner-all'},closeOnEscape:!0,closeText:'Close',draggable:!0,hide:null,height:'auto',maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:'center',at:'center',of:window,collision:'fit',using:function(t){var s=e(this).css(t).offset().top;0>s&&e(this).css('top',t.top-s)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr('title'),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr('title').appendTo(this.uiDialog),this._addClass('ui-dialog-content','ui-widget-content'),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||'body').eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr('title',this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var s=this;this._isOpen&&!1!==this._trigger('beforeClose',t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(':focusable').trigger('focus').length||e.ui.safeBlur(e.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){s._trigger('close',t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,s){var n=!1,i=this.uiDialog.siblings('.ui-front:visible').map(function(){return+e(this).css('z-index')}).get(),a=Math.max.apply(null,i);return a>=+this.uiDialog.css('z-index')&&(this.uiDialog.css('z-index',a+1),n=!0),n&&!s&&this._trigger('focus',t),n},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(e.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css('z-index',this.uiDialog.css('z-index')-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger('focus')}),this._makeFocusTarget(),void this._trigger('open'))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find('[autofocus]')),e.length||(e=this.element.find(':tabbable')),e.length||(e=this.uiDialogButtonPane.find(':tabbable')),e.length||(e=this.uiDialogTitlebarClose.filter(':tabbable')),e.length||(e=this.uiDialog),e.eq(0).trigger('focus')},_keepFocus:function(t){function s(){var t=e.ui.safeActiveElement(this.document[0]),s;this.uiDialog[0]===t||e.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),s.call(this),this._delay(s)},_createWrapper:function(){this.uiDialog=e('<div>').hide().attr({tabIndex:-1,role:'dialog'}).appendTo(this._appendTo()),this._addClass(this.uiDialog,'ui-dialog','ui-widget ui-widget-content ui-front'),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var s=this.uiDialog.find(':tabbable'),n=s.filter(':first'),i=s.filter(':last');t.target!==i[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==n[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){i.trigger('focus')}),t.preventDefault()):(this._delay(function(){n.trigger('focus')}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find('[aria-describedby]').length||this.uiDialog.attr({'aria-describedby':this.element.uniqueId().attr('id')})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e('<div>'),this._addClass(this.uiDialogTitlebar,'ui-dialog-titlebar','ui-widget-header ui-helper-clearfix'),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest('.ui-dialog-titlebar-close')||this.uiDialog.trigger('focus')}}),this.uiDialogTitlebarClose=e('<button type=\'button\'></button>').button({label:e('<a>').text(this.options.closeText).html(),icon:'ui-icon-closethick',showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,'ui-dialog-titlebar-close'),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e('<span>').uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,'ui-dialog-title'),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({'aria-labelledby':t.attr('id')})},_title:function(e){this.options.title?e.text(this.options.title):e.html('&#160;')},_createButtonPane:function(){this.uiDialogButtonPane=e('<div>'),this._addClass(this.uiDialogButtonPane,'ui-dialog-buttonpane','ui-widget-content ui-helper-clearfix'),this.uiButtonSet=e('<div>').appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,'ui-dialog-buttonset'),this._createButtons()},_createButtons:function(){var t=this,s=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(s)||e.isArray(s)&&!s.length?void this._removeClass(this.uiDialog,'ui-dialog-buttons'):(e.each(s,function(s,n){var i,a;n=e.isFunction(n)?{click:n,text:s}:n,n=e.extend({type:'button'},n),i=n.click,a={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel,icons:n.icons,text:n.text},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,delete n.icons,'boolean'==typeof n.text&&delete n.text,e('<button></button>',n).button(a).appendTo(t.uiButtonSet).on('click',function(){i.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,'ui-dialog-buttons'),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var s=this,n=this.options;this.uiDialog.draggable({cancel:'.ui-dialog-content, .ui-dialog-titlebar-close',handle:'.ui-dialog-titlebar',containment:'document',start:function(n,i){s._addClass(e(this),'ui-dialog-dragging'),s._blockFrames(),s._trigger('dragStart',n,t(i))},drag:function(e,n){s._trigger('drag',e,t(n))},stop:function(i,a){var o=a.offset.left-s.document.scrollLeft(),r=a.offset.top-s.document.scrollTop();n.position={my:'left top',at:'left'+(o>=0?'+':'')+o+' top'+(r>=0?'+':'')+r,of:s.window},s._removeClass(e(this),'ui-dialog-dragging'),s._unblockFrames(),s._trigger('dragStop',i,t(a))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var s=this,n=this.options,i=n.resizable,a=this.uiDialog.css('position'),o='string'==typeof i?i:'n,e,s,w,se,sw,ne,nw';this.uiDialog.resizable({cancel:'.ui-dialog-content',containment:'document',alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:o,start:function(n,i){s._addClass(e(this),'ui-dialog-resizing'),s._blockFrames(),s._trigger('resizeStart',n,t(i))},resize:function(e,n){s._trigger('resize',e,t(n))},stop:function(i,a){var o=s.uiDialog.offset(),r=o.left-s.document.scrollLeft(),l=o.top-s.document.scrollTop();n.height=s.uiDialog.height(),n.width=s.uiDialog.width(),n.position={my:'left top',at:'left'+(r>=0?'+':'')+r+' top'+(l>=0?'+':'')+l,of:s.window},s._removeClass(e(this),'ui-dialog-resizing'),s._unblockFrames(),s._trigger('resizeStop',i,t(a))}}).css('position',a)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),s=e.inArray(this,t);-1!==s&&t.splice(s,1)},_trackingInstances:function(){var e=this.document.data('ui-dialog-instances');return e||(e=[],this.document.data('ui-dialog-instances',e)),e},_minHeight:function(){var e=this.options;return'auto'===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(':visible');e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var s=this,n=!1,i={};e.each(t,function(e,t){s._setOption(e,t),e in s.sizeRelatedOptions&&(n=!0),e in s.resizableRelatedOptions&&(i[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(':data(ui-resizable)')&&this.uiDialog.resizable('option',i)},_setOption:function(t,s){var n,i,a=this.uiDialog;'disabled'!==t&&(this._super(t,s),'appendTo'===t&&this.uiDialog.appendTo(this._appendTo()),'buttons'===t&&this._createButtons(),'closeText'===t&&this.uiDialogTitlebarClose.button({label:e('<a>').text(''+this.options.closeText).html()}),'draggable'===t&&((n=a.is(':data(ui-draggable)'))&&!s&&a.draggable('destroy'),!n&&s&&this._makeDraggable()),'position'===t&&this._position(),'resizable'===t&&((i=a.is(':data(ui-resizable)'))&&!s&&a.resizable('destroy'),i&&'string'==typeof s&&a.resizable('option','handles',s),i||!1===s||this._makeResizable()),'title'===t&&this._title(this.uiDialogTitlebar.find('.ui-dialog-title')))},_size:function(){var e,t,s,n=this.options;this.element.show().css({width:'auto',minHeight:0,maxHeight:'none',height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:'auto',width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),s='number'==typeof n.maxHeight?Math.max(0,n.maxHeight-e):'none','auto'===n.height?this.element.css({minHeight:t,maxHeight:s,height:'auto'}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(':data(ui-resizable)')&&this.uiDialog.resizable('option','minHeight',this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find('iframe').map(function(){var t=e(this);return e('<div>').css({position:'absolute',width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest('.ui-dialog').length||!!e(t.target).closest('.ui-datepicker').length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data('ui-dialog-overlays')||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e('<div>').appendTo(this._appendTo()),this._addClass(this.overlay,null,'ui-widget-overlay ui-front'),this._on(this.overlay,{mousedown:'_keepFocus'}),this.document.data('ui-dialog-overlays',(this.document.data('ui-dialog-overlays')||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data('ui-dialog-overlays')-1;e?this.document.data('ui-dialog-overlays',e):(this._off(this.document,'focusin'),this.document.removeData('ui-dialog-overlays')),this.overlay.remove(),this.overlay=null}}}),!1!==e.uiBackCompat&&e.widget('ui.dialog',e.ui.dialog,{options:{dialogClass:''},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){'dialogClass'===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),e.ui.dialog,e.widget('ui.droppable',{version:'1.12.1',widgetEventPrefix:'drop',options:{accept:'*',addClasses:!0,greedy:!1,scope:'default',tolerance:'intersect',activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,s=this.options,n=s.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t||(t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight})},this._addToManager(s.scope),s.addClasses&&this._addClass('ui-droppable')},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t)},_setOption:function(t,s){if('accept'===t)this.accept=e.isFunction(s)?s:function(e){return e.is(s)};else if('scope'===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(s)}this._super(t,s)},_activate:function(t){var s=e.ui.ddmanager.current;this._addActiveClass(),s&&this._trigger('activate',t,this.ui(s))},_deactivate:function(t){var s=e.ui.ddmanager.current;this._removeActiveClass(),s&&this._trigger('deactivate',t,this.ui(s))},_over:function(t){var s=e.ui.ddmanager.current;s&&(s.currentItem||s.element)[0]!==this.element[0]&&this.accept.call(this.element[0],s.currentItem||s.element)&&(this._addHoverClass(),this._trigger('over',t,this.ui(s)))},_out:function(t){var s=e.ui.ddmanager.current;s&&(s.currentItem||s.element)[0]!==this.element[0]&&this.accept.call(this.element[0],s.currentItem||s.element)&&(this._removeHoverClass(),this._trigger('out',t,this.ui(s)))},_drop:function(t,s){var n=s||e.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(':data(ui-droppable)').not('.ui-draggable-dragging').each(function(){var s=e(this).droppable('instance');return s.options.greedy&&!s.options.disabled&&s.options.scope===n.options.scope&&s.accept.call(s.element[0],n.currentItem||n.element)&&x(n,e.extend(s,{offset:s.element.offset()}),s.options.tolerance,t)?(i=!0,!1):void 0}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger('drop',t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass('ui-droppable-hover')},_removeHoverClass:function(){this._removeClass('ui-droppable-hover')},_addActiveClass:function(){this._addClass('ui-droppable-active')},_removeActiveClass:function(){this._removeClass('ui-droppable-active')}});var x=e.ui.intersect=function(){function e(e,t,s){return e>=t&&t+s>e}return function(t,s,n,i){if(!s.offset)return!1;var a=(t.positionAbs||t.position.absolute).left+t.margins.left,o=(t.positionAbs||t.position.absolute).top+t.margins.top,r=a+t.helperProportions.width,l=o+t.helperProportions.height,c=s.offset.left,d=s.offset.top,g=c+s.proportions().width,u=d+s.proportions().height;switch(n){case'fit':return a>=c&&g>=r&&o>=d&&u>=l;case'intersect':return a+t.helperProportions.width/2>c&&g>r-t.helperProportions.width/2&&o+t.helperProportions.height/2>d&&u>l-t.helperProportions.height/2;case'pointer':return e(i.pageY,d,s.proportions().height)&&e(i.pageX,c,s.proportions().width);case'touch':return(o>=d&&u>=o||l>=d&&u>=l||d>o&&l>u)&&(a>=c&&g>=a||r>=c&&g>=r||c>a&&r>g);default:return!1}}}();e.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,s){var n,i,a=e.ui.ddmanager.droppables[t.options.scope]||[],o=s?s.type:null,r=(t.currentItem||t.element).find(':data(ui-droppable)').addBack();e:for(n=0;a.length>n;n++)if(!(a[n].options.disabled||t&&!a[n].accept.call(a[n].element[0],t.currentItem||t.element))){for(i=0;r.length>i;i++)if(r[i]===a[n].element[0]){a[n].proportions().height=0;continue e}a[n].visible='none'!==a[n].element.css('display'),a[n].visible&&('mousedown'===o&&a[n]._activate.call(a[n],s),a[n].offset=a[n].element.offset(),a[n].proportions({width:a[n].element[0].offsetWidth,height:a[n].element[0].offsetHeight}))}},drop:function(t,s){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&x(t,this,this.options.tolerance,s)&&(n=this._drop.call(this,s)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,s)))}),n},dragStart:function(t,s){t.element.parentsUntil('body').on('scroll.droppable',function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,s)})},drag:function(t,s){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,s),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,i,a,o=x(t,this,this.options.tolerance,s),r=!o&&this.isover?'isout':o&&!this.isover?'isover':null;r&&(this.options.greedy&&(i=this.options.scope,(a=this.element.parents(':data(ui-droppable)').filter(function(){return e(this).droppable('instance').options.scope===i})).length&&((n=e(a[0]).droppable('instance')).greedyChild='isover'===r)),n&&'isover'===r&&(n.isover=!1,n.isout=!0,n._out.call(n,s)),this[r]=!0,this['isout'===r?'isover':'isout']=!1,this['isover'===r?'_over':'_out'].call(this,s),n&&'isout'===r&&(n.isout=!1,n.isover=!0,n._over.call(n,s)))}})},dragStop:function(t,s){t.element.parentsUntil('body').off('scroll.droppable'),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,s)}},!1!==e.uiBackCompat&&e.widget('ui.droppable',e.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}}),e.ui.droppable,e.widget('ui.progressbar',{version:'1.12.1',options:{classes:{'ui-progressbar':'ui-corner-all','ui-progressbar-value':'ui-corner-left','ui-progressbar-complete':'ui-corner-right'},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:'progressbar','aria-valuemin':this.min}),this._addClass('ui-progressbar','ui-widget ui-widget-content'),this.valueDiv=e('<div>').appendTo(this.element),this._addClass(this.valueDiv,'ui-progressbar-value','ui-widget-header'),this._refreshValue()},_destroy:function(){this.element.removeAttr('role aria-valuemin aria-valuemax aria-valuenow'),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,'number'!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){'max'===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr('aria-disabled',e),this._toggleClass(null,'ui-state-disabled',!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,s=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(s.toFixed(0)+'%'),this._toggleClass(this.valueDiv,'ui-progressbar-complete',null,t===this.options.max)._toggleClass('ui-progressbar-indeterminate',null,this.indeterminate),this.indeterminate?(this.element.removeAttr('aria-valuenow'),this.overlayDiv||(this.overlayDiv=e('<div>').appendTo(this.valueDiv),this._addClass(this.overlayDiv,'ui-progressbar-overlay'))):(this.element.attr({'aria-valuemax':this.options.max,'aria-valuenow':t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger('change')),t===this.options.max&&this._trigger('complete')}}),e.widget('ui.selectable',e.ui.mouse,{version:'1.12.1',options:{appendTo:'body',autoRefresh:!0,distance:0,filter:'*',tolerance:'touch',selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t=this;this._addClass('ui-selectable'),this.dragged=!1,this.refresh=function(){t.elementPos=e(t.element[0]).offset(),t.selectees=e(t.options.filter,t.element[0]),t._addClass(t.selectees,'ui-selectee'),t.selectees.each(function(){var s=e(this),n=s.offset(),i={left:n.left-t.elementPos.left,top:n.top-t.elementPos.top};e.data(this,'selectable-item',{element:this,$element:s,left:i.left,top:i.top,right:i.left+s.outerWidth(),bottom:i.top+s.outerHeight(),startselected:!1,selected:s.hasClass('ui-selected'),selecting:s.hasClass('ui-selecting'),unselecting:s.hasClass('ui-unselecting')})})},this.refresh(),this._mouseInit(),this.helper=e('<div>'),this._addClass(this.helper,'ui-selectable-helper')},_destroy:function(){this.selectees.removeData('selectable-item'),this._mouseDestroy()},_mouseStart:function(t){var s=this,n=this.options;this.opos=[t.pageX,t.pageY],this.elementPos=e(this.element[0]).offset(),this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger('start',t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter('.ui-selected').each(function(){var n=e.data(this,'selectable-item');n.startselected=!0,t.metaKey||t.ctrlKey||(s._removeClass(n.$element,'ui-selected'),n.selected=!1,s._addClass(n.$element,'ui-unselecting'),n.unselecting=!0,s._trigger('unselecting',t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,i=e.data(this,'selectable-item');return i?(n=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass('ui-selected'),s._removeClass(i.$element,n?'ui-unselecting':'ui-selected')._addClass(i.$element,n?'ui-selecting':'ui-unselecting'),i.unselecting=!n,i.selecting=n,i.selected=n,n?s._trigger('selecting',t,{selecting:i.element}):s._trigger('unselecting',t,{unselecting:i.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var s,n=this,i=this.options,a=this.opos[0],o=this.opos[1],r=t.pageX,l=t.pageY;return a>r&&(s=r,r=a,a=s),o>l&&(s=l,l=o,o=s),this.helper.css({left:a,top:o,width:r-a,height:l-o}),this.selectees.each(function(){var s=e.data(this,'selectable-item'),c=!1,d={};s&&s.element!==n.element[0]&&(d.left=s.left+n.elementPos.left,d.right=s.right+n.elementPos.left,d.top=s.top+n.elementPos.top,d.bottom=s.bottom+n.elementPos.top,'touch'===i.tolerance?c=!(d.left>r||a>d.right||d.top>l||o>d.bottom):'fit'===i.tolerance&&(c=d.left>a&&r>d.right&&d.top>o&&l>d.bottom),c?(s.selected&&(n._removeClass(s.$element,'ui-selected'),s.selected=!1),s.unselecting&&(n._removeClass(s.$element,'ui-unselecting'),s.unselecting=!1),s.selecting||(n._addClass(s.$element,'ui-selecting'),s.selecting=!0,n._trigger('selecting',t,{selecting:s.element}))):(s.selecting&&((t.metaKey||t.ctrlKey)&&s.startselected?(n._removeClass(s.$element,'ui-selecting'),s.selecting=!1,n._addClass(s.$element,'ui-selected'),s.selected=!0):(n._removeClass(s.$element,'ui-selecting'),s.selecting=!1,s.startselected&&(n._addClass(s.$element,'ui-unselecting'),s.unselecting=!0),n._trigger('unselecting',t,{unselecting:s.element}))),s.selected&&(t.metaKey||t.ctrlKey||s.startselected||(n._removeClass(s.$element,'ui-selected'),s.selected=!1,n._addClass(s.$element,'ui-unselecting'),s.unselecting=!0,n._trigger('unselecting',t,{unselecting:s.element})))))}),!1}},_mouseStop:function(t){var s=this;return this.dragged=!1,e('.ui-unselecting',this.element[0]).each(function(){var n=e.data(this,'selectable-item');s._removeClass(n.$element,'ui-unselecting'),n.unselecting=!1,n.startselected=!1,s._trigger('unselected',t,{unselected:n.element})}),e('.ui-selecting',this.element[0]).each(function(){var n=e.data(this,'selectable-item');s._removeClass(n.$element,'ui-selecting')._addClass(n.$element,'ui-selected'),n.selecting=!1,n.selected=!0,n.startselected=!0,s._trigger('selected',t,{selected:n.element})}),this._trigger('stop',t),this.helper.remove(),!1}}),e.widget('ui.selectmenu',[e.ui.formResetMixin,{version:'1.12.1',defaultElement:'<select>',options:{appendTo:null,classes:{'ui-selectmenu-button-open':'ui-corner-top','ui-selectmenu-button-closed':'ui-corner-all'},disabled:null,icons:{button:'ui-icon-triangle-1-s'},position:{my:'left top',at:'left bottom',collision:'none'},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var t=this.element.uniqueId().attr('id');this.ids={element:t,button:t+'-button',menu:t+'-menu'},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=e()},_drawButton:function(){var t,s=this,n=this._parseOption(this.element.find('option:selected'),this.element[0].selectedIndex);this.labels=this.element.labels().attr('for',this.ids.button),this._on(this.labels,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e('<span>',{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:'combobox','aria-expanded':'false','aria-autocomplete':'list','aria-owns':this.ids.menu,'aria-haspopup':'true',title:this.element.attr('title')}).insertAfter(this.element),this._addClass(this.button,'ui-selectmenu-button ui-selectmenu-button-closed','ui-button ui-widget'),t=e('<span>').appendTo(this.button),this._addClass(t,'ui-selectmenu-icon','ui-icon '+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one('focusin',function(){s._rendered||s._refreshMenu()})},_drawMenu:function(){var t=this;this.menu=e('<ul>',{'aria-hidden':'true','aria-labelledby':this.ids.button,id:this.ids.menu}),this.menuWrap=e('<div>').append(this.menu),this._addClass(this.menuWrap,'ui-selectmenu-menu','ui-front'),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{'ui-menu':'ui-corner-bottom'},role:'listbox',select:function(e,s){e.preventDefault(),t._setSelection(),t._select(s.item.data('ui-selectmenu-item'),e)},focus:function(e,s){var n=s.item.data('ui-selectmenu-item');null!=t.focusIndex&&n.index!==t.focusIndex&&(t._trigger('focus',e,{item:n}),t.isOpen||t._select(n,e)),t.focusIndex=n.index,t.button.attr('aria-activedescendant',t.menuItems.eq(n.index).attr('id'))}}).menu('instance'),this.menuInstance._off(this.menu,'mouseleave'),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data('ui-selectmenu-item')||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find('option');this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find('li').not('.ui-selectmenu-optgroup').find('.ui-menu-item-wrapper'),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data('ui-selectmenu-item')),this._setOption('disabled',this.element.prop('disabled')))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find('.ui-state-active'),null,'ui-state-active'),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger('open',e)))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger('close',e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(t){var s=e('<span>');return this._setText(s,t.label),this._addClass(s,'ui-selectmenu-text'),s},_renderMenu:function(t,s){var n=this,i='';e.each(s,function(s,a){var o;a.optgroup!==i&&(o=e('<li>',{text:a.optgroup}),n._addClass(o,'ui-selectmenu-optgroup','ui-menu-divider'+(a.element.parent('optgroup').prop('disabled')?' ui-state-disabled':'')),o.appendTo(t),i=a.optgroup),n._renderItemData(t,a)})},_renderItemData:function(e,t){return this._renderItem(e,t).data('ui-selectmenu-item',t)},_renderItem:function(t,s){var n=e('<li>'),i=e('<div>',{title:s.element.attr('title')});return s.disabled&&this._addClass(n,null,'ui-state-disabled'),this._setText(i,s.label),n.append(i).appendTo(t)},_setText:function(e,t){t?e.text(t):e.html('&#160;')},_move:function(e,t){var s,n,i='.ui-menu-item';this.isOpen?s=this.menuItems.eq(this.focusIndex).parent('li'):(s=this.menuItems.eq(this.element[0].selectedIndex).parent('li'),i+=':not(.ui-state-disabled)'),(n='first'===e||'last'===e?s['first'===e?'prevAll':'nextAll'](i).eq(-1):s[e+'All'](i).eq(0)).length&&this.menuInstance.focus(t,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent('li')},_toggle:function(e){this[this.isOpen?'close':'open'](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest('.ui-selectmenu-menu, #'+e.ui.escapeSelector(this.ids.button)).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var s=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),s=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move('prev',t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move('next',t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move('prev',t);break;case e.ui.keyCode.RIGHT:this._move('next',t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move('first',t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move('last',t);break;default:this.menu.trigger(t),s=!1}s&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent('li');t.hasClass('ui-state-disabled')||this._select(t.data('ui-selectmenu-item'),e)},_select:function(e,t){var s=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger('select',t,{item:e}),e.index!==s&&this._trigger('change',t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr('id');this.button.attr({'aria-labelledby':t,'aria-activedescendant':t}),this.menu.attr('aria-activedescendant',t)},_setOption:function(e,t){if('icons'===e){var s=this.button.find('span.ui-icon');this._removeClass(s,null,this.options.icons.button)._addClass(s,null,t.button)}this._super(e,t),'appendTo'===e&&this.menuWrap.appendTo(this._appendTo()),'width'===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option('disabled',e),this.button.attr('aria-disabled',e),this._toggleClass(this.button,null,'ui-state-disabled',e),this.element.prop('disabled',e),e?(this.button.attr('tabindex',-1),this.close()):this.button.attr('tabindex',0)},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest('.ui-front, dialog')),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.attr('aria-expanded',this.isOpen),this._removeClass(this.button,'ui-selectmenu-button-'+(this.isOpen?'closed':'open'))._addClass(this.button,'ui-selectmenu-button-'+(this.isOpen?'open':'closed'))._toggleClass(this.menuWrap,'ui-selectmenu-open',null,this.isOpen),this.menu.attr('aria-hidden',!this.isOpen)},_resizeButton:function(){var e=this.options.width;return!1===e?void this.button.css('width',''):(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(e))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width('').outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop('disabled'),e},_parseOptions:function(t){var s=this,n=[];t.each(function(t,i){n.push(s._parseOption(e(i),t))}),this.items=n},_parseOption:function(e,t){var s=e.parent('optgroup');return{element:e,index:t,value:e.val(),label:e.text(),optgroup:s.attr('label')||'',disabled:s.prop('disabled')||e.prop('disabled')}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr('for',this.ids.element)}}]),e.widget('ui.slider',e.ui.mouse,{version:'1.12.1',widgetEventPrefix:'slide',options:{animate:!1,classes:{'ui-slider':'ui-corner-all','ui-slider-handle':'ui-corner-all','ui-slider-range':'ui-corner-all ui-widget-header'},distance:0,max:100,min:0,orientation:'horizontal',range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass('ui-slider ui-slider-'+this.orientation,'ui-widget ui-widget-content'),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,s,n=this.options,i=this.element.find('.ui-slider-handle'),a='<span tabindex=\'0\'></span>',o=[];for(s=n.values&&n.values.length||1,i.length>s&&(i.slice(s).remove(),i=i.slice(0,s)),t=i.length;s>t;t++)o.push(a);this.handles=i.add(e(o.join('')).appendTo(this.element)),this._addClass(this.handles,'ui-slider-handle','ui-state-default'),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data('ui-slider-handle-index',t).attr('tabIndex',0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,'ui-slider-range-min ui-slider-range-max'),this.range.css({left:'',bottom:''})):(this.range=e('<div>').appendTo(this.element),this._addClass(this.range,'ui-slider-range')),('min'===t.range||'max'===t.range)&&this._addClass(this.range,'ui-slider-range-'+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var s,n,i,a,o,r,l,c,d=this,g=this.options;return!g.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),s={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(s),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var s=Math.abs(n-d.values(t));(i>s||i===s&&(t===d._lastChangedValue||d.values(t)===g.min))&&(i=s,a=e(this),o=t)}),!1!==(r=this._start(t,o))&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(a,null,'ui-state-active'),a.trigger('focus'),l=a.offset(),c=!e(t.target).parents().addBack().is('.ui-slider-handle'),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-a.width()/2,top:t.pageY-l.top-a.height()/2-(parseInt(a.css('borderTopWidth'),10)||0)-(parseInt(a.css('borderBottomWidth'),10)||0)+(parseInt(a.css('marginTop'),10)||0)},this.handles.hasClass('ui-state-hover')||this._slide(t,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,s),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,'ui-state-active'),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation='vertical'===this.options.orientation?'vertical':'horizontal'},_normValueFromMouse:function(e){var t,s,n,i,a;return'horizontal'===this.orientation?(t=this.elementSize.width,s=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,s=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=s/t)>1&&(n=1),0>n&&(n=0),'vertical'===this.orientation&&(n=1-n),i=this._valueMax()-this._valueMin(),a=this._valueMin()+n*i,this._trimAlignValue(a)},_uiHash:function(e,t,s){var n={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==t?t:this.values(e),n.values=s||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger('start',e,this._uiHash(t))},_slide:function(e,t,s){var n,i,a=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(t?0:1),a=this.values(t),2===this.options.values.length&&!0===this.options.range&&(s=0===t?Math.min(i,s):Math.max(i,s)),o[t]=s),s!==a&&(!1!==(n=this._trigger('slide',e,this._uiHash(t,s,o)))&&(this._hasMultipleValues()?this.values(t,s):this.value(s)))},_stop:function(e,t){this._trigger('stop',e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger('change',e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,s){var n,i,a;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(s),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(n=this.options.values,i=arguments[0],a=0;n.length>a;a+=1)n[a]=this._trimAlignValue(i[a]),this._change(null,a);this._refreshValue()},_setOption:function(t,s){var n,i=0;switch('range'===t&&!0===this.options.range&&('min'===s?(this.options.value=this._values(0),this.options.values=null):'max'===s&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),this._super(t,s),t){case'orientation':this._detectOrientation(),this._removeClass('ui-slider-horizontal ui-slider-vertical')._addClass('ui-slider-'+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(s),this.handles.css('horizontal'===s?'bottom':'left','');break;case'value':this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case'values':for(this._animateOff=!0,this._refreshValue(),n=i-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case'step':case'min':case'max':this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case'range':this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,'ui-state-disabled',!!e)},_value:function(){var e=this.options.value;return this._trimAlignValue(e)},_values:function(e){var t,s,n;if(arguments.length)return t=this.options.values[e],this._trimAlignValue(t);if(this._hasMultipleValues()){for(s=this.options.values.slice(),n=0;s.length>n;n+=1)s[n]=this._trimAlignValue(s[n]);return s}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,s=(e-this._valueMin())%t,n=e-s;return 2*Math.abs(s)>=t&&(n+=s>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),s=this.options.step,n;(e=Math.round((e-t)/s)*s+t)>this.options.max&&(e-=s),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=''+e,s=t.indexOf('.');return-1===s?0:t.length-s-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){'vertical'===e&&this.range.css({width:'',left:''}),'horizontal'===e&&this.range.css({height:'',bottom:''})},_refreshValue:function(){var t,s,n,i,a,o=this.options.range,r=this.options,l=this,c=!this._animateOff&&r.animate,d={};this._hasMultipleValues()?this.handles.each(function(n){s=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,d['horizontal'===l.orientation?'left':'bottom']=s+'%',e(this).stop(1,1)[c?'animate':'css'](d,r.animate),!0===l.options.range&&('horizontal'===l.orientation?(0===n&&l.range.stop(1,1)[c?'animate':'css']({left:s+'%'},r.animate),1===n&&l.range[c?'animate':'css']({width:s-t+'%'},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[c?'animate':'css']({bottom:s+'%'},r.animate),1===n&&l.range[c?'animate':'css']({height:s-t+'%'},{queue:!1,duration:r.animate}))),t=s}):(n=this.value(),i=this._valueMin(),a=this._valueMax(),s=a!==i?(n-i)/(a-i)*100:0,d['horizontal'===this.orientation?'left':'bottom']=s+'%',this.handle.stop(1,1)[c?'animate':'css'](d,r.animate),'min'===o&&'horizontal'===this.orientation&&this.range.stop(1,1)[c?'animate':'css']({width:s+'%'},r.animate),'max'===o&&'horizontal'===this.orientation&&this.range.stop(1,1)[c?'animate':'css']({width:100-s+'%'},r.animate),'min'===o&&'vertical'===this.orientation&&this.range.stop(1,1)[c?'animate':'css']({height:s+'%'},r.animate),'max'===o&&'vertical'===this.orientation&&this.range.stop(1,1)[c?'animate':'css']({height:100-s+'%'},r.animate))},_handleEvents:{keydown:function(t){var s,n,i,a,o=e(t.target).data('ui-slider-handle-index');switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,'ui-state-active'),!1===(s=this._start(t,o))))return}switch(a=this.options.step,n=i=this._hasMultipleValues()?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+a);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-a)}this._slide(t,o,i)},keyup:function(t){var s=e(t.target).data('ui-slider-handle-index');this._keySliding&&(this._keySliding=!1,this._stop(t,s),this._change(t,s),this._removeClass(e(t.target),null,'ui-state-active'))}}}),e.widget('ui.sortable',e.ui.mouse,{version:'1.12.1',widgetEventPrefix:'sort',ready:!1,options:{appendTo:'parent',axis:!1,connectWith:!1,containment:!1,cursor:'auto',cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:'original',items:'> *',opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:'default',tolerance:'intersect',zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,s){return e>=t&&t+s>e},_isFloating:function(e){return/left|right/.test(e.css('float'))||/inline|table-cell/.test(e.css('display'))},_create:function(){this.containerCache={},this._addClass('ui-sortable'),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),'handle'===e&&this._setHandleClassName()},_setHandleClassName:function(){var t=this;this._removeClass(this.element.find('.ui-sortable-handle'),'ui-sortable-handle'),e.each(this.items,function(){t._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,'ui-sortable-handle')})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+'-item');return this},_mouseCapture:function(t,s){var n=null,i=!1,a=this;return!this.reverting&&(!this.options.disabled&&'static'!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,a.widgetName+'-item')===a?(n=e(this),!1):void 0}),e.data(t.target,a.widgetName+'-item')===a&&(n=e(t.target)),!!n&&(!(this.options.handle&&!s&&(e(this.options.handle,n).find('*').addBack().each(function(){this===t.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,s,n){var i,a,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css('position','absolute'),this.cssPosition=this.helper.css('position'),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&'auto'!==o.cursor&&(a=this.document.find('body'),this.storedCursor=a.css('cursor'),a.css('cursor',o.cursor),this.storedStylesheet=e('<style>*{ cursor: '+o.cursor+' !important; }</style>').appendTo(a)),o.opacity&&(this.helper.css('opacity')&&(this._storedOpacity=this.helper.css('opacity')),this.helper.css('opacity',o.opacity)),o.zIndex&&(this.helper.css('zIndex')&&(this._storedZIndex=this.helper.css('zIndex')),this.helper.css('zIndex',o.zIndex)),this.scrollParent[0]!==this.document[0]&&'HTML'!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger('start',t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger('activate',t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this._addClass(this.helper,'ui-sortable-helper'),this._mouseDrag(t),!0},_mouseDrag:function(t){var s,n,i,a,o=this.options,r=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo('absolute'),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&'HTML'!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-this.document.scrollTop()<o.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<o.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),t.pageX-this.document.scrollLeft()<o.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==r&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo('absolute'),this.options.axis&&'y'===this.options.axis||(this.helper[0].style.left=this.position.left+'px'),this.options.axis&&'x'===this.options.axis||(this.helper[0].style.top=this.position.top+'px'),s=this.items.length-1;s>=0;s--)if(i=(n=this.items[s]).item[0],(a=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===a?'next':'prev']()[0]!==i&&!e.contains(this.placeholder[0],i)&&('semi-dynamic'!==this.options.type||!e.contains(this.element[0],i))){if(this.direction=1===a?'down':'up','pointer'!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger('change',t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger('sort',t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,s){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,i=this.placeholder.offset(),a=this.options.axis,o={};a&&'x'!==a||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),a&&'y'!==a||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,s);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new e.Event('mouseup',{target:null})),'original'===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,'ui-sortable-helper')):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger('deactivate',null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger('out',null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),'original'!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var s=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(s).each(function(){var s=(e(t.item||this).attr(t.attribute||'id')||'').match(t.expression||/(.+)[\-=_](.+)/);s&&n.push((t.key||s[1]+'[]')+'='+(t.key&&t.expression?s[1]:s[2]))}),!n.length&&t.key&&n.push(t.key+'='),n.join('&')},toArray:function(t){var s=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},s.each(function(){n.push(e(t.item||this).attr(t.attribute||'id')||'')}),n},_intersectsWith:function(e){var t=this.positionAbs.left,s=t+this.helperProportions.width,n=this.positionAbs.top,i=n+this.helperProportions.height,a=e.left,o=a+e.width,r=e.top,l=r+e.height,c=this.offset.click.top,d=this.offset.click.left,g='x'===this.options.axis||n+c>r&&l>n+c,u='y'===this.options.axis||t+d>a&&o>t+d,h=g&&u;return'pointer'===this.options.tolerance||this.options.forcePointerForContainers||'pointer'!==this.options.tolerance&&this.helperProportions[this.floating?'width':'height']>e[this.floating?'width':'height']?h:t+this.helperProportions.width/2>a&&o>s-this.helperProportions.width/2&&n+this.helperProportions.height/2>r&&l>i-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t,s,n='x'===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i='y'===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),a;return!!(n&&i)&&(t=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection(),this.floating?'right'===s||'down'===t?2:1:t&&('down'===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),s=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?'right'===i&&s||'left'===i&&!s:n&&('down'===n&&t||'up'===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?'down':'up')},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?'right':'left')},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function s(){r.push(this)}var n,i,a,o,r=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(i=(a=e(c[n],this.document[0])).length-1;i>=0;i--)(o=e.data(a[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&l.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not('.ui-sortable-helper').not('.ui-sortable-placeholder'),o]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not('.ui-sortable-helper').not('.ui-sortable-placeholder'),this]),n=l.length-1;n>=0;n--)l[n][0].each(s);return e(r)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(':data('+this.widgetName+'-item)');this.items=e.grep(this.items,function(e){for(var s=0;t.length>s;s++)if(t[s]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var s,n,i,a,o,r,l,c,d=this.items,g=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],u=this._connectWith();if(u&&this.ready)for(s=u.length-1;s>=0;s--)for(n=(i=e(u[s],this.document[0])).length-1;n>=0;n--)(a=e.data(i[n],this.widgetFullName))&&a!==this&&!a.options.disabled&&(g.push([e.isFunction(a.options.items)?a.options.items.call(a.element[0],t,{item:this.currentItem}):e(a.options.items,a.element),a]),this.containers.push(a));for(s=g.length-1;s>=0;s--)for(o=g[s][1],n=0,c=(r=g[s][0]).length;c>n;n++)(l=e(r[n])).data(this.widgetName+'-item',o),d.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(t){var s,n,i,a;for(this.floating=!!this.items.length&&('x'===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),s=this.items.length-1;s>=0;s--)(n=this.items[s]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=i.outerWidth(),n.height=i.outerHeight()),a=i.offset(),n.left=a.left,n.top=a.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(s=this.containers.length-1;s>=0;s--)a=this.containers[s].element.offset(),this.containers[s].containerCache.left=a.left,this.containers[s].containerCache.top=a.top,this.containers[s].containerCache.width=this.containers[s].element.outerWidth(),this.containers[s].containerCache.height=this.containers[s].element.outerHeight();return this},_createPlaceholder:function(t){var s,n=(t=t||this).options;n.placeholder&&n.placeholder.constructor!==String||(s=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),i=e('<'+n+'>',t.document[0]);return t._addClass(i,'ui-sortable-placeholder',s||t.currentItem[0].className)._removeClass(i,'ui-sortable-helper'),'tbody'===n?t._createTrPlaceholder(t.currentItem.find('tr').eq(0),e('<tr>',t.document[0]).appendTo(i)):'tr'===n?t._createTrPlaceholder(t.currentItem,i):'img'===n&&i.attr('src',t.currentItem.attr('src')),s||i.css('visibility','hidden'),i},update:function(e,i){(!s||n.forcePlaceholderSize)&&(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css('paddingTop')||0,10)-parseInt(t.currentItem.css('paddingBottom')||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css('paddingLeft')||0,10)-parseInt(t.currentItem.css('paddingRight')||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,s){var n=this;t.children().each(function(){e('<td>&#160;</td>',n.document[0]).attr('colspan',e(this).attr('colspan')||1).appendTo(s)})},_contactContainers:function(t){var s,n,i,a,o,r,l,c,d,g,u=null,h=null;for(s=this.containers.length-1;s>=0;s--)if(!e.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(u&&e.contains(this.containers[s].element[0],u.element[0]))continue;u=this.containers[s],h=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger('out',t,this._uiHash(this)),this.containers[s].containerCache.over=0);if(u)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger('over',t,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(i=1e4,a=null,o=(d=u.floating||this._isFloating(this.currentItem))?'left':'top',r=d?'width':'height',g=d?'pageX':'pageY',n=this.items.length-1;n>=0;n--)e.contains(this.containers[h].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],c=!1,t[g]-l>this.items[n][r]/2&&(c=!0),i>Math.abs(t[g]-l)&&(i=Math.abs(t[g]-l),a=this.items[n],this.direction=c?'up':'down'));if(!a&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger('over',t,this._uiHash()),this.currentContainer.containerCache.over=1));a?this._rearrange(t,a,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger('change',t,this._uiHash()),this.containers[h]._trigger('change',t,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger('over',t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var s=this.options,n=e.isFunction(s.helper)?e(s.helper.apply(this.element[0],[t,this.currentItem])):'clone'===s.helper?this.currentItem.clone():this.currentItem;return n.parents('body').length||e('parent'!==s.appendTo?s.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css('position'),top:this.currentItem.css('top'),left:this.currentItem.css('left')}),(!n[0].style.width||s.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||s.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){'string'==typeof t&&(t=t.split(' ')),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),'left'in t&&(this.offset.click.left=t.left+this.margins.left),'right'in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),'top'in t&&(this.offset.click.top=t.top+this.margins.top),'bottom'in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return'absolute'===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&'html'===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css('borderTopWidth'),10)||0),left:t.left+(parseInt(this.offsetParent.css('borderLeftWidth'),10)||0)}},_getRelativeOffset:function(){if('relative'===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css('top'),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css('left'),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css('marginLeft'),10)||0,top:parseInt(this.currentItem.css('marginTop'),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,s,n,i=this.options;'parent'===i.containment&&(i.containment=this.helper[0].parentNode),('document'===i.containment||'window'===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,'document'===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,('document'===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],s=e(i.containment).offset(),n='hidden'!==e(t).css('overflow'),this.containment=[s.left+(parseInt(e(t).css('borderLeftWidth'),10)||0)+(parseInt(e(t).css('paddingLeft'),10)||0)-this.margins.left,s.top+(parseInt(e(t).css('borderTopWidth'),10)||0)+(parseInt(e(t).css('paddingTop'),10)||0)-this.margins.top,s.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css('borderLeftWidth'),10)||0)-(parseInt(e(t).css('paddingRight'),10)||0)-this.helperProportions.width-this.margins.left,s.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css('borderTopWidth'),10)||0)-(parseInt(e(t).css('paddingBottom'),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,s){s||(s=this.position);var n='absolute'===t?1:-1,i='absolute'!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(i[0].tagName);return{top:s.top+this.offset.relative.top*n+this.offset.parent.top*n-('fixed'===this.cssPosition?-this.scrollParent.scrollTop():a?0:i.scrollTop())*n,left:s.left+this.offset.relative.left*n+this.offset.parent.left*n-('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():a?0:i.scrollLeft())*n}},_generatePosition:function(t){var s,n,i=this.options,a=t.pageX,o=t.pageY,r='absolute'!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return'relative'!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(a=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(a=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(s=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?s-this.offset.click.top>=this.containment[1]&&s-this.offset.click.top<=this.containment[3]?s:s-this.offset.click.top>=this.containment[1]?s-i.grid[1]:s+i.grid[1]:s,n=this.originalPageX+Math.round((a-this.originalPageX)/i.grid[0])*i.grid[0],a=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+('fixed'===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+('fixed'===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(e,t,s,n){s?s[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],'down'===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function s(e,t,s){return function(n){s._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)('auto'===this._storedCSS[n]||'static'===this._storedCSS[n])&&(this._storedCSS[n]='');this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,'ui-sortable-helper')}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger('receive',e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not('.ui-sortable-helper')[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger('update',e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger('remove',e,this._uiHash())}),i.push(function(e){return function(t){e._trigger('receive',t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger('update',t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||i.push(s('deactivate',this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(s('out',this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find('body').css('cursor',this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css('opacity',this._storedOpacity),this._storedZIndex&&this.helper.css('zIndex','auto'===this._storedZIndex?'':this._storedZIndex),this.dragging=!1,t||this._trigger('beforeStop',e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;i.length>n;n++)i[n].call(this,e);this._trigger('stop',e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===e.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(t){var s=t||this;return{helper:s.helper,placeholder:s.placeholder||e([]),position:s.position,originalPosition:s.originalPosition,offset:s.positionAbs,item:s.currentItem,sender:t?t.element:null}}}),e.widget('ui.spinner',{version:'1.12.1',defaultElement:'<input>',widgetEventPrefix:'spin',options:{classes:{'ui-spinner':'ui-corner-all','ui-spinner-down':'ui-corner-br','ui-spinner-up':'ui-corner-tr'},culture:null,icons:{down:'ui-icon-triangle-1-s',up:'ui-icon-triangle-1-n'},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption('max',this.options.max),this._setOption('min',this.options.min),this._setOption('step',this.options.step),''!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr('autocomplete')}})},_getCreateOptions:function(){var t=this._super(),s=this.element;return e.each(['min','max','step'],function(e,n){var i=s.attr(n);null!=i&&i.length&&(t[n]=i)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:'_stop',focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger('change',e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},'mousedown .ui-spinner-button':function(t){function s(){var t;this.element[0]===e.ui.safeActiveElement(this.document[0])||(this.element.trigger('focus'),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===e.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),t.preventDefault(),s.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,s.call(this)}),!1!==this._start(t)&&this._repeat(null,e(t.currentTarget).hasClass('ui-spinner-up')?1:-1,t)},'mouseup .ui-spinner-button':'_stop','mouseenter .ui-spinner-button':function(t){return e(t.currentTarget).hasClass('ui-state-active')?!1!==this._start(t)&&void this._repeat(null,e(t.currentTarget).hasClass('ui-spinner-up')?1:-1,t):void 0},'mouseleave .ui-spinner-button':'_stop'},_enhance:function(){this.uiSpinner=this.element.attr('autocomplete','off').wrap('<span>').parent().append('<a></a><a></a>')},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,'ui-spinner','ui-widget ui-widget-content'),this._addClass('ui-spinner-input'),this.element.attr('role','spinbutton'),this.buttons=this.uiSpinner.children('a').attr('tabIndex',-1).attr('aria-hidden',!0).button({classes:{'ui-button':''}}),this._removeClass(this.buttons,'ui-corner-all'),this._addClass(this.buttons.first(),'ui-spinner-button ui-spinner-up'),this._addClass(this.buttons.last(),'ui-spinner-button ui-spinner-down'),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(t){var s=this.options,n=e.ui.keyCode;switch(t.keyCode){case n.UP:return this._repeat(null,1,t),!0;case n.DOWN:return this._repeat(null,-1,t),!0;case n.PAGE_UP:return this._repeat(null,s.page,t),!0;case n.PAGE_DOWN:return this._repeat(null,-s.page,t),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger('start',e))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,s){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,s)},e),this._spin(t*this.options.step,s)},_spin:function(e,t){var s=this.value()||0;this.counter||(this.counter=1),s=this._adjustValue(s+e*this._increment(this.counter)),this.spinning&&!1===this._trigger('spin',t,{value:s})||(this._value(s),this.counter++)},_increment:function(t){var s=this.options.incremental;return s?e.isFunction(s)?s(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=''+e,s=t.indexOf('.');return-1===s?0:t.length-s-1},_adjustValue:function(e){var t,s,n=this.options;return s=e-(t=null!==n.min?n.min:0),e=t+(s=Math.round(s/n.step)*n.step),e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&n.min>e?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger('stop',e))},_setOption:function(e,t){var s,n,i;return'culture'===e||'numberFormat'===e?(s=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(s))):(('max'===e||'min'===e||'step'===e)&&'string'==typeof t&&(t=this._parse(t)),'icons'===e&&(n=this.buttons.first().find('.ui-icon'),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,t.up),i=this.buttons.last().find('.ui-icon'),this._removeClass(i,null,this.options.icons.down),this._addClass(i,null,t.down)),void this._super(e,t))},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,'ui-state-disabled',!!e),this.element.prop('disabled',!!e),this.buttons.button(e?'disable':'enable')},_setOptions:r(function(e){this._super(e)}),_parse:function(e){return'string'==typeof e&&''!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),''===e||isNaN(e)?null:e},_format:function(e){return''===e?'':window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({'aria-valuemin':this.options.min,'aria-valuemax':this.options.max,'aria-valuenow':this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var s;''!==e&&(null!==(s=this._parse(e))&&(t||(s=this._adjustValue(s)),e=this._format(s))),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop('disabled',!1).removeAttr('autocomplete role aria-valuemin aria-valuemax aria-valuenow'),this.uiSpinner.replaceWith(this.element)},stepUp:r(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:r(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:r(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:r(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void r(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),!1!==e.uiBackCompat&&e.widget('ui.spinner',e.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr('autocomplete','off').wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return'<span>'},_buttonHtml:function(){return'<a></a><a></a>'}}),e.ui.spinner,e.widget('ui.tabs',{version:'1.12.1',delay:300,options:{active:null,classes:{'ui-tabs':'ui-corner-all','ui-tabs-nav':'ui-corner-all','ui-tabs-panel':'ui-corner-bottom','ui-tabs-tab':'ui-corner-top'},collapsible:!1,event:'click',heightStyle:'content',hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var s,n;s=t.href.replace(e,''),n=location.href.replace(e,'');try{s=decodeURIComponent(s)}catch(e){}try{n=decodeURIComponent(n)}catch(e){}return t.hash.length>1&&s===n}}(),_create:function(){var t=this,s=this.options;this.running=!1,this._addClass('ui-tabs','ui-widget ui-widget-content'),this._toggleClass('ui-tabs-collapsible',null,s.collapsible),this._processTabs(),s.active=this._initialActive(),e.isArray(s.disabled)&&(s.disabled=e.unique(s.disabled.concat(e.map(this.tabs.filter('.ui-state-disabled'),function(e){return t.tabs.index(e)}))).sort()),this.active=!1!==this.options.active&&this.anchors.length?this._findActive(s.active):e(),this._refresh(),this.active.length&&this.load(s.active)},_initialActive:function(){var t=this.options.active,s=this.options.collapsible,n=location.hash.substring(1);return null===t&&(n&&this.tabs.each(function(s,i){return e(i).attr('aria-controls')===n?(t=s,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter('.ui-tabs-active'))),(null===t||-1===t)&&(t=!!this.tabs.length&&0)),!1!==t&&(-1===(t=this.tabs.index(this.tabs.eq(t)))&&(t=!s&&0)),!s&&!1===t&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var s=e(e.ui.safeActiveElement(this.document[0])).closest('li'),n=this.tabs.index(s),i=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:n++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:i=!1,n--;break;case e.ui.keyCode.END:n=this.anchors.length-1;break;case e.ui.keyCode.HOME:n=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}t.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),t.ctrlKey||t.metaKey||(s.attr('aria-selected','false'),this.tabs.eq(n).attr('aria-selected','true'),this.activating=this._delay(function(){this.option('active',n)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.trigger('focus'))},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,s){function n(){return t>i&&(t=0),0>t&&(t=i),t}for(var i=this.tabs.length-1;-1!==e.inArray(n(),this.options.disabled);)t=s?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger('focus'),e},_setOption:function(e,t){return'active'===e?void this._activate(t):(this._super(e,t),'collapsible'===e&&(this._toggleClass('ui-tabs-collapsible',null,t),t||!1!==this.options.active||this._activate(0)),'event'===e&&this._setupEvents(t),void('heightStyle'===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,'\\$&'):''},refresh:function(){var t=this.options,s=this.tablist.children(':has(a[href])');t.disabled=e.map(s.filter('.ui-state-disabled'),function(e){return s.index(e)}),this._processTabs(),!1!==t.active&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({'aria-selected':'false','aria-expanded':'false',tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({'aria-hidden':'true'}),this.active.length?(this.active.attr({'aria-selected':'true','aria-expanded':'true',tabIndex:0}),this._addClass(this.active,'ui-tabs-active','ui-state-active'),this._getPanelForTab(this.active).show().attr({'aria-hidden':'false'})):this.tabs.eq(0).attr('tabIndex',0)},_processTabs:function(){var t=this,s=this.tabs,n=this.anchors,i=this.panels;this.tablist=this._getList().attr('role','tablist'),this._addClass(this.tablist,'ui-tabs-nav','ui-helper-reset ui-helper-clearfix ui-widget-header'),this.tablist.on('mousedown'+this.eventNamespace,'> li',function(t){e(this).is('.ui-state-disabled')&&t.preventDefault()}).on('focus'+this.eventNamespace,'.ui-tabs-anchor',function(){e(this).closest('li').is('.ui-state-disabled')&&this.blur()}),this.tabs=this.tablist.find('> li:has(a[href])').attr({role:'tab',tabIndex:-1}),this._addClass(this.tabs,'ui-tabs-tab','ui-state-default'),this.anchors=this.tabs.map(function(){return e('a',this)[0]}).attr({role:'presentation',tabIndex:-1}),this._addClass(this.anchors,'ui-tabs-anchor'),this.panels=e(),this.anchors.each(function(s,n){var i,a,o,r=e(n).uniqueId().attr('id'),l=e(n).closest('li'),c=l.attr('aria-controls');t._isLocal(n)?(o=(i=n.hash).substring(1),a=t.element.find(t._sanitizeSelector(i))):(i='#'+(o=l.attr('aria-controls')||e({}).uniqueId()[0].id),(a=t.element.find(i)).length||(a=t._createPanel(o)).insertAfter(t.panels[s-1]||t.tablist),a.attr('aria-live','polite')),a.length&&(t.panels=t.panels.add(a)),c&&l.data('ui-tabs-aria-controls',c),l.attr({'aria-controls':o,'aria-labelledby':r}),a.attr('aria-labelledby',r)}),this.panels.attr('role','tabpanel'),this._addClass(this.panels,'ui-tabs-panel','ui-widget-content'),s&&(this._off(s.not(this.tabs)),this._off(n.not(this.anchors)),this._off(i.not(this.panels)))},_getList:function(){return this.tablist||this.element.find('ol, ul').eq(0)},_createPanel:function(t){return e('<div>').attr('id',t).data('ui-tabs-destroy',!0)},_setOptionDisabled:function(t){var s,n,i;for(e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1),i=0;n=this.tabs[i];i++)s=e(n),!0===t||-1!==e.inArray(i,t)?(s.attr('aria-disabled','true'),this._addClass(s,null,'ui-state-disabled')):(s.removeAttr('aria-disabled'),this._removeClass(s,null,'ui-state-disabled'));this.options.disabled=t,this._toggleClass(this.widget(),this.widgetFullName+'-disabled',null,!0===t)},_setupEvents:function(t){var s={};t&&e.each(t.split(' '),function(e,t){s[t]='_eventHandler'}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,s),this._on(this.tabs,{keydown:'_tabKeydown'}),this._on(this.panels,{keydown:'_panelKeydown'}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var s,n=this.element.parent();'fill'===t?(s=n.height(),s-=this.element.outerHeight()-this.element.height(),this.element.siblings(':visible').each(function(){var t=e(this),n=t.css('position');'absolute'!==n&&'fixed'!==n&&(s-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){s-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,s-e(this).innerHeight()+e(this).height()))}).css('overflow','auto')):'auto'===t&&(s=0,this.panels.each(function(){s=Math.max(s,e(this).height('').height())}).height(s))},_eventHandler:function(t){var s=this.options,n=this.active,i,a=e(t.currentTarget).closest('li'),o=a[0]===n[0],r=o&&s.collapsible,l=r?e():this._getPanelForTab(a),c=n.length?this._getPanelForTab(n):e(),d={oldTab:n,oldPanel:c,newTab:r?e():a,newPanel:l};t.preventDefault(),a.hasClass('ui-state-disabled')||a.hasClass('ui-tabs-loading')||this.running||o&&!s.collapsible||!1===this._trigger('beforeActivate',t,d)||(s.active=!r&&this.tabs.index(a),this.active=o?e():a,this.xhr&&this.xhr.abort(),c.length||l.length||e.error('jQuery UI Tabs: Mismatching fragment identifier.'),l.length&&this.load(this.tabs.index(a),t),this._toggle(t,d))},_toggle:function(t,s){function n(){a.running=!1,a._trigger('activate',t,s)}function i(){a._addClass(s.newTab.closest('li'),'ui-tabs-active','ui-state-active'),o.length&&a.options.show?a._show(o,a.options.show,n):(o.show(),n())}var a=this,o=s.newPanel,r=s.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){a._removeClass(s.oldTab.closest('li'),'ui-tabs-active','ui-state-active'),i()}):(this._removeClass(s.oldTab.closest('li'),'ui-tabs-active','ui-state-active'),r.hide(),i()),r.attr('aria-hidden','true'),s.oldTab.attr({'aria-selected':'false','aria-expanded':'false'}),o.length&&r.length?s.oldTab.attr('tabIndex',-1):o.length&&this.tabs.filter(function(){return 0===e(this).attr('tabIndex')}).attr('tabIndex',-1),o.attr('aria-hidden','false'),s.newTab.attr({'aria-selected':'true','aria-expanded':'true',tabIndex:0})},_activate:function(t){var s,n=this._findActive(t);n[0]!==this.active[0]&&(n.length||(n=this.active),s=n.find('.ui-tabs-anchor')[0],this._eventHandler({target:s,currentTarget:s,preventDefault:e.noop}))},_findActive:function(t){return!1===t?e():this.tabs.eq(t)},_getIndex:function(t){return'string'==typeof t&&(t=this.anchors.index(this.anchors.filter('[href$=\''+e.ui.escapeSelector(t)+'\']'))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr('role').off(this.eventNamespace),this.anchors.removeAttr('role tabIndex').removeUniqueId(),this.tabs.add(this.panels).each(function(){e.data(this,'ui-tabs-destroy')?e(this).remove():e(this).removeAttr('role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded')}),this.tabs.each(function(){var t=e(this),s=t.data('ui-tabs-aria-controls');s?t.attr('aria-controls',s).removeData('ui-tabs-aria-controls'):t.removeAttr('aria-controls')}),this.panels.show(),'content'!==this.options.heightStyle&&this.panels.css('height','')},enable:function(t){var s=this.options.disabled;!1!==s&&(void 0===t?s=!1:(t=this._getIndex(t),s=e.isArray(s)?e.map(s,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,s){return s!==t?s:null})),this._setOptionDisabled(s))},disable:function(t){var s=this.options.disabled;if(!0!==s){if(void 0===t)s=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,s))return;s=e.isArray(s)?e.merge([t],s).sort():[t]}this._setOptionDisabled(s)}},load:function(t,s){t=this._getIndex(t);var n=this,i=this.tabs.eq(t),a=i.find('.ui-tabs-anchor'),o=this._getPanelForTab(i),r={tab:i,panel:o},l=function(e,t){'abort'===t&&n.panels.stop(!1,!0),n._removeClass(i,'ui-tabs-loading'),o.removeAttr('aria-busy'),e===n.xhr&&delete n.xhr};this._isLocal(a[0])||(this.xhr=e.ajax(this._ajaxSettings(a,s,r)),this.xhr&&'canceled'!==this.xhr.statusText&&(this._addClass(i,'ui-tabs-loading'),o.attr('aria-busy','true'),this.xhr.done(function(e,t,i){setTimeout(function(){o.html(e),n._trigger('load',s,r),l(i,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,s,n){var i=this;return{url:t.attr('href').replace(/#.*$/,''),beforeSend:function(t,a){return i._trigger('beforeLoad',s,e.extend({jqXHR:t,ajaxSettings:a},n))}}},_getPanelForTab:function(t){var s=e(t).attr('aria-controls');return this.element.find(this._sanitizeSelector('#'+s))}}),!1!==e.uiBackCompat&&e.widget('ui.tabs',e.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,'ui-tab')}}),e.ui.tabs,e.widget('ui.tooltip',{version:'1.12.1',options:{classes:{'ui-tooltip':'ui-corner-all ui-widget-shadow'},content:function(){var t=e(this).attr('title')||'';return e('<a>').text(t).html()},hide:!0,items:'[title]:not([disabled])',position:{my:'left top+15',at:'left bottom',collision:'flipfit flip'},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(t,s){var n=(t.attr('aria-describedby')||'').split(/\s+/);n.push(s),t.data('ui-tooltip-id',s).attr('aria-describedby',e.trim(n.join(' ')))},_removeDescribedBy:function(t){var s=t.data('ui-tooltip-id'),n=(t.attr('aria-describedby')||'').split(/\s+/),i=e.inArray(s,n);-1!==i&&n.splice(i,1),t.removeData('ui-tooltip-id'),(n=e.trim(n.join(' ')))?t.attr('aria-describedby',n):t.removeAttr('aria-describedby')},_create:function(){this._on({mouseover:'open',focusin:'open'}),this.tooltips={},this.parents={},this.liveRegion=e('<div>').attr({role:'log','aria-live':'assertive','aria-relevant':'additions'}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,'ui-helper-hidden-accessible'),this.disabledTitles=e([])},_setOption:function(t,s){var n=this;this._super(t,s),'content'===t&&e.each(this.tooltips,function(e,t){n._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?'_disable':'_enable']()},_disable:function(){var t=this;e.each(this.tooltips,function(s,n){var i=e.Event('blur');i.target=i.currentTarget=n.element[0],t.close(i,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var t=e(this);return t.is('[title]')?t.data('ui-tooltip-title',t.attr('title')).removeAttr('title'):void 0}))},_enable:function(){this.disabledTitles.each(function(){var t=e(this);t.data('ui-tooltip-title')&&t.attr('title',t.data('ui-tooltip-title'))}),this.disabledTitles=e([])},open:function(t){var s=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data('ui-tooltip-id')&&(n.attr('title')&&n.data('ui-tooltip-title',n.attr('title')),n.data('ui-tooltip-open',!0),t&&'mouseover'===t.type&&n.parents().each(function(){var t,n=e(this);n.data('ui-tooltip-open')&&((t=e.Event('blur')).target=t.currentTarget=this,s.close(t,!0)),n.attr('title')&&(n.uniqueId(),s.parents[this.id]={element:this,title:n.attr('title')},n.attr('title',''))}),this._registerCloseHandlers(t,n),this._updateContent(n,t))},_updateContent:function(e,t){var s,n=this.options.content,i=this,a=t?t.type:null;return'string'==typeof n||n.nodeType||n.jquery?this._open(t,e,n):void((s=n.call(e[0],function(s){i._delay(function(){e.data('ui-tooltip-open')&&(t&&(t.type=a),this._open(t,e,s))})}))&&this._open(t,e,s))},_open:function(t,s,n){function i(e){c.of=e,o.is(':hidden')||o.position(c)}var a,o,r,l,c=e.extend({},this.options.position);if(n){if(a=this._find(s))return void a.tooltip.find('.ui-tooltip-content').html(n);s.is('[title]')&&(t&&'mouseover'===t.type?s.attr('title',''):s.removeAttr('title')),a=this._tooltip(s),o=a.tooltip,this._addDescribedBy(s,o.attr('id')),o.find('.ui-tooltip-content').html(n),this.liveRegion.children().hide(),(l=e('<div>').html(o.find('.ui-tooltip-content').html())).removeAttr('name').find('[name]').removeAttr('name'),l.removeAttr('id').find('[id]').removeAttr('id'),l.appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:i}),i(t)):o.position(e.extend({of:s},this.options.position)),o.hide(),this._show(o,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){o.is(':visible')&&(i(c.of),clearInterval(r))},e.fx.interval)),this._trigger('open',t,{tooltip:o})}},_registerCloseHandlers:function(t,s){var n={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=s[0],this.close(n,!0)}}};s[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(s).tooltip)}),t&&'mouseover'!==t.type||(n.mouseleave='close'),t&&'focusin'!==t.type||(n.focusout='close'),this._on(!0,s,n)},close:function(t){var s,n=this,i=e(t?t.currentTarget:this.element),a=this._find(i);return a?(s=a.tooltip,void(a.closing||(clearInterval(this.delayedShow),i.data('ui-tooltip-title')&&!i.attr('title')&&i.attr('title',i.data('ui-tooltip-title')),this._removeDescribedBy(i),a.hiding=!0,s.stop(!0),this._hide(s,this.options.hide,function(){n._removeTooltip(e(this))}),i.removeData('ui-tooltip-open'),this._off(i,'mouseleave focusout keyup'),i[0]!==this.element[0]&&this._off(i,'remove'),this._off(this.document,'mousemove'),t&&'mouseleave'===t.type&&e.each(this.parents,function(t,s){e(s.element).attr('title',s.title),delete n.parents[t]}),a.closing=!0,this._trigger('close',t,{tooltip:s}),a.hiding||(a.closing=!1)))):void i.removeData('ui-tooltip-open')},_tooltip:function(t){var s=e('<div>').attr('role','tooltip'),n=e('<div>').appendTo(s),i=s.uniqueId().attr('id');return this._addClass(n,'ui-tooltip-content'),this._addClass(s,'ui-tooltip','ui-widget ui-widget-content'),s.appendTo(this._appendTo(t)),this.tooltips[i]={element:t,tooltip:s}},_find:function(e){var t=e.data('ui-tooltip-id');return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr('id')]},_appendTo:function(e){var t=e.closest('.ui-front, dialog');return t.length||(t=this.document[0].body),t},_destroy:function(){var t=this;e.each(this.tooltips,function(s,n){var i=e.Event('blur'),a=n.element;i.target=i.currentTarget=a[0],t.close(i,!0),e('#'+s).remove(),a.data('ui-tooltip-title')&&(a.attr('title')||a.attr('title',a.data('ui-tooltip-title')),a.removeData('ui-tooltip-title'))}),this.liveRegion.remove()}}),!1!==e.uiBackCompat&&e.widget('ui.tooltip',e.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}}),e.ui.tooltip}),Parsedown=(()=>{function e(e,t){return t=t?`${t}`.replace(/([[\]().?/*{}+$^:])/g,'\\$1'):' \\sÂ ',`${e}`.replace(new RegExp(`[${t}]+$`,'g'),'')}function t(e,t){let s,n,i;for(e+='',i=' \n\r\t\f\vÂ ââââââââââââ\u2028\u2029ã',t&&(i=`${t}`.replace(/([[\]().?/*{}+$^:])/g,'$1')),s=0,n=e.length;s<n;++s)if(-1===i.indexOf(e.charAt(s))){e=e.substring(s);break}for(s=e.length-1;s>-1;--s)if(-1===i.indexOf(e.charAt(s))){e=e.substring(0,s+1);break}return-1===i.indexOf(e.charAt(0))?e:''}function s(e){let t,s;for(e=`${e}`,getWholeChar=((e,t)=>{let s,n,i;if(n=i='',(s=e.charCodeAt(t))>=55296&&s<=56319){if(e.length<=t+1)throw new Error('High surrogate without following low surrogate');if((n=e.charCodeAt(t+1))<56320||n>57343)throw new Error('High surrogate without following low surrogate');return e.charAt(t)+e.charAt(t+1)}if(s>=56320&&s<=57343){if(0===t)throw new Error('Low surrogate without preceding high surrogate');if((i=e.charCodeAt(t-1))<55296||i>56319)throw new Error('Low surrogate without preceding high surrogate');return!1}return e.charAt(t)}),s=0,t=0,n=e.length;t<n;++t)!1!==getWholeChar(e,t)&&(s+=1);return s}function a(e,t){let s,n;for(s=0,n=e.length;s<n;++s)if(t.indexOf(e.charAt(s))>=0)return e.slice(s);return!1}let o,r;r={blockTypes:{'#':['Header'],'*':['Rule','List'],'+':['List'],'-':['SetextHeader','Table','Rule','List'],0:['List'],1:['List'],2:['List'],3:['List'],4:['List'],5:['List'],6:['List'],7:['List'],8:['List'],9:['List'],':':['Table'],'<':['Comment','Markup'],'=':['SetextHeader'],'>':['Quote'],'[':['Reference'],_:['Rule'],'`':['FencedCode'],'|':['Table'],'~':['FencedCode']},breaksEnabled:!1,definitionData:{},emRegex:{'*':/^[*]((?:\\\\\*|[^*]|[*][*][^*]+?[*][*])+?)[*](?![*])/,_:/^_((?:\\\\_|[^_]|__[^_]*__)+?)_(?!_)\b/u},inlineMarkerList:'!"*_&[:<>`~\\',inlineTypes:{'"':['SpecialCharacter'],'!':['Image'],'&':['SpecialCharacter'],'*':['Emphasis'],':':['Url'],'<':['UrlTag','EmailTag','Markup','SpecialCharacter'],'>':['SpecialCharacter'],'[':['Link'],_:['Emphasis'],'`':['Code'],'~':['Strikethrough'],'\\':['EscapeSequence']},markupEscaped:!1,regexHtmlAttribute:'[a-zA-Z_:][w:.-]*(?:s*=s*(?:[^"\'=<>`s]+|"[^"]*"|\'[^\']*\'))?',specialCharacters:['\\','`','*','_','{','}','[',']','(',')','>','#','+','-','.','!','|'],strongRegex:{'*':/^[*]{2}((?:\\\\\*|[^*]|[*][^*]*[*])+?)[*]{2}(?![*])/,_:/^__((?:\\\\_|[^_]|_[^_]*_)+?)__(?!_)/u},textLevelElements:['a','br','bdo','abbr','blink','nextid','acronym','basefont','b','em','big','cite','small','spacer','listing','i','rp','del','code','strike','marquee','q','rt','ins','font','strong','s','tt','kbd','mark','u','xm','sub','nobr','sup','ruby','var','span','wbr','time'],unmarkedBlockTypes:['Code'],urlsLinked:!0,voidElements:['area','base','br','col','command','embed','hr','img','input','link','meta','param','source']},o={lines:t=>{let s,n,i,a,l,c,d,g,u,h,m,p,f,v,x;l=null,n=[];e:for(c=0,p=t.length;c<p;++c)if(''!==e(u=t[c])){for(u.indexOf('\t')>-1&&(v=u.split('\t'),u=v.shift(),v.forEach(e=>{u+=`${' '.repeat(4-u.length%4)}${e}`})),g=0;o.isSet(u[g])&&' '===u[g];)g+=1;if(x=g>0?u.slice(g):u,u={body:u,indent:g,text:x},o.isSet(l)&&o.isSet(l.continuable)){if(s=o[`block${l.type}Continue`](u,l),o.isSet(s)){l=s;continue}o.isBlockCompletable(l.type)&&(l=o[`block${l.type}Complete`](l))}for(h=x[0],a=r.unmarkedBlockTypes.slice(0),o.isSet(r.blockTypes[h])&&r.blockTypes[h].forEach(e=>{a.push(e)}),d=0,f=a.length;d<f;++d)if(i=a[d],s=o[`block${i}`](u,l),o.isSet(s)){s.type=i,o.isSet(s.identified)||(n.push(l),s.identified=!0),o.isBlockContinuable(i)&&(s.continuable=!0),l=s;continue e}!o.isSet(l)||o.isSet(l.type)||o.isSet(l.interrupted)?(n.push(l),(l=o.paragraph(u)).identified=!0):l.element.text+=`\n${x}`}else o.isSet(l)&&(l.interrupted=!0);for(o.isSet(l)&&o.isSet(l.continuable)&&o.isBlockCompletable(l.type)&&(l=o[`block${l.type}Complete`](l)),n.push(l),n.shift(),m='',c=0,p=n.length;c<p;++c)s=n[c],o.isSet(s.hidden)||(m+=`\n${o.isSet(s.markup)?s.markup:o.element(s.element)}`);return m+='\n'},isBlockContinuable:e=>void 0!==o[`block${e}Continue`],isBlockCompletable:e=>void 0!==o[`block${e}Complete`],isSet:e=>void 0!==e&&null!==e,blockCode:(e,t=null)=>{if(!o.isSet(t)||o.isSet(t.type)||o.isSet(t.interrupted))return e.indent>=4?{element:{handler:'element',name:'pre',text:{name:'code',text:e.body.slice(4)}}}:void 0},blockCodeContinue:(e,t)=>{if(e.indent>=4)return o.isSet(t.interrupted)&&(t.element.text.text+='\n',delete t.interrupted),t.element.text.text+=`\n${e.body.slice(4)}`,t},blockCodeComplete:e=>(e.element.text.text=e.element.text.text.replace(/</g,'&lt;').replace(/>/g,'&gt;'),e),blockComment:e=>{if(!r.markupEscaped&&o.isSet(e.text[3])&&'-'===e.text[3]&&'-'===e.text[2]&&'!'===e.text[1]){let t={markup:e.body};return e.text.match(/-->$/)&&(t.closed=!0),t}},blockCommentContinue:(e,t)=>{if(!o.isSet(t.closed))return t.markup+=`\n${e.body}`,e.text.match(/-->$/)&&(t.closed=!0),t},blockFencedCode:e=>{let t=e.text.match(new RegExp(`^[${e.text[0]}]{3,}[ ]*([w-]+)?[ ]*$`));if(t){let s={name:'code',text:''};return o.isSet(t[1])&&(s.attributes={class:`language-${t[1]}`}),{char:e.text[0],element:{handler:'element',name:'pre',text:s}}}},blockFencedCodeContinue:(e,t)=>{if(!o.isSet(t.complete))return o.isSet(t.interrupted)&&(t.element.text.text+='\n',delete t.interrupted),e.text.match(new RegExp(`^${t.char}{3,}[ ]*$`))?(t.element.text.text=t.element.text.text.slice(1),t.complete=!0,t):(t.element.text.text+=`\n${e.body}`,t)},blockFencedCodeComplete:e=>(e.element.text.text=e.element.text.text.replace(/</g,'&lt;').replace(/>/g,'&gt;'),e),blockHeader:e=>{if(o.isSet(e.text[1])){let s=1;for(;o.isSet(e.text[s])&&'#'===e.text[s];)s+=1;if(s>6)return;return{element:{handler:'line',name:`h${Math.min(6,s)}`,text:t(e.text,'# ')}}}},blockList:e=>{let t,s,n;if([s,n]=e.text[0]<='-'?['ul','[*+-]']:['ol','[0-9]+[.]'],t=e.text.match(new RegExp(`^(${n}[ ]+)(.*)`))){let i={element:{handler:'elements',name:s},indent:e.indent,pattern:n};if('ol'===s){let e=t[0].slice(0,t[0].indexOf('.'));'1'!==e&&(i.element.attributes={start:e})}return i.li={handler:'li',name:'li',text:[t[2]]},i.element.text=[i.li],i}},blockListContinue:(e,t)=>{let s=e.text.match(new RegExp(`^${t.pattern}(?:[ ]+(.*)|$)`));return t.indent===e.indent&&s?(o.isSet(t.interrupted)&&(t.li.text.push(''),delete t.interrupted),delete t.li,t.li={handler:'li',name:'li',text:[o.isSet(s[1])?s[1]:'']},t.element.text.push(t.li),t):'['===e.text[0]&&o.blockReference(e)?t:o.isSet(t.interrupted)?e.indent>0?(t.li.text.push(''),t.li.text.push(e.body.replace(/^[ ]{0,4}/,'')),delete t.interrupted,t):void 0:(t.li.text.push(e.body.replace(/^[ ]{0,4}/,'')),t)},blockQuote:e=>{let t=e.text.match(/^>[ ]?(.*)/);if(t)return{element:{handler:'lines',name:'blockquote',text:[t[1]]}}},blockQuoteContinue:(e,t)=>{let s=e.text.match(/^>[ ]?(.*)/);return'>'===e.text[0]&&s?(o.isSet(t.interrupted)&&(t.element.text.push(''),delete t.interrupted),t.element.text.push(s[1]),t):o.isSet(t.interrupted)?void 0:(t.element.text.push(e.text),t)},blockRule:e=>{if(e.text.match(new RegExp(`^([${e.text[0]}])([ ]*\\1){2,}[ ]*$`)))return{element:{name:'hr'}}},blockSetextHeader:(t,s=null)=>{if(o.isSet(s)&&!o.isSet(s.type)&&!o.isSet(s.interrupted))return''===e(t.text,t.text[0])?(s.element.name='='===t.text[0]?'h1':'h2',s):void 0},blockMarkup:e=>{if(r.markupEscaped)return;let n=e.text.match(new RegExp(`^<(w*)(?:[ ]*${r.regexHtmlAttribute})*[ ]*(/)?>`));if(n){if(r.textLevelElements.indexOf(n[1].toLowerCase())>-1)return;let i,a;if(i={depth:0,markup:e.text,name:n[1]},''===t(a=e.text.slice(s(n[0]))))(o.isSet(n[2])||r.voidElements.indexOf(n[1])>-1)&&(i.closed=!0,i.void=!0);else{if(o.isSet(n[2])||r.voidElements.indexOf(n[1])>-1)return;a.match(new RegExp(`</${n[1]}>[ ]*$`,'i'))&&(i.closed=!0)}return i}},blockMarkupContinue:(e,t)=>{if(o.isSet(t.closed))return;let s;return e.text.match(new RegExp(`^<${t.name}(?:[ ]*${r.regexHtmlAttribute})*[ ]*>`,'i'))&&(t.depth+=1),e.text.match(new RegExp(`(.*?)</${t.name}>[ ]*$`,'i'))&&(t.depth>0?t.depth-=1:t.closed=!0),o.isSet(t.interrupted)&&(t.markup+='\n',delete t.interrupted),t.markup+=`\n${e.body}`,t},blockReference:e=>{let t=e.text.match(/^\[(.+?)\]:[ ]*<?(\S+?)>?(?:[ ]+["\'(](.+)["\')])?[ ]*$/);if(t){let e={title:null,url:t[2]};return o.isSet(t[3])&&(e.title=t[3]),r.definitionData.Reference[t[1].toLowerCase()]=e,{hidden:!0}}},blockTable:(s,n=null)=>{if(o.isSet(n)&&!o.isSet(n.type)&&!o.isSet(n.interrupted)&&n.element.text.indexOf('|')>-1&&''===e(s.text,' -:|')){let e,i,a,r,l,c,d,g,u,h;for(i=[],r=t(t(s.text),'|').split('|'),u=0,h=r.length;u<h;++u)''!==(a=t(r[u]))&&(e=null,':'===a[0]&&(e='left'),':'===a.slice(-1)&&(e='left'===e?'center':'right'),i.push(e));for(g=[],c=t(t(n.element.text),'|').split('|'),u=0,h=c.length;u<h;++u)d={handler:'line',name:'th',text:l=t(c[u])},o.isSet(i[u])&&(e=i[u],d.attributes={style:`text-align: ${e};`}),g.push(d);return(n={alignments:i,element:{handler:'elements',name:'table',text:[]},identified:!0}).element.text.push({handler:'elements',name:'thead',text:[]}),n.element.text.push({handler:'elements',name:'tbody',text:[]}),n.element.text[0].text.push({handler:'elements',name:'tr',text:g}),n}},blockTableContinue:(e,s)=>{if(!o.isSet(s.interrupted)&&('|'===e.text[0]||e.text.indexOf('|')>-1)){let n,i,a,r,l;for(i=[],r=t(t(e.text),'|').match(/(?:(\\\\[|])|[^|`]|`[^`]+`|`)+/g),a=0,l=r.length;a<l;++a)n={handler:'line',name:'td',text:t(r[a])},o.isSet(s.alignments[a])&&(n.attributes={style:`text-align: ${s.alignments[a]};`}),i.push(n);return n={handler:'elements',name:'tr',text:i},s.element.text[1].text.push(n),s}},paragraph:e=>({element:{handler:'line',name:'p',text:e.text}}),line:e=>{let t,s,n,i,l,c,d,g;d='';e:for(;t=a(e,r.inlineMarkerList);){for(l=t[0],c=e.indexOf(l),t={context:e,text:t},s=0,g=r.inlineTypes[l].length;s<g;++s)if(i=r.inlineTypes[l][s],n=o[`inline${i}`](t),o.isSet(n)&&!(o.isSet(n.position)&&n.position>c)){o.isSet(n.position)||(n.position=c),d+=`${o.unmarkedText(e.slice(0,n.position))}${o.isSet(n.markup)?n.markup:o.element(n.element)}`,e=e.slice(n.position+n.extent);continue e}d+=o.unmarkedText(e.slice(0,c+1)),e=e.slice(c+1)}return d+=o.unmarkedText(e)},inlineCode:e=>{let t,n;if(t=e.text[0],(n=e.text.match(new RegExp(`^(${t}+)[ ]*([\\S\\s]+?)[ ]*(${t})?\\1`)))&&!n[3])return{element:{name:'code',text:n[2].replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/[ ]*\n/,'')},extent:s(n[0])}},inlineEmailTag:e=>{let t=e.text.match(/^<((mailto:)?\S+?@\S+?)>/i);if(e.text.indexOf('>')>-1&&t){let e=t[1];return o.isSet(t[2])||(e=`mailto:${e}`),{element:{name:'a',text:t[1],attributes:{href:e}},extent:s(t[0])}}},inlineEmphasis:e=>{if(!o.isSet(e.text[1]))return;let t,n,i;if(n=e.text[0],e.text[1]===n&&(i=e.text.match(r.strongRegex[n])))t='strong';else{if(!(i=e.text.match(r.emRegex[n])))return;t='em'}return{element:{handler:'line',name:t,text:i[1]},extent:s(i[0])}},inlineEscapeSequence:e=>{if(o.isSet(e.text[1])&&r.specialCharacters.indexOf(e.text[1])>-1)return{extent:2,markup:e.text[1]}},inlineImage:e=>{if(!o.isSet(e.text[1])||'['!==e.text[1])return;let t,s,n;if(e.text=e.text.slice(1),s=o.inlineLink(e),o.isSet(s)){for(n in t={element:{attributes:{src:s.element.attributes.href,alt:s.element.text,title:s.element.text},name:'img'},extent:s.extent+1},s.element.attributes)s.element.attributes[n]&&(t.element.attributes[n]=s.element.attributes[n]);return delete t.element.attributes.href,t}},inlineLink:e=>{let t,n,i,a;if(t={attributes:{href:null,title:null},handler:'line',name:'a',text:null},n=0,(i=(a=e.text).match(/\[(.*?)\]/))&&(i=i[0].match(/\[(?:(.*\[)*)(.*?)\]/))){if(t.text=i[2],n+=s(i[2])+2,i=(a=a.slice(n)).match(/^\(\s*([^\s]+?)\s*\)/))t.attributes.href=i[1],o.isSet(i[2])&&(t.attributes.title=i[2].slice(1,-1)),n+=s(i[0]);else{let e;if((i=a.match(/^\s*\[(.*?)\]/))?(e=(s(i[1])?i[1]:t.text).toLowerCase(),n+=s(i[0])):e=t.text.toLowerCase(),!o.isSet(r.definitionData.Reference[e]))return;e=r.definitionData.Reference[e],t.attributes.href=e.url,t.attributes.title=e.title}return t.attributes.href=t.attributes.href.replace(/&/g,'&amp;').replace(/</g,'&lt;'),{element:t,extent:n}}},inlineMarkup:e=>{if(r.markupEscaped||e.text.indexOf('>')<0)return;let t=e.text.match(/^<\/\w*[ ]*>/);return'/'===e.text[1]&&t?{extent:s(t[0]),markup:t[0]}:(t=e.text.match(/^<!---?[^>-](?:-?[^-])*-->/),'!'===e.text[1]&&t?{extent:s(t[0]),markup:t[0]}:(t=e.text.match(new RegExp(`^<w*(?:[ ]*${r.regexHtmlAttribute})*[ ]*/?>`)),' '!==e.text[1]&&t?{extent:s(t[0]),markup:t[0]}:void 0))},inlineSpecialCharacter:e=>{if('&'===e.text[0]&&!e.text.match(/^&#?\w+;/))return{extent:1,markup:'&amp;'};let t={'>':'gt','<':'lt','"':'quot'};return o.isSet(t[e.text[0]])?{extent:1,markup:`&${t[e.text[0]]};`}:void 0},inlineStrikethrough:e=>{if(!o.isSet(e.text[1]))return;let t,n,i;if((t=e.text.match(/^~([^~]+?)(~+)/))&&1===t[2].length)n='span',i=t[1];else if((t=e.text.match(/^~~([^~]+?)(~+)/))&&2===t[2].length)n='del',i=t[1];else if(t=e.text.match(/^~~~([^~]+?)(~+)/))switch(t[2].length){case 3:n='span',i=`~~${t[1]}~~`;break;case 4:n='del',i=`~${t[1]}~~`}if(n)switch(n){case'del':return{element:{handler:'line',name:'del',text:i},extent:s(t[0])};case'span':return{element:{attributes:{class:'spoiler'},handler:'line',name:'span',text:i},extent:s(t[0])}}},inlineUrl:e=>{if(!0!==r.urlsLinked||!o.isSet(e.text[2])||'/'!==e.text[2])return;let t=/\bhttps?:[\/]{2}[^\s<]+\b\/*/iu.exec(e.context);return t?{element:{attributes:{href:t[0]},name:'a',text:t[0]},extent:s(t[0]),position:t.index}:void 0},inlineUrlTag:e=>{let t=e.text.match(/^<(\w+:\/{2}[^ >]+)>/i);if(e.text.indexOf('>')>-1&&t){let e=t[1].replace(/&/g,'&amp;').replace(/</g,'&lt;');return{element:{name:'a',text:e,attributes:{href:e}},extent:s(t[0])}}},unmarkedText:e=>e?r.breaksEnabled?e.replace(/[ ]*\n/g,'<br />\n'):e.replace(/(?:[ ][ ]+|[ ]*\\\\)\n/g,'<br />\n').replace(/\s\n/g,'\n'):'',element:e=>{let t=`<${e.name}`;if(o.isSet(e.attributes)){let s,n;for(s in e.attributes)null!==(n=e.attributes[s])&&(t+=` ${s}="${n}"`)}return o.isSet(e.text)?(t+='>',o.isSet(e.handler)?t+=o[e.handler](e.text):t+=e.text,t+=`</${e.name}>`):t+=' />',t},elements:e=>{let t='';return e.forEach(e=>{t+=`\n${o.element(e)}`}),t+='\n'},li:e=>{let s,n;return n=t(s=o.lines(e)),e.indexOf('')<0&&'<p>'===n.slice(0,3)&&(s=n.slice(3),i=s.indexOf('</p>'),s=`${s.slice(0,i)}${s.slice(i+4)}`),s}};class l{text(e){r.definitionData={Reference:{}};let s=o.lines(t(e.replace(/\r\n|\r/g,'\n'),'\n').split('\n'));return s=t(s,'\n')}setBreaksEnabled(e){return r.breaksEnabled=e,this}setMarkupEscaped(e){return r.markupEscaped=e,this}setUrlsLinked(e){return r.urlsLinked=e,this}}return l})(),(async()=>{class Button{constructor(e,t,s){return this.callbacks=s.callbacks,this.states=this.callbacks.length,this.icons=s.icons,this.index=s.index,this.titles=s.titles,this.button=insertHtml(e,t,`\n                <div class="${s.className}"></div>\n            `),this.change(),this}async change(e,t){this.index>=this.states&&(this.index=0);let s=this.index;this.index+=1,this.button.title=this.titles[s],this.button.innerHTML=`\n                <i class="fa ${this.icons[s]}"></i>\n            `,e?await e(t)?this.change():this.button.innerHTML='\n                        <i class="fa fa-times esgst-red" title="Unable to perform action"></i>\n                    ':this.callbacks[s]&&this.button.firstElementChild.addEventListener('click',this.change.bind(this,this.callbacks[s]))}}class ButtonSet{constructor(e,t,s,n,i,a,o,r){this.busy=!1,this.dependencies=[];const l={green:'form__submit-button',grey:'form__saving-button',red:'sidebar__error',yellow:'sidebar__entry-delete'};this.set=document.createElement('div'),this.set.className='esgst-button-set',this.set.innerHTML=`\n                <div class="${l[e]} btn_action ${e}">\n                    <i class="fa ${s}"></i>\n                    <span>${i}</span>\n                </div>\n                <div class="${l[t]} btn_action ${t} is-disabled is_disabled esgst-hidden">\n                    <i class="fa ${n}"></i>\n                    <span>${a}</span>\n                </div>\n            `,this.button1=this.set.firstElementChild,this.button2=this.set.lastElementChild,this.callback1=o,this.callback2=r,this.button1.addEventListener('click',()=>this.toggle(this.callback1)),this.callback2&&(this.button2.classList.remove('is-disabled','is_disabled'),this.button2.addEventListener('click',()=>this.toggle(this.callback2)))}toggle(e){this.dependencies.forEach(e=>e.classList.toggle('esgst-hidden')),this.busy=!this.busy,this.button1.classList.toggle('esgst-hidden'),this.button2.classList.toggle('esgst-hidden'),e&&e(this.toggle.bind(this))}trigger(){this.toggle(this.callback1)}}class ButtonSet_v2{constructor(e){this.busy=!1,this.dependencies=[];let t={green:'form__submit-button',grey:'form__saving-button',red:'sidebar__error',yellow:'sidebar__entry-delete'};e.set?this.set=e.set:(this.set=document.createElement('div'),this.set.className='esgst-button-set'),this.set.innerHTML=`\n                <div class="${t[e.color1]} btn_action ${e.color1}">\n                    <i class="fa ${e.icon1}"></i>\n                    <span>${e.title1}</span>\n                </div>\n                <div class="${t[e.color2]} btn_action ${e.color2} is-disabled is_disabled esgst-hidden">\n                    <i class="fa ${e.icon2}"></i>\n                    <span>${e.title2}</span>\n                </div>\n            `,this.button1=this.set.firstElementChild,this.button2=this.set.lastElementChild,this.callback1=e.callback1,this.callback2=e.callback2,this.button1.addEventListener('click',async()=>{this.isCanceled=!1,this.toggle();let e=await this.callback1();this.isCanceled||this.toggle()}),this.callback2&&(this.button2.classList.remove('is-disabled','is_disabled'),this.button2.addEventListener('click',async()=>{this.isCanceled=!0,this.toggle(),await this.callback2()}))}toggle(){this.dependencies.forEach(e=>e.classList.toggle('esgst-hidden')),this.busy=!this.busy,this.button1.classList.toggle('esgst-hidden'),this.button2.classList.toggle('esgst-hidden')}trigger(){this.button1.dispatchEvent(new Event('click'))}}class Checkbox{constructor(e,t,s){this.value=t,this.isThreeState=s,this.checkbox=insertHtml(e,'afterBegin','\n                <span class="esgst-checkbox">\n                    <input class="esgst-hidden" type="checkbox">\n                    <i class="fa fa-circle-o"></i>\n                    <i class="fa fa-circle"></i>\n                    <i class="fa fa-check-circle"></i>\n                </span>\n            '),this.input=this.checkbox.firstElementChild,this.disabled=this.input.nextElementSibling,this.none=this.disabled.nextElementSibling,this.enabled=this.none.nextElementSibling,this.isThreeState?('disabled'===this.value?(this.none.classList.add('esgst-hidden'),this.enabled.classList.add('esgst-hidden')):'none'===this.value?(this.disabled.classList.add('esgst-hidden'),this.enabled.classList.add('esgst-hidden')):(this.disabled.classList.add('esgst-hidden'),this.none.classList.add('esgst-hidden')),this.checkbox.addEventListener('click',()=>this.change())):(this.input.checked=this.value,this.value?(this.disabled.classList.add('esgst-hidden'),this.none.classList.add('esgst-hidden')):(this.none.classList.add('esgst-hidden'),this.disabled.classList.add('esgst-hidden')),this.checkbox.addEventListener('click',e=>this.change(!0,null,null,e)),this.checkbox.addEventListener('mouseenter',()=>this.showNone()),this.checkbox.addEventListener('mouseleave',()=>this.hideNone()),this.change())}change(e,t,s,n){this.isThreeState?'disabled'===this.value&&!t||'none'===t?(this.enabled.classList.add('esgst-hidden'),this.disabled.classList.add('esgst-hidden'),this.none.classList.remove('esgst-hidden'),this.value='none'):'none'===this.value&&!t||'enabled'===t?(this.none.classList.add('esgst-hidden'),this.disabled.classList.add('esgst-hidden'),this.enabled.classList.remove('esgst-hidden'),this.value='enabled'):t&&'disabled'!==t||(this.enabled.classList.add('esgst-hidden'),this.none.classList.add('esgst-hidden'),this.disabled.classList.remove('esgst-hidden'),this.value='disabled'):(e&&(this.value=this.input.checked=!this.input.checked),this.value?(this.disabled.classList.add('esgst-hidden'),this.none.classList.add('esgst-hidden'),this.enabled.classList.remove('esgst-hidden'),this.onEnabled&&this.onEnabled(n)):(this.enabled.classList.add('esgst-hidden'),this.none.classList.add('esgst-hidden'),this.disabled.classList.remove('esgst-hidden'),this.onDisabled&&this.onDisabled(n)))}showNone(){this.value||(this.disabled.classList.add('esgst-hidden'),this.none.classList.remove('esgst-hidden'))}hideNone(){this.value||(this.disabled.classList.remove('esgst-hidden'),this.none.classList.add('esgst-hidden'))}check(e){this.value=this.input.checked=!0,this.change(!1,null,e)}uncheck(e){this.value=this.input.checked=!1,this.change(!1,null,e)}toggle(e){this.change(!0,null,e)}}class CompletionCheck{constructor(e,t,s){return this.callback=t,this.onCheck=s,this.counter={count:0,total:e},setTimeout(()=>this.check(),500),this.counter}check(){this.onCheck&&this.onCheck(),this.counter.count<this.counter.total?setTimeout(()=>this.check(),500):this.callback()}}class Popout{constructor(e='',t=null,s=1e3,n=!1,i=null,a=null){if(this.onOpen=a,this.context=t,this.popout=i||insertHtml(document.body,'beforeEnd',`<div class="${e}"></div>`),this.popout.classList.add('esgst-popout','esgst-hidden'),this.popup=this.popout.closest('.esgst-popup'),this.hoverSpeed=s,n)this.context&&this.context.addEventListener('click',()=>{this.isOpen?this.close():this.open()}),document.addEventListener('click',e=>{!this.context||this.context.contains(e.target)||this.popout.contains(e.target)||this.close()});else{if(this.context){let e=null;this.context.addEventListener('mouseenter',()=>{e=setTimeout(()=>{this.open()},this.hoverSpeed)}),this.context.addEventListener('mouseleave',t=>{e&&(clearTimeout(e),e=null),this.popout.contains(t.relatedTarget)||this.close()})}let t=null;this.popout.addEventListener('mouseenter',()=>{t&&(clearTimeout(t),t=null)}),this.popout.addEventListener('mouseleave',s=>{t=setTimeout(()=>{!s.relatedTarget||this.context.contains(s.relatedTarget)||'esgst-qiv-popout'===e&&s.relatedTarget.closest('.esgst-popout')||(this.context.classList.remove('esgst-qgs-container-expanded'),this.close())},this.hoverSpeed)}),document.addEventListener('click',t=>{!this.context||this.context.contains(t.target)||this.popout.contains(t.target)||'esgst-qiv-popout'===e&&t.target.closest('.esgst-popout')||this.close()},!0)}this.isOpen=!1}open(e=null,t=!1){this.context=e||this.context,this.isFixed=t,this.popout.classList.remove('esgst-hidden'),this.popout.style.zIndex=1e4+document.querySelectorAll('.esgst-popup:not(.esgst-hidden), .esgst-popout:not(.esgst-hidden)').length,this.isFixed&&this.popout.classList.add('esgst-fixed'),this.reposition(),this.isOpen=!0,this.onOpen&&this.onOpen(this.popout)}close(){this.popout.classList.add('esgst-hidden'),this.isOpen=!1}reposition(e=null){let t,s,n,i,a,o;this.popout.style.left='0',this.popout.style.top='0',this.context=e||this.context,t=(s=this.context.getBoundingClientRect()).left,(n=s.top)>window.innerHeight-(n+s.height)?this.popout.style.maxHeight=`${n-10}px`:this.popout.style.maxHeight=`${window.innerHeight-(n+s.height)-10}px`,i=this.popout.offsetHeight,a=this.popout.offsetWidth,o=this.popup&&this.popup.getBoundingClientRect(),t+a>document.documentElement.clientWidth?this.popout.style.left=`${t-a+s.width-(this.popup?o.left:0)}px`:this.popout.style.left=`${t-(this.popup?o.left:0)}px`,n+i>document.documentElement.clientHeight?this.popout.style.top=`${n-i+(this.isFixed||this.popup?0:scrollY)-(this.popup?o.top:0)}px`:this.popout.style.top=`${n+s.height+(this.isFixed||this.popup?0:scrollY)-(this.popup?o.top:0)}px`}}class Popup{constructor(e,t,s,n,i=null){if(this.isCreated=!i,this.temp=s,this.popup=i||insertHtml(document.body,'beforeEnd',`\n                <div class="esgst-hidden esgst-popup">\n                    <div class="esgst-popup-heading">\n                        <i class="fa ${e} esgst-popup-icon${e?'':' esgst-hidden'}"></i>\n                        <div class="esgst-popup-title${t?'':' esgst-hidden'}">${t}</div>\n                    </div>\n                    <div class="esgst-popup-description">\n                        <div class="esgst-popup-scrollable"></div>\n                    </div>\n                    <div class="esgst-popup-actions">\n                        <span class="esgst-hidden">Settings</span>\n                        <span class="esgst-popup-close">Close</span>\n                    </div>\n                </div>\n            `),this.isCreated)this.icon=this.popup.firstElementChild.firstElementChild,this.title=this.icon.nextElementSibling,this.description=this.popup.firstElementChild.nextElementSibling,this.scrollable=this.description.firstElementChild,this.actions=this.description.nextElementSibling,n||((n=this.actions.firstElementChild).classList.remove('esgst-hidden'),n.addEventListener('mousedown',e=>{2!==e.button&&(e.preventDefault(),esgst.openSettingsInTab||1===e.button?open('/esgst/settings'):loadSMMenu())})),this.description.nextElementSibling.lastElementChild.addEventListener('click',()=>this.close());else{const e=this.popup.getElementsByClassName('b-close')[0];e&&e.addEventListener('click',()=>this.close())}}open(e){this.isOpen=!0,esgst.openPopups+=1,esgst.popups.push(this),this.modal=insertHtml(document.body,'beforeEnd','\n                <div class="esgst-popup-modal"></div>\n            '),this.isCreated?this.popup.classList.remove('esgst-hidden'):(this.popup.style.display='block',this.popup.style.position='absolute');let t=9999+document.querySelectorAll('.esgst-popup:not(.esgst-hidden), .esgst-popout:not(.esgst-hidden)').length;this.modal.style.zIndex=t,this.popup.style.zIndex=t+1,this.modal.addEventListener('click',()=>this.close()),this.reposition(),esgst.isRepositioning||esgst.staticPopups||setTimeout(repositionPopups,2e3),e&&e()}close(){this.modal.remove(),this.isCreated?this.temp?this.popup.remove():this.popup.classList.add('esgst-hidden'):this.popup.style='',this.onClose&&this.onClose(),esgst.openPopups-=1,esgst.popups.pop(),this.isOpen=!1}reposition(){if(this.isCreated&&(esgst.staticPopups?this.scrollable.style.maxHeight=`${innerHeight-(this.popup.offsetHeight-this.scrollable.offsetHeight)-100}px`:this.scrollable.style.maxHeight=`${.9*innerHeight-(this.popup.offsetHeight-this.scrollable.offsetHeight)}px`),!esgst.staticPopups){let e,t;e=(innerWidth-this.popup.offsetWidth)/2,t=(innerHeight-this.popup.offsetHeight)/2,(Math.abs(e-this.popup.offsetLeft)>5||Math.abs(t-this.popup.offsetTop)>5)&&(this.popup.style.left=`${e}px`,this.popup.style.top=`${t}px`)}}}class Popup_v2{constructor(e){if(this.isCreated=!e.popup,this.temp=e.isTemp,this.popup=e.popup||insertHtml(document.body,'beforeEnd',`\n                <div class="esgst-hidden esgst-popup">\n                    <div class="esgst-popup-heading">\n                        <i class="fa ${e.icon} esgst-popup-icon${e.icon?'':' esgst-hidden'}"></i>\n                        <div class="esgst-popup-title${e.title?'':' esgst-hidden'}">${e.title}</div>\n                    </div>\n                    <div class="esgst-popup-description"></div>\n                    <div class="esgst-popup-actions">\n                        <span class="esgst-hidden">Settings</span>\n                        <span class="esgst-popup-close">Close</span>\n                    </div>\n                </div>\n            `),this.isCreated){if(this.icon=this.popup.firstElementChild.firstElementChild,this.title=this.icon.nextElementSibling,this.description=this.popup.firstElementChild.nextElementSibling,this.actions=this.description.nextElementSibling,!e.settings){let e=this.actions.firstElementChild;e.classList.remove('esgst-hidden'),e.addEventListener('mousedown',e=>{2!==e.button&&(e.preventDefault(),esgst.openSettingsInTab||1===e.button?open('/esgst/settings'):loadSMMenu())})}this.description.nextElementSibling.lastElementChild.addEventListener('click',()=>this.close())}else{let e=this.popup.getElementsByClassName('b-close')[0];e&&e.addEventListener('click',()=>this.close())}e.textInputs&&(this.textInputs=[],e.textInputs.forEach(e=>{let t=insertHtml(this.description,'beforeEnd',`\n                        <input placeholder="${e.placeholder}" type="text">\n                    `);t.addEventListener('keydown',this.triggerButton.bind(this,0)),this.textInputs.push(t)})),e.options&&this.description.appendChild(createOptions(e.options)),e.buttons&&(this.buttons=[],e.buttons.forEach(e=>{let t=new ButtonSet_v2(e);this.buttons.push(t),this.description.appendChild(t.set)})),e.addProgress&&(this.progress=insertHtml(this.description,'beforeEnd','<div></div>'),this.overallProgress=insertHtml(this.description,'beforeEnd','<div></div>')),e.addScrollable&&(this.scrollable=insertHtml(this.description,'beforeEnd','<div class="esgst-popup-scrollable"></div>'),'left'===e.addScrollable&&this.scrollable.classList.add('esgst-text-left'))}open(e){this.isOpen=!0,esgst.openPopups+=1,esgst.popups.push(this),this.modal=insertHtml(document.body,'beforeEnd','\n                <div class="esgst-popup-modal"></div>\n            '),this.isCreated?this.popup.classList.remove('esgst-hidden'):(this.popup.style.display='block',this.popup.style.position='absolute');let t=9999+document.querySelectorAll('.esgst-popup:not(.esgst-hidden), .esgst-popout:not(.esgst-hidden)').length;this.modal.style.zIndex=t,this.popup.style.zIndex=t+1,this.modal.addEventListener('click',()=>this.close()),this.reposition(),esgst.isRepositioning||esgst.staticPopups||setTimeout(repositionPopups,2e3),this.textInputs&&this.textInputs[0].focus(),e&&e()}close(){this.modal.remove(),this.isCreated?this.temp?this.popup.remove():this.popup.classList.add('esgst-hidden'):this.popup.style='',this.onClose&&this.onClose(),esgst.openPopups-=1,esgst.popups.pop(),this.isOpen=!1}reposition(){if(this.isCreated&&this.scrollable&&(esgst.staticPopups?this.scrollable.style.maxHeight=`${innerHeight-(this.popup.offsetHeight-this.scrollable.offsetHeight)-100}px`:this.scrollable.style.maxHeight=`${.9*innerHeight-(this.popup.offsetHeight-this.scrollable.offsetHeight)}px`),!esgst.staticPopups){let e,t;e=(innerWidth-this.popup.offsetWidth)/2,t=(innerHeight-this.popup.offsetHeight)/2,(Math.abs(e-this.popup.offsetLeft)>5||Math.abs(t-this.popup.offsetTop)>5)&&(this.popup.style.left=`${e}px`,this.popup.style.top=`${t}px`)}}getTextInputValue(e){return this.textInputs[e].value}triggerButton(e,t){t&&('Enter'!==t.key||this.buttons[e].busy)||this.buttons[e].trigger()}isButtonBusy(e){return!this.buttons[e]||this.buttons[e].busy}removeButton(e){let t;this.buttons.splice(e,1)[0].set.remove()}setScrollable(e){insertHtml(this.scrollable,'beforeEnd',`<div>${e}</div>`)}getScrollable(e=''){return insertHtml(this.scrollable,'beforeEnd',`<div>${e}</div>`)}setError(e){this.progress.innerHTML=`\n                <i class="fa fa-times-circle"></i>\n                <span>${e}</span>\n            `}setProgress(e){this.progressMessage?this.progressMessage.textContent=e:(this.progress.innerHTML=`\n                    <i class="fa fa-circle-o-notch fa-spin"></i>\n                    <span>${e}</span>\n                `,this.progressMessage=this.progress.lastElementChild)}clearProgress(){this.progress.innerHTML='',this.progressMessage=null}setOverallProgress(e){this.overallProgress.textContent=e}clear(){this.progress.innerHTML='',this.progressMessage=null,this.overallProgress.textContent='',this.scrollable.innerHTML=''}}class Process{constructor(e){this.popupDetails=e.popup,this.init=e.init,this.requests=e.requests,this.urls=e.urls,e.button?this.button=e.button:this.button=createHeadingButton(e.headingButton),this.button.addEventListener('click',this.openPopup.bind(this))}async openPopup(){this.popup?this.open():(this.popupDetails.buttons=[{color1:'green',color2:'red',icon1:'fa-arrow-circle-right',icon2:'fa-times-circle',title1:'Start',title2:'Stop',callback1:this.start.bind(this),callback2:this.stop.bind(this)}],this.popup=new Popup_v2(this.popupDetails),this.popup.open(),this.urls&&(this.index=0,this.perLoad=this.urls.perLoad,this.items=[],await this.urls.init.call(this),this.total=this.items.length,this.popup.triggerButton(0)),esgst[`es_${this.urls.id}`]&&this.popup.scrollable.addEventListener('scroll',()=>{this.popup.scrollable.scrollTop+this.popup.scrollable.offsetHeight>=this.popup.scrollable.scrollHeight&&!this.popup.isButtonBusy(0)&&this.popup.triggerButton(0)}))}async start(){if(this.button.classList.add('esgst-busy'),this.isCanceled=!1,this.urls||this.popup.clear(),this.init&&await this.init.call(this))this.button.classList.remove('esgst-busy');else{if(this.urls)await this.requestNextUrl(this.urls.request);else for(let e=0,t=this.requests.length;!this.isCanceled&&e<t;e++)await this.request(this.requests[e]);this.button.classList.remove('esgst-busy'),this.popup.clearProgress()}}stop(){this.isCanceled=!0}async requestNextUrl(e){if(this.index>=this.total)return void this.popup.removeButton(0);this.popup.setProgress('Loading more...'),this.popup.setOverallProgress(`${this.index} of ${this.total} loaded.`),this.context=this.mainContext?insertHtml(this.mainContext,'beforeEnd',this.contextHtml):this.popup.getScrollable();let t=0;for(;!this.isCanceled&&(t<this.perLoad||esgst[`es_${this.urls.id}`]&&this.popup.scrollable.scrollHeight<=this.popup.scrollable.offsetHeight);){let s;if(!this.items[this.index])break;let n=await request({method:'GET',queue:e.queue,url:this.items[this.index]}),i=parseHtml(n.responseText);await e.request.call(this,e,n,i),t+=1,this.index+=1,this.popup.setOverallProgress(`${this.index} of ${this.total} loaded.`)}this.index>=this.total&&this.popup.removeButton(0),await loadEndlessFeatures(this.context)}async request(e){e.nextPage||(e.nextPage=1);let t=e.nextPage;e.lastPage='';let s=null;do{let t=await request({method:'GET',queue:e.queue,url:`${e.url}${e.nextPage}`}),n=parseHtml(t.responseText);e.source&&1===e.nextPage&&(e.lastPage=getLastPage(n,!1,e.source),e.lastPage=999999999===e.lastPage?'':` of ${e.lastPage}`),await e.request.call(this,e,t,n),e.nextPage+=1,s=n.getElementsByClassName('pagination__navigation')[0]}while(!this.isCanceled&&s&&!s.lastElementChild.classList.contains(esgst.selectedClass));e.nextPage=t}}class ToggleSwitch{constructor(e,t,s,n,i,a,o,r){this.dependencies=[],this.exclusions=[],this.id=t,this.sg=i,this.st=a,this.value=r,this.container=insertHtml(e,'beforeEnd',`\n                <div class="esgst-toggle-switch-container ${s?'inline':''}">\n                    <label class="esgst-toggle-switch">\n                        <input type="checkbox">\n                        <div class="esgst-toggle-switch-slider"></div>\n                    </label>\n                    <span>${n}</span>\n                    ${o?`<i class="fa fa-question-circle" title="${o}"></i>`:''}\n                </div>\n            `),this.switch=this.container.firstElementChild,this.input=this.switch.firstElementChild,this.name=this.switch.nextElementSibling,this.input.checked=this.value,this.input.addEventListener('change',()=>this.change())}async change(e){if(this.value=this.input.checked,this.id){let t=this.id;this.sg?t+='_sg':this.st&&(t+='_st');let s=esgst.settings[t];if(void 0!==s&&s.include?s.enabled=this.value?1:0:s=this.value,esgst.settings[t]=s,esgst[this.id]=this.value,!e){let e=insertHtml(this.container,'beforeEnd','\n                        <div class="esgst-description esgst-bold">\n                            <i class="fa fa-circle-o-notch fa-spin"></i> Saving...\n                        </div>\n                    ');await setSetting(t,s),e.classList.add('esgst-green'),e.innerHTML='<i class="fa fa-check"></i> Saved!',setTimeout(e.remove.bind(e),2500)}}this.value?(this.dependencies.forEach(e=>e.classList.remove('esgst-hidden')),this.exclusions.forEach(e=>e.classList.add('esgst-hidden')),this.onEnabled&&this.onEnabled()):(this.dependencies.forEach(e=>e.classList.add('esgst-hidden')),this.exclusions.forEach(e=>e.classList.remove('esgst-hidden')),this.onDisabled&&this.onDisabled())}enable(e){this.input.checked=!0,this.change(e)}disable(e){this.input.checked=!1,this.change(e)}toggle(e){this.input.checked=!this.input.checked,this.change(e)}}let esgst;async function init(){if(document.getElementById('esgst'))return;if((esgst={parameters:getParameters(),defaultValues:{ef_filters:'',gwc_h_width:'3px',gwr_h_width:'3px',chfl_giveaways_sg:['new','wishlist','created','entered','won',{color:'grey',description:'View your hidden games.',icon:'fa-eye',id:'filters',name:'Hidden Games',url:'/account/settings/giveaways/filters'},{color:'grey',description:'Check if a game receives reduced CV.',icon:'fa-calendar-minus-o',id:'bundle-games',name:'Reduced CV Games',url:'/bundle-games'},{id:'type=wishlist',name:'Browse Wishlist Giveaways',url:'/giveaways/search?type=wishlist'},{id:'type=recommended',name:'Browse Recommended Giveaways',url:'/giveaways/search?type=recommended'},{id:'type=group',name:'Browse Group Giveaways',url:'/giveaways/search?type=group'},{id:'type=new',name:'Browse New Giveaways',url:'/giveaways/search?type=new'}],chfl_discussions_sg:['new','created','dh',{color:'grey',description:'Help the community.',icon:'fa-question-circle ',id:'categorize-discussions',name:'Categorize Discussions',url:'/tools/categorize-discussions'},{id:'announcements',name:'Browse Announcements',url:'/discussions/announcements'},{id:'bugs-suggestions',name:'Browse Bugs / Suggestions',url:'/discussions/bugs-suggestions'},{id:'deals',name:'Browse Deals',url:'/discussions/deals'},{id:'general',name:'Browse General',url:'/discussions/general'},{id:'group-recruitment',name:'Browse Group Recruitment',url:'/discussions/group-recruitment'},{id:'lets-play-together',name:'Browse Let\'s Play Together',url:'/discussions/lets-play-together'},{id:'off-topic',name:'Browse Off-Topic',url:'/discussions/off-topic'},{id:'puzzles',name:'Browse Puzzles',url:'/discussions/puzzles'},{id:'uncategorized',name:'Browse Uncategorized',url:'/discussions/uncategorized'}],chfl_support_sg:['new',{color:'grey',description:'Check a user\'s real CV.',icon:'fa-dollar',id:'real-cv',name:'Real CV',url:'https://www.sgtools.info/real-cv'},{color:'red',description:'Check if a user has not activated wins.',icon:'fa-exchange',id:'activation',name:'Not Activated Wins',url:'https://www.sgtools.info/activation'},{color:'red',description:'Check if a user has multiple wins.',icon:'fa-clone',id:'multiple-wins',name:'Multiple Wins',url:'https://www.sgtools.info/multiple-wins'}],chfl_help_sg:['comment-formatting','faq','guidelines',{color:'grey',description:'View SteamGifts\' change log.',icon:'fa-file-text-o',id:'e9zDo',name:'Change Log',url:'/discussion/e9zDo/'}],chfl_account_sg:['profile','stats','et','ch',{color:'blue',icon:'fa-heart',id:'whitelist',name:'Whitelist',url:'/account/manage/whitelist'},{color:'red',icon:'fa-ban',id:'blacklist',name:'Blacklist',url:'/account/manage/blacklist'},{color:'grey',icon:'fa-folder',id:'games',name:'Games',url:'/account/steam/games'},{color:'grey',icon:'fa-user',id:'groups',name:'Groups',url:'/account/steam/groups'},{color:'grey',icon:'fa-star',id:'wishlist',name:'Wishlist',url:'/account/steam/wishlist'}],chfl_footer_sg:['archive','stats','roles','users','steamgifts','103582791432125620','privacy-policy','terms-of-service'],chfl_trades_st:['new','user=[steamId]'],chfl_account_st:['user=[steamId]','ch'],chfl_footer_st:['guidelines','comment-formatting','privacy-policy','terms-of-service'],cdr_days:7,addNoCvGames_sg:!1,lockGiveawayColumns_sg:!1,staticPopups_width:'900px',hgr_removeOwned:!0,giveawayColumns:['ged','endTime','winners','startTime','inviteOnly','whitelist','group','regionRestricted','level'],giveawayPanel:['ttec','gwc','gwr','gp','elgb'],giveawayColumns_gv:['ged','time','inviteOnly','whitelist','group','regionRestricted','level'],giveawayPanel_gv:['ttec','gwc','gwr','gp','elgb'],enableByDefault_sg:!1,enableByDefault_st:!1,checkVersion_sg:!0,checkVersionMain_sg:!0,collapseSections_sg:!1,collapseSections_st:!1,df_m_sg:!0,elgb_d_sg:!0,gb_ue_sg:!0,gc_g_s_sg:!1,ge_o_sg:!1,gf_m_sg:!0,gwc_a_b_sg:!1,gwr_a_b_sg:!1,hpg_sg:!1,pm_a:!1,radb_sg:!0,showChangelog_sg:!0,showChangelog_st:!0,staticPopups_sg:!1,staticPopups_st:!1,vai_i_sg:!1,avatar:'',steamId:'',steamApiKey:'',username:'',adots_index:0,ags_type:'',ags_maxDate:'',ags_minDate:'',ags_maxScore:'',ags_minScore:'',ags_maxLevel:'',ags_minLevel:'',ags_maxEntries:'',ags_minEntries:'',ags_maxCopies:'',ags_minCopies:'',ags_maxPoints:'',ags_minPoints:'',ags_regionRestricted:!1,ags_dlc:!1,ags_app:!1,ags_sub:!1,ap_index:0,as_searchAppId:!1,autoBackup_days:1,autoBackup_index:0,autoSyncGroups:0,autoSyncWhitelist:0,autoSyncBlacklist:0,autoSyncHiddenGames:0,autoSyncGames:0,autoSyncWonGames:0,autoSyncReducedCvGames:0,autoSyncNoCvGames:0,autoSyncGiveaways:0,calculateDelete:!0,calculateExport:!0,calculateImport:!0,cfh_pasteFormatting:!0,cfh_img_choice:1,cfh_img_remember:!1,cleanDiscussions:!0,cleanEntries:!0,cleanGiveaways:!0,cleanSgCommentHistory:!0,cleanStCommentHistory:!0,cleanTickets:!0,cleanTrades:!0,cleanDiscussions_days:30,cleanEntries_days:30,cleanGiveaways_days:30,cleanSgCommentHistory_days:30,cleanStCommentHistory_days:30,cleanTickets_days:30,cleanTrades_days:30,df_enable:!0,df_enableCreated:!1,df_preset:null,df_presetCreated:null,ds_auto:!1,ds_option:'sortIndex_asc',elgb_filters:'.|(bestof|(g(ood)?)?)(l(uck)?)?(h(ave)?)?(f(un)?)?|enjoy|(h(umble)?)?(b(undle)?)?(g(ift)?)?(l(ink)?)?',exportBackup:!0,exportBackupIndex:0,filterPresets:[],gas_auto:!1,gas_option:'sortIndex_asc',gas_autoWishlist:!1,gas_optionWishlist:'sortIndex_asc',gas_autoRecommended:!1,gas_optionRecommended:'sortIndex_asc',gas_autoGroup:!1,gas_optionGroup:'sortIndex_asc',gas_autoNew:!1,gas_optionNew:'sortIndex_asc',gas_autoEntered:!1,gas_optionEntered:'sortIndex_asc',gas_autoUser:!1,gas_optionUser:'sortIndex_asc',gas_autoGroups:!1,gas_optionGroups:'sortIndex_asc',gb_hours:1,gc_categories:['gc_gi','gc_r','gc_fcv','gc_rcv','gc_ncv','gc_h','gc_i','gc_o','gc_w','gc_a','gc_mp','gc_sc','gc_tc','gc_l','gc_m','gc_ea','gc_rm','gc_dlc','gc_p','gc_rd','gc_g'],gc_indexes:{},gc_categories_gv:['gc_gi','gc_r','gc_fcv','gc_rcv','gc_ncv','gc_h','gc_i','gc_o','gc_w','gc_a','gc_mp','gc_sc','gc_tc','gc_l','gc_m','gc_ea','gc_rm','gc_dlc','gc_p','gc_rd','gc_g'],gc_indexes_gv:{},gc_o_altAccounts:[],gc_g_colors:[],gc_g_filters:'',gc_r_colors:[{bgColor:'#a34c25',color:'#ffffff',icon:'thumbs-down',lower:0,upper:39},{bgColor:'#b9a074',color:'#ffffff',icon:'minus-circle',lower:40,upper:69},{bgColor:'#66c0f4',color:'#ffffff',icon:'thumbs-up',lower:70,upper:100}],gc_fcvIcon:'calendar',gc_rcvIcon:'calendar-minus-o',gc_ncvIcon:'calendar-times-o',gc_hIcon:'eye-slash',gc_iIcon:'ban',gc_oIcon:'folder',gc_wIcon:'heart',gc_aIcon:'trophy',gc_mpIcon:'users',gc_scIcon:'cloud',gc_tcIcon:'clone',gc_lIcon:'linux',gc_mIcon:'apple',gc_eaIcon:'unlock',gc_rmIcon:'trash',gc_dlcIcon:'download',gc_pIcon:'suitcase',gc_rdIcon:'clock-o',gc_fcvLabel:'Full CV',gc_rcvLabel:'Reduced CV',gc_ncvLabel:'No CV',gc_hLabel:'Hidden',gc_iLabel:'Ignored',gc_oLabel:'Owned',gc_wLabel:'Wishlisted',gc_aLabel:'Achievements',gc_mpLabel:'Multiplayer',gc_scLabel:'Steam Cloud',gc_tcLabel:'Trading Cards',gc_lLabel:'Linux',gc_mLabel:'Mac',gc_eaLabel:'Early Access',gc_rmLabel:'Removed',gc_dlcLabel:'DLC',gc_pLabel:'Package',gc_rdLabel:'Mon DD, YYYY',gc_h_color:'#ffffff',gc_gi_color:'#ffffff',gc_fcv_color:'#ffffff',gc_rcv_color:'#ffffff',gc_ncv_color:'#ffffff',gc_w_color:'#ffffff',gc_o_color:'#ffffff',gc_i_color:'#ffffff',gc_rm_color:'#ffffff',gc_ea_color:'#ffffff',gc_tc_color:'#ffffff',gc_a_color:'#ffffff',gc_mp_color:'#ffffff',gc_sc_color:'#ffffff',gc_l_color:'#ffffff',gc_m_color:'#ffffff',gc_dlc_color:'#ffffff',gc_p_color:'#ffffff',gc_rd_color:'#ffffff',gc_g_color:'#ffffff',gc_h_bgColor:'#e74c3c',gc_gi_bgColor:'#555555',gc_fcv_bgColor:'#641e16',gc_rcv_bgColor:'#641e16',gc_ncv_bgColor:'#641e16',gc_o_bgColor:'#16a085',gc_w_bgColor:'#3498db',gc_i_bgColor:'#e74c3c',gc_rm_bgColor:'#e74c3c',gc_ea_bgColor:'#3498db',gc_tc_bgColor:'#2ecc71',gc_a_bgColor:'#145a32',gc_mp_bgColor:'#0e6251',gc_sc_bgColor:'#154360',gc_l_bgColor:'#f39c12',gc_m_bgColor:'#d35400',gc_dlc_bgColor:'#8e44ad',gc_p_bgColor:'#8e44ad',gc_rd_bgColor:'#7f8c8d',gc_g_bgColor:'#7f8c8d',gcl_index:0,ge_b_bgColor:'#ddcccc',ge_g_bgColor:'#ccddcc',ge_p_bgColor:'#ccccdd',ged:!0,gf_enable:!0,gf_enableWishlist:!0,gf_enableRecommended:!0,gf_enableNew:!0,gf_enableGroup:!0,gf_enableCreated:!0,gf_enableEntered:!0,gf_enableWon:!0,gf_enableGroups:!0,gf_enableUser:!0,gf_enableGb:!0,gf_enableGe:!0,gf_enableGed:!0,gf_preset:null,gf_presetWishlist:null,gf_presetRecommended:null,gf_presetNew:null,gf_presetGroup:null,gf_presetCreated:null,gf_presetEntered:null,gf_presetWon:null,gf_presetGroups:null,gf_presetUser:null,gf_presetGb:null,gf_presetGe:null,gf_presetGed:null,gf_noRating:!0,gf_noReleaseDate:!1,ggl_index:0,gm_enable:!1,gm_useRegExp:!1,gt_colors:{},gts_preciseStart:!1,gts_preciseEnd:!1,gts_preciseStartDate:!1,gts_preciseEndDate:!1,gv_spacing:0,gwc_colors:[],gwr_colors:[],hr_minutes:1,hr_w_hours:24,lastBackup:0,lastSyncGroups:0,lastSyncWhitelist:0,lastSyncBlacklist:0,lastSyncHiddenGames:0,lastSyncGames:0,lastSyncWonGames:0,lastSyncReducedCvGames:0,lastSyncNoCvGames:0,lastSyncGiveaways:0,leftButtonIds:['wbsDesc','wbsAsc','wbc','ugs','tb','sks','rbp','namwc','mtUsers','mtGames','mpp','hgr','gv','gts','gm','gf','ge','gas','ds','df','ctUnread','ctRead','ctGo','cs','as','aic'],mgc_createTrain:!0,mgc_bumpLast:!0,mgc_groupKeys:!1,mgc_reversePosition:!1,mgc_removeLinks:!0,namwc_checkNotActivated:!1,namwc_checkMultiple:!1,npth_previousKey:'ArrowLeft',npth_nextKey:'ArrowRight',nrf_searchMultiple:!1,rightButtonIds:['esResume','esPause','esRefresh','esRefreshAll','stbb','sttb'],sal_index:2,sk_closePopups:'escape',sk_searchBox:'ctrlKey + q',sk_firstPage:'ctrlKey + arrowup',sk_previousPage:'ctrlKey + arrowleft',sk_nextPage:'ctrlKey + arrowright',sk_lastPage:'ctrlKey + arrowdown',sk_toggleFilters:'altKey + q',sk_hideGame:'altKey + g',sk_hideGiveaway:'altKey + h',sk_giveawayEntry:'ctrlKey + enter',sk_creator:'altKey + c',sk_replyBox:'ctrlKey +  ',sk_replyUser:'altKey + u',sk_submitReply:'ctrlKey + enter',sks_exportKeys:!1,sks_searchCurrent:!1,sks_limitDate:!1,sks_limitPages:!1,sks_minDate:'',sks_maxDate:'',sks_minPage:'',sks_maxPage:'',stbb_index:0,sttb_index:0,syncGroups:!0,syncWhitelist:!0,syncBlacklist:!0,syncHiddenGames:!0,syncGames:!0,syncWonGames:!0,syncReducedCvGames:!0,syncNoCvGames:!0,syncGiveaways:!0,ugd_getPlaytime:!0,ugd_getAchievements:!1,ugd_clearCache:!1,ugs_checkRules:!1,ugs_checkWhitelist:!1,ugs_checkBlacklist:!1,ugs_checkMember:!1,ugs_checkDifference:!1,ugs_difference:0,ut_colors:{},wbc_checkSingle:!1,wbc_checkWhitelist:!0,wbc_checkAll:!1,wbc_checkPages:!1,wbc_minPage:'',wbc_maxPage:'',wbc_returnWhitelists:!1,wbc_returnBlacklists:!1,wbc_checkSelected:!1,wbc_pages:0,wbc_skipUsers:!1,wbm_clearTags:!1,wbm_useCache:!1,wbm_tags:[],wbc_checkNew:!1,wbc_clearCache:!1,wbh_w_color:'#ffffff',wbh_w_bgColor:'#228b22',wbh_b_color:'#ffffff',wbh_b_bgColor:'#ff4500'},oldValues:{gdttt_vg_sg:'gdttt_v_sg',gdttt_vd_sg:'gdttt_v_sg',gdttt_vt_sg:'gdttt_v_sg',gdttt_vts_st:'gdttt_v_st'},domParser:new DOMParser,markdownParser:new Parsedown,sg:location.hostname.match(/www.steamgifts.com/),st:location.hostname.match(/www.steamtrades.com/),currentVersion:'7.17.1',devVersion:'7.17.1',icon:'data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAqv8DCbP/Hgeq+CQIrf8iCK3/Igit/yIIrf8iB6//Iwit9x8Aqv8DAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKr0GAa2/c0DvfzfA7f83QO3/N0Dt/zdA7f83QO+/d4Gs/3OAKP1GQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACm/xQFs/n2Bcf//wW///8FwP//BcD//wW///8Fx///BbP69gC2/xUAAAAAAAAAAAAAAAAA/1UDFptOFxSZMxkLpJktAq720QW1+ugEsfvjA7b92wO2/dsEsfvjBbX66Aau/dEoiO4tUlLWGU5k3hdVVf8DEJxKHxWqT8cVrU7uE6VN0guqny0Apv8XAJfQGwBAVywAQFcsAJfQGwCx/xcogugtS2Lk0lBl6u5Qae7ISmPeHxagSSMVr07jF7lV/xOiSu0brgATAAAAAAAAAA8AAAC/AAAAwAAAABAAAAAAYznjEkth4OxWb/3/T2jv40lf4iMXnksiEq1O3RayUv8UpEnkEo0+HQAAABkAAABBAAAA8QAAAPEAAABBAAAAGUBSvxxOYeDjU2v0/05m7d1LYuEiF55LIhKtTt0Ws1L/FahN2gU1FTAAAADAAAAA7AAAAP0AAAD9AAAA7AAAAMAVG0owUGPm2lNr9P9OZu3dS2LhIheeSyISrU7dFrNS/xWoTdoFNRswAAAAvwAAAOsAAAD9AAAA/QAAAOsAAADAFRtKMFBj6NpTa/T/Tmbt3Uti4SIXnksiEq1O3RayUv8UpEnkEo0+HQAAABgAAABAAAAA8QAAAPEAAABBAAAAGT5PuR1OYeDjU2v0/05m7d1LYuEiFqBJIxWuT+QXuVX/E6JL7QC8XhMAAAAAAAAADwAAAL8AAAC/AAAAEAAAAAAOR/8SSWLh7FZv/f9PaO/jSV/iIxCUSh8Vrk7HFqxN7ROlS9JskzMt1XULGK12EhxGLgYsRy8GK612EhzVgAsYgmxxLU1i39JNZ+vtT2fwx0pj1h8AqlUDF65GFgqZUhlsiC0txH0T0s5/EujJgBPkz4QR28+EEdvJgBPkzn8Q6Md+E9KLdHosM1LWGUZo6BZVVf8DAAAAAAAAAAAAAAAA/2YAFMl9EvbgjRb/14gV/9eIFf/XiBX/14gV/9+NFv/KgBD254YAFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAL91FRjKgRHN1IgU3s+EEt3PhBLdz4QS3c+EEt3UiBTezYMRzcJ6FBkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACqqgADxIARHr18FiO8eA8ivHgPIrx4DyK8eA8ivXwPI8SAER7/VQADAAAAAAAAAAAAAAAA78cAAPA3AAD4FwAABCAAADGOAAAE+AAAkBEAAJ55AACYOQAAlgEAAER4AAAXaAAATnoAAPgXAAD0JwAA69cAAA==',sgIcon:'data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAQAQAABMLAAATCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIUAAAD5AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAPoAAACFAAAAAAAAAAAAAAD8AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA+QAAAAAAAAAAAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAP8AAAD/AAAA/wAAABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAA/wAAAP8AAAD/AAAAAAAAAAAAAAD/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/AAAA/wAAAAAAAAAAAAAA/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAP8AAAAAAAAAAAAAAP8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAD/AAAAAAAAAAAAAAD/AAAA/wAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/AAAA/wAAAAAAAAAAAAAA/wAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/AAAA/wAAAP8AAAAAAAAAAAAAAP8AAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAD/AAAAAAAAAAAAAAD/AAAA/wAAAP8AAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAP8AAAD/AAAA/wAAAAAAAAAAAAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAAAAAAAAAAAAPwAAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD5AAAAAAAAAAAAAACFAAAA+QAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD/AAAA/wAAAP8AAAD5AAAAhQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAP//AADAAwAAwAMAAMfjAADP8wAAz/MAAM/zAADP8wAAz/MAAM/zAADH4wAAwAMAAMADAAD//wAA//8AAA==',stIcon:'data:image/x-icon;base64,AAABAAEAEBAAAAEAIABoBAAAFgAAACgAAAAQAAAAIAAAAAEAIAAAAAAAQAQAABMLAAATCwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABbD6SgWw+ucFsPrkBbD6SgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAWw+uYFsPr/BbD6/wWw+ucAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFsPrmBbD6/wWw+v8FsPrmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABbD6SQWw+uYFsPrmBbD6SQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFKRLShSkS+cUpEvkFKRLSgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAExi4EpMYuDnTGLg5Exi4EoAAAAAAAAAABSkS+YUpEv/FKRL/xSkS+cAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABMYuDmTGLg/0xi4P9MYuDnAAAAAAAAAAAUpEvmFKRL/xSkS/8UpEvmAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATGLg5kxi4P9MYuD/TGLg5gAAAAAAAAAAFKRLSRSkS+YUpEvmFKRLSQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAExi4ElMYuDmTGLg5kxi4EkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMZ9E0rGfRPnxn0T5MZ9E0oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADGfRPmxn0T/8Z9E//GfRPnAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxn0T5sZ9E//GfRP/xn0T5gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMZ9E0nGfRPmxn0T5sZ9E0kAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//8AAPw/AAD8PwAA/D8AAPw/AAD//wAAh+EAAIfhAACH4QAAh+EAAP//AAD8PwAA/D8AAPw/AAD8PwAA//8AAA==',currentGiveaways:[],attachedImages:[],currentComments:[],popupGiveaways:[],currentDiscussions:[],popups:[],openPopups:0,ustCheckboxes:{},ustTickets:{},numUstTickets:0,elgbCache:JSON.parse(getLocalValue('elgbCache',`{"descriptions": {}, "timestamp": ${Date.now()}}`)),menuPath:location.pathname.match(/^\/esgst\//),settingsPath:location.pathname.match(/^\/esgst\/settings/),importMenuPath:location.pathname.match(/^\/esgst\/import/),exportMenuPath:location.pathname.match(/^\/esgst\/export/),deleteMenuPath:location.pathname.match(/^\/esgst\/delete/),gbPath:location.pathname.match(/^\/esgst\/bookmarked-giveaways/),gedPath:location.pathname.match(/^\/esgst\/decrypted-giveaways/),gePath:location.pathname.match(/^\/esgst\/extracted-giveaways/),glwcPath:location.pathname.match(/^\/esgst\/glwc/),userPath:location.pathname.match(/^\/user\//),groupPath:location.pathname.match(/^\/group\//),regionsPath:location.pathname.match(/^\/regions\//),groupWishlistPath:location.pathname.match(/^\/group\/(.*?)\/wishlist/),mainPath:location.pathname.match(/^\/$/),winnersPath:location.pathname.match(/^\/giveaway\/.+\/winners/),giveawaysPath:location.href.match(/steamgifts.com($|\/$|\/giveaways(?!.*\/(new|wishlist|created|entered|won)))/),giveawayCommentsPath:location.pathname.match(/^\/giveaway\/(?!.+\/(entries|winners|groups))/),discussionsTicketsPath:location.pathname.match(/^\/(discussions|support\/tickets)/),ticketsPath:location.pathname.match(/^\/support\/tickets/),tradesPath:location.href.match(/steamtrades.com($|\/$|\/trades)/),discussionsTicketsTradesPath:location.href.match(/steamtrades.com($|\/$)/)||location.pathname.match(/^\/(discussions|support\/tickets|trades)/),originalHash:location.hash,discussionTicketTradeCommentsPath:location.pathname.match(/^\/(discussion|support\/ticket|trade)\//),archivePath:location.pathname.match(/^\/archive/),profilePath:location.pathname.match(/^\/account\/settings\/profile/),giveawayPath:location.pathname.match(/^\/giveaway\//),discussionPath:location.pathname.match(/^\/discussion\//),ticketPath:location.pathname.match(/^\/support\/ticket\//),tradePath:location.pathname.match(/^\/trade\//),discussionsPath:location.pathname.match(/^\/discussions(?!\/new)/),newDiscussionPath:location.pathname.match(/^\/discussions\/new/),editDiscussionPath:location.pathname.match(/^\/discussions\/edit/),createdDiscussionsPath:location.pathname.match(/^\/discussions\/created/),newGiveawayPath:location.pathname.match(/^\/giveaways\/new/),newTicketPath:location.pathname.match(/^\/support\/tickets\/new/),wishlistPath:location.pathname.match(/^\/giveaways\/wishlist/),createdPath:location.pathname.match(/^\/giveaways\/created/),wonPath:location.pathname.match(/^\/giveaways\/won/),enteredPath:location.pathname.match(/^\/giveaways\/entered/),commentsPath:location.pathname.match(/^\/(giveaway\/(?!.*\/(entries|winners|groups))|discussion\/|support\/ticket\/|trade\/)/),accountPath:location.pathname.match(/^\/account/),aboutPath:location.pathname.match(/^\/(about|legal)/),whitelistPath:location.pathname.match(/^\/account\/manage\/whitelist/),blacklistPath:location.pathname.match(/^\/account\/manage\/blacklist/),inboxPath:location.pathname.match(/^\/messages/),groupsPath:location.pathname.match(/^\/account\/steam\/groups/),pageTop:25,commentsTop:0,apPopouts:{},tsTables:[],currentUsers:{},currentGames:{apps:{},subs:{}}}).markdownParser.setBreaksEnabled(!0),esgst.markdownParser.setMarkupEscaped(!0),esgst.name=esgst.sg?'sg':'st','undefined'==typeof GM&&'undefined'==typeof GM_setValue)esgst.type='extension',setValue=((e,t)=>setValues({[e]:t})),setValues=(e=>{let t;return new Promise((s,n)=>{chrome.runtime.sendMessage({action:'setValues',values:JSON.stringify(e)},()=>{for(t in e)esgst.storage[t]=e[t];s()})})}),getValue=(async(e,t)=>isSet(esgst.storage[e])?esgst.storage[e]:t),getValues=(e=>new Promise((t,s)=>{let n={};for(let t in e)n[t]=isSet(esgst.storage[t])?esgst.storage[t]:e[t];t(n)})),delValue=(e=>delValues([e])),delValues=(e=>new Promise((t,s)=>{chrome.runtime.sendMessage({action:'delValues',keys:JSON.stringify(e)},()=>{e.forEach(e=>{delete esgst.storage[e]}),t()})})),getStorage=(()=>new Promise((e,t)=>{chrome.runtime.sendMessage({action:'getStorage'},t=>{e(JSON.parse(t))})})),notifyNewVersion=(e=>{let t,s,n={icon:'fa-exclamation',title:t=esgst.discussionPath?'You are not using the latest ESGST version. Please update before reporting bugs and make sure the bugs still exist in the latest version.':'A new ESGST version is available.',isTemp:!0,onClose:setValue.bind(null,'dismissedVersion',e)};'undefined'==typeof browser&&(n.buttons=[{color1:'green',color2:'',icon1:'fa-download',icon2:'',title1:'Download .zip',title2:'',callback1:open.bind(null,`https://github.com/revilheart/ESGST/releases/download/${e}/extension.zip`)},{color1:'green',color2:'',icon1:'fa-refresh',icon2:'',title1:'Reload Extension',title2:'',callback1:chrome.runtime.sendMessage.bind(null,{action:'reload'},location.reload.bind(null))}]),new Popup_v2(n).open()}),continueRequest=(e=>new Promise(async(t,s)=>{let n=e.url.match(/^\//)||e.url.match(new RegExp(location.hostname));if(e.url=e.url.replace(/^\//,`https://${location.hostname}/`).replace(/^https?:/,location.href.match(/^http:/)?'http:':'https:'),n){let s=await fetch(e.url,{body:e.data,credentials:e.anon?'omit':'include',headers:new Headers(e.headers),method:e.method,redirect:'follow'}),n=await s.text();s={finalUrl:s.url,redirected:s.redirected,responseText:n},t(s),s.finalUrl.match(/www.steamgifts.com/)&&lookForPopups(s)}else chrome.runtime.sendMessage({action:'fetch',parameters:JSON.stringify({body:e.data,credentials:e.anon?'omit':'include',headers:e.headers,method:e.method,redirect:'follow'}),url:e.url},e=>{e=JSON.parse(e),t(e),e.finalUrl.match(/www.steamgifts.com/)&&lookForPopups(e)})})),addHeaderMenu=(()=>{var e,t,s,n,i,a,o;esgst.sg?(s='nav__left-container',o='beforeEnd'):(s='nav_logo',o='afterEnd'),e=(t=(i=(a=insertHtml(n=document.getElementsByClassName(s)[0],o,`\n                    <div class="esgst-header-menu" id="esgst" title="${getFeatureTooltip()}">\n                        <div class="esgst-header-menu-relative-dropdown esgst-hidden">\n                            <div class="esgst-header-menu-absolute-dropdown">\n                                <a class="esgst-header-menu-row" href="https://github.com/revilheart/ESGST">\n                                    <i class="fa fa-fw fa-github grey"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">GitHub</p>\n                                        <p class="esgst-header-menu-description">Visit the GitHub page.</p>\n                                    </div>\n                                </a>\n                                <a class="esgst-header-menu-row" href="https://github.com/revilheart/ESGST/issues">\n                                    <i class="fa fa-fw fa-bug red"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Bugs/Suggestions</p>\n                                        <p class="esgst-header-menu-description">Report bugs and/or make suggestions.</p>\n                                    </div>\n                                </a>\n                                <a class="esgst-header-menu-row" href="https://github.com/revilheart/ESGST/milestones">\n                                    <i class="fa fa-fw fa-map-signs blue"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Milestones</p>\n                                        <p class="esgst-header-menu-description">Check out what's coming in the next version.</p>\n                                    </div>\n                                </a>\n                                <a class="esgst-header-menu-row" href="https://www.steamgifts.com/discussion/TDyzv/">\n                                    <i class="fa fa-fw fa-commenting green"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Discussion</p>\n                                        <p class="esgst-header-menu-description">Visit the discussion page.</p>\n                                    </div>\n                                </a>\n                                <a class="esgst-header-menu-row" href="http://steamcommunity.com/groups/esgst">\n                                    <i class="fa fa-fw fa-steam green"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Steam Group</p>\n                                        <p class="esgst-header-menu-description">Visit/join the Steam group.</p>\n                                    </div>\n                                </a>\n                                <div class="esgst-header-menu-row">\n                                    <i class="fa fa-fw fa-file-text-o yellow"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Changelog</p>\n                                        <p class="esgst-header-menu-description">Check out the changelog.</p>\n                                    </div>\n                                </div>\n                                <div class="esgst-header-menu-row esgst-version-row">\n                                    <i class="fa fa-fw fa-paypal grey"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Donate - Thank you!</p>\n                                        <p class="esgst-header-menu-description">Paypal - rafaelxgs@gmail.com</p>\n                                    </div>\n                                </div>\n                                <div class="esgst-header-menu-row esgst-version-row">\n                                    <div>\n                                        <p class="esgst-header-menu-description">Current Version: ${esgst.devVersion}</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="esgst-header-menu-button">\n                            <i class="fa">\n                                <img src="${esgst.icon}"/>\n                            </i>\n                            <span>ESGST</span>\n                        </div>\n                        <div class="esgst-header-menu-button arrow">\n                            <i class="fa fa-angle-down"></i>\n                        </div>\n                    </div>\n                `)).firstElementChild).nextElementSibling).nextElementSibling,t.addEventListener('mousedown',function(e){2!==e.button&&(e.preventDefault(),esgst.openSettingsInTab||1===e.button?open('/esgst/settings'):loadSMMenu())}),e.addEventListener('click',toggleHeaderMenu.bind(null,e,i)),document.addEventListener('click',closeHeaderMenu.bind(null,e,i,a),!0),i.firstElementChild.lastElementChild.previousElementSibling.previousElementSibling.addEventListener('click',loadChangelog)}),chrome.runtime.onMessage.addListener(e=>{let t,s;switch((e=JSON.parse(e)).action){case'delValues':e.values.forEach(e=>{delete esgst.storage[e]});break;case'setValues':for(t in e.values)esgst.storage[t]=e.values[t]}});else{if(esgst.type='script','undefined'==typeof GM){GM={setValue:GM_setValue,getValue:GM_getValue,deleteValue:GM_deleteValue,listValues:GM_listValues,xmlHttpRequest:GM_xmlhttpRequest};for(let e in GM){let t=GM[e];GM[e]=function(...e){return new Promise((s,n)=>{try{s(t.apply(this,e))}catch(e){n(e)}})}}}setValue=GM.setValue,setValues=(async e=>{let t=[];for(let s in e)t.push(GM.setValue(s,e[s]));await Promise.all(t)}),getValue=GM.getValue,getValues=(async e=>{let t={},s=[];for(let n in e){let i=GM.getValue(n,e[n]);i.then(e=>{t[n]=e}),s.push(i)}return await Promise.all(s),t}),delValue=GM.deleteValue,delValues=(async e=>{let t=[];for(let s=e.length-1;s>-1;s--)t.push(GM.deleteValue(e[s]));await Promise.all(t)}),getStorage=(async()=>{let e=await GM.listValues(),t=[],s={};for(let n=e.length-1;n>-1;n--){let i=GM.getValue(e[n]);i.then(t=>{s[e[n]]=t}),t.push(i)}return await Promise.all(t),s}),notifyNewVersion=(e=>{let t,s;t=esgst.discussionPath?'You are not using the latest ESGST version. Please update before reporting bugs and make sure the bugs still exist in the latest version.':'A new ESGST version is available.',insertHtml((s=new Popup('fa-exclamation',t,!0)).actions,'afterBegin','<span>Update</span>').addEventListener('click',checkUpdate),s.onClose=(()=>{setValue('dismissedVersion',e)}),s.open()}),continueRequest=(e=>new Promise(async(t,s)=>{let n=e.url.match(/^\//)||e.url.match(new RegExp(location.hostname));if(e.url=e.url.replace(/^\//,`https://${location.hostname}/`).replace(/^https?:/,location.href.match(/^http:/)?'http:':'https:'),n){let s=await fetch(e.url,{body:e.data,credentials:e.anon?'omit':'include',headers:e.headers,method:e.method,redirect:'follow'}),n=await s.text();s={finalUrl:s.url,redirected:s.redirected,responseText:n},t(s),s.finalUrl.match(/www.steamgifts.com/)&&lookForPopups(s)}else GM.xmlHttpRequest({data:e.data,headers:e.headers,method:e.method,url:e.url,onload:e=>{t(e),e.finalUrl.match(/www.steamgifts.com/)&&lookForPopups(e)}})})),addHeaderMenu=(()=>{var e,t,s,n,i,a,o,r,l;esgst.sg?(n='nav__left-container',l='beforeEnd'):(n='nav_logo',l='afterEnd'),e=(t=(a=(r=insertHtml(i=document.getElementsByClassName(n)[0],l,`\n                    <div class="esgst-header-menu" id="esgst" title="${getFeatureTooltip()}">\n                        <div class="esgst-header-menu-relative-dropdown esgst-hidden">\n                            <div class="esgst-header-menu-absolute-dropdown">\n                                <div class="esgst-header-menu-row">\n                                    <i class="fa fa-fw fa-refresh blue"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Update</p>\n                                        <p class="esgst-header-menu-description">Check for updates.</p>\n                                    </div>\n                                </div>\n                                <a class="esgst-header-menu-row" href="https://github.com/revilheart/ESGST">\n                                    <i class="fa fa-fw fa-github grey"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">GitHub</p>\n                                        <p class="esgst-header-menu-description">Visit the GitHub page.</p>\n                                    </div>\n                                </a>\n                                <a class="esgst-header-menu-row" href="https://github.com/revilheart/ESGST/issues">\n                                    <i class="fa fa-fw fa-bug red"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Bugs/Suggestions</p>\n                                        <p class="esgst-header-menu-description">Report bugs and/or make suggestions.</p>\n                                    </div>\n                                </a>\n                                <a class="esgst-header-menu-row" href="https://github.com/revilheart/ESGST/milestones">\n                                    <i class="fa fa-fw fa-map-signs blue"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Milestones</p>\n                                        <p class="esgst-header-menu-description">Check out what's coming in the next version.</p>\n                                    </div>\n                                </a>\n                                <a class="esgst-header-menu-row" href="https://www.steamgifts.com/discussion/TDyzv/">\n                                    <i class="fa fa-fw fa-commenting green"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Discussion</p>\n                                        <p class="esgst-header-menu-description">Visit the discussion page.</p>\n                                    </div>\n                                </a>\n                                <a class="esgst-header-menu-row" href="http://steamcommunity.com/groups/esgst">\n                                    <i class="fa fa-fw fa-steam green"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Steam Group</p>\n                                        <p class="esgst-header-menu-description">Visit/join the Steam group.</p>\n                                    </div>\n                                </a>\n                                <div class="esgst-header-menu-row">\n                                    <i class="fa fa-fw fa-file-text-o yellow"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Changelog</p>\n                                        <p class="esgst-header-menu-description">Check out the changelog.</p>\n                                    </div>\n                                </div>\n                                <div class="esgst-header-menu-row esgst-version-row">\n                                    <i class="fa fa-fw fa-paypal grey"></i>\n                                    <div>\n                                        <p class="esgst-header-menu-name">Donate - Thank you!</p>\n                                        <p class="esgst-header-menu-description">Paypal - rafaelxgs@gmail.com</p>\n                                    </div>\n                                </div>\n                                <div class="esgst-header-menu-row esgst-version-row">\n                                    <div>\n                                        <p class="esgst-header-menu-description">Current Version: ${esgst.devVersion}</p>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div class="esgst-header-menu-button">\n                            <i class="fa">\n                                <img src="${esgst.icon}"/>\n                            </i>\n                            <span>ESGST</span>\n                        </div>\n                        <div class="esgst-header-menu-button arrow">\n                            <i class="fa fa-angle-down"></i>\n                        </div>\n                    </div>\n                `)).firstElementChild).nextElementSibling).nextElementSibling,t.addEventListener('mousedown',function(e){2!==e.button&&(e.preventDefault(),esgst.openSettingsInTab||1===e.button?open('/esgst/settings'):loadSMMenu())}),e.addEventListener('click',toggleHeaderMenu.bind(null,e,a)),document.addEventListener('click',closeHeaderMenu.bind(null,e,a,r),!0),a.firstElementChild.firstElementChild.addEventListener('click',checkUpdate),a.firstElementChild.lastElementChild.previousElementSibling.previousElementSibling.addEventListener('click',loadChangelog)})}let e,t;if(esgst.storage=await getStorage(),e=[],t={},isSet(esgst.storage.users)){esgst.users=JSON.parse(esgst.storage.users);let e=!1;for(let t in esgst.users.users){let s=esgst.users.users[t].wbc;s&&s.result&&'whitelisted'!==s.result&&'blacklisted'!==s.result&&(delete esgst.users.users[t].wbc,e=!0)}e&&(t.users=JSON.stringify(esgst.users))}else esgst.users={steamIds:{},users:{}},t.users=JSON.stringify(esgst.users);isSet(esgst.storage[`${esgst.name}RfiCache`])||(t[`${esgst.name}RfiCache`]=getLocalValue('replies','{}'),delLocalValue('replies')),isSet(esgst.storage.emojis)||(t.emojis=isSet(esgst.storage.Emojis)?esgst.storage.Emojis:'',e.push('Emojis')),esgst.sg?(isSet(esgst.storage.dfPresets)||(t.dfPresets=getLocalValue('dfPresets','[]'),delLocalValue('dfPresets')),isSet(esgst.storage.filterPresets)||(t.filterPresets=getLocalValue('filterPresets','[]'),delLocalValue('filterPresets')),isSet(esgst.storage.templates)||(t.templates=getLocalValue('templates','[]'),delLocalValue('templates')),isSet(esgst.storage.stickiedCountries)||(t.stickiedCountries=getLocalValue('stickiedCountries','[]'),delLocalValue('stickiedCountries')),isSet(esgst.storage.giveaways)?esgst.giveaways=JSON.parse(esgst.storage.giveaways):(t.giveaways=getLocalValue('giveaways','{}'),esgst.giveaways=JSON.parse(t.giveaways),delLocalValue('giveaways')),isSet(esgst.storage.discussions)?esgst.discussions=JSON.parse(esgst.storage.discussions):(t.discussions=getLocalValue('discussions','{}'),esgst.discussions=JSON.parse(t.discussions),delLocalValue('discussions')),isSet(esgst.storage.tickets)||(t.tickets=getLocalValue('tickets','{}'),delLocalValue('tickets')),delLocalValue('gFix'),delLocalValue('dFix'),delLocalValue('tFix'),isSet(esgst.storage.groups)?esgst.groups=JSON.parse(esgst.storage.groups):(t.groups=getLocalValue('groups','[]'),esgst.groups=JSON.parse(t.groups),delLocalValue('groups')),isSet(esgst.storage.entries)||(t.entries=getLocalValue('entries','[]'),delLocalValue('entries')),isSet(esgst.storage.rerolls)?esgst.rerolls=JSON.parse(esgst.storage.rerolls):(t.rerolls=getLocalValue('rerolls','[]'),esgst.rerolls=JSON.parse(t.rerolls),delLocalValue('rerolls')),isSet(esgst.storage.winners)?esgst.winners=JSON.parse(esgst.storage.winners):(t.winners=getLocalValue('winners','{}'),esgst.winners=JSON.parse(t.winners),delLocalValue('winners'))):(isSet(esgst.storage.trades)||(t.trades=getLocalValue('trades','{}'),delLocalValue('trades')),delLocalValue('tFix')),isSet(esgst.storage.games)?esgst.games=JSON.parse(esgst.storage.games):(esgst.games={apps:{},subs:{}},t.games=JSON.stringify(esgst.games)),isSet(esgst.storage.settings)?esgst.settings=JSON.parse(esgst.storage.settings):esgst.settings={},esgst.version=esgst.storage.version;for(let e in esgst.oldValues)esgst[e]=getSetting(e,!0);for(let e in esgst.defaultValues)esgst[e]=getSetting(e,!0);for(let e in esgst.settings){let t;(t=e.match(new RegExp(`(.+?)_${esgst.name}$`)))&&(esgst[t[1]]=esgst.settings[e])}esgst.features={general:{features:{aic:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-image"></i>) to the main page heading of any page that allows you to navigate through a carousel containing all of the attached images in the page.</li>\n                                <li>The carousel can also be opened by clicking on any attached image in the page.</li>\n                            </ul>\n                        ',features:{aic_b:{name:'Only trigger the carousel when clicking on the button in the main page heading.',sg:!0,st:!0}},name:'Attached Image Carousel',sg:!0,st:!0},ail:{conflicts:[{id:'vai',name:'Visible Attached Images'}],description:'\n                            <ul>\n                                <li>Only loads an attached image (in any page) when you click on its "View attached image" button, instead of loading it on page load, which should speed up page loads.</li>\n                            </ul>\n                        ',name:'Attached Image Loader',sg:!0,st:!0},ap:{description:'\n                            <ul>\n                                <li>If you click on/hover over (you can decide which one) a user/group\'s avatar/username, it shows a popout containing all of the basic information that you can find in their page.</li>\n                            </ul>\n                        ',name:'Avatar Popout',options:{title:'Open on:',values:['Hover','Click']},sg:!0},at:{description:'\n                            <ul>\n                                <li>Replaces a timestamp (in any page) with an accurate timestamp. For example, "2 hours ago" becomes "Jan 1, 2017, 0:00:00 - 2 hours ago".</li>\n                                <li>You can choose whether to show seconds or not and whether to use a 12-hour clock or a 24-hour one.</li>\n                            </ul>\n                        ',features:{at_s:{name:'Show seconds.',sg:!0,st:!0},at_24:{name:'Use a 24-hour clock.',sg:!0,st:!0}},name:'Accurate Timestamp',sg:!0,st:!0},cdr:{description:'\n                            <ul>\n                                <li>Shows a popup reminding you of your cake day on SteamGifts.</li>\n                                <li>You can set it to remind you a specified number of days before your cake day.</li>\n                            </ul>\n                        ',features:{cdr_b:{input:!0,name:'Remind you a specified number of days before your cake day.',sg:!0},cdr_d:{description:'\n                                    <ul>\n                                        <li>With this option enabled, the feature also reminds you if some days have already passed since your cake day and you had not logged in during that time.</li>\n                                    </ul>\n                                ',name:'Remind you on your cake day.',sg:!0}},name:'Cake Day Reminder',new:!0,sg:!0},chfl:{description:'\n                            <ul>\n                                <li>Allows you to add custom links to the header dropdowns/footer of any page.</li>\n                                <li>Already comes with some predefined links:</li>\n                                <ul>\n                                    <li>Giveaways: Hidden Games, Reduced CV Games, Browse Wishlist, Browse Recommended, Browse Group, Browse New</li>\n                                    <li>Discussions: Categorize Discussions, Browse Announcements, Browse Bugs / Suggestions, Browse Deals, Browse General, Browse Group Recruitment, Browse Let\'s Play Together, Browse Off-Topic, Browse Puzzles, Browse Uncategorized</li>\n                                    <li>Support: Real CV, Not Activated Wins, Multiple Wins</li>\n                                    <li>Help: Change Log</li>\n                                    <li>Account: Whitelist, Blacklist, Games, Groups, Wishlist</li>\n                                </ul>\n                                <li>If you press the Ctrl key with a dropdown open, the feature adds two buttons ("<i class="fa fa-plus-circle"></i> Add Custom Link" and "<i class="fa fa-undo"></i> Reset Links") to the end of the dropdown that allow you to add/reset the custom links. It also adds two other buttons (<i class="fa fa-edit"></i> to edit and <i class="fa fa-trash"></i> to remove) to each custom link in the dropdown that allow you to edit/remove the custom link.</li>\n                                <li>If you press the Ctrl key with no dropdown open, those same buttons will be added to the footer of the page.</li>\n                                <li>You can move the custom links by dragging and dropping them.</li>\n                            </ul>\n                        ',name:'Custom Header/Footer Links',new:!0,sg:!0,st:!0},ef:{description:'\n                            <ul>\n                                <li>Allows you to hide elements in any page using CSS selectors.</li>\n                                <li>If you do not know how to use CSS selectors or you are having trouble hiding an element, leave a comment in the ESGST thread with a description/image of the element that you want to hide and I will give you the selector that you have to use.</li>\n                                <li>Here are some quick examples:</li>\n                                <ul>\n                                    <li>To hide the "Redeem" button in your <a href="https://www.steamgifts.com/giveaways/won">won</a> page, use: <code>.table__column__key__redeem</code></li>\n                                    <li>To hide the featured giveaway container (the big giveaway) in the main page, use: <code>[esgst.giveawaysPath].featured__container</code></li>\n                                    <li>To hide the pinned giveaways (the multiple copy giveaways) in the main page, use: <code>[esgst.giveawaysPath].pinned-giveaways__outer-wrap</code></li>\n                                </ul>\n                            </ul>\n                        ',input:!0,name:'Element Filters',new:!0,sg:!0,st:!0},es:{description:'\n                            <ul>\n                                <li>Loads the next page when you scroll down to the end of any page, allowing you to endlessly scroll through pages.</li>\n                                <li>Adds multiple buttons to the main page heading of the page:</li>\n                                <ul>\n                                    <li><i class="fa fa-play"></i> if the endless scrolling is paused and <i class="fa fa-pause"></i> if it is not, which allows you to pause/resume the endless scrolling.</li>\n                                    <li><i class="fa fa-step-forward"></i>, which allows you to load the next page without having to scroll down.</li>\n                                    <li><i class="fa fa-fast-forward"></i>, which allows you continously load the next pages until either the last page is reached or you pause the endless scrolling.</li>\n                                    <li><i class="fa fa-refresh"></i> <i class="fa fa-map-marker"></i>, which allows you to refresh the page currently visible in the window.</li>\n                                    <li><i class="fa fa-refresh"></i>, which allows you to refresh all of the pages that have been loaded.</li>\n                                </ul>\n                                <li>You can choose whether or not to show page divisors (page headings separating each loaded page).</li>\n                                <li>As you scroll through the page, the pagination navigation of the page changes according to the page currently visible in the window.</li>\n                                <li>If you use the pagination navigation of the page to try to go to a page that has been loaded, it scrolls to the page instead of opening it.</li>\n                                <li>There is a reverse scrolling option for discussions that loads the pages in descending order and loads the last page instead of the first one when visiting a discussion from the main/inbox page.</li>\n                            </ul>\n                        ',features:{es_ch:{name:'Enable for Comment History.',sg:!0},es_df:{name:'Enable for Discussion Filters.',sg:!0},es_dh:{name:'Enable for Discussion Highlighter.',sg:!0},es_gb:{name:'Enable for Giveaway Bookmarks.',sg:!0},es_ged:{name:'Enable for Giveaway Encrypter/Decrypter.',sg:!0},es_ge:{name:'Enable for Giveaway Extractor.',sg:!0},es_gf:{name:'Enable for Giveaway Filters.',sg:!0},es_r:{description:'\n                                    <ul>\n                                        <li>Loads the pages of a discussion in descending order.</li>\n                                        <li>Loads the last page instead of the first one when visiting a discussion from the main/inbox page.</li>\n                                    </ul>\n                                ',name:'Enable reverse scrolling.',sg:!0},es_rd:{name:'Refresh active discussions/deals when refreshing the main page.',sg:!0},es_pd:{description:'\n                                    <ul>\n                                        <li>With this option enabled, each loaded page is separated by a page heading, which makes it very clear where a page ends and another begins. With it disabled, there is no such distinction, so it looks like the entire page is a single page, giving a true endless feeling.</li>\n                                    </ul>\n                                ',name:'Show page divisors.',sg:!0,st:!0}},name:'Endless Scrolling',sg:!0,st:!0},ev:{description:'\n                            <ul>\n                                <li>Embeds any YouTube/Vimeo videos found in a comment (in any page) into the comment.</li>\n                                <li>Videos are only embedded if their links are in the [URL](URL) format and are the only content in a line. For example, "[https://youtu.be/ihd9dKek2gc](https://youtu.be/ihd9dKek2gc)" gets embedded, but "[Watch this!](https://youtu.be/ihd9dKek2gc)" and "Watch this: [https://youtu.be/ihd9dKek2gc](https://youtu.be/ihd9dKek2gc)" do not.</li>\n                            </ul>\n                        ',name:'Embedded Videos',sg:!0,st:!0},ff:{description:'\n                            <ul>\n                                <li>Keeps the footer of any page at the bottom of the window while you scroll down the page.</li>\n                            </ul>\n                        ',name:'Fixed Footer',sg:!0,st:!0},fh:{description:'\n                            <ul>\n                                <li>Keeps the header of any page at the top of the window while you scroll down the page.</li>\n                            </ul>\n                        ',name:'Fixed Header',sg:!0,st:!0},fmph:{description:'\n                            <ul>\n                                <li>Keeps the main page heading (usually the first heading of the page, for example, the heading that says "Giveaways" in the main page) of any page at the top of the window while you scroll down the page.</li>\n                            </ul>\n                        ',name:'Fixed Main Page Heading',sg:!0,st:!0},fs:{description:'\n                            <ul>\n                                <li>Keeps the sidebar of any page at the left side of the window while you scroll down the page.</li>\n                            </ul>\n                        ',name:'Fixed Sidebar',sg:!0},gdttt:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-check"></i> if the thread is not marked as visited and <i class="fa fa-times"></i> if it is) to the "Comments" column of any <a href="https://www.steamgifts.com/discussions">discussions</a>/<a href="https://www.steamgifts.com/support/tickets">tickets</a>/<a href="https://www.steamtrades.com/trades">trades</a> pages and to the main page heading of any discussion/ticket/trade page that allows you to mark the thread as visited.</li>\n                                <li>Giveaways/theads marked as visited are faded out in the page.</li>\n                            <ul>\n                        ',features:{gdttt_g:{name:'Fade visited giveaways.',sg:!0},gdttt_vd:{name:'Mark discussions as visited when visiting them.',sg:!0},gdttt_vg:{name:'Mark giveaways as visited when visiting them.',sg:!0},gdttt_vt:{name:'Mark tickets as visited when visiting them.',sg:!0},gdttt_vts:{name:'Mark trades as visited when visiting them.',st:!0}},name:'Giveaway/Discussion/Ticket/Trade Tracker',sg:!0,st:!0},hbs:{description:'\n                            <ul>\n                                <li>Hides the blacklist stats of your <a href="https://www.steamgifts.com/stats/personal/community">stats</a> page.</li>\n                            </ul>\n                        ',name:'Hidden Blacklist Stats',sg:!0},hcp:{description:'\n                            <ul>\n                                <li>Hides the community poll (if there is one) of the main page.</li>\n                            </ul>\n                        ',features:{hcp_v:{name:'Only hide the poll if you already voted in it.',sg:!0}},name:'Hidden Community Poll',sg:!0},hr:{description:'\n                            <ul>\n                                <li>Refreshes the header icons (created/won/inbox for SteamGIFTS and inbox for SteamTrades) and the points on SteamGifts (in any page) every specified number of minutes.</li>\n                                <li>There are also options to notify you when there are new wishlist giveaways open, when the key for a game you won is delivered, when you reach 400P and when you receive a new message.</li>\n                                <li>You can upload a custom sound for the browser notifications.</li>\n                                <li>If you enable the options to show browser notifications, you will be asked to give the permission to ESGST by your browser.</li>\n                            </ul>\n                        ',features:{hr_w:{description:'\n                                    <ul>\n                                        <li>A heart icon (<i class="fa fa-heart"></i>) will appear in the title.</li>\n                                    </ul>\n                                ',features:{hr_w_n:{features:{hr_w_n_s:{name:'Play a sound with this notification.',input:'hr_w_n_s_url',sg:!0}},name:'Also show as a browser notification.',sg:!0},hr_w_h:{name:'Only indicate for giveaways ending in a specified number of hours.',input:!0,sg:!0}},name:'Indicate if there are unentered wishlist giveaways open in the tab\'s title.',sg:!0},hr_g:{description:'\n                                    <ul>\n                                        <li>A trophy icon (<i class="fa fa-trophy"></i>) will appear in the title.</li>\n                                    </ul>\n                                ',features:{hr_g_n:{features:{hr_g_n_s:{name:'Play a sound with this notification.',input:'hr_g_n_s_url',sg:!0}},name:'Also show as a browser notification.',sg:!0}},name:'Indicate if there are unviewed keys for won gifts in the tab\'s title.',sg:!0},hr_b:{name:'Keep refreshing in the background when you go to another tab or minimize the browser.',sg:!0,st:!0},hr_c:{description:'\n                                    <ul>\n                                        <li>With this option disabled, notifications will automatically close after a few seconds.</li>\n                                    </ul>\n                                ',name:'Only close notifications manually.',sg:!0,st:!0},hr_fp:{features:{hr_fp_s:{name:'Play a sound with this notification.',input:'hr_fp_s_url',sg:!0}},name:'Show a browser notification if there are 400P or more.',sg:!0},hr_p:{name:'Show the number of points in the tab\'s title.',sg:!0},hr_m:{features:{hr_m_n:{features:{hr_m_n_s:{name:'Play a sound with this notification.',input:'hr_m_n_s_url',sg:!0,st:!0}},name:'Also show as a browser notification.',sg:!0,st:!0}},name:'Show the number of unread messages in the tab\'s icon.',sg:!0,st:!0},hr_a:{description:'\n                                    <ul>\n                                        <li>With this option disabled, clicking on a notification will always open a new tab.</li>\n                                    </ul>\n                                ',extensionOnly:!0,features:{hr_a_r:{name:'Refresh the page after setting it as active.',sg:!0,st:!0},hr_a_a:{name:'If the page is not open, set any SteamGifts/SteamTrades tab as active.',sg:!0,st:!0}},name:'When clicking on a browser notification, check if the related page is open and set it as active.',sg:!0,st:!0}},input:!0,name:'Header Refresher',sg:!0,st:!0},ib:{description:'\n                            <ul>\n                                <li>Brings back image borders to SteamGifts.</li>\n                            </ul>\n                        ',name:'Image Borders',sg:!0},lpl:{description:'\n                            <ul>\n                                <li>Adds a "Last Page" link to the pagination navigation of some pages that do not have it. For example: discussion pages with 100+ pages, user pages, group pages with 100+ pages, etc...</li>\n                            </ul>\n                        ',name:'Last Page Link',sg:!0},lpv:{description:'\n                            <ul>\n                                <li>Displays a green bar in the account button at the header of any page that represents your level progress.</li>\n                                <li>Also displays a lighter green bar, if you have any giveaways open, to estimate what your level will be when the giveaways are marked as received. If you hover over the account button, it shows the number of the estimated level.</li>\n                            </ul>\n                        ',name:'Level Progress Visualizer',sg:!0,sync:'Giveaways, Reduced CV Games and No CV Games'},mt:{description:'\n                            <ul>\n                                <li>Adds 2 toggle switches with a button (<i class="fa fa-user"></i> if [id=ut] or [id=wbc] are enabled and <i class="fa fa-gamepad"></i> <i class="fa fa-tags"></i> if [id=gt] is enabled) to the main page heading of any page that allow you to tag multiple users/games at once.</li>\n                                <ul>\n                                    <li>The switch allows you to turn checkboxes on/off. When checkboxes are on, a checkbox is added in front of each user/game in the page so that you can select which users/games you want to tag.</li>\n                                    <li>The button allows you to tag the selected users/games.</li>\n                                </ul>\n                                <li>If you have [id=wbc] enabled, you can also use the checkboxes to select which users you want to check for the "Only check selected." option.</li>\n                            </ul>\n                        ',name:'Multi-Tag',sg:!0,st:!0},nm:{description:'\n                            <ul>\n                                <li>Adds a second inbox icon colored as red (<i class="fa fa-envelope esgst-red"></i>) to the header of any page that allows you to be notified about messages from SteamTrades on SteamGifts and vice-versa.</li>\n                                <li>This feature is compatible with [id=hr_b].</li>\n                            </ul>\n                        ',name:'Notification Merger',sg:!0,st:!0},pnot:{description:'\n                            <ul>\n                                <li>Moves the pagination navigation of any page to the main page heading of the page.</li>\n                            </ul>\n                        ',name:'Pagination Navigation On Top',sg:!0,st:!0},qiv:{description:'\n                            <ul>\n                                <li>If you hover over the inbox icon (<i class="fa fa-envelope"></i>) at the header, it shows a popout with your messages so that you do not need to access your inbox page to read them.</li>\n                                <li>You can also mark the messages as read from the popout and reply to them if [id=rfi] is enabled.</li>\n                            </ul>\n                        ',features:{qiv_p:{description:'\n                                    <ul>\n                                        <li>Preloads the first page so that you do not have to wait for it to load after hovering over the inbox icon (this can slow down the page load though).</li>\n                                    </ul>\n                                ',name:'Preload the first page.',new:!0,sg:!0,st:!0}},name:'Quick Inbox View',newBelow:!0,sg:!0,st:!0},sto:{description:'\n                            <ul>\n                                <li>Opens any link in the page in the same tab.</li>\n                            </ul>\n                        ',name:'Same Tab Opener',sg:!0,st:!0},stbb:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-chevron-down"></i>) either to the bottom right corner, the main page heading or the footer (you can decide where) of any page that takes you to the bottom of the page.</li>\n                            </ul>\n                        ',name:'Scroll To Bottom Button',options:{title:'Show in:',values:['Bottom Right Corner','Main Page Heading','Footer']},sg:!0,st:!0},sttb:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-chevron-up"></i>) either to the bottom right corner, the main page heading or the footer (you can decide where) of any page that takes you to the top of the page.</li>\n                            </ul>\n                        ',name:'Scroll To Top Button',options:{title:'Show in:',values:['Bottom Right Corner','Main Page Heading','Footer']},sg:!0,st:!0},smgb:{description:'\n                            <ul>\n                                <li>Turns the magnifying glass icon (<i class="fa fa-search"></i>) in the search field of any page into a button that submits the search when you click on it.</li>\n                            </ul>\n                        ',name:'Search Magnifying Glass Button',sg:!0},sk:{description:'\n                            <ul>\n                                <li>Allows you to perform many different tasks by pressing certain keys.</li>\n                            </ul>\n                        ',features:{sk_cp:{input:'sk_closePopups',name:'Close all currently opened popups.',sg:!0,st:!0},sk_sb:{input:'sk_searchBox',name:'Focus on the search box.',sg:!0,st:!0},sk_fp:{input:'sk_firstPage',name:'Go to the first page.',sg:!0,st:!0},sk_pp:{input:'sk_previousPage',name:'Go to the previous page.',sg:!0,st:!0},sk_np:{input:'sk_nextPage',name:'Go to the next page.',sg:!0,st:!0},sk_lp:{input:'sk_lastPage',name:'Go to the last page.',sg:!0,st:!0},sk_tf:{input:'sk_toggleFilters',name:'Toggle the giveaway filters.',sg:!0},sk_hg:{input:'sk_hideGame',name:'Hide the game when inside of a giveaway.',sg:!0},sk_hga:{input:'sk_hideGiveaway',name:'Hide the giveaway when inside of a giveaway.',sg:!0},sk_ge:{input:'sk_giveawayEntry',name:'Enter/leave the giveaway when inside of a giveaway.',sg:!0},sk_c:{input:'sk_creator',name:'Insert the username of the creator of the giveaway/discussion/trade to the current reply box.',sg:!0,st:!0},sk_rb:{input:'sk_replyBox',name:'Focus on the reply box.',sg:!0,st:!0},sk_ru:{input:'sk_replyUser',name:'Insert the username of the user to whom you are replying to the current reply box.',sg:!0,st:!0},sk_sr:{input:'sk_submitReply',name:'Submit the current reply.',sg:!0,st:!0}},name:'Shortcut Keys',sg:!0,st:!0},ttpcc:{description:'\n                            <ul>\n                                <li>If you have less than 400P and you hover over the number of points at the header of any page, it shows how much time you have to wait until you have 400P.</li>\n                            </ul>\n                        ',name:'Time To Point Cap Calculator',sg:!0},ts:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-sort"></i> if the table is sorted by the default order, <i class="fa fa-sort-asc"></i> if it is sorted by ascending order and <i class="fa fa-sort-desc"></i> if it is sorted by descending order) to the heading of each table\'s column (in any page) that allows you to sort the table by the values of the column.</li>\n                            </ul>\n                        ',name:'Table Sorter',sg:!0,st:!0},urlr:{description:'\n                            <ul>\n                                <li>Redirects broken URLs to the correct URLs. For example, "/giveaway/XXXXX" redirects to "/giveaway/XXXXX/".</li>\n                            </ul>\n                        ',name:'URL Redirector',sg:!0,st:!0},vai:{conflicts:[{id:'ail',name:'Attached Image Loader'}],description:'\n                            <ul>\n                                <li>Displays all of the attached images (in any page) by default so that you do not need to click on "View attached image" to view them.</li>\n                            </ul>\n                        ',features:{vai_gifv:{name:'Rename .gifv images to .gif so that they are properly attached.',sg:!0,st:!0}},name:'Visible Attached Images',sg:!0,st:!0}},newBelow:!0},giveaways:{features:{ags:{description:'\n                            <ul>\n                                <li>Adds a panel below the search field of the main page that allows you to easily search for giveaways using SteamGifts\' <a href="https://www.steamgifts.com/discussion/8SzdT/">search parameters</a>.</li>\n                            </ul>\n                        ',name:'Advanced Giveaway Search',sg:!0},as:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-folder"></i> <i class="fa fa-search"></i>) to the main page heading of any <a href="https://www.steamgifts.com/archive">archive</a> page that allows you to search the archive by exact title/app id.</li>\n                            </ul>\n                        ',name:'Archive Searcher',sg:!0},bgl:{description:'\n                            <ul>\n                                <li>If you cannot access a giveaway for blacklist reasons (either because you have blacklisted the creator or the creator has blacklisted you), this feature requests the giveaway in anonymous mode (as if you were not logged in) and loads it to you.</li>\n                            </ul>\n                        ',name:'Blacklist Giveaway Loader',sg:!0},cec:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-comments"></i> <i class="fa fa-ticket"></i> <i class="fa fa-question-circle"></i>) to the main page heading of any <a href="https://www.steamgifts.com/giveaway/aeqw7/">giveaway</a> page that allows you to view the list (including the number and percentage) of users that commented without entering, users that entered without commenting and users that commented & entered.</li>\n                                <li>If the giveaway has a link to a discussion, the feature will also check for comments in the discussion.</li>\n                            </ul>\n                        ',name:'Comment/Entry Checker',sg:!0},cewgd:{description:'\n                            <ul>\n                                <li>Adds more details to each giveaway in your <a href="https://www.steamgifts.com/giveaways/created">created</a>/<a href="https://www.steamgifts.com/giveaways/entered">entered</a>/<a href="https://www.steamgifts.com/giveaways/won">won</a> pages:</li>\n                                <ul>\n                                    <li>How many points the giveaway is worth next to the game\'s name.</li>\n                                    <li>An icon (<i class="fa fa-steam"></i>) next to the game\'s name that links to the game\'s Steam store page.</li>\n                                    <li>For the entered/won pages only, the creator\'s username next to the giveaway\'s end time.</li>\n                                    <li>A column "Type" containing the giveaway\'s type (public, invite only, group, whitelist or region restricted).</li>\n                                    <li>A column "Level" containing the giveaway\'s level.</li>\n                                    <li>For the created page only, a column "Winner(s)" containing the giveaway\'s winner(s) and how many of them have marked it as received/not received.</li>\n                                </ul>\n                            </ul>\n                        ',name:'Created/Entered/Won Giveaway Details',sg:!0},cwsl:{description:'\n                            <ul>\n                                <li>Turns the numbers in the "Giveaways" column of any <a href="https://www.steamgifts.com/giveaways/wishlist">community wishlist</a> page into links that allow you to search for all of the active giveaways for the game (that are visible to you).</li>\n                            </ul>\n                        ',name:'Community Wishlist Search Link',sg:!0},dkc:{description:'\n                            <ul>\n                                <li>Shows a confirmation popup if you try to delete a giveaway\'s key(s) (in any <a href="https://www.steamgifts.com/giveaway/aeqw7/dead-space/winners">winners</a> page).</li>\n                            </ul>\n                        ',name:'Delete Key Confirmation',sg:!0},elgb:{description:'\n                            <ul>\n                                <li>Adds a button ("<i class="fa fa-plus-circle"></i> Enter" to enter and "<i class="fa fa-minus-circle"></i> Leave" to leave) below a giveaway\'s start time (in any page) that allows you to enter/leave the giveaway without having to access it.</li>\n                                <li>You can move the button around by dragging and dropping it.</li>\n                            </ul>\n                        ',features:{elgb_c:{name:'Cache repeated descriptions from the same creator for 1 hour and only show them once.',sg:!0},elgb_f:{input:!0,name:'Filter out useless descriptions.',sg:!0},elgb_p:{description:'\n                                    <ul>\n                                        <li>Only shows the button in popups ([id=gb], [id=ged], [id=ge], etc...), so basically only for any giveaways that are loaded dynamically by ESGST.</li>\n                                    </ul>\n                                ',name:'Only enable for popups.',sg:!0},elgb_r:{features:{elgb_r_d:{name:'Only pop up if the giveaway has a description.',sg:!0}},name:'Pop up a box to reply to the giveaway when entering it.',sg:!0},elgb_d:{name:'Pop up the giveaway description when entering it, if it has any.',sg:!0}},name:'Enter/Leave Giveaway Button',sg:!0},et:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-ticket esgst-red"></i> My Entry History) to the dropdown menu accessible by clicking on the arrow next to your avatar at the header of any page that allows you to view your giveaway entry history (the detailed log, including the name, link and date of every giveaway you have entered/left) and some other details (the average number of giveaways that you enter per day, the date when you entered the least number of giveaways, the date when you entered the most number of giveaways and a table containing how many giveaways you have entered/left per day).</li>\n                                <li>An entry only appears in the history if you entered/left the giveaway after this feature was enabled.</li>\n                            </ul>\n                        ',name:'Entry Tracker',sg:!0},gb:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-bookmark"></i> if the giveaway is bookmarked and <i class="fa fa-bookmark-o"></i> if it is not) next to a giveaway\'s game name (in any page) that allows you to bookmark the giveaway so that you can enter it later.</li>\n                                <li>Adds a button (<i class="fa fa-bookmark"></i>) next to the ESGST button at the header of any page that allows you to view all of the giveaways that have been bookmarked.</li>\n                            </ul>\n                        ',features:{gb_u:{name:'Automatically unbookmark ended giveaways.',sg:!0},gb_ue:{name:'Automatically unbookmark entered giveaways.',sg:!0},gb_h:{description:'\n                                    <ul>\n                                        <li>Giveaways that have not started yet will not appear in the list of bookmarked giveaways. Instead, they will stay in a sort of hidden state until they start. When they start, the button will turn green, indicating that you must open the list of bookmarked giveaways so that the started giveaways can be updated with their end times.</li>\n                                        <li>When giveaways are about to end (based on the number of hours specified below), the button will turn red.</li>\n                                        <li>If there are both started and ending giveaways, the button will be colored with a brown-ish color, as a mixture of the green and red colors.</li>\n                                        <li>If you hover over the button, it shows more details about how many giveaways have started and/or are ending.</li>\n                                    </ul>\n                                ',input:!0,name:'Highlight the header button when giveaways have started and/or are about to end.',sg:!0},gb_t:{name:'Open the list of bookmarked giveaways in a new tab.',sg:!0},gb_se:{name:'Show the button for entered giveaways.',sg:!0}},name:'Giveaway Bookmarks',sg:!0},gch:{description:'\n                            <ul>\n                                <li>Highlights the number of copies next a giveaway\'s game name (in any page) by coloring it as red and changing the font to bold.</li>\n                            </ul>\n                        ',name:'Giveaway Copy Highlighter',sg:!0},gcl:{description:'\n                            <ul>\n                                <li>If you click on/hover over (you can decide which one) the region restricted icon (<i class="fa fa-globe"></i>) of a giveaway (in any page) it shows the countries that the giveaway is restricted to.</li>\n                            </ul>\n                        ',name:'Giveaway Country Loader',options:{title:'Load as:',values:['Popout (On Hover)','Popout (On Click)','Popup (On Click)']},sg:!0},ged:{description:'\n                            <ul>\n                                <li>Adds an icon (<i class="fa fa-star"></i> if the giveaway is open, <i class="fa fa-star esgst-green"></i> if it is open and new, <i class="fa fa-star esgst-yellow"></i> if it is not open yet and <i class="fa fa-star esgst-red"></i> if it has already ended) next to a comment\'s "Permalink" (in any page) for each encrypted giveaway that the comment has (if it has any). The icon links to the giveaway.</li>\n                                <li>Encrypted giveaways are basically invite only giveaway codes that ESGST encrypts using various encryption methods and hides in your comments so that they can only be visible through the source code of the page. Other ESGST users are able to easily see these giveaways if they have this feature enabled, but since the codes are visible through the source code of the page, anyone who finds them and manages to decrypt them can access the giveaways. So it is more like a puzzle that ESGST users can solve instantly and non-ESGST users can solve if they give it some effort, though it is doubtful that someone will check the source code of every page they open on SteamGifts looking for the codes.</li>\n                                <li>To add encrypted giveaways to your comments, check [id=cfh_g].</li>\n                                <li>Adds a button (<i class="fa fa-star"></i>) next to the ESGST button at the header of any page that allows you to view all of the decrypted giveaways that you have unlocked (they are unlocked whenever you visit a page that contains them).</li>\n                            </ul>\n                        ',features:{ged_t:{name:'Open the list of decrypted giveaways in a new tab.',sg:!0}},name:'Giveaway Encrypter/Decrypter',sg:!0},gesl:{description:`\n                            <ul>\n                                <li>If you cannot access a giveaway because of many different reasons, a "Search Links" row is added to the table of the <a href="https://www.steamgifts.com/giveaway/FN2PK/">error</a> page containing 3 links that allow you to search for the game elsewhere:</li>\n                                <ul>\n                                    <li><i class="fa"><img src="${esgst.sgIcon}"></i> allows you to search for open giveaways of the game on SteamGifts.</li>\n                                    <li><i class="fa fa-steam"></i> allows you to search for the game on Steam.</li>\n                                    <li><i class="fa"><img src="https://steamdb.info/static/logos/favicon-16x16.png"></i> allows you to search for the game on SteamDB.</li>\n                                </ul>\n                            </ul>\n                        `,name:'Giveaway Error Search Links',sg:!0},ge:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-gift"></i> <i class="fa fa-search"></i>) to the main page heading of any giveaway/discussion page that allows you to extract all of the giveaways that are linked in the page.</li>\n                                <li>The giveaways are extracted recursively. For example, if giveaway A has links to giveaways B and C, the feature will extract giveaway B and all of the giveaways linked in it before moving on to giveaway C, and so on.</li>\n                                <li>The feature keeps extracting giveaways until it no longer finds a giveaway link in the page. To prevent a loop (and consequently duplicate results), it keeps track of which giveaways it has already extracted so that they are not extracted again.</li>\n                                <li>If you use the feature in a giveaway page, it will add a "Bump" link to the results (when available).</li>\n                                <li>This feature is useful for extracting trains (multiple giveaways linked to each other).</li>\n                            </ul>\n                        ',features:{ge_b:{background:!0,name:'Highlight giveaways that cannot be entered because of blacklist reasons.',sg:!0},ge_g:{background:!0,name:'Highlight group giveaways.',sg:!0},ge_p:{background:!0,name:'Highlight public giveaways.',sg:!0},ge_o:{description:'\n                                    <ul>\n                                        <li>With this option enabled, if you use the feature in the 6th giveaway of a train and the train has links to the previous giveaways, it will not go back and extract giveaways 1-5.</li>\n                                        <li>This method is not 100% accurate, because the feature looks for a link with any variation of "next" in the description of the giveaway to make sure that it is going forward, so if it does not find such a link, the extraction will stop.</li>\n                                    </ul>\n                                ',name:'Only extract from the current giveaway onward.',sg:!0},ge_t:{name:'Open the extractor in a new tab.',sg:!0}},name:'Giveaway Extractor',sg:!0},gf:{description:'\n                            <ul>\n                                <li>Allows you to filter giveaways.</li>\n                            </ul>\n                        ',features:{gf_s:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-eye"></i> if the giveaway is hidden and <i class="fa fa-eye-slash"></i> if it is not) next to a giveaway\'s game name (in any page) that allows you to hide the giveaway.</li>\n                                        <li>Adds a button (<i class="fa fa-gift"></i> <i class="fa fa-eye-slash"></i>) to the page heading of this menu that allows you to view all of the giveaways that have been hidden.</li>\n                                    </ul>\n                                ',name:'Single Filters',sg:!0},gf_m:{description:'\n                                    <ul>\n                                        <li>Allows you to hide multiple giveaways in a page using many different filters.</li>\n                                        <li>Adds a toggle switch with a button (<i class="fa fa-sliders"></i>) to the main page heading of any <a href="https://www.steamgifts.com/giveaways">giveaways</a>/<a href="https://www.steamgifts.com/giveaways/created">created</a>/<a href="https://www.steamgifts.com/giveaways/entered">entered</a>/<a href="https://www.steamgifts.com/giveaways/won">won</a>/<a href="https://www.steamgifts.com/user/cg">user</a>/<a href="https://www.steamgifts.com/group/SJ7Bu/">group</a> page and some popups ([id=gb], [id=ged], [id=ge], etc...). The switch allows you to turn the filters on/off and the button allows you to manage your presets.</li>\n                                        <li>Adds a collapsible panel below the same main page heading that allows you to change/save the rules of a preset. The filters are separated in 3 categories:</li>\n                                        <ul>\n                                            <li>Basic filters are related to a numeric value (such as the level of a giveaway) and have a slider that you can use to set the range of the filter (any giveaways that do not apply to the range will be hidden).</li>\n                                            <li>Type filters are related to a boolean value (such as whether or not a giveaway was created by yourself) and have a checkbox that changes states when you click on it. The checkbox has 3 states:</li>\n                                            <ul>\n                                                <li>"Show all" (<i class="fa fa-check-circle"></i>) does not hide any giveaways that apply to the filter (this is the default state).</li>\n                                                <li>"Show only" (<i class="fa fa-circle"></i>) hides any giveaways that do not apply to the filter.</li>\n                                                <li>"Hide all" (<i class="fa fa-circle-o"></i>) hides any giveaways that apply to the filter.</li>\n                                            </ul>\n                                            <li>Category filters are essentially the same thing as type filters, but for game categories ([id=gc]).</li>\n                                        </ul>\n                                        <li>A preset contains all of your rules and can be saved to be reused later. You can save as many presets as you want. Each preset contains 3 types of rules:</li>\n                                        <ul>\n                                            <li>Basic rules are the ones that you can change directly in the filter panel, using the sliders/checkboxes as explained in the previous item.</li>\n                                            <li>Exception rules are the ones that you can change by clicking on the icon <i class="fa fa-gear"></i> in the filter panel. They are exceptions to the basic rules. For example, if you set the basic rule of the "Created" filter to "hide all" and you add an exception rule for the "Level" filter to the 0-5 range, none of your created giveaways that are for the levels 0-5 will be hidden, because they apply to the exception.</li>\n                                            <li>Override rules are the ones that you can change by clicking on the icon (<i class="fa fa-exclamation esgst-faded"></i> if set to overridable and <i class="fa fa-exclamation"></i> if set to non-overridable) next to each filter. They are enforcements of the basic rules. Continuing the previous example, if you set the override rule of the "Created" filter to "non-overridable", then all of your created giveaways will be hidden, because even if they apply to the exception, the basic rule is being enforced by the override rule, so the exception cannot override it.</li>\n                                        </ul>\n                                        <li>Adds a text in parenthesis to the pagination of the page showing how many giveaways in the page are being filtered by the filters.</li>\n                                    </ul>\n                                ',features:{gf_level:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways by level.</li>\n                                            </ul>\n                                        ',name:'Level',sg:!0},gf_entries:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways by number of entries.</li>\n                                            </ul>\n                                        ',name:'Entries',sg:!0},gf_copies:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways by number of copies.</li>\n                                            </ul>\n                                        ',name:'Copies',sg:!0},gf_points:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways by how many points they cost.</li>\n                                            </ul>\n                                        ',name:'Points',sg:!0},gf_comments:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways by number of comments.</li>\n                                            </ul>\n                                        ',name:'Comments',new:!0,sg:!0},gf_minutesToEnd:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways by how much time they have left.</li>\n                                            </ul>\n                                        ',name:'Minutes To End',sg:!0},gf_chance:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways by chance.</li>\n                                                <li>This option requires [id=gwc] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Chance',sg:!0},gf_ratio:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways by ratio.</li>\n                                                <li>This option requires [id=gwr] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Ratio',sg:!0},gf_rating:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways by rating percentage of the game.</li>\n                                                <li>This option requires [id=gc_r] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Rating',sg:!0},gf_releaseDate:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways by release date of the game.</li>\n                                                <li>This option requires [id=gc_rd] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Release Date',sg:!0},gf_pinned:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways that are pinned.</li>\n                                            </ul>\n                                        ',name:'Pinned',sg:!0},gf_inviteOnly:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways that are invite only.</li>\n                                            </ul>\n                                        ',name:'Invite Only',new:!0,sg:!0},gf_group:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways that are for groups.</li>\n                                            </ul>\n                                        ',name:'Group',sg:!0},gf_whitelist:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways that are for whitelist.</li>\n                                            </ul>\n                                        ',name:'Whitelist',sg:!0},gf_regionRestricted:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways that are region restricted.</li>\n                                            </ul>\n                                        ',name:'Region Restricted',sg:!0},gf_created:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways created by yourself.</li>\n                                            </ul>\n                                        ',name:'Created',sg:!0},gf_received:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways that have been marked as received.</li>\n                                            </ul>\n                                        ',name:'Received',sg:!0},gf_notReceived:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways that have been marked as not received.</li>\n                                            </ul>\n                                        ',name:'Not Received',sg:!0},gf_awaitingFeedback:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways that are awaiting feedback.</li>\n                                            </ul>\n                                        ',name:'Awaiting Feedback',sg:!0},gf_entered:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways that you have entered.</li>\n                                            </ul>\n                                        ',name:'Entered',sg:!0},gf_started:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways that have started.</li>\n                                            </ul>\n                                        ',name:'Started',sg:!0},gf_ended:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways that have ended.</li>\n                                            </ul>\n                                        ',name:'Ended',sg:!0},gf_deleted:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways that have been deleted.</li>\n                                            </ul>\n                                        ',name:'Deleted',sg:!0},gf_owned:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that you own on Steam.</li>\n                                            </ul>\n                                        ',name:'Owned',sg:!0},gf_wishlisted:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that you have wishlisted on Steam.</li>\n                                            </ul>\n                                        ',name:'Wishlisted',sg:!0},gf_hidden:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that you have hidden on SteamGifts.</li>\n                                            </ul>\n                                        ',name:'Hidden',sg:!0},gf_ignored:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that you have ignored on Steam.</li>\n                                            </ul>\n                                        ',name:'Ignored',sg:!0},gf_previouslyEntered:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that you have previously entered giveaways for.</li>\n                                                <li>This option requires [id=egh] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Previously Entered',sg:!0},gf_previouslyWon:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that you have previously won.</li>\n                                            </ul>\n                                        ',name:'Previously Won',sg:!0},gf_fullCV:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that give full CV.</li>\n                                            </ul>\n                                        ',name:'Full CV',sg:!0},gf_reducedCV:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that give reduced CV.</li>\n                                            </ul>\n                                        ',name:'Reduced CV',sg:!0},gf_noCV:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that give no CV.</li>\n                                            </ul>\n                                        ',name:'No CV',sg:!0},gf_removed:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that have been removed from the Steam store.</li>\n                                                <li>This option requires [id=gc_rm] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Removed',sg:!0},gf_tradingCards:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that have trading cards.</li>\n                                                <li>This option requires [id=gc_tc] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Trading Cards',sg:!0},gf_achievements:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that have achievements.</li>\n                                                <li>This option requires [id=gc_a] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Achievements',sg:!0},gf_multiplayer:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that are multiplayer.</li>\n                                                <li>This option requires [id=gc_mp] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Multiplayer',sg:!0},gf_steamCloud:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that have Steam Cloud.</li>\n                                                <li>This option requires [id=gc_sc] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Steam Cloud',sg:!0},gf_linux:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that have are compatible with Linux.</li>\n                                                <li>This option requires [id=gc_l] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Linux',sg:!0},gf_mac:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that are compatible with Mac.</li>\n                                                <li>This option requires [id=gc_m] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Mac',sg:!0},gf_dlc:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that are DLCs.</li>\n                                                <li>This option requires [id=gc_dlc] enabled to work.</li>\n                                            </ul>\n                                        ',name:'DLC',sg:!0},gf_dlcFree:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that are DLCs and have a free base game.</li>\n                                                <li>This option requires [id=gc_dlc_b] enabled to work.</li>\n                                            </ul>\n                                        ',name:'DLC (Free Base)',sg:!0},gf_dlcNonFree:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that are DLCs and have a non-free base game.</li>\n                                                <li>This option requires [id=gc_dlc_b] enabled to work.</li>\n                                            </ul>\n                                        ',name:'DLC (Non-Free Base)',sg:!0},gf_package:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that are packages.</li>\n                                                <li>This option requires [id=gc_p] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Package',sg:!0},gf_earlyAccess:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways for games that are in early access.</li>\n                                                <li>This option requires [id=gc_ea] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Early Access',sg:!0},gf_genres:{description:'\n                                            <ul>\n                                                <li>Allows you to filter giveaways by game genre.</li>\n                                                <li>This option requires [id=gc_g] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Genres',sg:!0}},name:'Multiple Filters',newBelow:!0,sg:!0}},name:'Giveaway Filters',newBelow:!0,sg:!0,sync:'Hidden Games, Owned/Wishlisted/Ignored Games, Won Games, Reduced CV Games, No CV Games and Giveaways'},ggl:{description:'\n                            <ul>\n                                <li>If you click on/hover over (you can decide which one) the group icon (<i class="fa fa-user"></i>) of a giveaway (in any page) it shows the groups that the giveaway is for. There is also an option to automatically load the groups on page load and show them below the giveaway (which also works in your <a href="https://www.steamgifts.com/giveaways/created">created</a>/<a href="https://www.steamgifts.com/giveaways/entered">entered</a>/<a href="https://www.steamgifts.com/giveaways/won">won</a> pages if [id=cewgd] is enabled).</li>\n                                <li>Has [id=gh] built-in.</li>\n                            </ul>\n                        ',features:{ggl_m:{name:'Only show groups that you are a member of.',sg:!0}},name:'Giveaway Group Loader',options:{title:'Load as:',values:['Panel (On Page Load)','Popout (On Hover)','Popout (On Click)','Popup (On Click)']},sg:!0,sync:'Steam Groups'},gm:{description:'\n                            <ul>\n                                <li>Adds a toggle switch with a button (<i class="fa fa-gear"></i>) to the main page heading of any <a href="https://www.steamgifts.com/giveaways">giveaways</a>/<a href="https://www.steamgifts.com/giveaways/created">created</a>/<a href="https://www.steamgifts.com/giveaways/entered">entered</a>/<a href="https://www.steamgifts.com/giveaways/won">won</a>/<a href="https://www.steamgifts.com/user/cg">user</a> page and some popups ([id=gb], [id=ged], [id=ge], etc...).</li>\n                                <ul>\n                                    <li>The switch allows you to turn the manager on/off. When the manager is on, a checkbox is added in front of each giveaway in the page so that you can select which giveaways you want to manage.</li>\n                                    <li>The button allows you to manage the selected giveaways. You can search & replace something in their description, bookmark/unbookmark them (if [id=gb] is enabled), hide them (if [id=gf_s] is enabled), view how much time you have to wait until you have enough points to enter them (if [id=ttec] is enabled), export them to encrypted giveaways (see [id=ged] for more information about encrypted giveaways), export them to links and export them to a custom format that you can specify. For example, if you want to construct a simple RaChart table containing the link to the Steam store page of the game, the link to the giveaway and the level of the giveaway, you can enter the custom format "[LINE][STEAM] | [URL] | [LEVEL][/LINE]" and the feature will create a line for each giveaway using that format and replacing the [STEAM], [URL] and [LEVEL] items with their related values.</li>\n                                </ul>\n                            </ul>\n                        ',name:'Giveaway Manager',sg:!0},gr:{description:'\n                            <ul>\n                                <li>Adds an icon (<i class="fa fa-rotate-left"></i>) next to the game name of a giveaway created by yourself that ended with 0 entries (in any page) that opens the <a href="https://www.steamgifts.com/giveaways/new">new giveaway</a> page with all of the details of the giveaway prefilled so that you can quickly recreate the giveaway.</li>\n                            </ul>\n                        ',features:{gr_a:{name:'Show the icon for all created giveaways.',new:!0,sg:!0},gr_r:{name:'Remove the button for giveaways that have been recreated.',sg:!0}},name:'Giveaway Recreator',newBelow:!0,sg:!0},gp:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-external-link"></i>) below a giveaway\'s start time (in any page) that allows you to read the description of the giveaway and/or add a comment to it without having to access it.</li>\n                                <li>You can move the button around by dragging and dropping it.</li>\n                            </ul>\n                        ',name:'Giveaway Popup',sg:!0},gts:{description:'\n                            <ul>\n                                <li>Adds a section 9 to the <a href="https://www.steamgifts.com/giveaways/new">new giveaway</a> page that allows you to save the details that you have filled (except for the name of the game and the number of copies/keys) as a template so that you can reuse it later. For example, if you often make public level 5 giveaways that last 2 days, you can save a template with those details so that when you create a new giveaway all of the fields in the page are automatically filled and all you have to do is select the game and set the number of copies/keys.</li>\n                                <li>Also adds a button (<i class="fa fa-file"></i>) to the main page heading of the same page that allows you manage all of the templates that have been saved and select the template that you want to use.</li>\n                            </ul>\n                        ',name:'Giveaway Templates',sg:!0},gwl:{description:'\n                            <ul>\n                                <li>Adds a link next to an ended giveaway\'s "Entries" link (in any page) that shows how many winners the giveaway has and takes you to the giveaway\'s <a href="https://www.steamgifts.com/giveaway/aeqw7/dead-space/winners">winners</a> page.</li>\n                            </ul>\n                        ',name:'Giveaway Winners Link',sg:!0},gwc:{description:'\n                            <ul>\n                                <li>Adds an element (<i class="fa fa-area-chart"></i> [Chance]%) below a giveaway\'s start time (in any page) that shows your chance of winning the giveaway.</li>\n                                <li>The chance is calculated by rounding up (using 2 decimals) the result of the following formula: number_of_copies / number_of_entries * 100\n                                <li>You can move the element around by dragging and dropping it.</li>\n                            </ul>\n                        ',features:{gwc_e:{description:'\n                                    <ul>\n                                        <li>The formula changes to: number_of_copies / (number_of_entries + 1) * 100\n                                        <li>For example, if a giveaway has 5 entries, the current chance of winning it is 20%, but after you enter it, it will have 6 entries, so the chance will decrease to 16.67%.</li>\n                                    </ul>\n                                ',name:'Show what the chance will be when you enter the giveaway instead of the current chance.',sg:!0},gwc_a:{description:'\n                                    <ul>\n                                        <li>Uses an advanced formula (number_of_copies / (number_of_entries / time_open_in_milliseconds * duration_in_milliseconds) * 100) to calculate the chance based on how much time the giveaway has been open and the duration of the giveaway. This gives you an estimate of what the chance will be when the giveaway ends.</li>\n                                    </ul>\n                                ',features:{gwc_a_b:{name:'Show the basic chance along with the advanced one (the advanced chance will appear in a parenthesis, like "[Basic]% ([Advanced]%)").',sg:!0}},name:'Use advanced formula.',sg:!0},gwc_h:{conflicts:[{id:'gwr_h',name:'Giveaway Winning Ratio > Highlight the giveaway.'}],description:'\n                                    <ul>\n                                        <li>Changes the color of the giveaway\'s title to the same color as the chance and adds a border of same color to the giveaway\'s game image.</li>\n                                    </ul>\n                                ',input:!0,name:'Highlight the giveaway.',new:!0,sg:!0}},name:'Giveaway Winning Chance',newBelow:!0,sg:!0},gwr:{description:'\n                            <ul>\n                                <li>Adds an element (<i class="fa fa-pie-chart"></i> [Ratio]:1) below a giveaway\'s start time (in any page) that shows the ratio (number of entries per copy) of the giveaway.</li>\n                                <li>The ratio is calculated by rounding up the result of the following formula: number_of_entries / number_of_copies\n                                <li>You can move the element around by dragging and dropping it.</li>\n                            </ul>\n                        ',features:{gwr_e:{description:'\n                                    <ul>\n                                        <li>The formula changes to: (number_of_entries + 1) / number_of_copies\n                                        <li>For example, if a giveaway has 2 copies and 6 entries, the current ratio is 3:1, but after you enter it, it will have 7 entries, so the ratio will increase to 4:1.</li>\n                                    </ul>\n                                ',name:'Show what the ratio will be when you enter the giveaway instead of the current ratio.',sg:!0},gwr_a:{description:'\n                                    <ul>\n                                        <li>Uses an advanced formula ((number_of_entries / time_open_in_milliseconds * duration_in_milliseconds) / number_of_copies) to calculate the ratio based on how much time the giveaway has been open and the duration of the giveaway. This gives you an estimate of what the ratio will be when the giveaway ends.</li>\n                                    </ul>\n                                ',features:{gwr_a_b:{name:'Show the basic ratio along with the advanced one (the advanced ratio will appear in a parenthesis, like "[Basic]:1 ([Advanced]:1)").',sg:!0}},name:'Use advanced formula.',sg:!0},gwr_h:{conflicts:[{id:'gwc_h',name:'Giveaway Winning Chance > Highlight the giveaway.'}],description:'\n                                    <ul>\n                                        <li>Changes the color of the giveaway\'s title to the same color as the ratio and adds a border of same color to the giveaway\'s game image.</li>\n                                    </ul>\n                                ',input:!0,name:'Highlight the giveaway.',new:!0,sg:!0}},name:'Giveaway Winning Ratio',newBelow:!0,sg:!0},gas:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-sort"></i>) to the main page heading of any <a href="https://www.steamgifts.com/giveaways">giveaways</a>/<a href="https://www.steamgifts.com/entered">entered</a>/<a href="https://www.steamgifts.com/group/SJ7Bu/">group</a>/<a href="https://www.steamgifts.com/user/cg">user</a> page that allows you to sort the giveaways in the page by game name, points, rating (if [id=gc_r] is enabled), end time, start time, creator, comments, entries, chance/chance per point (if [id=gwc] is enabled) and ratio (if [id=gwr] is enabled).</li>\n                                <li>There is also an option to automatically sort the giveaways so that every time you open the page the giveaways are already sorted by whatever option you prefer.</li>\n                            </ul>\n                        ',name:'Giveaways Sorter',sg:!0},gv:{description:'\n                            <ul>\n                                <li>Turns each giveaway in the main page and some popups ([id=gb], [id=ged] and [id=ge]) into a small box where only the game\'s image is shown. Overlaying the image you will find the start/end times, type and level of the giveaway. To get the other details of the giveaway (such as the game name, the number of points it costs to enter, the number of entries/comments and the creator\'s username), you can hover over the box and a popout will appear containing them. This allows multiple giveaways to be shown per line, which reduces the size of the page and allows you to view all of the giveaways in the page at a single glance.</li>\n                                <li>Also adds a button (<i class="fa fa-th-large"></i>) to the main page heading of the same page that allows you to set the size of the space between each box.</li>\n                            </ul>\n                        ',features:{gv_gb:{name:'Extend to Giveaway Bookmarks.',sg:!0},gv_ged:{name:'Extend to Giveaway Encrypter / Decrypter.',sg:!0},gv_ge:{name:'Extend to Giveaway Extractor.',sg:!0}},name:'Grid View',sg:!0},hgr:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-eye-slash"></i> <i class="fa fa-times-circle"></i>) to your <a href="https://www.steamgifts.com/account/settings/giveaways/filters">giveaway filters</a> page that allows you to remove all of the games that you have hidden.</li>\n                                <li>There is also an option to remove only the games that you own.</li>\n                            </ul>\n                        ',name:'Hidden Game Remover',sg:!0},hgebd:{description:'\n                            <ul>\n                                <li>Disables the enter button of any giveaway if you have hidden the game on SteamGifts so that you do not accidentaly enter it.</li>\n                            </ul>\n                        ',name:'Hidden Game\'s Enter Button Disabler',sg:!0,sync:'Hidden Games'},itadi:{description:'\n                            <ul>\n                                <li>Adds a box to the sidebar of any <a href="https://www.steamgifts.com/giveaway/aeqw7/">giveaway</a> page that shows the best current deal for the game, the historical lowest price of the game (optional) and a list with all of the bundles that the game has been in. All of this information is retrieved from <a href="https://isthereanydeal.com">IsThereAnyDeal</a>.</li>\n                                <li>Results are cached for 24 hours, so if you access a giveaway for the same game again within that timeframe, the information will not change.</li>\n                            </ul>\n                        ',features:{itadi_h:{name:'Retrieve the historical lowest price of the game (takes longer).',sg:!0}},name:'IsThereAnyDeal Info',sg:!0},mgc:{description:'\n                            <ul>\n                                <li>Adds a section 0 to the <a href="https://www.steamgifts.com/giveaways/new">new giveaway</a> page that allows you to create multiple giveaways at once.</li>\n                                <li>There is also a special tool to create a train (multiple giveaways linked to each other), which has the option to automatically create a discussion for the train.</li>\n                                <li>The icon <i class="fa fa-question-circle"></i> next to "Create Multiple Giveaways" in the section contains all of the steps that you have to follow to use the feature correctly.</li>\n                                <li>When you add a giveaway to the queue, a small numbered box appears at the panel below the buttons to represent that giveaway. If you hover over the box it shows the details of the giveaway.</li>\n                                <li>You can re-order/remove a giveaway by dragging and dropping the box.</li>\n                                <li>The giveaways will be created without reviewing or validating, so make sure that all of the fields were filled correctly or the creation will fail (if a train is being created, the failed giveaway will be disconnected and the previous giveaway will be connected to the next one instead).</li>\n                            </ul>\n                        ',name:'Multiple Giveaway Creator',sg:!0},npth:{description:'\n                            <ul>\n                                <li>Allows you to navigate through a train using hotkeys.</a>\n                                <li>This feature is not 100% accurate, because the feature looks for a link with any variation of "previous"/"next" in the giveaway\'s description to make sure that it is going backward/forward, so if it does not find such a link, it will not work.</li>\n                                <li>It also does not work if you press the hotkey inside of an input/text area.</li>\n                                <li>If you press Ctrl together with the hotkey, the giveaway is open in a new tab.</li>\n                            </ul>\n                        ',name:'Next/Previous Train Hotkeys',input:!0,sg:!0},ochgb:{description:'\n                            <ul>\n                                <li>When you click on the icon <i class="fa fa-eye-slash"></i> next to a giveaway\'s game name, the game will be hidden immediately, without any confirmation popup being shown.</li>\n                            </ul>\n                        ',features:{ochgb_f:{description:'\n                                    <ul>\n                                        <li>With this option enabled, when you hide a game, instead of all of the giveaways for the game being removed from the page, they are simply faded out.</li>\n                                    </ul>\n                                ',name:'Fade hidden giveaways instead of removing them.',sg:!0}},name:'One-Click Hide Giveaway Button',sg:!0},pgb:{description:'\n                            <ul>\n                                <li>Modifies the arrow button in the pinned giveaways box of the main page so that you are able to collapse the box again after expanding it.</li>\n                            </ul>\n                        ',name:'Pinned Giveaways Button',sg:!0},qgs:{description:'\n                            <ul>\n                                <li>Adds a search box before the "Giveaways" box at the header of any page that allows you to quickly search for giveaways from any page.</li>\n                                <li>Has [id=ags] built-in.</li>\n                            </ul>\n                        ',features:{qgs_h:{name:'Hide the native search on the main page.',sg:!0}},name:'Quick Giveaway Search',sg:!0},rcvc:{decription:'\n                            <ul>\n                                <li>Adds a "Real CV" row containing how much real CV you should get for a giveaway to the table of the review giveaway page (the page where you can confirm the creation of a giveaway).</li>\n                            </ul>\n                        ',name:'Real CV Calculator',sg:!0,sync:'Giveaways, Reduced CV Games and No CV Games'},sks:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-key"></i> <i class="fa fa-search"></i>) to the main page heading of your <a href="https://www.steamgifts.com/giveaways/created">created</a> page that allows you to search for a key or a set of keys in all of keys that you have ever sent.</li>\n                                <li>There is also an option to export all of the keys that you have ever sent to a text file.</li>\n                            </ul>\n                        ',name:'Sent Key Searcher',sg:!0},sal:{description:'\n                            <ul>\n                                <li>Adds 2 optional icons (<i class="fa fa-steam"></i> for the Steam client and <i class="fa fa-globe"></i> for the browser) next to each key in the "Key" column of your <a href="https://www.steamgifts.com/giveaways/won">won</a> page that allow you to quickly activate a won game on Steam, either through the client or the browser.</li>\n                                <li>When you click on the icon, the key is automatically copied to the clipboard.</li>\n                            </ul>\n                        ',name:'Steam Activation Links',options:{title:'Show links to:',values:['Steam Client','Browser','Both']},sg:!0},sgac:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-thumb-stack"></i> if the country is stickied and <i class="fa fa-thumb-stack esgst-faded"></i> if it is not) next to each country in the <a href="https://www.steamgifts.com/giveaways/new">new giveaway</a> page that allows you to sticky the country so that it appears at the top of the country list when creating a giveaway for quick use.</li>\n                            </ul>\n                        ',name:'Stickied Giveaway Countries',sg:!0},sgg:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-thumb-stack"></i> if the group is stickied and <i class="fa fa-thumb-stack esgst-faded"></i> if it is not) next to each group in the <a href="https://www.steamgifts.com/giveaways/new">new giveaway</a>/<a href="https://www.steamgifts.com/account/steam/groups">groups</a> pages that allows you to sticky the group so that it appears at the top of the group list for quick use.</li>\n                            </ul>\n                        ',name:'Stickied Giveaway Groups',sg:!0},ttec:{description:'\n                            <ul>\n                                <li>Adds an element (<i class="fa fa-clock-o"></i> [Time]) below the start time of a giveaway that you do not have enough points to enter (in any page) that shows how much time you have to wait until you have enough points to enter the giveaway.</li>\n                                <li>The time is calculated by rounding up the result (which is in milliseconds) of the following formula: next_refresh_in_milliseconds + (15 * â(number_of_points_to_enter - number_of_points_you_have) / 6â), where next_refresh_in_milliseconds = the time that the next point refresh will happen (you get 6 points every 15 minutes of the hour on SteamGifts, so if it is currently 12:10pm, the next refresh will be at 12:15pm)</li>\n                                <li>You can move the element around by dragging and dropping it.</li>\n                            </ul>\n                        ',name:'Time To Enter Calculator',sg:!0},ueg:{description:'\n                            <ul>\n                                <li>Removes SteamGifts\' default fade for entered giveaways.</li>\n                            </ul>\n                        ',name:'Unfaded Entered Giveaway',sg:!0},ugb:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-eye"></i>) next to a giveaway\'s game name (in any page), if you have hidden the game on SteamGifts, that allows you to unhide the game without having to access your <a href="https://www.steamgifts.com/account/settings/giveaways/filters">giveaway filters</a> page.</li>\n                            </ul>\n                        ',name:'Unhide Giveaway Button',sg:!0},ugs:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-gift"></i> <i class="fa fa-send"></i>) to the main page heading of your <a href="https://www.steamgifts.com/giveaways/created">created</a> page that allows you to send all of your unsent gifts at once.</li>\n                                <li>You can limit which gifts are sent based on whether or not the winner has any not activated/multiple wins (using <a href="https://www.sgtools.info/">SGTools</a>), whether or not the winner is still a member of the group and has a certain gift difference for group giveaways, and whether or not the winner is on your whitelist/blacklist.</li>\n                            </ul>\n                        ',name:'Unsent Gift Sender',sg:!0}},newBelow:!0},discussions:{features:{adots:{description:'\n                            <ul>\n                                <li>Moves the active discussions (in the main page) to the top/sidebar of the page (you can decide where).</li>\n                                <li>If you move it to the sidebar, some things will be changed to save some space:</li>\n                                <ul>\n                                    <li>The username and avatar of the user who last posted to the discussion will be removed (the button to go to the last comment will remain).</li>\n                                    <li>If you have [id=ags] enabled, it will be hidden and only visible when hovering hover the search field.</li>\n                                    <li>If you have [id=at] enabled, it will not run inside of the active discussions.</li>\n                                    <li>If you have [id=ut] enabled, any user tags will be hidden inside of the active discussions (they will still be visible if you click on the tag button to edit them).</li>\n                                </ul>\n                            </ul>\n                        ',name:'Active Discussions On Top/Sidebar',options:{title:'Move to:',values:['Top','Sidebar']},sg:!0},codb:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-lock"></i> if the discussion is open and <i class="fa fa-lock esgst-red"></i> if it is closed) next to the title of a discussion created by yourself (in any <a href="https://www.steamgifts.com/discussions">discussions</a> page) that allows you to close/open the discussion without having to access it.</li>\n                            </ul>\n                        ',name:'Close/Open Discussion Button',sg:!0},ded:{description:'\n                            <ul>\n                                <li>Replaces SteamGifts\' native comment box (in any page) with a comment box that ensures that any comment you submit is actually submitted.</li>\n                                <li>This fixes a (unfortunately) very well-known bug on SteamGifts that does not submit a comment to a discussion if during the timeframe between the moment when you started to write it and the moment when you submitted it the title of the discussion title was edited.</li>\n                            </ul>\n                        ',name:'Discussion Edit Detector',sg:!0,st:!0},df:{description:'\n                            <ul>\n                                <li>Allows you to filter discussions.</li>\n                            </ul>\n                        ',features:{df_s:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-eye"></i> if the discussion is hidden and <i class="fa fa-eye-slash"></i> if it is not) next to a discussion\'s title (in any page) that allows you to hide the discussion.</li>\n                                        <li>Adds a button (<i class="fa fa-comments"></i> <i class="fa fa-eye-slash"></i>) to the page heading of this menu that allows you to view all of the discussions that have been hidden.</li>\n                                    </ul>\n                                ',name:'Single Filters',sg:!0},df_m:{description:'\n                                    <ul>\n                                        <li>Allows you to hide multiple discussions in a page using many different filters.</li>\n                                        <li>Adds a toggle switch with a button (<i class="fa fa-sliders"></i>) to the main page heading of any <a href="https://www.steamgifts.com/discussions">discussions</a> page. The switch allows you to turn the filters on/off and the button allows you to manage your presets.</li>\n                                        <li>Adds a collapsible panel below the same main page heading that allows you to change/save the rules of a preset. The filters are separated in 2 categories:</li>\n                                        <ul>\n                                            <li>Basic filters are related to a numeric value (such as the number of comments of a discussion) and have a slider that you can use to set the range of the filter (any discussions that do not apply to the range will be hidden).</li>\n                                            <li>Type filters are related to a boolean value (such as whether or not a discussion was created by yourself) and have a checkbox that changes states when you click on it. The checkbox has 3 states:</li>\n                                            <ul>\n                                                <li>"Show all" (<i class="fa fa-check-circle"></i>) does not hide any discussions that apply to the filter (this is the default state).</li>\n                                                <li>"Show only" (<i class="fa fa-circle"></i>) hides any discussions that do not apply to the filter.</li>\n                                                <li>"Hide all" (<i class="fa fa-circle-o"></i>) hides any discussions that apply to the filter.</li>\n                                            </ul>\n                                        </ul>\n                                        <li>A preset contains all of your rules and can be saved to be reused later. You can save as many presets as you want. Each preset contains 3 types of rules:</li>\n                                        <ul>\n                                            <li>Basic rules are the ones that you can change directly in the filter panel, using the sliders/checkboxes as explained in the previous item.</li>\n                                            <li>Exception rules are the ones that you can change by clicking on the icon <i class="fa fa-gear"></i> in the filter panel. They are exceptions to the basic rules. For example, if you set the basic rule of the "Created" filter to "hide all" and you add an exception rule for the "Comments" filter to the 0-50 range, none of your created discussions that have 0-50 comments will be hidden, because they apply to the exception.</li>\n                                            <li>Override rules are the ones that you can change by clicking on the icon (<i class="fa fa-exclamation esgst-faded"></i> if set to overridable and <i class="fa fa-exclamation"></i> if set to non-overridable) next to each filter. They are enforcements of the basic rules. Continuing the previous example, if you set the override rule of the "Created" filter to "non-overridable", then all of your created discussions will be hidden, because even if they apply to the exception, the basic rule is being enforced by the override rule, so the exception cannot override it.</li>\n                                        </ul>\n                                        <li>Adds a text in parenthesis to the pagination of the page showing how many discussions in the page are being filtered by the filters.</li>\n                                    </ul>\n                                ',features:{df_comments:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions by number of comments.</li>\n                                            </ul>\n                                        ',name:'Comments',sg:!0},df_announcements:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions categorized as "Announcements".</li>\n                                            </ul>\n                                        ',name:'Announcements',sg:!0},df_bugsSuggestions:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions categorized as "Bugs / Suggestions".</li>\n                                            </ul>\n                                        ',name:'Bugs / Suggestions',sg:!0},df_deals:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions categorized as "Deals".</li>\n                                            </ul>\n                                        ',name:'Deals',sg:!0},df_general:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions categorized as "General".</li>\n                                            </ul>\n                                        ',name:'General',sg:!0},df_groupRecruitment:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions categorized as "Group Recruitment".</li>\n                                            </ul>\n                                        ',name:'Group Recruitment',sg:!0},df_letsPlayTogether:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions categorized as "Let\'s Play Together".</li>\n                                            </ul>\n                                        ',name:'Let\'s Play Together',sg:!0},df_offTopic:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions categorized as "Off-Topic".</li>\n                                            </ul>\n                                        ',name:'Off-Topic',sg:!0},df_puzzles:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions categorized as "Puzzles".</li>\n                                            </ul>\n                                        ',name:'Puzzles',sg:!0},df_uncategorized:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions categorized as "Uncategorized".</li>\n                                            </ul>\n                                        ',name:'Uncategorized',sg:!0},df_created:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions created by yourself.</li>\n                                            </ul>\n                                        ',name:'Created',sg:!0},df_poll:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions that contain polls.</li>\n                                            </ul>\n                                        ',name:'Poll',sg:!0},df_highlighted:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions that you have highlighted.</li>\n                                                <li>This option requires [id=dh] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Highlighted',sg:!0},df_visited:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions that you have visited.</li>\n                                                <li>This option requires [id=gdttt] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Visited',sg:!0},df_unread:{description:'\n                                            <ul>\n                                                <li>Allows you to filter discussions that you have read.</li>\n                                                <li>This option requires [id=ct] enabled to work.</li>\n                                            </ul>\n                                        ',name:'Unread',sg:!0}},name:'Multiple Filters',sg:!0}},name:'Discussion Filters',sg:!0},dh:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-star"></i> if the discussion is highlighted and <i class="fa fa-star-o"></i> if it is not) next to a discussion\'s title (in any page) that allows you to highlight the discussion.</li>\n                                <li>Highlighted discussions have a green background.</li>\n                                <li>Adds a button (<i class="fa fa-star esgst-yellow"></i> View Highlighted) to the dropdown menu accessible by clicking on the arrow in the "Discussions" box at the header of any page that allows you to view all of the discussions that have been highlighted.</li>\n                            </ul>\n                        ',features:{dh_t:{name:'Pin any highlighted discussions in the page.',sg:!0}},name:'Discussion Highlighter',sg:!0},ds:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-sort"></i>) to the main page heading of any <a href="https://www.steamgifts.com/discussions">discussions</a> page that allows you to sort the discussions in the page by title, category, created time, author and number of comments.</li>\n                                <li>There is also an option to automatically sort the discussions so that every time you open the page the discussions are already sorted by whatever option you prefer.</li>\n                            </ul>\n                        ',name:'Discussions Sorter',sg:!0},mpp:{description:'\n                            <ul>\n                                <li>Hides the main post of a discussion and adds a button (<i class="fa fa-home"></i>) to its main page heading that allows you to open the main post through a popup.</li>\n                                <li>This feature is useful if you have [id=fmph] enabled, which allows you to view the main post of a discussion from any scrolling position.</li>\n                            </ul>\n                        ',features:{mpp_r:{description:'\n                                    <ul>\n                                        <li>This option requires [id=ct] enabled to work.</li>\n                                    </ul>\n                                ',name:'Only hide the main post if it has been marked as read.',sg:!0}},name:'Main Post Popup',sg:!0},mps:{description:'\n                            <ul>\n                                <li>Skips to the comments of a discussion if you have used the pagination navigation. For example, if you enter a discussion and use the pagination navigation to go to page 2, on page 2 the feature will skip the main post and take you directly to the comments.</li>\n                            </ul>\n                        ',name:'Main Post Skipper',sg:!0},oadd:{description:'\n                            <ul>\n                                <li>Brings back the SteamGifts\' old active discussions design, while keeping the new "Deals" section.</li>\n                                <li>Only one section ("Discussions" or "Deals") can be shown at a time. There is a button (<i class="fa fa-retweet"></i>) in the page heading of the active discussions that allows you to switch sections.</li>\n                            </ul>\n                        ',features:{oadd_d:{description:'\n                                    <ul>\n                                        <li>With this option enabled, the deals are included in the "Discussions" section instead of being exclusive to the "Deals" section.</li>\n                                    </ul>\n                                ',name:'Show deals in the "Discussions" section.',sg:!0}},name:'Old Active Discussions Design',sg:!0},pm:{description:'\n                            <ul>\n                                <li>Adds a checkbox in front of a discussion categorized as "Puzzles" (in any page) that changes states (<i class="fa fa-circle-o esgst-grey"></i> by default, <i class="fa fa-times-circle esgst-red"></i> for "unsolved", <i class="fa fa-exclamation-circle esgst-orange"></i> for "in progress" and <i class="fa fa-check-circle esgst-green"></i> for "solved") and allows you to mark the puzzle as unsolved/in progress/solved.</li>\n                            </ul>\n                        ',features:{pm_a:{name:'Show the checkbox for all discussions, regardless of their category.',sg:!0}},name:'Puzzle Marker',sg:!0},radb:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-refresh"></i>) to the page heading of the active discussions (in the main page) that allows you to refresh the active discussions without having to refresh the entire page.</li>\n                            </ul>\n                        ',name:'Refresh Active Discussions Button',sg:!0}}},trades:{features:{tb:{description:`\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-chevron-circle-up"></i>) to the main page heading of your <a href="https://www.steamtrades.com/trades/search?user=${esgst.steamId}">created trades</a> page that allows you to bump all of your open trades at once.</li>\n                            </ul>\n                        `,features:{tb_a:{description:'\n                                    <ul>\n                                        <li>Automatically bumps all of your trades every hour.</li>\n                                        <li>Requires either SteamGifts or SteamTrades to be open, depending on where you have this option enabled.</li>\n                                    </ul>\n                                ',name:'Auto bump every hour.',sg:!0,st:!0}},name:'Trade Bumper',sg:!0,st:!0}}},comments:{features:{cerb:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-plus-square"></i> if all of the replies in the page are collapsed and <i class="fa fa-minus-square"></i> if they are expanded) above the comments (in any page) that allows you to collapse/expand all of the replies (comments nested 2 or more levels deep) in the page.</li>\n                                <li>Also adds the same button in front of each comment nested 1 level deep in the page, which allows you to collapse/expand the replies of the comment individually.</li>\n                            </ul>\n                        ',features:{cerb_a:{name:'Automatically collapse all replies when visiting a page.',sg:!0,st:!0}},name:'Collapse/Expand Reply Button',sg:!0,st:!0},cfh:{description:'\n                            <ul>\n                                <li>When you click on any text area (in any page) to start writing a comment, a panel is added above it that helps you use SteamGifts\' <a href="https://www.steamgifts.com/about/comment-formatting">comment formatting</a>.</li>\n                                <li>There is a button (<i class="fa fa-paste"></i> if enabled and <i class="fa fa-paste esgst-faded"></i> if disabled) in the panel that allows the feature to automatically format links/images pasted into the text area.</li>\n                                <li>There are also buttons (<i class="fa fa-rotate-right"></i> to redo and <i class="fa fa-rotate-left"></i> to undo) in the panel that allow you to redo/undo any formatting added.</li>\n                            </ul>\n                        ',features:{cfh_bq:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-quote-left"></i>) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <blockquote>Blockquote</blockquote>\n                                ',name:'Blockquote',sg:!0,st:!0},cfh_b:{description:'\n                                    <ul>\n                                        <li>Adds a button (B) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <strong>Bold</strong>\n                                ',name:'Bold',sg:!0,st:!0},cfh_h1:{description:'\n                                    <ul>\n                                        <li>Adds a button (HÂ¹) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <h1>Heading 1</h1>\n                                ',name:'Heading 1',sg:!0,st:!0},cfh_h2:{description:'\n                                    <ul>\n                                        <li>Adds a button (HÂ²) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <h2>Heading 2</h2>\n                                ',name:'Heading 2',sg:!0,st:!0},cfh_h3:{description:'\n                                    <ul>\n                                        <li>Adds a button (HÂ³) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <h3>Heading 3</h3>\n                                ',name:'Heading 3',sg:!0,st:!0},cfh_ic:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-code"></i>) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <p>Inline <code>Code</code></p>\n                                ',name:'Inline Code',sg:!0,st:!0},cfh_i:{description:'\n                                    <ul>\n                                        <li>Adds a button (I) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <em>Italic</em>\n                                ',name:'Italic',sg:!0,st:!0},cfh_lb:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-minus"></i>) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <p>Line</p>\n                                    <hr>\n                                    <p>Break</p>\n                                ',name:'Line Break',sg:!0,st:!0},cfh_lc:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-code"></i> <i class="fa fa-indent"></i>) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <code>Line Code</code>\n                                ',name:'Line Code',sg:!0,st:!0},cfh_ol:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-list-ol"></i>) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <ol>\n                                        <li>Ordered</li>\n                                        <li>List</li>\n                                    </ol>\n                                ',name:'Ordered List',sg:!0,st:!0},cfh_pc:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-code"></i> <i class="fa fa-paragraph"></i>) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <pre><code>Paragraph Code</code></pre>\n                                ',name:'Paragraph Code',sg:!0,st:!0},cfh_s:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-eye-slash"></i>) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <span class="spoiler">Spoiler</spoiler>\n                                ',name:'Spoiler',sg:!0,st:!0},cfh_st:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-strikethrough"></i>) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <del>Strikethrough</del>\n                                ',name:'Strikethrough',sg:!0,st:!0},cfh_ul:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-list-ul"></i>) to the panel that allows you to write text like shown below.</li>\n                                    </ul>\n                                    <ul>\n                                        <li>Unordered</li>\n                                        <li>List</li>\n                                    </ul>\n                                ',name:'Unordered List',sg:!0,st:!0},cfh_img:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-image"></i>) to the panel that allows you to add images to your comments with an interface where you can enter the title and the URL of the image and let ESGST format it.</li>\n                                        <li>You can also upload images from your computer instead of using a URL. The images will be uploaded to <a href="https://imgur.com">Imgur</a>.</li>\n                                    </li>\n                                ',name:'Image',sg:!0,st:!0},cfh_l:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-globe"></i>) to the panel that allows you to add links to your comments with an interface where you can enter the title and the URL of the link and let ESGST format it.</li>\n                                    </ul>\n                                ',name:'Link',sg:!0,st:!0},cfh_t:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-table"></i>) to the panel that allows you to add tables to your comments with an interface where you can dynamically add as many rows/columns as you want, align each column however you want, enter the value for each cell and let ESGST format it.</li>\n                                    </ul>\n                                ',name:'Table',sg:!0,st:!0},cfh_e:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-smile-o"></i>) to the panel that allows you to add emojis to your comments by selecting them out of a huge list of emojis.</li>\n                                    </ul>\n                                ',name:'Emoji',sg:!0,st:!0},cfh_g:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-star"></i>) to the panel that allows you to add encrypted giveaways (see [id=ged] for more details about them) to your comments.</li>\n                                    </ul>\n                                ',name:'Giveaway Encrypter',sg:!0,st:!0},cfh_p:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-eye"></i>) to the panel that allows you to preview your comment before submitting it.</li>\n                                    </ul>\n                                ',features:{cfh_p_a:{name:'Automatically preview while typing.',sg:!0,st:!0}},name:'Preview',sg:!0,st:!0},cfh_sr:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-floppy-o"></i>) to the panel that allows you to save replies that you frequently use so that you can reuse them later.</li>\n                                    </ul>\n                                ',name:'Saved Replies',sg:!0,st:!0},cfh_cf:{description:'\n                                    <ul>\n                                        <li>Adds a button (<i class="fa fa-question-circle"></i>) to the panel that links to SteamGifts\' <a href="https://www.steamgifts.com/about/comment-formatting">comment formatting page</a>.</li>\n                                    </ul>\n                                ',name:'Comment Formatting',sg:!0,st:!0}},name:'Comment Formatting Helper',sg:!0,st:!0},ch:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-comments esgst-yellow"></i> My Comment History) to the dropdown menu accessible by clicking on the arrow next to your avatar at the header of any page that allows you to view your comment history.</li>\n                                <li>A comment only appears in the history if it was submitted through the comment box of any of the following features: [id=ded], [id=mr], [id=rrbp], [id=rbp] and [id=rfi]. If you submit the comment through SteamGifts\' native comment box it will not be added to the history.</li>\n                            </ul>\n                        ',name:'Comment History',sg:!0,st:!0},cr:{description:'\n                            <ul>\n                                <li>Reverses the comments of any <a href="https://www.steamgifts.com/discussion/e9zDo/">discussion</a> page so that they are ordered from newest to oldest.</li>\n                            </ul>\n                        ',name:'Comment Reverser',sg:!0,st:!0},cs:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-comments"></i> <i class="fa fa-search"></i>) to the main page heading of any page that allows you to search for comments made by specific users in the page.</li>\n                            </ul>\n                        ',name:'Comment Searcher',sg:!0,st:!0},ct:{description:'\n                            <ul>\n                                <li>Keeps track of any comments (in any page) and fades out comments that you have marked as read so that you can easily see which comments you have read/unread in the page.</li>\n                                <li>Comments made by yourself are automatically marked as read.</li>\n                                <li>The comments are tracked by saving the date when they were made. If a comment is edited then the date when it was last edited is saved instead, so if you had previously marked a comment as read and that comment was edited, it will now appear as unread.</li>\n                                <li>Adds a panel to the "Comments" column of any <a href="https://www.steamgifts.com/discussions">discussions</a>/<a href="https://www.steamgifts.com/support/tickets">tickets</a>/<a href="https://www.steamtrades.com/trades">trades</a> pages and to the main page heading of any page containing:</li>\n                                <ul>\n                                    <li>A red number in parenthesis indicating how many unread comments there are in the thread.</li>\n                                    <li>A button (<i class="fa fa-comments"></i>) that allows you to go to the first unread comment of the thread/page.</li>\n                                    <li>A button (<i class="fa fa-eye"></i>) that allows you to mark every comment in the thread/page as read.</li>\n                                    <li>A button (<i class="fa fa-eye-slash"></i>) that allows you to mark every comment in the thread/page as unread.</li>\n                                </ul>\n                                <li>Adds a panel next a comment\'s "Permalink" (in any page) containing:</li>\n                                <ul>\n                                    <li>A button (<i class="fa fa-eye"></i>) that allows you to mark the comment as read.</li>\n                                    <li>A button (<i class="fa fa-eye-slash"></i>) that allows you to mark the comment as unread.</li>\n                                    <li>A button (<i class="fa fa-eye"></i> <i class="fa fa-angle-double-right"></i>) that allows you to mark the comment as read and go to the next unread comment.</li>\n                                    <li>A button (<i class="fa fa-eye"></i> <i class="fa fa-angle-up"></i>) that allows you to mark every comment from the comment upward as read.</li>\n                                    <li>A button (<i class="fa fa-eye-slash"></i> <i class="fa fa-angle-up"></i>) that allows you to mark every comment from the comment upward as unread.</li>\n                                </ul>\n                            </ul>\n                        ',features:{ct_a:{name:'Automatically mark comments as read in the inbox page when clicking on the "Mark as Read" button.',sg:!0,st:!0},ct_s:{description:'\n                                    <ul>\n                                        <li>The simplified version of the tracker does not have the concept of read/unread comments, but simply shows the red number of comments that were made since you last visited a thread, so the comments are not tracked by date (they are tracked by quantity) and there are no buttons to go to the first unread comment of a thread/page or mark comments as read/unread.</li>\n                                        <li>If you mark a thread as visited with [id=gdttt], all of the comments in the thread will be considered as "read", and if you mark it as unvisited, they will be considered as "unread".</li>\n                                    </ul>\n                                ',features:{ct_s_h:{description:'\n                                            <ul>\n                                                <li>Only shows the red number for a thread after you have visited it.</li>\n                                            </ul>\n                                        ',name:'Hide the counter if you have not visited the thread yet.',sg:!0,st:!0}},name:'Enable the simplified version.',sg:!0,st:!0},ct_r:{description:'\n                                    <ul>\n                                        <li>Searches pages for an unread comment from the bottom to the top if [id=cr] is disabled or from the top to the bottom if it is enabled.</li>\n                                    </ul>\n                                ',name:'Search for the first unread comment in reverse order.',sg:!0,st:!0}},name:'Comment Tracker',sg:!0,st:!0},mr:{description:'\n                            <ul>\n                                <li>Replaces SteamGifts\' native comment box (in any page) with a comment box that allows you to reply to multiple comments at the same time and does not reload the page after submitting a reply (submitting a comment that is not a reply to another comment still reloads the page).</li>\n                                <li>Has [id=ded] built-in.</li>\n                            </ul>\n                        ',name:'Multi-Reply',sg:!0,st:!0},rrbp:{description:'\n                            <ul>\n                                <li>Pops up a reply box when you mark a giveaway as received (in your <a href="https://www.steamgifts.com/giveaways/won">won</a> page) so that you can add a comment thanking the creator.</li>\n                            </ul>\n                        ',name:'Received Reply Box Popup',sg:!0},rbot:{description:'\n                            <ul>\n                                <li>Moves the reply box over the comments (in any page) so that you do not need to scroll down to the bottom of the page to add a comment.</li>\n                            </ul>\n                        ',name:'Reply Box On Top',sg:!0,st:!0},rbp:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-comment"></i>) to the main page heading of any page that allows you to add comments to the page through a popup.</li>\n                                <li>This feature is useful if you have [id=fmph] enabled, which allows you to add comments to the page from any scrolling position.</li>\n                                <li>Has [id=ded] built-in.</li>\n                            </ul>\n                        ',name:'Reply Box Popup',sg:!0,st:!0},rfi:{description:'\n                            <ul>\n                                <li>Adds a "Reply" link next to a comment\'s "Permalink" (in your <a href="/messages">inbox</a> page) that allows you to reply to the comment directly from your inbox.</li>\n                                <li>It is essentially [id=mr] for the inbox page.</li>\n                            </ul>\n                        ',features:{rfi_s:{description:'\n                                    <ul>\n                                        <li>Caches any replies you submit for 1 week so that they are still in your inbox page when you refresh it.</li>\n                                        <li>If you edit/delete/undelete a saved reply its cache is updated and lasts 1 week longer.</li>\n                                    </ul>\n                                ',name:'Cache replies.',sg:!0,st:!0},rfi_c:{description:'\n                                    <ul>\n                                        <li>Whenever you try to submit a reply to a comment, the feature will check if there are other replies to that comment and show them to you so that you can review your reply before sending it.</li>\n                                        <li>This option is useful if you want to avoid repeating something that another user already said or discard your reply if someone else already said everything that you were going to say.</li>\n                                    </ul>\n                                ',name:'Check if there are other replies to a comment before submitting a reply.',sg:!0,st:!0}},name:'Reply From Inbox',sg:!0,st:!0},rml:{description:'\n                            <ul>\n                                <li>Adds a link (@user) next to a reply\'s "Permalink" (in any page) that mentions the user being replied to and links to their comment.</li>\n                                <li>This feature is useful for conversations that have very deep nesting levels, which makes it impossible to know who replied to whom.</li>\n                            </ul>\n                        ',name:'Reply Mention Link',sg:!0,st:!0}}},users:{features:{iwh:{description:'\n                            <ul>\n                                <li>Adds an icon (<i class="fa fa-trophy"></i>) next to the username of a giveaway comment made by the giveaway\'s winner(s) (in the <a href="https://www.steamgifts.com/messages">inbox</a> page).</li>\n                                <li>A winner is only highlighted if you sent the gift to them after this feature was enabled.</li>\n                            </ul>\n                        ',name:'Inbox Winner Highlighter',sg:!0},luc:{description:'\n                            <ul>\n                                <li>Adds how much real CV a user needs to level up (calculated using the information from <a href="https://www.steamgifts.com/discussion/XaCbA/">this discussion</a>) to the "Contributor Level" row of their <a href="https://www.steamgifts.com/user/nobody">profile</a> page.</li>\n                            </ul>\n                        ',name:'Level Up Calculator',sg:!0},namwc:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-question-circle"></i>) to the "Gifts Won" row of a user\'s <a href="https://www.steamgifts.com/user/cg">profile</a> page that allows you to check if they have any not activated/multiple wins (using <a href="https://www.sgtools.info/">SGTools</a>).</li>\n                                <li>Adds a button (<i class="fa fa-trophy"></i> <i class="fa fa-question-circle"></i>) to the main page heading of any <a href="https://www.steamgifts.com/giveaway/aeqw7/dead-space/winners">winners</a> page that allows you to check all of the winners in the page at once. You cannot check more than that at once due to certain limitations when requesting the data to SGTools.</li>\n                                <li>Adds a button (<i class="fa fa-trophy"></i> <i class="fa fa-gear"></i>) to the page heading of this menu that allows you to view all of the users that have been checked.</li>\n                                <li>Results are cached for 1 week, so if you check the same user again within that timeframe, their status will not change.</li>\n                            </ul>\n                        ',features:{namwc_h:{description:'\n                                    <ul>\n                                        <li>Changes the color (to green if the user passed the check, red if they failed and grey if their profile is private) of a checked user\'s username (in any page).</li>\n                                        <li>If you hover over the username, it shows how many not activated/multiple wins the user has and the date when they were checked for the last time.</li>\n                                    </ul>\n                                ',features:{namwc_h_m:{description:'\n                                            <ul>\n                                                <li>Multiple wins are not the winner\'s fault sometimes. For example, if they tried to contact the giveaway creator to ask for a reroll and were unable to.</li>\n                                                <li>With this option enabled, multiple wins are ignored when highlighting the user. So if the user has 0 not activated wins and 1 or more multiple wins, they will be considered as having passed the check.</li>\n                                            </ul>\n                                        ',name:'Ignore multiple wins.',sg:!0,st:!0},namwc_h_f:{name:'Only highlight users who failed to pass the check.',sg:!0,st:!0},namwc_h_i:{description:'\n                                            <ul>\n                                                <li>Adds an icon (<i class="fa fa-thumbs-up esgst-green"></i> if the user passed the check, <i class="fa fa-thumbs-down esgst-red"></i> if they failed and <i class="fa fa-warning esgst-grey"></i> if their profile is private) next to the user\'s username instead of coloring it.</li>\n                                                <li>If you hover over the icon, it shows how many not activated/multiple wins the user has and the date when they were checked for the last time.</li>\n                                            </ul>\n                                        ',name:'Use icons instead of colors.',sg:!0,st:!0}},name:'Highlight checked users.',sg:!0,st:!0}},name:'Not Activated/Multiple Win Checker',sg:!0},nrf:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-times-circle"></i>) to the "Gifts Sent" row of a user\'s <a href="https://www.steamgifts.com/user/cg">profile</a> page that allows you to find all of their created giveaways that were marked as not received.</li>\n                                <li>Giveaways for more than 3 copies that were marked as not received can only be found if the winner(s) that marked it as not received is(are) visible in the creator\'s profile page or if you can access the giveaway and the option to search inside of giveaways is enabled. If they are not found, a list with all of the creator\'s giveaways for more than 3 copies will be shown.</li>\n                                <li>Results are cached for 1 week, so if you check the same user again within that timeframe, their status will not change.</li>\n                            </ul>\n                        ',name:'Not Received Finder',sg:!0},rwscvl:{description:'\n                            <ul>\n                                <li>Turns "Gifts Won" and "Gifts Sent" in a user\'s <a href="https://www.steamgifts.com/user/cg">profile</a> page into links that take you to their real won/sent CV pages on <a href="https://www.sgtools.info/">SGTools</a>.</li>\n                            </ul>\n                        ',features:{rwscvl_r:{name:'Link SGTools\' reverse pages (from newest to oldest).',sg:!0}},name:'Real Won/Sent CV Link',sg:!0},swr:{description:'\n                            <ul>\n                                <li>Adds a "Ratio" row containing a user\'s sent/won ratio (which is their number of gifts sent divided by their number of gifts won) below the "Gifts Sent" row of their <a href="https://www.steamgifts.com/user/cg">profile</a> page.</li>\n                            </ul>\n                        ',name:'Sent/Won Ratio',sg:!0},sgc:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-users"></i>) next to a user\'s username (in their <a href="https://www.steamgifts.com/user/cg">profile</a> page) that allows you to check which groups you are both members of.</li>\n                            </ul>\n                        ',name:'Shared Group Checker',sg:!0},sgpb:{description:'\n                            <ul>\n                                <li>Adds a button next to the "Visit Steam Profile" button of a user\'s <a href="https://www.steamtrades.com/user/76561198020696458">profile</a> page that allows you to go to their SteamGifts profile page.</li>\n                            </ul>\n                        ',name:'SteamGifts Profile Button',st:!0},stpb:{description:'\n                            <ul>\n                                <li>Adds a button next to the "Visit Steam Profile" button of a user\'s <a href="https://www.steamgifts.com/user/cg">profile</a> page that allows you to go to their SteamTrades profile page.</li>\n                            </ul>\n                        ',name:'SteamTrades Profile Button',sg:!0},uf:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-eye-slash"></i> if the user is being filtered and <i class="fa fa-eye"></i> if they are not) next to a user\'s username (in their <a href="https://www.steamgifts.com/user/cg">profile</a> page) that allows you to hide their discussions, giveaways and posts (each one can be hidden separately).</li>\n                                <li>Adds a text in parenthesis to the pagination of the page showing how many users in the page are being filtered by the filters.</li>\n                                <li>Adds a button (<i class="fa fa-user"></i> <i class="fa fa-eye-slash"></i>) to the page heading of this menu that allows you to view all of the users that have been filtered.</li>\n                            </ul>\n                        ',features:{uf_d:{name:'Automatically hide discussions from blacklisted users.',sg:!0},uf_g:{name:'Automatically hide giveaways from blacklisted users.',sg:!0},uf_p:{name:'Automatically hide posts from blacklisted users.',sg:!0}},name:'User Filters',sg:!0},ugd:{description:'\n                            <ul>\n                                <li>Adds 2 identical buttons (<i class="fa fa-bar-chart"></i>) to the "Gifts Won" and "Gifts Sent" rows of a user\'s <a href="https://www.steamgifts.com/user/cg">profile</a> page that allow you to gather data about their giveaways:</li>\n                                <ul>\n                                    <li>The won data contains a table with the number and percentage of won giveaways per type/level, a list with the creators that the user has most won from and (optionally) 2 other tables with the user\'s playtime/achievement stats for the games.</li>\n                                    <li>The sent data contains a table with the number and percentage of sent giveaways per type/level and a list with the games that the user has most given away.</li>\n                                </ul>\n                                <li>Results are cached forever, so every time you check the same user again the feature will only retrieve the giveaways that they have created/won since the last check, unless you check them with the option to clear the cache enabled, in which case all of their giveaways will be retrieved again as if they were being checked for the first time.</li>\n                            </ul>\n                        ',name:'User Giveaway Data',sg:!0},un:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-sticky-note"></i> if there are notes saved and <i class="fa fa-sticky-note-o"></i> if there are not) next to a user\'s username (in their <a href="https://www.steamgifts.com/user/cg">profile</a> page) that allows you to save notes for them (only visible to you).</li>\n                                <li>You can press Ctrl + Enter to save the notes.</li>\n                                <li>This feature is recommended for cases where you want to associate a long text with a user, since the notes are not displayed in the page. For a short text, check [id=ut].</li>\n                            </ul>\n                        ',features:{un_p:{name:'Pop up when whitelisting/blacklisting a user.',sg:!0}},name:'User Notes',sg:!0,st:!0},us:{description:'\n                            <ul>\n                                <li>Adds 5 columns ("Last Online", "Gifts Sent", "Gifts Won", "Ratio" and "Contributor Value") to your <a href="https://www.steamgifts.com/account/manage/whitelist">whitelist</a>/<a href="https://www.steamgifts.com/account/manage/blacklist">blacklist</a> pages and the popup from [id=wbs] that show some stats about each user.</li>\n                            </ul>\n                        ',name:'User Stats',sg:!0},ust:{description:'\n                            <ul>\n                                <li>When checking a user with [id=namwc], that feature will also check if the user has already served suspensions for any infractions found so that you do not need to report them again.</li>\n                                <li>It is impossible to retrieve that information automatically, so the database (which is kept globally in a Google Sheet) needs to be maintained by ESGST users. For that, this feature adds 2 identical buttons (<i class="fa fa-paper-plane"></i>) to the main page heading of 2 different locations:</li>\n                                <ul>\n                                    <li>Your <a href="https://www.steamgifts.com/support/tickets">tickets</a> page, which allows you to send multiple tickets to the database at once. The feature adds a checkbox in front of each ticket that belongs to one of the accepted categories so that you can select the tickets that you want to send. There are shortcuts that can help you select them:</li>\n                                    <ul>\n                                        <li>Clicking on an unchecked checkbox with the Ctrl key pressed will select all of the tickets.</li>\n                                        <li>Clicking on a checked checkbox with the Ctrl key pressed will unselect all of the tickets.</li>\n                                        <li>Clicking on any checkbox with the Alt key pressed will toggle all of the tickets (any tickets that were unselected will be selected and any tickets that were selected will be unselected).</li>\n                                    </ul>\n                                    <li>A ticket you created, which allows you to send that single ticket to the database.</li>\n                                </ul>\n                                <li>You can only send tickets that belong to one of the accepted categories to the database:</li>\n                                <ul>\n                                    <li>Request New Winner > Did Not Activate Previous Wins This Month</li>\n                                    <li>Request New Winner > Other</li>\n                                    <li>User Report > Multiple Wins for the Same Game</li>\n                                    <li>User Report > Not Activating Won Gift</li>\n                                </ul>\n                                <li>When you send a ticket, the HTML containing all of the ticket\'s information (including any comments) is sent to the database, and the ticket is requested before being sent, which prevents users from tampering with the HTML.</li>\n                                <li>After you send a ticket you will no longer have the option to send it again, to prevent duplicate entries.</li>\n                            </ul>\n                        ',name:'User Suspension Tracker',sg:!0,st:!0},ut:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-tag"></i>) next a user\'s username (in any page) that allows you to save tags for the user (only visible to you).</li>\n                                <li>You can press Enter to save the tags.</li>\n                                <li>Each tag can be colored individually.</li>\n                                <li>There is a button (<i class="fa fa-list"></i>) in the tags popup that allows you to view a list with all of the tags that you have used ordered from most used to least used.</li>\n                                <li>Adds a button (<i class="fa fa-user"></i> <i class="fa fa-tags"></i>) to the page heading of this menu that allows you to manage all of the tags that have been saved.</li>\n                                <li>This feature is recommended for cases where you want to associate a short text with a user, since the tags are displayed next to their username. For a long text, check [id=un].</li>\n                            </ul>\n                        ',name:'User Tags',sg:!0,st:!0},uh:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-caret-down"></i>) next to a user\'s username (in their <a href="https://www.steamgifts.com/user/cg">profile</a> page) that allows you to view their username history ever since they started being tracked.</li>\n                                <li>It is impossible to keep track of every SteamGifts user due to a database capacity limitation (and that would also be impractical), so instead the feature keeps track of a limited number of users (currently around 9000). A user starts being tracked when anyone using ESGST clicks on the button to view their username history.</li>\n                                <li>Username changes are detected in two instances:</li>\n                                <ul>\n                                    <li>Every 30 days the usernames of all of the users in the database are updated and if any changes are detected they are added to the history.</li>\n                                    <li>Every time anyone using ESGST clicks on the button to view the username history of a user the username of that user is updated and if a change is detected it is added to the history.</li>\n                                </ul>\n                                <li>The database is kept globally in a Google Sheet, which means that everyone using ESGST interacts with the same database and views the same history.</li>\n                                <li>There is a button (<i class="fa fa-expand"></i>) in the username history popout that allows anyone using ESGST to help expand the database by submitting proof that the user used to have a certain username in the past. The submission will be analyzed and if the proof is authentic the username will be added to the history.</li>\n                                <li>Adds a button (<i class="fa fa-user"></i> <i class="fa fa-history"></i>) to the page heading of this menu that allows you to view all of the recent username changes detected.</li>\n                            </ul>\n                        ',name:'Username History',sg:!0},wbc:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-heart"></i> <i class="fa fa-ban"></i> <i class="fa fa-question-circle"></i>) to the main page heading of any page that allows you to check which users in the page have whitelisted/blacklisted you.</li>\n                                <li>That information is retrieved by searching for whitelist giveaways in the user\'s <a href="https://www.steamgifts.com/user/cg">profile</a> page and checking if you can access them. If no whitelist giveaways are found, the feature searches for group + whitelist giveaways instead and checks if you can access them using the groups that you are a member of to determine whether you can access them for being a group member or for being in the user\'s whitelist.</li>\n                                <li>There are many options that allow you to narrow down the check: you can select which users to check, check only if the user has blacklisted you (which is faster than checking if they have whitelisted you because it does not need to find a whitelist giveaway), how many pages to check, whether or not to check again users that were already checked and whether or not to skip users that the feature is taking too long to find whitelist giveaways from.</li>\n                                <li>There are also options to return whitelists/blacklists, which means that if a user that has whitelisted/blacklisted you is found, they will be whitelisted/blacklisted back.</li>\n                                <li>Adds a button (<i class="fa fa-heart"></i> <i class="fa fa-ban"></i> <i class="fa fa-gear"></i>) to the page heading of this menu that allows you to view/update all of the users that have been checked.</li>\n                                <li>Results are cached for 24 hours, so if you check the same user again within that timeframe, their status will not change, unless you check them with the option to clear the cache enabled.</li>\n                            </ul>\n                        ',features:{wbc_h:{description:'\n                                    <ul>\n                                        <li>Adds an icon (<i class="fa fa-check esgst-whitelist"></i> if the user has whitelisted you and <i class="fa fa-times esgst-blacklist"></i> if they have blacklisted you) next to a checked user\'s username (in any page).</li>\n                                        <li>If you hover over the icon, it shows the date when they were checked for the last time.</li>\n                                    </ul>\n                                ',name:'Highlight checked users.',sg:!0,st:!0},wbc_n:{description:'\n                                    <ul>\n                                        <li>If you have [id=un] enabled, a note will be saved for a user if they were whitelisted/blacklisted back.</li>\n                                    </ul>\n                                ',name:'Save automatic notes when returning whitelists/blacklists.',sg:!0},wbc_b:{description:'\n                                    <ul>\n                                        <li>With this option disabled, the feature will not tell you if a user has blacklisted you (in fact, the name of the feature will change to Whitelist Checker for you). If the feature finds a user that has blacklisted you, it will tell you that it could not determine their status.</li>\n                                    </ul>\n                                ',name:'Show blacklist information.',sg:!0}},name:'Whitelist/Blacklist Checker',sg:!0,sync:'Steam Groups'},wbh:{description:'\n                            <ul>\n                                <li>Adds an icon (<i class="fa fa-heart esgst-whitelist"></i> if the user is whitelisted and <i class="fa fa-ban esgst-blacklist"></i> if they are blacklisted) next to the a user\'s username (in any page) to indicate that they are on your whitelist/blacklist.</li>\n                                <li>If you hover over the icon, it shows the date when you added the user to your whitelist/blacklist.</li>\n                            </ul>\n                        ',features:{wbh_b:{colors:!0,description:'\n                                    <ul>\n                                        <li>Adds a background color of your own preference to the user\'s username if they are blacklisted, instead of an icon.</li>\n                                        <li>If you hover over the username, it shows the date when you added the user to your whitelist/blacklist.</li>\n                                    </ul>\n                                ',name:'Use background colors for blacklisted users instead of icons.',sg:!0,st:!0},wbh_w:{colors:!0,description:'\n                                    <ul>\n                                        <li>Adds a background color of your own preference to the user\'s username if they are whitelisted, instead of an icon.</li>\n                                        <li>If you hover over the username, it shows the date when you added the user to your whitelist/blacklist.</li>\n                                    </ul>\n                                ',name:'Use background colors for whitelisted users instead of icons.',sg:!0,st:!0}},name:'Whitelist/Blacklist Highlighter',sg:{include:[{enabled:1,pattern:'.*'}],exclude:[{enabled:1,pattern:'^/account/manage/(whitelist|blacklist)'}]},st:!0,sync:'Whitelist and Blacklist'},wbl:{description:`\n                            <ul>\n                                <li>Adds links to your <a href="https://www.steamgifts.com/account/manage/whitelist">whitelist</a>/<a href="https://www.steamgifts.com/account/manage/blacklist">blacklist</a> pages to the sidebar of your <a href="https://www.steamgifts.com/user/${esgst.username}">profile</a> page.</li>\n                            </ul>\n                        `,name:'Whitelist/Blacklist Links',new:!0,sg:!0},wbm:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-arrow-up"></i> <i class="fa fa-arrow-down"></i> <i class="fa fa-trash"></i>) to the main page heading of your <a href="https://www.steamgifts.com/account/manage/whitelist">whitelist</a>/<a href="https://www.steamgifts.com/account/manage/blacklist">blacklist</a> pages that allows you to import/export/clear your whitelist/blacklist.</li>\n                            </ul>\n                        ',name:'Whitelist/Blacklist Manager',sg:!0},wbs:{description:'\n                            <ul>\n                                <li>Adds 2 buttons (<i class="fa fa-sort-amount-asc"></i> to sort in ascending order and <i class="fa fa-sort-amount-desc"></i> to sort in descending order) to the main page heading of your <a href="https://www.steamgifts.com/account/manage/whitelist">whitelist</a>/<a href="https://www.steamgifts.com/account/manage/blacklist">blacklist</a> pages that allow you to view all of the users in your whitelist/blacklist at once sorted by added date.</li>\n                            </ul>\n                        ',name:'Whitelist/Blacklist Sorter',sg:!0,sync:'Whitelist and Blacklist'}},newBelow:!0},groups:{features:{gh:{description:'\n                            <ul>\n                                <li>Adds a green background to a group that you are a member of (in any page).</li>\n                            </ul>\n                        ',name:'Group Highlighter',sg:!0,sync:'Steam Groups'},glwc:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-folder"></i> <i class="fa fa-star"></i>) to your <a href="https://www.steamgifts.com/account/manage/whitelist">whitelist</a>/<a href="https://www.steamgifts.com/account/manage/blacklist">blacklist</a> pages and any <a href="https://www.steamgifts.com/group/SJ7Bu/">group</a> page that allows you to check how many of the whitelist/blacklist/group members have a certain game in their libraries/wishlists.</li>\n                                <li>The results are separated in 2 sections ("Libraries" and "Wishlists"). The games in each section are ranked based on the number of members that have them in their libraries/wishlists (each game also has a percentage that represents that number).</li>\n                                <li>Only the first 100 results are shown for each section, but you can use the search fields to find games that are outside of the top 100. If you are searching in the "Libraries" section, it is more accurate to search for games using their app id instead of their name, because the games in that section only have a name if they can also be found in the "Wishlists" section, as game names are not available in the libraries data and retrieving them would generate more requests to Steam, which is not good.</li>\n                                <li>If you hover over the number of libraries/wishlists for a game it shows the usernames of all of the members that have the game in their libraries/wishlists.</li>\n                                <li>A Steam API key is required to retrieve libraries data. If a key is not set in the last section of this menu, the feature will only retrieve wishlists data.</li>\n                            </ul>\n                        ',name:'Group Library/Wishlist Checker',sg:!0},gs:{description:'\n                            <ul>\n                                <li>Adds 5 columns ("Sent", "Received", "Gift Difference", "Value Difference" and "Users") to your <a href="https://www.steamgifts.com/account/steam/groups">groups</a> page that show some stats about each group.</li>\n                            </ul>\n                        ',name:'Group Stats',sg:!0}}},games:{features:{egh:{description:'\n                            <ul>\n                                <li>Adds an icon (<i class="fa fa-star"></i>) next to a game\'s name (in any page) to indicate that you have entered giveaways for the game in the past. Clicking on the icon unhighlights the game.</li>\n                                <li>A game is only highlighted if you entered a giveaway for it after this feature was enabled.</li>\n                            </ul>\n                        ',name:'Entered Game Highlighter',sg:!0},gc:{description:'\n                            <ul>\n                                <li>Adds tags (which are called "categories" not to be confused with [id=gt]) below a game\'s name (in any page) that can display a lot of useful information about the game (depending on which categories you have enabled).</li>\n                                <li>The categories can be reordered by dragging and dropping them. You can also drag and drop them between a giveaway\'s columns (where the end/start times and the creator\'s username are).</li>\n                            </ul>\n                        ',features:{gc_lp:{description:'\n                                    <ul>\n                                        <li>"Achievements" links to the <a href="http://steamcommunity.com/stats">http://steamcommunity.com/stats</a> page of the game.</li>\n                                        <li>"Full CV", "Reduced CV" and "No CV" link to the <a href="https://www.steamgifts.com/bundle-games">https://www.steamgifts.com/bundle-games</a> page of the game.</li>\n                                        <li>"Giveaway Info" links to your profile page.</li>\n                                        <li>"Hidden" links to the <a href="https://www.steamgifts.com/account/settings/giveaways/filters">https://www.steamgifts.com/account/settings/giveaways/filters</a> page of the game.</li>\n                                        <li>"Owned" links to the <a href="https://www.steamgifts.com/account/steam/games">https://www.steamgifts.com/account/steam/games</a> page of the game.</li>\n                                        <li>"Removed" links to the <a href="http://steamdb.info">http://steamdb.info</a> page of the game.</li>\n                                        <li>"Trading Cards" links to the <a href="http://www.steamcardexchange.net/index.php">http://www.steamcardexchange.net/index.php</a> page of the game.</li>\n                                        <li>"Wishlist" links to the <a href="https://www.steamgifts.com/account/steam/wishlist">https://www.steamgifts.com/account/steam/wishlist</a> page of the game.</li>\n                                        <li>Every other category links to the <a href="http://store.steampowered.com">http://store.steampowered.com</a> page of the game.</li>\n                                    </ul>\n                                ',features:{gc_lp_gv:{name:'Enable for Grid View.',sg:!0}},name:'Link each category to its related page.',sg:!0},gc_b:{name:'Show the category colors as a bottom border to the giveaways in Grid View.',sg:!0},gc_il:{name:'Show the panel inline (next to the game\'s name instead of below it).',sg:!0},gc_a:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game has achievements.</li>\n                                        <li>If you hover over the category, it shows how many achievements the game has.</li>\n                                    </ul>\n                                ',features:{gc_a_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_a_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Achievements',sg:!0},gc_dlc:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game is a DLC.</li>\n                                    </ul>\n                                ',features:{gc_dlc_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_dlc_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0},gc_dlc_b:{description:'\n                                            <ul>\n                                                <li>The icon <i class="fa fa-certificate"></i> will be added if the base is free, the icon <i class="fa fa-dollar"></i> will be added if it is not, and no icon will be added if the information is unavailable.</li>\n                                            </ul>\n                                        ',name:'Indicate if the base game of the DLC is free.',sg:!0}},input:!0,name:'DLC',sg:!0},gc_ea:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game is in early access.</li>\n                                    </ul>\n                                ',features:{gc_ea_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_ea_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Early Access',sg:!0},gc_fcv:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game gives full CV when given away.</li>\n                                    </ul>\n                                ',features:{gc_fcv_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_fcv_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Full CV',sg:!0},gc_g:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows the official genres of the game.</li>\n                                        <li>The genres/user-defined tags are listed in the same category, separated by a comma. If they exceed a certain width, a "..." is added and the rest is hidden (they can be seen by hovering over the category).</li>\n                                    </ul>\n                                ',features:{gc_g_s:{description:'\n                                            <ul>\n                                                <li>With this option enabled, each genre/user-defined tag will have its own category instead of all of them being listed in the same one.</li>\n                                                <li>This option allows each separate category to be colored individually.</li>\n                                            </ul>\n                                        ',name:'Show each genre/user-defined tag as a separate category.',sg:!0},gc_g_udt:{description:'\n                                            <ul>\n                                                <li>Shows the user-defined tags that the game has in addition to the official genres.</li>\n                                            </ul>\n                                        ',name:'User-Defined Tags',sg:!0}},name:'Genres',sg:!0},gc_gi:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows how many giveaways you have already made for the game and how much real CV you should get for a new giveaway.</li>\n                                    </ul>\n                                ',name:'Giveaway Info',sg:!0},gc_h:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if you have hidden the game on SteamGifts.</li>\n                                    </ul>\n                                ',features:{gc_h_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_h_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Hidden',sg:!0},gc_i:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if you have ignored the game on Steam.</li>\n                                    </ul>\n                                ',features:{gc_i_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_i_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Ignored',sg:!0},gc_l:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game is compatible with Linux.</li>\n                                    </ul>\n                                ',features:{gc_l_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_l_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Linux',sg:!0},gc_m:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game is compatible with Mac.</li>\n                                    </ul>\n                                ',features:{gc_m_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_m_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Mac',sg:!0},gc_mp:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game is multiplayer.</li>\n                                    </ul>\n                                ',features:{gc_mp_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_mp_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Multiplayer',sg:!0},gc_ncv:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game gives no CV when given away.</li>\n                                        <li>If you hover over the category, it shows the date since it gives no CV.</li>\n                                    </ul>\n                                ',features:{gc_ncv_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_ncv_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0},gc_ncv_o:{name:'Only display "No CV" if the game also has "Reduced CV".',sg:!0}},input:!0,name:'No CV',sg:!0},gc_o:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if you own the game.</li>\n                                    </ul>\n                                ',features:{gc_o_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_o_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0},gc_o_a:{name:'Show if you own the game in any of your alt accounts.',new:!0,sg:!0}},input:!0,name:'Owned',sg:!0},gc_p:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game is a package.</li>\n                                        <li>If you hover over the category, it shows how many items are contained in the package.</li>\n                                    </ul>\n                                ',features:{gc_p_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_p_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Package',sg:!0},gc_r:{description:'\n                                    <ul>\n                                        <li>Shows the overall rating that the game has on Steam.</li>\n                                    </ul>\n                                ',features:{gc_r_s:{name:'Show the percentage and number of reviews next to the icon.',sg:!0}},name:'Rating',sg:!0},gc_rcv:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game gives reduced CV when given away.</li>\n                                        <li>If you hover over the category, it shows the date since it gives reduced CV.</li>\n                                    </ul>\n                                ',features:{gc_rcv_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_rcv_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Reduced CV',sg:{include:[{enabled:1,pattern:'.*'}],exclude:[{enabled:1,pattern:'^/bundle-games'}]}},gc_rd:{description:'\n                                    <ul>\n                                        <li>Shows the release date of the game.</li>\n                                        <li>If the game has no release date, a "?" will be shown instead.</li>\n                                    </ul>\n                                ',colors:!0,input:!0,name:'Release Date',sg:!0},gc_rm:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game has been removed from the Steam store.</li>\n                                    </ul>\n                                ',features:{gc_rm_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_rm_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Removed',sg:!0},gc_sc:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game has Steam Cloud.</li>\n                                    </ul>\n                                ',features:{gc_sc_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_sc_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Steam Cloud',sg:!0},gc_tc:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if the game has trading cards.</li>\n                                    </ul>\n                                ',features:{gc_tc_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_tc_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Trading Cards',sg:!0},gc_w:{colors:!0,description:'\n                                    <ul>\n                                        <li>Shows if you have wishlisted the game on Steam.</li>\n                                        <li>If you hover over the category, it shows the date when you added the game to your wishlist.</li>\n                                    </ul>\n                                ',features:{gc_w_s:{description:'\n                                            <ul>\n                                                <li>Shows the category initials instead of its full name.</li>\n                                                <li>Not compatible with custom labels.</li>\n                                            </ul>\n                                        ',features:{gc_w_s_i:{name:'Use icons instead of initials.',sg:!0}},name:'Enable the simplified version.',sg:!0}},input:!0,name:'Wishlisted',sg:!0}},name:'Game Categories',newBelow:!0,sg:!0,sync:'Hidden Games, Owned/Wishlisted/Ignored Games, Reduced CV Games, No CV Games and Giveaways'},gt:{description:'\n                            <ul>\n                                <li>Adds a button (<i class="fa fa-tag"></i>) next to a game\'s name (in any page) that allows you to save tags for the game (only visible to you).</li>\n                                <li>You can press Enter to save the tags.</li>\n                                <li>Each tag can be colored individually.</li>\n                                <li>There is a button (<i class="fa fa-list"></i>) in the tags popup that allows you to view a list with all of the tags that you have used ordered from most used to least used.</li>\n                                <li>Adds a button (<i class="fa fa-gamepad"></i> <i class="fa fa-tags"></i>) to the page heading of this menu that allows you to manage all of the tags that have been saved.</li>\n                            </ul>\n                        ',name:'Game Tags',sg:!0}},newBelow:!0},others:{features:{addNoCvGames:{name:'Automatically add no CV games to the database when searching for games in the new giveaway page.',new:!0,sg:!0},autoBackup:{input:!0,name:'Automatically backup your data every specified number of days.',options:{title:'Backup to:',values:['Computer','Dropbox','Google Drive','OneDrive']},sg:!0,st:!0},autoSync:{name:'Automatically sync games/groups when syncing through SteamGifts.',sg:!0},updateWhitelistBlacklist:{description:'\n                            <ul>\n                                <li>With this enabled, you no longer have to sync your whitelist/blacklist every time you add/remove a user to/from those lists.</li>\n                            </ul>\n                        ',name:'Automatically update whitelist/blacklist when adding/removing a user to/from those lists.',sg:!0},calculateDelete:{name:'Calculate and show data sizes when opening the delete menu.',sg:!0,st:!0},calculateExport:{name:'Calculate and show data sizes when opening the export menu.',sg:!0,st:!0},calculateImport:{name:'Calculate and show data sizes when opening the import menu.',sg:!0,st:!0},checkVersion:{name:'Check whether or not you are on the current version when visiting the ESGST discussion.',sg:!0},checkVersionMain:{name:'Check whether or not you are on the current version when visiting the main discussions page if the ESGST discussion is in the current page.',sg:!0},collapseSections:{name:'Collapse sections in the settings menu by default.',sg:!0,st:!0},esgst:{name:'Enable ESGST for SteamTrades.',st:!0},enableByDefault:{name:'Enable new features and functionalities by default.',sg:!0,st:!0},hideButtons:{description:'\n                            <ul>\n                                <li>Adds 2 buttons (<i class="fa fa-ellipsis-h"></i>) to left/right sides of the main page heading of any page that when clicked open a popout where you can hide other buttons from the main page heading to reduce the used space of the buttons.</li>\n                            </ul>\n                        ',features:{hideButtons_as:{name:'Archive Searcher Button',sg:!0},hideButtons_aic:{name:'Attached Image Carousel Button',sg:!0},hideButtons_cs:{name:'Comment Searcher',sg:!0,st:!0},hideButtons_ctGo:{name:'Comment Tracker Button - Go to first unread.',sg:!0,st:!0},hideButtons_ctRead:{name:'Comment Tracker Button - Read all.',sg:!0,st:!0},hideButtons_ctUnread:{name:'Comment Tracker Button - Unread all.',sg:!0,st:!0},hideButtons_cec:{name:'Comment/Entry Checker Button',sg:!0},hideButtons_df:{name:'Discussion Filters Button',sg:!0},hideButtons_ds:{name:'Discussions Sorter Button',sg:!0},hideButtons_esContinuous:{name:'Endless Scrolling Button - Continuously Load',sg:!0,st:!0},hideButtons_esNext:{name:'Endless Scrolling Button - Load Next Page',sg:!0,st:!0},hideButtons_esPause:{name:'Endless Scrolling Button - Pause/Resume',sg:!0,st:!0},hideButtons_esRefresh:{name:'Endless Scrolling Button - Refresh',sg:!0,st:!0},hideButtons_esRefreshAll:{name:'Endless Scrolling Button - Refresh All',sg:!0,st:!0},hideButtons_ge:{name:'Giveaway Extractor Button',sg:!0},hideButtons_gf:{name:'Giveaway Filters Button',sg:!0},hideButtons_gm:{name:'Giveaway Manager Button',sg:!0},hideButtons_gts:{name:'Giveaway Templates Button',sg:!0},hideButtons_gas:{name:'Giveaways Sorter Button',sg:!0},hideButtons_gv:{name:'Grid View Button',sg:!0},hideButtons_glwc:{name:'Group Library/Wishlist Checker Button',sg:!0},hideButtons_hgr:{name:'Hidden Game Remover Button',sg:!0},hideButtons_mpp:{name:'Main Post Popup Button',sg:!0,st:!0},hideButtons_mtGames:{name:'Multi-Tag Button - Games',sg:!0,st:!0},hideButtons_mtUsers:{name:'Multi-Tag Button - Users',sg:!0,st:!0},hideButtons_namwc:{name:'Not Activated/Multiple Win Checker Button',sg:!0},hideButtons_rbp:{name:'Reply Box Popup Button',sg:!0,st:!0},hideButtons_stbb:{name:'Scroll To Bottom  Button',sg:!0},hideButtons_sttb:{name:'Scroll To Top Button',sg:!0},hideButtons_sks:{name:'Sent Key Searcher Button',sg:!0},hideButtons_tb:{name:'Trade Bumper Button',st:!0},hideButtons_ugs:{name:'Unsent Gift Sender Button',sg:!0},hideButtons_wbc:{name:'Whitelist/Blacklist Checker Button',sg:!0},hideButtons_wbm:{name:'Whitelist/Blacklist Manager Button',sg:!0},hideButtons_wbsAsc:{name:'Whitelist/Blacklist Sorter Button - Ascending',sg:!0},hideButtons_wbsDesc:{name:'Whitelist/Blacklist Sorter Button - Descending',sg:!0}},name:'Hide buttons at the left/right sides of the main page heading to reduce the used space.',sg:!0,st:!0},lockGiveawayColumns:{name:'Lock giveaway columns so that they are not draggable (they will remain in the set order).',new:!0,sg:!0},staticPopups:{features:{staticPopups_f:{input:!0,name:'Define a fixed width for popups, so that they are centered horizontally.',new:!0,sg:!0,st:!0}},name:'Make popups static (they are fixed at the top left corner of the page instead of being automatically centered).',newBelow:!0,sg:!0,st:!0},openSettingsInTab:{name:'Open settings menu in a separate tab.',sg:!0,st:!0},openSyncInTab:{name:'Open the automatic sync in a new tab.',sg:!0,st:!0},showChangelog:{name:'Show changelog from the new version when updating.',sg:!0,st:!0},showFeatureNumber:{name:'Show the feature number in the tooltips of elements added by ESGST.',new:!0,sg:!0,st:!0}},newBelow:!0}};for(let e in esgst.features)for(let t in esgst.features[e].features)getFeatureSetting(esgst.features[e].features[t],t);[{id:'cec',side:'left'},{id:'esContinuous',side:'right'},{id:'esNext',side:'right'},{id:'glwc',side:'left'},{id:'stbb',side:'right'},{id:'sttb',side:'right'},{id:'ust',side:'left'},{id:'wbm',side:'left'}].forEach(e=>{esgst.leftButtonIds.indexOf(e.id)<0&&esgst.rightButtonIds.indexOf(e.id)<0&&(esgst[`${e.side}ButtonIds`].push(e.id),esgst.settings.leftButtonIds=esgst.leftButtonIds,esgst.settings.rightButtonIds=esgst.rightButtonIds,esgst.settingsChanged=!0)}),esgst.settings.users&&(delete esgst.settings.users,esgst.settingsChanged=!0),esgst.settings.comments&&(delete esgst.settings.comments,esgst.settingsChanged=!0),esgst.settings.giveaways&&(delete esgst.settings.giveaways,esgst.settingsChanged=!0),esgst.settings.groups&&(delete esgst.settings.groups,esgst.settingsChanged=!0),esgst.settings.gc_categories.indexOf('gc_rd')<0&&(esgst.settings.gc_categories.push('gc_rd'),esgst.settingsChanged=!0),esgst.gc_categories=esgst.settings.gc_categories,esgst.gc_categories_gv=esgst.settings.gc_categories_gv,esgst.settings.giveawayColumns.indexOf('ged')<0&&esgst.settings.giveawayPanel.indexOf('ged')<0&&(esgst.settings.giveawayColumns.unshift('ged'),esgst.giveawayColumns=esgst.settings.giveawayColumns,esgst.settingsChanged=!0),esgst.settings.giveawayColumns_gv.indexOf('ged')<0&&esgst.settings.giveawayPanel_gv.indexOf('ged')<0&&(esgst.settings.giveawayColumns_gv.unshift('ged'),esgst.giveawayColumns_gv=esgst.settings.giveawayColumns_gv,esgst.settingsChanged=!0),'loading'===document.readyState?document.addEventListener('DOMContentLoaded',loadEsgst.bind(null,e,t)):loadEsgst(e,t)}async function loadEsgst(e,t){if(esgst.sg)try{let e=document.getElementsByClassName('nav__avatar-inner-wrap')[0].style.backgroundImage.match(/\("(.+)"\)/)[1];esgst.settings.avatar!==e&&(esgst.avatar=esgst.settings.avatar=e,esgst.settingsChanged=!0);let t=document.getElementsByClassName('nav__avatar-outer-wrap')[0].href.match(/\/user\/(.+)/)[1];if(esgst.settings.username_sg!==t&&(esgst.username=esgst.settings.username_sg=t,esgst.settingsChanged=!0),!esgst.settings.registrationDate_sg||!esgst.settings.steamId){let e=parseHtml((await request({method:'GET',url:`https://www.steamgifts.com/user/${esgst.settings.username_sg}`})).responseText),t=e.getElementsByClassName('featured__table__row__left');for(let e=0,s=t.length;e<s;e++){let s=t[e];if('Registered'===s.textContent){esgst.registrationDate=esgst.settings.registrationDate_sg=parseInt(s.nextElementSibling.firstElementChild.getAttribute('data-timestamp'));break}}esgst.steamId=esgst.settings.steamId=e.querySelector('a[href*="/profiles/"]').getAttribute('href').match(/\d+/)[0],esgst.settingsChanged=!0}}catch(e){}else try{let e=document.getElementsByClassName('nav_avatar')[0].style.backgroundImage.match(/\("(.+)"\)/)[1];esgst.settings.avatar!==e&&(esgst.avatar=esgst.settings.avatar=e,esgst.settingsChanged=!0);let t=document.querySelector(`.author_name[href*="/user/${esgst.settings.steamId}"], .underline[href*="/user/${esgst.settings.steamId}"]`).textContent;esgst.settings.username_st!==t&&(esgst.username=esgst.settings.username_st=t,esgst.settingsChanged=!0)}catch(e){}if(esgst.settingsChanged&&(t.settings=JSON.stringify(esgst.settings)),Object.keys(t).length&&await setValues(t),Object.keys(e).length&&await delValues(e),esgst.urlr&&location.pathname.match(/^\/(giveaway|discussion|support\/ticket|trade)\/.{5}$/)&&(location.href=`${location.href}/`),location.pathname.match(/esgst-settings/))location.href='/esgst/settings';else if(location.pathname.match(/esgst-sync/))location.href='/esgst/sync';else if(location.pathname.match(/esgst\/sync/))await setSync();else if(location.pathname.match(/^\/esgst\/dropbox/))await setValue('dropboxToken',location.hash.match(/access_token=(.+?)\&/)[1]),close();else if(location.pathname.match(/^\/esgst\/google-drive/))await setValue('googleDriveToken',location.hash.match(/access_token=(.+?)\&/)[1]),close();else if(location.pathname.match(/^\/esgst\/onedrive/))await setValue('oneDriveToken',location.hash.match(/access_token=(.+?)\&/)[1]),close();else if(location.pathname.match(/^\/esgst\/imgur/))await setValue('imgurToken',location.hash.match(/access_token=(.+?)\&/)[1]),close();else{if(esgst.logoutButton=document.querySelector('.js__logout, .js_logout'),!esgst.logoutButton&&!esgst.menuPath)return;if(esgst.st&&!esgst.settings.esgst_st)return;if(esgst.lastPage=getLastPage(document,!0),esgst.menuPath&&document.head.insertAdjacentHTML('beforeEnd','<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.steamgifts.com/css/minified_v30.css">'),addStyle(),await getElements(),esgst.sg&&!esgst.menuPath&&checkSync(),esgst.autoBackup&&checkBackup(),esgst.profilePath&&esgst.autoSync&&document.getElementsByClassName('form__sync-default')[0].addEventListener('click',setSync.bind(null,!0,null,null)),esgst.menuPath)if(esgst.favicon.href=esgst.icon,esgst.settingsPath)document.title='ESGST - Settings',loadSMMenu(!0);else if(esgst.importMenuPath)document.title='ESGST - Import',loadDataManagement(!0,'import');else if(esgst.exportMenuPath)document.title='ESGST - Export',loadDataManagement(!0,'export');else if(esgst.deleteMenuPath)document.title='ESGST - Delete',loadDataManagement(!0,'delete');else{let e=await request({method:'GET',url:'/'});responseHtml=parseHtml(e.responseText),document.body.className='esgst-tab-menu esgst-tab-menu-header',document.body.innerHTML=`\n                        ${responseHtml.getElementsByTagName('header')[0].outerHTML}\n                        <div class="page__outer-wrap">\n                            <div class="page__inner-wrap"></div>\n                        </div>\n                        ${responseHtml.getElementsByClassName('footer__outer-wrap')[0].outerHTML}\n                    `,esgst.header=document.body.firstElementChild,esgst.footer=document.body.lastElementChild,esgst.headerNavigationLeft=document.getElementsByClassName('nav__left-container')[0],esgst.pageOuterWrap=esgst.header.nextElementSibling,esgst.mainContext=esgst.pageOuterWrap.lastElementChild,esgst.logoutButton=responseHtml.getElementsByClassName(esgst.sg?'js__logout':'js_logout')[0],esgst.logoutButton&&(esgst.xsrfToken=esgst.logoutButton.getAttribute('data-form').match(/xsrf_token=(.+)/)[1]),await refreshHeaderElements(document),esgst.gbPath?(document.title='ESGST - Giveaway Bookmarks',esgst.originalTitle='ESGST - Giveaway Bookmarks'):esgst.gedPath?(document.title='ESGST - Decrypted Giveaways',esgst.originalTitle='ESGST - Decrypted Giveaways'):esgst.gePath?(document.title='ESGST - Extracted Giveaways',esgst.originalTitle='ESGST - Extracted Giveaways'):esgst.glwcPath&&(document.title='ESGST - Group Library/Wishlist Checker',esgst.originalTitle='ESGST - Group Library/Wishlist Checker'),$('nav .nav__button--is-dropdown-arrow').click(function(e){var t=$(this).hasClass('is-selected');$('nav .nav__button').removeClass('is-selected'),$('nav .nav__relative-dropdown').addClass('is-hidden'),t||$(this).addClass('is-selected').siblings('.nav__relative-dropdown').removeClass('is-hidden'),e.stopPropagation()}),$('html').click(function(){$('nav .nav__button, .page__heading__button--is-dropdown').removeClass('is-selected'),$('nav .nav__relative-dropdown').addClass('is-hidden')})}addHeaderMenu(),checkNewVersion(),loadFeatures()}}async function loadFeatures(){let e,t;if(esgst.bgl&&await loadBgl(),esgst.hcp&&loadHcp(),esgst.giveawaysPath&&esgst.activeDiscussions&&(esgst.oadd?await loadOadd():await checkMissingDiscussions()),esgst.hideButtons&&((e=document.createElement('div')).className='esgst-heading-button',e.title=getFeatureTooltip('hideButtons'),e.innerHTML='\n                <i class="fa fa-ellipsis-v"></i>\n            ',esgst.leftButtons=insertHtml(new Popout('esgst-hidden-buttons',e,0,!0).popout,'beforeEnd','\n                <div class="esgst-page-heading"></div>\n            '),(t=document.createElement('div')).className='esgst-heading-button',t.title=getFeatureTooltip('hideButtons'),t.innerHTML='\n                <i class="fa fa-ellipsis-v"></i>\n            ',esgst.rightButtons=insertHtml(new Popout('esgst-hidden-buttons',t,0,!0).popout,'beforeEnd','\n                <div class="esgst-page-heading"></div>\n            ')),(esgst.lpv||esgst.cewgd||esgst.gc&&esgst.gc_gi)&&esgst.giveawayPath&&'https://www.steamgifts.com/giveaways/new'===document.referrer&&addGiveawayToStorage(),esgst.ef&&hideEfElements(document),esgst.ags&&loadAgs(),esgst.aic&&loadAic(),esgst.as&&loadAs(),esgst.cdr&&loadCdr(),esgst.cec&&loadCec(),esgst.cr&&loadCr(),esgst.cs&&loadCs(),esgst.ct&&loadCt(),esgst.ded&&loadDed(),esgst.df&&loadDf(),esgst.dh&&loadDh(),esgst.ds&&loadDs(),esgst.et&&loadEt(),esgst.ff&&loadFf(),esgst.fh&&loadFh(),esgst.gas&&loadGas(),esgst.gb&&loadGb(),esgst.gesl&&loadGesl(),esgst.gf&&loadGf(),esgst.gm&&loadGm(),esgst.gr&&loadGr(),esgst.gs&&loadGs(),esgst.gts&&loadGts(),esgst.gv&&loadGv(),esgst.hbs&&loadHbs(),esgst.hgebd&&loadHgebd(),esgst.hgr&&loadHgr(),esgst.hr&&loadHr(),esgst.lpl&&loadLpl(),esgst.lpv&&loadLpv(),esgst.mgc&&loadMgc(),esgst.mpp&&loadMpp(),esgst.mps&&loadMps(),esgst.mt&&loadMt(),esgst.namwc&&loadNamwc(),esgst.nm&&loadNm(),esgst.npth&&loadNpth(),esgst.pnot&&loadPnot(),esgst.pgb&&loadPgb(),esgst.qgs&&loadQgs(),esgst.rbp&&loadRbp(),esgst.rcvc&&loadRcvc(),esgst.sgac&&loadSgac(),esgst.sgg&&loadSgg(),esgst.sk&&loadSk(),esgst.sks&&loadSks(),esgst.stbb&&loadStbb(),esgst.sttb&&loadSttb(),esgst.tb&&loadTb(),esgst.ugs&&loadUgs(),esgst.ust&&loadUst(),esgst.wbc&&loadWbc(),esgst.wbs&&loadWbs(),esgst.wbm&&loadWbm(),esgst.cfh&&loadCfh(),esgst.ch&&loadCh(),esgst.fmph&&loadFmph(),esgst.fs&&loadFs(),esgst.ged&&loadGed(),esgst.smgb&&loadSmgb(),esgst.cerb&&loadCerb(),esgst.chfl&&loadChfl(),esgst.rbot&&loadRbot(),esgst.gdttt&&await loadGdttt(),esgst.ge&&await loadGe(),esgst.glwc&&await loadGlwc(),esgst.userPath&&loadProfileFeatures(document),esgst.menuPath||await loadEndlessFeatures(document,!0),esgst.qiv&&loadQiv(!0),esgst.es&&loadEs(),esgst.newGiveawayPath){let e;document.getElementsByClassName('form__rows')[0]&&setTimeout(checkNewGiveawayInput,1e3,document.getElementsByClassName('js__autocomplete-data')[0])}esgst.hideButtons&&esgst.mainPageHeading&&(esgst.leftButtons.querySelector('.esgst-heading-button:not(.esgst-hidden)')||e.classList.add('esgst-hidden'),esgst.rightButtons.querySelector('.esgst-heading-button:not(.esgst-hidden)')||t.classList.add('esgst-hidden'),esgst.mainPageHeading.insertBefore(e,esgst.mainPageHeading.firstElementChild),esgst.mainPageHeading.appendChild(t)),reorderButtons(e,esgst.leftButtons,t,esgst.rightButtons),goToComment(esgst.originalHash),addEventListener('beforeunload',checkBusy),addEventListener('hashchange',goToComment.bind(null,null,null)),esgst.staticPopups||setTimeout(repositionPopups,2e3)}function checkBusy(e){if(document.getElementsByClassName('esgst-busy')[0]||esgst.busy)return e.returnValue=!0,!0}function loadAdots(e){var t,s,n,i,a,o,r,l,c,d,g,u,h,m,t,s,p;if(esgst.activeDiscussions)if(e||(esgst.activeDiscussions.classList.remove('widget-container--margin-top'),esgst.activeDiscussions.classList.add('esgst-adots')),0===esgst.adots_index)e?esgst.oadd&&esgst.radb&&addRadbButtons():((t=esgst.activeDiscussions.parentElement).insertBefore(esgst.activeDiscussions,t.firstElementChild),esgst.radb&&addRadbButtons());else{if(e||(n=esgst.ib?45:35,esgst.style.insertAdjacentText('beforeEnd',`\n                        .esgst-adots .table__row-inner-wrap >:first-child {\n                            float: left;\n                            width: ${n}px;\n                            height: ${n}px;\n                        }\n                        .esgst-adots .table__row-inner-wrap >:first-child >* {\n                            width: ${n}px;\n                            height: ${n}px;\n                        }\n                        .esgst-adots .table__row-inner-wrap >:last-child {\n                            margin-left: ${n+5}px;\n                            text-align: left;\n                            width: auto;\n                        }\n                        .esgst-adots .table__column--width-fill {\n                            margin-left: 5px;\n                            vertical-align: top;\n                            width: calc(100% - ${n+15}px);\n                        }\n                    `),a=(i=(s=insertHtml(esgst.sidebar,'beforeEnd','\n                        <h3 class="sidebar__heading">\n                            <span class="esgst-adots-tab-heading esgst-selected">Discussions</span>\n                            <span class="esgst-adots-tab-heading">Deals</span>\n                            <a class="esgst-float-right sidebar__navigation__item__name" href="/discussions">More</a>\n                        </h3>\n                    ')).firstElementChild).nextElementSibling,esgst.radb&&insertHtml(a.nextElementSibling,'beforeBegin',`\n                            <div class="esgst-radb-button" title="${getFeatureTooltip('radb','Refresh active discussions/deals')}">\n                                <i class="fa fa-refresh"></i>\n                            </div>\n                        `).addEventListener('click',e=>{let t=e.currentTarget.firstElementChild;t.classList.add('fa-spin'),esgst.oadd?loadOadd(!0,()=>{t.classList.remove('fa-spin')}):checkMissingDiscussions(!0,()=>{t.classList.remove('fa-spin')})})),esgst.oadd){for(r=esgst.activeDiscussions.firstElementChild,l=esgst.activeDiscussions.lastElementChild,r.firstElementChild.remove(),r.firstElementChild.firstElementChild.remove(),l.firstElementChild.remove(),l.firstElementChild.firstElementChild.remove(),g=0,h=(d=esgst.activeDiscussions.getElementsByClassName('table__column--last-comment')).length;g<h;++g)(u=d[0].getElementsByClassName('table__last-comment-icon')[0])&&(u.classList.add('esgst-float-right'),d[0].previousElementSibling.appendChild(u)),d[0].remove();e||(r=r.firstElementChild.firstElementChild,l=l.firstElementChild.firstElementChild)}else{for(e?(r=(p=document.getElementsByClassName('table'))[0],l=p[1]):(r=esgst.activeDiscussions.firstElementChild.firstElementChild.lastElementChild,l=esgst.activeDiscussions.lastElementChild.firstElementChild.lastElementChild),g=0,h=(d=r.getElementsByClassName('table__row-outer-wrap')).length;g<h;++g)(s=insertHtml(t=(m=(c=d[g]).getElementsByClassName('table__column__secondary-link')[0]).parentElement,'afterEnd','<p></p><div style="clear: both;"></div>')).appendChild(m),t.lastElementChild.classList.contains('table__last-comment-icon')&&(t.lastElementChild.classList.add('esgst-float-right'),s.appendChild(t.lastElementChild)),t.remove();for(g=0,h=(d=l.getElementsByClassName('table__row-outer-wrap')).length;g<h;++g)(s=insertHtml(t=(m=(c=d[g]).getElementsByClassName('table__column__secondary-link')[0]).parentElement,'afterEnd','<p></p><div style="clear: both;"></div>')).appendChild(m),t.lastElementChild.classList.contains('table__last-comment-icon')&&(t.lastElementChild.classList.add('esgst-float-right'),s.appendChild(t.lastElementChild)),t.remove()}i||(a=(i=r.parentElement.previousElementSibling.firstElementChild).nextElementSibling),i.classList.contains('esgst-selected')?(l.classList.add('esgst-hidden','esgst-adots'),r.classList.add('esgst-adots'),r.classList.remove('esgst-hidden')):(r.classList.add('esgst-hidden','esgst-adots'),l.classList.add('esgst-adots'),l.classList.remove('esgst-hidden')),e||((o=insertHtml(esgst.sidebar,'beforeEnd','<div></div>')).appendChild(r),o.appendChild(l),i.addEventListener('click',changeAdotsTab.bind(null,i,a)),a.addEventListener('click',changeAdotsTab.bind(null,i,a)),esgst.activeDiscussions.remove(),esgst.activeDiscussions=o)}}function changeAdotsTab(e,t,s){(e.classList.contains('esgst-selected')&&s.currentTarget===t||t.classList.contains('esgst-selected')&&s.currentTarget===e)&&(e.classList.toggle('esgst-selected'),t.classList.toggle('esgst-selected'),e.parentElement.nextElementSibling.firstElementChild.classList.toggle('esgst-hidden'),e.parentElement.nextElementSibling.lastElementChild.classList.toggle('esgst-hidden'))}function loadAgs(){!esgst.giveawaysPath||esgst.qgs&&esgst.qgs_h||addAgsPanel(document.getElementsByClassName('sidebar__search-container')[0])}function addAgsPanel(e,t){var e,s,n,i,a,o,r,l,c,d,g,u,h,m,p;for(e.firstElementChild.remove(),(l=(c=insertHtml(e,'afterBegin',`\n            <input class="${t?'esgst-qgs-input':'sidebar__search-input'}" placeholder="Search..." type="text">\n        `)).nextElementSibling).classList.add('esgst-clickable'),l.title=getFeatureTooltip('ags','Use advanced search'),t||(d=location.search.match(/q=(.*?)(&.*?)?$/))&&(c.value=decodeURIComponent(d[1])),u=t||(!esgst.adots||0!==esgst.adots_index)&&esgst.adots?new Popout('esgst-ags-panel',e,100).popout:insertHtml(e,'afterEnd','\n                <div class="esgst-ags-panel"></div>\n            '),o=[],r=0,g=(a=[{key:'ags_type',parameter:'type',name:'Type',options:[{name:'All',value:''},{name:'Wishlist',value:'wishlist'},{name:'Recommended',value:'recommended'},{name:'Group',value:'group'},{name:'New',value:'new'}],type:'select'},{maxKey:'ags_maxDate',minKey:'ags_minDate',maxParameter:'release_date_max',minParameter:'release_date_min',name:'Release Date',type:'input'},{maxKey:'ags_maxScore',minKey:'ags_minScore',maxParameter:'metascore_max',minParameter:'metascore_min',name:'Metascore',type:'input'},{maxKey:'ags_maxLevel',minKey:'ags_minLevel',maxParameter:'level_max',minParameter:'level_min',name:'Level',type:'select'},{maxKey:'ags_maxEntries',minKey:'ags_minEntries',maxParameter:'entry_max',minParameter:'entry_min',name:'Entries',type:'input'},{maxKey:'ags_maxCopies',minKey:'ags_minCopies',maxParameter:'copy_max',minParameter:'copy_min',name:'Copies',type:'input'},{maxKey:'ags_maxPoints',minKey:'ags_minPoints',maxParameter:'point_max',minParameter:'point_min',name:'Points',type:'input'},{key:'ags_regionRestricted',name:'Region Restricted',parameter:'region_restricted',type:'checkbox'},{key:'ags_dlc',name:'DLC',parameter:'dlc',type:'checkbox'},{key:'ags_app',name:'App',parameter:'app',type:'checkbox'},{key:'ags_sub',name:'Sub',parameter:'sub',type:'checkbox'}]).length;r<g;++r)f(a[r]);function f(e){var s,n,i,a,r,l;if('ags_type'!==e.key||t)if('checkbox'===e.type)s=insertHtml(u,'beforeEnd',`\n                        <div class="esgst-ags-checkbox-filter">\n                            <span>${e.name}</span>\n                        </div>\n                `),n=new Checkbox(s,esgst[e.key]).input,s.addEventListener('click',function(){setSetting(e.key,n.checked),esgst[e.key]=n.checked}),o.push({filter:n,key:'checked',parameter:e.parameter});else if(e.options)i='\n                    <select>\n                ',e.options.forEach(e=>{i+=`\n                        <option value="${e.value}">${e.name}</option>\n                    `}),i+='\n                    </select>\n                ',s=insertHtml(u,'beforeEnd',`\n                    <div style="display: block;">${e.name} <div class="esgst-ags-filter">${i}</div></div>\n                `),(n=s.firstElementChild.firstElementChild).value=esgst[e.key],n.addEventListener('change',function(){setSetting(e.key,n.value),esgst[detauks.key]=n.value}),o.push({filter:n,key:'value',parameter:e.parameter});else{if('select'===e.type){for(i='\n                        <select>\n                            <option></option>\n                    ',a=0;a<=10;++a)i+=`\n                            <option>${a}</option>\n                        `;i+='\n                        </select>\n                    '}else i='ags_maxDate'===e.maxKey?'\n                        <input type="date">\n                    ':'\n                        <input type="text">\n                    ';s=insertHtml(u,'beforeEnd',`\n                    <div>${e.name} <div class="esgst-ags-filter">${i}</div><div class="esgst-ags-filter">${i}</div></div>\n                `),(r=s.lastElementChild.lastElementChild).value=esgst[e.maxKey],r.addEventListener('change',function(){setSetting(e.maxKey,r.value),esgst[e.maxKey]=r.value}),(l=s.firstElementChild.lastElementChild).value=esgst[e.minKey],l.addEventListener('change',function(){setSetting(e.minKey,l.value),esgst[e.minKey]=l.value}),'input'===e.type&&(r.addEventListener('keypress',e=>{'Enter'===e.key&&v()}),l.addEventListener('keypress',e=>{'Enter'===e.key&&v()})),o.push({filter:l,key:'value',parameter:e.minParameter}),o.push({filter:r,key:'value',parameter:e.maxParameter})}}function v(){var e,s,n;for(n=esgst.ags_app||esgst.ags_sub?'https://www.steamgifts.com/giveaways/search?q=':`https://www.steamgifts.com/giveaways/search?q=${encodeURIComponent(c.value)}`,t||(s=location.search.match(/(type=.*?)(&.*?)?$/))&&(n+=`&${s[1]}`),e=0,g=o.length;e<g;++e)i=o[e],(p=i.filter[i.key])&&('app'===i.parameter?n+=`&app=${c.value}`:'sub'===i.parameter?n+=`&sub=${c.value}`:n+=`&${i.parameter}=${p}`);location.href=n}c.addEventListener('keydown',function(e){'Enter'===e.key&&(e.preventDefault(),v())}),l.addEventListener('click',function(){v()})}function loadAic(){document.addEventListener('keydown',e=>{'ArrowLeft'===e.key&&esgst.aicPrevious&&esgst.aicPrevious.click(),'ArrowRight'===e.key&&esgst.aicNext&&esgst.aicNext.click()}),esgst.mainPageHeading&&(esgst.aicButton=createHeadingButton({id:'aic',icons:['fa-image'],title:'View attached images'}),esgst.aicButton.classList.add('esgst-hidden'),esgst.aicButton.addEventListener('click',openAicCarousel.bind(null,0,null)))}function getAicImages(e){let t=e.querySelectorAll('.comment__toggle-attached, .view_attached'),s=!1;for(let e=0,n=t.length;e<n;e++){let n=t[e],i=n.nextElementSibling.firstElementChild,a=i.getAttribute('src'),o=esgst.attachedImages.length;esgst.aic_b||i.addEventListener('click',openAicCarousel.bind(null,o));let r=n.closest('.comment');esgst.attachedImages.push({button:n,image:i,source:r&&r.querySelector('.comment__summary').id,url:a}),s=!0}!s||!esgst.aicButton||e.getAttribute&&e.getAttribute('data-esgst-qiv')||esgst.aicButton.classList.remove('esgst-hidden')}function openAicCarousel(e,t){t&&(t.preventDefault(),t.stopPropagation());let s=insertHtml(document.body,'beforeEnd','<div class="esgst-popup-modal esgst-aic-carousel"></div>');s.style.zIndex=9999+document.querySelectorAll('.esgst-popup:not(.esgst-hidden), .esgst-popout:not(.esgst-hidden)').length,s.addEventListener('click',e=>{e.target.closest('.esgst-aic-panel')||e.target.closest('img')||s.remove()}),showAicImage(s,e)}function showAicImage(e,t){let s,n,i,a,o;a=esgst.attachedImages.length,s=esgst.attachedImages[t],esgst.ail&&s.image.setAttribute('src',s.url),e.innerHTML=`\n            <div class="esgst-aic-panel">\n                <div class="esgst-aic-left-button">\n                    <i class="fa fa-chevron-left"></i>\n                </div>\n                <div class="esgst-aic-right-button">\n                    <i class="fa fa-chevron-right"></i>\n                </div>\n                <div>\n                    ${t+1}/${a}\n                </div>\n                ${s.source?`\n                    <div class="esgst-aic-source">\n                        <a href="#${s.source}">Source</a>\n                    </div>\n                `:''}\n            </div>\n            <a href="${s.url}" rel="nofollow noreferrer" target="_blank">\n                ${s.image.outerHTML.replace(/is_hidden|is-hidden/,'')}\n            </a>\n        `,o=e.firstElementChild,i=o.nextElementSibling,n=o.offsetHeight+25,i.style.maxHeight=`calc(90% - ${n}px)`,i.style.marginTop=`${n}px`,i.firstElementChild.onload=(()=>{i.firstElementChild.style.maxHeight=`${i.offsetHeight-10}px`,i.firstElementChild.style.maxWidth=`${i.offsetWidth-10}px`}),esgst.aicPrevious=o.firstElementChild,esgst.aicNext=esgst.aicPrevious.nextElementSibling,t>0?esgst.aicPrevious.addEventListener('click',showAicImage.bind(null,e,t-1)):esgst.aicPrevious.classList.add('esgst-disabled'),t<a-1?esgst.aicNext.addEventListener('click',showAicImage.bind(null,e,t+1)):esgst.aicNext.classList.add('esgst-disabled'),s.source&&o.lastElementChild.addEventListener('click',()=>e.remove())}function getAilImages(e){let t=e.querySelectorAll('.comment__toggle-attached, .view_attached');for(let e=0,s=t.length;e<s;e++){let s=t[e],n=s.nextElementSibling.firstElementChild,i=n.getAttribute('src');n.removeAttribute('src'),s.addEventListener('click',loadAilImage.bind(null,n,i))}}function loadAilImage(e,t){e.setAttribute('src',t)}function getApAvatars(e){var t,s,n;for(t=0,n=(s=e.querySelectorAll('.global__image-outer-wrap--avatar-small, .giveaway_image_avatar, .table_image_avatar, .featured_giveaway_image_avatar, .nav__avatar-outer-wrap')).length;t<n;++t)setApAvatar(s[t])}function setApAvatar(e){var t,s,n,i,a,o,r,l,c,d;e.classList.add('esgst-ap-avatar'),(d=e.getAttribute('href'))&&(0===esgst.ap_index?(s='mouseenter',o=!1,t=1e3,e.addEventListener('mouseleave',function(e){l&&(clearTimeout(l),l=null),n=setTimeout(function(){r&&!r.popout.contains(e.relatedTarget)&&r.close()},1e3)}),e.addEventListener('click',function(){l&&(clearTimeout(l),l=null)})):(s='click',o=!0,t=0,e.classList.add('esgst-clickable')),(a=d.match(/\/(user|group)\/(.+?)(\/.*)?$/))&&(i=a[2],c=a[1],e.addEventListener(s,function(s){s.preventDefault(),l=setTimeout(async function(){if(r=esgst.apPopouts[i])1===esgst.ap_index&&r.isOpen?r.close():r.open(e);else{var t,s,a,l,g,u,h,m;for(esgst.apPopouts[i]=r=new Popout('esgst-ap-popout',null,1e3,o),r.popout.innerHTML=`\n                                <i class="fa fa-circle-o-notch fa-spin"></i>\n                                <span>Loading ${c}...</span>\n                            `,r.open(e),h=parseHtml((await request({method:'GET',url:d})).responseText),r.popout.innerHTML='',r.popout.appendChild(h.getElementsByClassName('featured__outer-wrap')[0]),(l=insertHtml(t=r.popout.getElementsByClassName('global__image-outer-wrap--avatar-large')[0],'afterEnd','<a class="esgst-ap-link"></a>')).appendChild(t),l.setAttribute('href',d),m=r.popout.getElementsByClassName('featured__table')[0],h.getElementsByClassName('sidebar__shortcut-outer-wrap')[0].lastElementChild.remove(),m.parentElement.insertBefore(h.getElementsByClassName('sidebar__shortcut-outer-wrap')[0],m),(u=r.popout.getElementsByClassName('js__submit-form-inner')[0])&&u.addEventListener('click',function(){return u.getElementsByTagName('form')[0].submit()}),a=0,g=(s=m.children)[1].children.length;a<g;++a)s[0].appendChild(s[1].firstElementChild);suspension=h.getElementsByClassName('sidebar__suspension')[0],suspension&&s[0].insertAdjacentHTML('beforeEnd',`\n                                    <div class="esgst-ap-suspended featured__table__row">\n                                        <div class="featured__table__row__left">${suspension.textContent}</div>\n                                        <div class="featured__table__row__right">${suspension.nextElementSibling.textContent}</div>\n                                    </div>\n                                `),s[1].remove(),'user'===c&&loadProfileFeatures(r.popout),r.reposition()}0===esgst.ap_index&&(r.popout.onmouseenter=function(){n&&(clearTimeout(n),n=null)})},t)})))}function loadAs(){if(!esgst.archivePath)return;let e=location.pathname.match(/^\/archive\/(coming-soon|open|closed|deleted)/);new Process({headingButton:{id:'as',icons:['fa-folder','fa-search'],title:'Search archive'},popup:{icon:'fa-folder',title:`Search archive${e?` for ${e[1]} giveaways`:''}:`,options:[{check:!0,description:'Search by AppID.',id:'as_searchAppId',tooltip:'If unchecked, a search by exact title will be performed.'}],textInputs:[{placeholder:'Title/app id'}],addProgress:!0,addScrollable:'left'},init:initAs,requests:[{request:getAsRequest}]})}async function initAs(){if(this.query=this.popup.getTextInputValue(0),!this.query)return this.popup.setError('Please enter a title/app id.'),!0;if(esgst.as_searchAppId){this.popup.setProgress('Retrieving game title...');let e=parseHtml((await request({method:'GET',url:`https://steamcommunity.com/app/${this.query}`})).responseText).getElementsByClassName('apphub_AppName')[0];if(!e)return this.button.classList.remove('esgst-busy'),this.popup.setError('Game title not found. Make sure you are entering a valid AppID. For example, 229580 is the AppID for Dream (http://steamcommunity.com/app/229580).'),!0;this.query=e.textContent}this.query=(this.query.length>=50?this.query.slice(0,50):this.query).toLowerCase(),this.total=0,this.requests[0].url=`${location.href.match(/(.+?)(\/search.+?)?$/)[1]}/search?q=${encodeURIComponent(this.query)}&page=`}async function getAsRequest(e,t,s){this.popup.setProgress(`Loading page ${e.nextPage}...`),this.popup.setOverallProgress(`${this.total} giveaways found...`);let n=this.popup.getScrollable(),i=s.getElementsByClassName('table__row-outer-wrap');for(let e=0,t=i.length;e<t;e++){let t=i[e];t.getElementsByClassName('table__column__heading')[0].textContent.match(/(.+?)( \(.+ Copies\))?$/)[1].toLowerCase()===this.query&&(n.appendChild(t.cloneNode(!0)),this.total+=1)}this.popup.setOverallProgress(`${this.total} giveaways found...`),await loadEndlessFeatures(n)}function getTimestamps(e){var t,s,n,i,a,o,r,l;for(s=0,n=(t=e.querySelectorAll('[data-timestamp]')).length;s<n;++s)i=t[s],(!esgst.activeDiscussions||(!esgst.activeDiscussions.contains(i)||0!==esgst.adots_index)&&esgst.activeDiscussions.contains(i))&&esgst.activeDiscussions||i.classList.contains('esgst-at')||(o=(a=i.textContent).match(/\*/),l=getTimestamp(r=parseInt(i.getAttribute('data-timestamp')),esgst.at_24,esgst.at_s),a=o?` (Edited ${l})`:`${l} - ${a}`,i.classList.add('esgst-at'),i.textContent=a)}async function loadBgl(){if(!esgst.giveawayPath)return;let e=esgst.pageOuterWrap.innerHTML,t=document.getElementsByClassName('table--summary')[0];if(!(t=t&&t.lastElementChild.firstElementChild.lastElementChild))return;let s=t.textContent.match(/you\s(have\s(been\s)?|previously\s)blacklisted/);if(!s)return;esgst.pageOuterWrap.innerHTML='\n            <i class="fa fa-circle-o-notch fa-spin"></i>\n            <span>Loading giveaway...</span>\n        ';let n=parseHtml((await request({anon:!0,method:'GET',url:location.pathname})).responseText);n.getElementsByClassName('table--summary')[0]?(esgst.pageOuterWrap.innerHTML=e,esgst.pageOuterWrap.getElementsByClassName('table--summary')[0].lastElementChild.firstElementChild.lastElementChild.insertAdjacentHTML('beforeEnd','<br><br><span class="esgst-red">This is a group/whitelist giveaway and therefore cannot be loaded by Blacklist Giveaway Loader.</span>')):(esgst.featuredContainer=insertHtml(esgst.pageOuterWrap,'beforeBegin','<div class="featured__container"></div>'),esgst.featuredContainer.innerHTML=n.getElementsByClassName('featured__container')[0].innerHTML,esgst.pageOuterWrap.innerHTML=n.getElementsByClassName('page__outer-wrap')[0].innerHTML,await getElements(),esgst.sidebar.insertAdjacentHTML('afterBegin',`\n                <div class="sidebar__error is-disabled">\n                    <i class="fa fa-exclamation-circle"></i> ${s[1]?'previously '===s[1]?`Off Your Blacklist<br>(${t.firstElementChild.outerHTML})`:'have been '===s[1]?'You Are Blacklisted':'On Your Blacklist':'On Your Blacklist'}\n                </div>\n            `))}function loadCdr(){let e=new Date,t=e.getFullYear(),s=e.getTime(),n=new Date(1e3*esgst.registrationDate);n.setFullYear(t),n=n.getTime(),esgst.cdr_b&&parseInt(getLocalValue('cdr_bYear',0))!==t&&s<n&&s+864e5*esgst.cdr_days>=n?(setLocalValue('cdr_bYear',t),new Popup('fa-birthday-cake',`ESGST reminder: your cake day is in ${Math.floor((n-s)/864e5)} days.`,!0).open()):esgst.cdr_d&&parseInt(getLocalValue('cdr_dYear',0))!==t&&s>=n&&(setLocalValue('cdr_dYear',t),s>=n+864e5?new Popup('fa-birthday-cake',`ESGST reminder: your cake day was ${Math.floor((s-n)/864e5)} days ago.`,!0).open():new Popup('fa-birthday-cake','ESGST reminder: your cake day is today. Happy cake day!',!0).open())}function loadCec(){if(!esgst.giveawayPath||!esgst.mainPageHeading)return;let e={button:createHeadingButton({id:'cec',icons:['fa-comments','fa-ticket','fa-question-circle'],title:'Check comments/entries'})};e.button.addEventListener('click',openCecPopup.bind(e))}function openCecPopup(){this.popup?this.popup.open():(this.popup=new Popup_v2({icon:'fa-question',title:'Check Comments/Entries',buttons:[{color1:'green',color2:'grey',icon1:'fa-arrow-right',icon2:'fa-times',title1:'Check',title2:'Cancel',callback1:startCecProcess.bind(this),callback2:stopCecProcess.bind(this)}],addProgress:!0,addScrollable:!0}),this.popup.open(),this.popup.triggerButton(0))}async function startCecProcess(){this.isCanceled=!1,this.button.classList.add('esgst-busy');let e=[],t=[location.pathname.match(/\/giveaway\/.+?\//)[0]];for(let s=0;!this.isCanceled&&s<t.length;s++){let n=1,i=null,a=t[s];do{this.popup.setProgress(`Retrieving ${s>0?'bumps ':'comments '} (page ${n})...</span>`);let o=await request({method:'GET',queue:!0,url:`${a}${n}`}),r=parseHtml(o.responseText),l=r.querySelectorAll('.comment:not(.comment--submit) .comment__username:not(.comment__username--op):not(.comment__username--deleted)');for(let t=l.length-1;t>-1;t--)e.push(l[t].textContent.trim());if(1===n&&(a=t[s]=`${o.finalUrl}/search?page=`),n+=1,i=r.getElementsByClassName('pagination__navigation')[0],0===s){let e=r.querySelectorAll('.page__description [href*="/discussion/"]');for(let s=e.length-1;s>-1;s--)t.push(e[s].getAttribute('href').match(/\/discussion\/.+?\//)[0])}}while(!this.isCanceled&&i&&!i.lastElementChild.classList.contains('is-selected'))}if(this.isCanceled)return;let s=[],n=1,i=null,a=t[0].replace(/search\?page=/,'entries/search?page=');do{this.popup.setProgress(`Retrieving entries (page ${n})...`);let e=parseHtml((await request({method:'GET',queue:!0,url:`${a}${n}`})).responseText),t=e.getElementsByClassName('table__column__heading');for(let e=t.length-1;e>-1;e--)s.push(t[e].textContent.trim());n+=1,i=e.getElementsByClassName('pagination__navigation')[0]}while(!this.isCanceled&&i&&!i.lastElementChild.classList.contains('is-selected'));if(this.isCanceled)return;this.popup.removeButton(0),this.button.classList.remove('esgst-busy'),this.popup.clearProgress(),e=sortArray(Array.from(new Set(e))),s=sortArray(Array.from(new Set(s)));let o=[],r=[];e.forEach(e=>{s.indexOf(e)>-1?o.push(`<a href="/user/${e}">${e}</a>`):r.push(`<a href="/user/${e}">${e}</a>`)});let l=[],c=e.length;s.forEach(t=>{e.indexOf(t)<0&&(l.push(`<a href="/user/${t}">${t}</a>`),c+=1)}),this.popup.setScrollable(`\n            ${o.length>0?`\n                <div>\n                    <span class="esgst-bold">${o.length} user${o.length>1?'s':''} commented and entered (${Math.round(o.length/c*1e4)/100}%):</span> ${o.join(', ')}\n                </div>\n            `:''}\n            ${r.length>0?`\n                <div>\n                    <span class="esgst-bold">${r.length} user${r.length>1?'s':''} commented but did not enter (${Math.round(r.length/c*1e4)/100}%):</span> ${r.join(', ')}\n                </div>\n            `:''}\n            ${l.length>0?`\n                <div>\n                    <span class="esgst-bold">${l.length} user${l.length>1?'s':''} entered but did not comment (${Math.round(l.length/c*1e4)/100}%):</span> ${l.join(', ')}\n                </div>\n            `:''}\n        `)}function stopCecProcess(){this.button.classList.remove('esgst-busy'),this.popup.clearProgress(),this.isCanceled=!0}function loadCerb(){if(!esgst.commentsPath)return;let e,t,s,n,i;(s=document.getElementsByClassName('comments')[0])&&s.children.length&&(esgst.cerbButtons=[],e=insertHtml(esgst.mainPageHeadingBackground||esgst.mainPageHeading,'afterEnd','\n                <div class="esgst-cerb-button esgst-clickable">\n                    <span>\n                        <i class="fa fa-minus-square"></i> Collapse all replies\n                    </span>\n                    <span class="esgst-hidden">\n                        <i class="fa fa-plus-square"></i> Expand all replies\n                    </span>\n                </div>\n            '),esgst.cerbCollapse=t=e.firstElementChild,esgst.cerbExpand=n=t.nextElementSibling,t.addEventListener('click',collapseAllCerbReplies.bind(null,t,n)),n.addEventListener('click',expandAllCerbReplies.bind(null,t,n)))}function getCerbReplies(e,t,s,n){var i,a,o,r,l;for(a=0,o=(i=n.querySelectorAll(':not(.esgst-popup) .comments > .comment, :not(.esgst-popup) .comments > .comment_outer')).length;a<o;++a)(l=(r=i[a]).querySelector('.comment__children, .comment_children'))&&l.children.length&&setCerbButton(insertHtml(r.firstElementChild,'afterBegin',`\n                    <div class="esgst-cerb-reply-button esgst-clickable">\n                        <span title="${getFeatureTooltip('cerb','Collapse all replies')}">\n                            <i class="fa fa-minus-square"></i>\n                        </span>\n                        <span class="esgst-hidden" title="${getFeatureTooltip('cerb','Expand all replies')}">\n                            <i class="fa fa-plus-square"></i>\n                        </span>\n                    </div>\n                `),s&&r.contains(s),r,l.children);esgst.cerb_a&&collapseAllCerbReplies(e,t)}function setCerbButton(e,t,s,n){var i,a;a=(i=e.firstElementChild).nextElementSibling,esgst.cerbButtons.push({collapse:collapseCerbReplies.bind(null,i,a,n),expand:expandCerbReplies.bind(null,i,a,n),permalink:t}),i.addEventListener('click',collapseCerbReplies.bind(null,i,a,n)),a.addEventListener('click',expandCerbReplies.bind(null,i,a,n)),esgst.cerb_a&&!t&&(i.classList.toggle('esgst-hidden'),a.classList.toggle('esgst-hidden'))}function collapseCerbReplies(e,t,s){var n,i,s;for(n=0,i=s.length;n<i;++n)s[n].classList.add('esgst-hidden');e.classList.add('esgst-hidden'),t.classList.remove('esgst-hidden')}function expandCerbReplies(e,t,s){var n,i,s;for(n=0,i=s.length;n<i;++n)s[n].classList.remove('esgst-hidden');e.classList.remove('esgst-hidden'),t.classList.add('esgst-hidden')}function collapseAllCerbReplies(e,t){var s,n;for(s=0,n=esgst.cerbButtons.length;s<n;++s)esgst.cerbButtons[s].permalink||esgst.cerbButtons[s].collapse();e.classList.add('esgst-hidden'),t.classList.remove('esgst-hidden')}function expandAllCerbReplies(e,t){var s,n;for(s=0,n=esgst.cerbButtons.length;s<n;++s)esgst.cerbButtons[s].expand();e.classList.remove('esgst-hidden'),t.classList.add('esgst-hidden')}function addCewgdHeading(e,t){var s;t&&(s=e.getElementsByClassName('table__heading')[0])&&!s.getElementsByClassName('esgst-cewgd-heading')[0]&&s.firstElementChild.insertAdjacentHTML('afterEnd',`\n                    <div class="table__column--width-small text-center esgst-cewgd-heading">Type</div>\n                    <div class="table__column--width-small text-center esgst-cewgd-heading">Level</div>\n                    ${esgst.createdPath?'\n                        <div class="table__column--width-small text-center esgst-cewgd-heading">Winner(s)</div>\n                    ':''}\n                `)}async function getCewgdDetails(e){let t={giveaways:[],savedGiveaways:JSON.parse(await getValue('giveaways','{}'))},s=[];for(let n=0,i=e.length;n<i;++n)s.push(getCewgdDetail(t,e,n));await Promise.all(s);let n=await createLock('giveawayLock',300);for(let e=0,s=t.giveaways.length;e<s;++e){let s=t.giveaways[e];if(t.savedGiveaways[s.code])for(let e in s)t.savedGiveaways[s.code][e]=s[e];else t.savedGiveaways[s.code]=s}await setValue('giveaways',JSON.stringify(t.savedGiveaways)),n()}async function getCewgdDetail(e,t,s){let n=t[s],i=n.code,a;if(esgst.createdPath&&e.savedGiveaways[i]&&e.savedGiveaways[i].gameSteamId&&Array.isArray(e.savedGiveaways[i].winners))for(a=e.savedGiveaways[i].winners.length-1;a>-1;a--){let t=e.savedGiveaways[i].winners[a];if('Received'!==t.status&&'Not Received'!==t.status)break}if(!e.savedGiveaways[i]||!e.savedGiveaways[i].gameSteamId||esgst.createdPath&&!(a<0)||esgst.wonPath&&e.savedGiveaways[i].creator===esgst.username)if(esgst.createdPath){let t=null,s=1,i=null;do{let e=await request({method:'GET',url:`${n.url}/winners/search?page=${s}`}),a=parseHtml(e.responseText);if(!t){let s=await getGiveaways(a,!1,e.finalUrl);s.length>0&&((t=s[0]).winners=[])}if(t){let e=a.getElementsByClassName('table__row-inner-wrap');for(let s=0,n=e.length;s<n;++s){let n=e[s];t.winners.push({status:n.lastElementChild.textContent.trim(),username:n.firstElementChild.nextElementSibling.firstElementChild.textContent.trim()})}i=a.getElementsByClassName('pagination__navigation')[0]}else(n.panel||(esgst.gm_enable&&esgst.createdPath?n.innerWrap.firstElementChild.nextElementSibling.nextElementSibling:n.innerWrap.firstElementChild.nextElementSibling)).insertAdjacentHTML('afterEnd','\n                        <div class="table__column--width-small text-center">-</div>\n                        <div class="table__column--width-small text-center">-</div>\n                        <div class="table__column--width-small text-center">-</div>\n                    '),i=null;s+=1}while(i&&!i.lastElementChild.classList.contains('is-selected'));t&&(e.giveaways.push(t),addCewgdDetails(n,t))}else{let t=await request({method:'GET',url:n.url}),s=parseHtml(t.responseText),i=await getGiveaways(s,!1,t.finalUrl);i.length>0?(currentGiveaway=i[0],e.giveaways.push(currentGiveaway),addCewgdDetails(n,currentGiveaway),e.count+=1):(n.panel||(esgst.gm_enable&&esgst.createdPath?n.innerWrap.firstElementChild.nextElementSibling.nextElementSibling:n.innerWrap.firstElementChild.nextElementSibling)).insertAdjacentHTML('afterEnd','\n                    <div class="table__column--width-small text-center">-</div>\n                    <div class="table__column--width-small text-center">-</div>\n                ')}else addCewgdDetails(n,e.savedGiveaways[i])}function addCewgdDetails(e,t){let s,n;if(e.points=t.points,e.level=t.level,e.headingName.insertAdjacentHTML('beforeEnd',`\n            <span>(${t.points}P)</span>\n            <a class="giveaway__icon" href="http://store.steampowered.com/${t.gameType.slice(0,-1)}/${t.gameSteamId}" target="_blank">\n                <i class="fa fa-steam"></i>\n            </a>\n        `),e.inviteOnly=t.inviteOnly,e.regionRestricted=t.regionRestricted,e.group=t.group,e.whitelist=t.whitelist,s=t.inviteOnly?t.regionRestricted?'Invite + Region':'Invite':t.group?t.whitelist?t.regionRestricted?'Group + Whitelist + Region':'Group + Whitelist':t.regionRestricted?'Group + Region':'Group':t.whitelist?t.regionRestricted?'Whitelist + Region':'Whitelist':t.regionRestricted?'Region':'Public',n=insertHtml(e.panel||e.innerWrap.firstElementChild.nextElementSibling,'afterEnd',`\n            <div class="table__column--width-small text-center">${s}</div>\n            <div class="table__column--width-small text-center">${t.level}</div>\n            ${esgst.createdPath?'\n                <div class="table__column--width-small text-center"></div>\n            ':''}\n        `),esgst.createdPath){let s,i,a;if(a=n.nextElementSibling.nextElementSibling,(s=t.winners.length)>0)if(s>1){i=t.winners[0].username,a.innerHTML=`<a class="table__column__secondary-link" href="/user/${i}">${i}</a> <span class="esgst-clickable table__column__secondary-link">(+${s-1} more)</span>`,a.lastElementChild.addEventListener('click',()=>{let e=new Popup_v2({icon:'fa-users',title:'Winners',addScrollable:'left'}),s='\n                            <div class="table__heading">\n                                <div class="table__column--width-small">Winner</div>\n                                <div class="table__column--width-small">Received</div>\n                            </div>\n                            <div class="table__rows">\n                        ';t.winners.forEach(e=>{s+=`\n                                <div class="table__row-outer-wrap">\n                                    <div class="table__row-inner-wrap">\n                                        <div class="table__column--width-small">\n                                            <a class="table__column__secondary-link" href="/user/${e.username}">${e.username}</a>\n                                        </div>\n                                        <div class="table__column--width-small">\n                                        ${{Received:'<i class="fa fa-check-circle esgst-green"></i>','Not Received':'<i class="fa fa-times-circle esgst-red"></i>','Awaiting Feedback':'<i class="fa fa-question-circle esgst-grey"></i>'}[e.status]}\n                                        </div>\n                                    </div>\n                                </div>\n                            `}),s+='\n                            </div>\n                        ',e.open(),loadEndlessFeatures(e.getScrollable(s))});let n=0;t.winners.forEach(e=>{'Received'===e.status&&(n+=1)}),e.innerWrap.lastElementChild.insertAdjacentText('beforeEnd',` (${n}/${s})`)}else i=t.winners[0].username,a.innerHTML=`<a class="table__column__secondary-link" href="/user/${i}">${i}</a>`;else a.textContent='-'}else(esgst.enteredPath||esgst.wonPath)&&e.endTimeColumn.insertAdjacentHTML('beforeEnd',`\n                by <a class="table__column__secondary-link" href="/user/${t.creator}">${t.creator}</a>\n            `);e.group&&esgst.ggl&&getGglGiveaways([e])}async function loadCfh(){esgst.cfh={backup:[],history:[],panel:document.createElement('div'),preview:document.createElement('div')},esgst.cfh.panel.className='esgst-cfh-panel';let e=[{id:'cfh_i',icons:['fa-italic'],name:'Italic',prefix:'*',suffix:'*'},{id:'cfh_b',icons:['fa-bold'],name:'Bold',prefix:'**',suffix:'**'},{id:'cfh_s',icons:['fa-eye-slash'],name:'Spoiler',prefix:'~',suffix:'~'},{id:'cfh_st',icons:['fa-strikethrough'],name:'Strikethrough',prefix:'~~',suffix:'~~'},{id:'cfh_h1',icons:['fa-header'],name:'Heading 1',prefix:'# ',text:'1'},{id:'cfh_h2',icons:['fa-header'],name:'Heading 2',prefix:'## ',text:'2'},{id:'cfh_h3',icons:['fa-header'],name:'Heading 3',prefix:'### ',text:'3'},{id:'cfh_bq',icons:['fa-quote-left'],name:'Blockquote',prefix:'> '},{id:'cfh_lb',icons:['fa-minus'],name:'Line Break',prefix:'---'},{id:'cfh_ol',icons:['fa-list-ol'],multiline:!0,name:'Ordered List',prefix:'[n]. '},{id:'cfh_ul',icons:['fa-list-ul'],multiline:!0,name:'Unordered List',prefix:'* '},{id:'cfh_ic',icons:['fa-code'],name:'Inline Code',prefix:'`',suffix:'`'},{id:'cfh_lc',icons:['fa-code','fa-indent'],name:'Line Code',prefix:'    '},{id:'cfh_pc',icons:['fa-code','fa-paragraph'],name:'Paragraph Code',prefix:'```\n',suffix:'\n```'},{id:'cfh_l',icons:['fa-globe'],name:'Link',setPopout:e=>{let t,s;e.popout.innerHTML='\n                        <div>URL: <input placeholder="http://www.example.com" type="text"/></div>\n                        <div>Title: <input placeholder="Cat" type="text"/></div>\n                        <div class="form__saving-button btn_action white">Add</div>\n                    ',s=e.popout.firstElementChild.firstElementChild,t=e.popout.firstElementChild.nextElementSibling.firstElementChild,e.popout.lastElementChild.addEventListener('click',()=>{formatCfhLink(t.value,s.value),s.value='',t.value='',e.close()})},callback:e=>{let t=e.firstElementChild.nextElementSibling.firstElementChild;t.value=esgst.cfh.textArea.value.slice(esgst.cfh.textArea.selectionStart,esgst.cfh.textArea.selectionEnd),t.focus()}},{id:'cfh_img',icons:['fa-image'],name:'Image',setPopout:e=>{let t,s;e.popout.innerHTML='\n                        <div>URL: <input placeholder="http://www.example.com/image.jpg" type="text"/> <i class="fa fa-upload esgst-clickable" title="Upload image to Imgur and use it"></i></div>\n                        <div>Title: <input placeholder="Cat" type="text"/></div>\n                        <div class="form__saving-button btn_action white">Add</div>\n                    ',s=e.popout.firstElementChild.firstElementChild,imgur=s.nextElementSibling,t=e.popout.firstElementChild.nextElementSibling.firstElementChild,imgur.addEventListener('click',()=>{multiChoice('grey','fa-user-secret','Anonymously','grey','fa-user','Through Account','How would you like to upload?',uploadImgurImage.bind(null,'Client-ID e25283ef48ab9aa',e,s),async()=>{await delValue('imgurToken'),openSmallWindow('https://api.imgur.com/oauth2/authorize?client_id=e25283ef48ab9aa&response_type=token'),checkImgurComplete(e,s)})}),e.popout.lastElementChild.addEventListener('click',()=>{formatCfhLink(t.value,s.value,!0),s.value='',t.value='',e.close()})},callback:e=>{let t,s;s=e.firstElementChild.firstElementChild,(t=e.firstElementChild.nextElementSibling.firstElementChild).value=esgst.cfh.textArea.value.slice(esgst.cfh.textArea.selectionStart,esgst.cfh.textArea.selectionEnd),s.value&&t.value?e.lastElementChild.click():s.value?t.focus():s.focus()}},{id:'cfh_t',icons:['fa-table'],name:'Table',setPopup:e=>{let t,s,n,i;(t=e.scrollable).innerHTML='\n                        <table></table>\n                        <div class="form__saving-button btn_action white">Insert Row</div>\n                        <div class="form__saving-button btn_action white">Insert Column</div>\n                        <div class="form__saving-button btn_action white">Add</div>\n                    ',s=(n=(i=t.firstElementChild).nextElementSibling).nextElementSibling,insertCfhTableRows(4,i),insertCfhTableColumns(2,i),n.addEventListener('click',()=>{insertCfhTableRows(1,i)}),s.addEventListener('click',()=>{insertCfhTableColumns(1,i)}),s.nextElementSibling.addEventListener('click',()=>{let t,s,n,a,o,r,l,c;for(s=1,o=(r=i.rows).length;s<o;++s)for(n=1,a=r[0].cells.length;n<a;++n)r[s].cells[n].firstElementChild.value||(s=o+1,n=a+1);if(s<=o||s>o&&confirm('Some cells are empty. This might lead to unexpected results. Are you sure you want to continue?')){for(c='',s=1;s<o;++s)for(c+='\n',n=1;n<a;++n)c+=`${r[s].cells[n].firstElementChild.value}${n<a-1?' | ':''}`;c=c.replace(/^\n/,''),l=esgst.cfh.textArea.selectionStart,t=esgst.cfh.textArea.selectionEnd,esgst.cfh.textArea.value=`${esgst.cfh.textArea.value.slice(0,l)}${c}${esgst.cfh.textArea.value.slice(t)}`,esgst.cfh.textArea.setSelectionRange(t+c.length,t+c.length),esgst.cfh.textArea.focus(),e.close()}})}},{id:'cfh_e',icons:['fa-smile-o'],name:'Emojis',setPopout:async e=>{let t,s;e.popout.innerHTML=`\n                        <div class="esgst-cfh-emojis">${await getValue('emojis','')}</div>\n                        <div class="form__saving-button btn_action white">Select Emojis</div>\n                    `,setCfhEmojis(t=e.popout.firstElementChild),t.nextElementSibling.addEventListener('click',async()=>{if(s)s.open(()=>{e.popout.classList.add('esgst-hidden')});else{let t,n,i,a;for(s=new Popup_v2({icon:'fa-smile-o',title:'Select emojis:',addScrollable:!0}),i=s.getScrollable(`\n                                <input placeholder="Filter emojis..." type="text"/>\n                                <div class="esgst-cfh-emojis"></div>\n                                <div class="esgst-description">Drag the emojis you want to use and drop them in the box below. Click on an emoji to remove it.</div>\n                                <div class="global__image-outer-wrap page_heading_btn esgst-cfh-emojis">${await getValue('emojis','')}</div>\n                            `).firstElementChild,n=i.nextElementSibling,[{emoji:'&#xAF;&#92;&#92;&#92;&#95;&#40;&#x30C4;&#41;&#95;&#47;&#xAF;',name:''},{emoji:'&#40; &#x361;&#xB0; &#x35C;&#x296; &#x361;&#xB0;&#41;',name:''},{emoji:'&#40; &#x361;&#x2299; &#x35C;&#x296; &#x361;&#x2299;&#41;',name:''},{emoji:'&#40;&#x30CE;&#xCA0;&#x76CA;&#xCA0;&#41;&#x30CE;',name:''},{emoji:'&#40;&#x256F;&#xB0;&#x25A1;&#xB0;&#xFF09;&#x256F;&#xFE35; &#x253B;&#x2501;&#x253B;',name:''},{emoji:'&#x252C;&#x2500;&#x252C;&#x30CE;&#40; &#xBA; &#95; &#xBA;&#x30CE;&#41;',name:''},{emoji:'&#x10DA;&#40;&#xCA0;&#x76CA;&#xCA0;&#x10DA;&#41;',name:''},{emoji:'&#40;&#x25D5;&#x203F;-&#41;&#x270C;',name:''},{emoji:'&#40;&#xFF61;&#x25D5;&#x203F;&#x25D5;&#xFF61;&#41;',name:''},{emoji:'&#40;&#x25D1;&#x203F;&#x25D0;&#41;',name:''},{emoji:'&#x25D4;&#95;&#x25D4;',name:''},{emoji:'&#40;&#x2022;&#x203F;&#x2022;&#41;',name:''},{emoji:'&#40;&#xCA0;&#95;&#xCA0;&#41;',name:''},{emoji:'&#40;&#xAC;&#xFF64;&#xAC;&#41;',name:''},{emoji:'&#40;&#x2500;&#x203F;&#x203F;&#x2500;&#41;',name:''},{emoji:'&#40;&#xCA5;&#xFE4F;&#xCA5;&#41;',name:''},{emoji:'&#40;&#xCA5;&#x2038;&#xCA5;&#41;',name:''},{emoji:'&#40;&#x2310;&#x25A0;&#95;&#x25A0;&#41;',name:''},{emoji:'&#40;&#x25B0;&#x2D8;&#x25E1;&#x2D8;&#x25B0;&#41;',name:''},{emoji:'&#x4E41;&#40; &#x25D4; &#xC6A;&#x25D4;&#41;&#x310F;',name:''},{emoji:'&#40;&#xE07; &#x360;&#xB0; &#x35F;&#x296; &#x361;&#xB0;&#41;&#xE07;',name:''},{emoji:'&#x3B6;&#xF3C;&#x19F;&#x346;&#x644;&#x35C;&#x19F;&#x346;&#xF3D;&#x1D98;',name:''},{emoji:'&#x295;&#x2022;&#x1D25;&#x2022;&#x294;',name:''},{emoji:'&#40; &#x35D;&#xB0; &#x35C;&#x296;&#x361;&#xB0;&#41;',name:''},{emoji:'&#40;&#47;&#xFF9F;&#x414;&#xFF9F;&#41;&#47;',name:''},{emoji:'&#xB67;&#xF3C;&#xCA0;&#x76CA;&#xCA0;&#xF3D;&#xB68;',name:''},{emoji:'&#40;&#xE07; &#x2022;&#x300;&#95;&#x2022;&#x301;&#41;&#xE07;',name:''},{emoji:'&#x1F600',name:'Grinning Face'},{emoji:'&#x1F601',name:'Grinning Face With Smiling Eyes'},{emoji:'&#x1F602',name:'Face With Tears Of Joy'},{emoji:'&#x1F923',name:'Rolling On The Floor Laughing'},{emoji:'&#x1F603',name:'Smiling Face With Open Mouth'},{emoji:'&#x1F604',name:'Smiling Face With Open Mouth & Smiling Eyes'},{emoji:'&#x1F605',name:'Smiling Face With Open Mouth & Cold Sweat'},{emoji:'&#x1F606',name:'Smiling Face With Open Mouth & Closed Eyes'},{emoji:'&#x1F609',name:'Winking Face'},{emoji:'&#x1F60A',name:'Smiling Face With Smiling Eyes'},{emoji:'&#x1F60B',name:'Face Savouring Delicious Food'},{emoji:'&#x1F60E',name:'Smiling Face With Sunglasses'},{emoji:'&#x1F60D',name:'Smiling Face With Heart-Eyes'},{emoji:'&#x1F618',name:'Face Blowing A Kiss'},{emoji:'&#x1F617',name:'Kissing Face'},{emoji:'&#x1F619',name:'Kissing Face With Smiling Eyes'},{emoji:'&#x1F61A',name:'Kissing Face With Closed Eyes'},{emoji:'&#x263A',name:'Smiling Face'},{emoji:'&#x1F642',name:'Slightly Smiling Face'},{emoji:'&#x1F917',name:'Hugging Face'},{emoji:'&#x1F914',name:'Thinking Face'},{emoji:'&#x1F610',name:'Neutral Face'},{emoji:'&#x1F611',name:'Expressionless Face'},{emoji:'&#x1F636',name:'Face Without Mouth'},{emoji:'&#x1F644',name:'Face With Rolling Eyes'},{emoji:'&#x1F60F',name:'Smirking Face'},{emoji:'&#x1F623',name:'Persevering Face'},{emoji:'&#x1F625',name:'Disappointed But Relieved Face'},{emoji:'&#x1F62E',name:'Face With Open Mouth'},{emoji:'&#x1F910',name:'Zipper-Mouth Face'},{emoji:'&#x1F62F',name:'Hushed Face'},{emoji:'&#x1F62A',name:'Sleepy Face'},{emoji:'&#x1F62B',name:'Tired Face'},{emoji:'&#x1F634',name:'Sleeping Face'},{emoji:'&#x1F60C',name:'Relieved Face'},{emoji:'&#x1F913',name:'Nerd Face'},{emoji:'&#x1F61B',name:'Face With Stuck-Out Tongue'},{emoji:'&#x1F61C',name:'Face With Stuck-Out Tongue & Winking Eye'},{emoji:'&#x1F61D',name:'Face With Stuck-Out Tongue & Closed Eyes'},{emoji:'&#x1F924',name:'Drooling Face'},{emoji:'&#x1F612',name:'Unamused Face'},{emoji:'&#x1F613',name:'Face With Cold Sweat'},{emoji:'&#x1F614',name:'Pensive Face'},{emoji:'&#x1F615',name:'Confused Face'},{emoji:'&#x1F643',name:'Upside-Down Face'},{emoji:'&#x1F911',name:'Money-Mouth Face'},{emoji:'&#x1F632',name:'Astonished Face'},{emoji:'&#x2639',name:'Frowning Face'},{emoji:'&#x1F641',name:'Slightly Frowning Face'},{emoji:'&#x1F616',name:'Confounded Face'},{emoji:'&#x1F61E',name:'Disappointed Face'},{emoji:'&#x1F61F',name:'Worried Face'},{emoji:'&#x1F624',name:'Face With Steam From Nose'},{emoji:'&#x1F622',name:'Crying Face'},{emoji:'&#x1F62D',name:'Loudly Crying Face'},{emoji:'&#x1F626',name:'Frowning Face With Open Mouth'},{emoji:'&#x1F627',name:'Anguished Face'},{emoji:'&#x1F628',name:'Fearful Face'},{emoji:'&#x1F629',name:'Weary Face'},{emoji:'&#x1F62C',name:'Grimacing Face'},{emoji:'&#x1F630',name:'Face With Open Mouth & Cold Sweat'},{emoji:'&#x1F631',name:'Face Screaming In Fear'},{emoji:'&#x1F633',name:'Flushed Face'},{emoji:'&#x1F635',name:'Dizzy Face'},{emoji:'&#x1F621',name:'Pouting Face'},{emoji:'&#x1F620',name:'Angry Face'},{emoji:'&#x1F607',name:'Smiling Face With Halo'},{emoji:'&#x1F920',name:'Cowboy Hat Face'},{emoji:'&#x1F921',name:'Clown Face'},{emoji:'&#x1F925',name:'Lying Face'},{emoji:'&#x1F637',name:'Face With Medical Mask'},{emoji:'&#x1F912',name:'Face With Thermometer'},{emoji:'&#x1F915',name:'Face With Head-Bandage'},{emoji:'&#x1F922',name:'Nauseated Face'},{emoji:'&#x1F927',name:'Sneezing Face'},{emoji:'&#x1F608',name:'Smiling Face With Horns'},{emoji:'&#x1F47F',name:'Angry Face With Horns'},{emoji:'&#x1F479',name:'Ogre'},{emoji:'&#x1F47A',name:'Goblin'},{emoji:'&#x1F480',name:'Skull'},{emoji:'&#x2620',name:'Skull And Crossbones'},{emoji:'&#x1F47B',name:'Ghost'},{emoji:'&#x1F47D',name:'Alien'},{emoji:'&#x1F47E',name:'Alien Monster'},{emoji:'&#x1F916',name:'Robot Face'},{emoji:'&#x1F4A9',name:'Pile Of Poo'},{emoji:'&#x1F63A',name:'Smiling Cat Face With Open Mouth'},{emoji:'&#x1F638',name:'Grinning Cat Face With Smiling Eyes'},{emoji:'&#x1F639',name:'Cat Face With Tears Of Joy'},{emoji:'&#x1F63B',name:'Smiling Cat Face With Heart-Eyes'},{emoji:'&#x1F63C',name:'Cat Face With Wry Smile'},{emoji:'&#x1F63D',name:'Kissing Cat Face With Closed Eyes'},{emoji:'&#x1F640',name:'Weary Cat Face'},{emoji:'&#x1F63F',name:'Crying Cat Face'},{emoji:'&#x1F63E',name:'Pouting Cat Face'},{emoji:'&#x1F648',name:'See-No-Evil Monkey'},{emoji:'&#x1F649',name:'Hear-No-Evil Monkey'},{emoji:'&#x1F64A',name:'Speak-No-Evil Monkey'},{emoji:'&#x1F466',name:'Boy'},{emoji:'&#x1F466&#x1F3FB',name:'Boy: Light Skin Tone'},{emoji:'&#x1F466&#x1F3FC',name:'Boy: Medium-Light Skin Tone'},{emoji:'&#x1F466&#x1F3FD',name:'Boy: Medium Skin Tone'},{emoji:'&#x1F466&#x1F3FE',name:'Boy: Medium-Dark Skin Tone'},{emoji:'&#x1F466&#x1F3FF',name:'Boy: Dark Skin Tone'},{emoji:'&#x1F467',name:'Girl'},{emoji:'&#x1F467&#x1F3FB',name:'Girl: Light Skin Tone'},{emoji:'&#x1F467&#x1F3FC',name:'Girl: Medium-Light Skin Tone'},{emoji:'&#x1F467&#x1F3FD',name:'Girl: Medium Skin Tone'},{emoji:'&#x1F467&#x1F3FE',name:'Girl: Medium-Dark Skin Tone'},{emoji:'&#x1F467&#x1F3FF',name:'Girl: Dark Skin Tone'},{emoji:'&#x1F468',name:'Man'},{emoji:'&#x1F468&#x1F3FB',name:'Man: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC',name:'Man: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD',name:'Man: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE',name:'Man: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF',name:'Man: Dark Skin Tone'},{emoji:'&#x1F469',name:'Woman'},{emoji:'&#x1F469&#x1F3FB',name:'Woman: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC',name:'Woman: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD',name:'Woman: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE',name:'Woman: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF',name:'Woman: Dark Skin Tone'},{emoji:'&#x1F474',name:'Old Man'},{emoji:'&#x1F474&#x1F3FB',name:'Old Man: Light Skin Tone'},{emoji:'&#x1F474&#x1F3FC',name:'Old Man: Medium-Light Skin Tone'},{emoji:'&#x1F474&#x1F3FD',name:'Old Man: Medium Skin Tone'},{emoji:'&#x1F474&#x1F3FE',name:'Old Man: Medium-Dark Skin Tone'},{emoji:'&#x1F474&#x1F3FF',name:'Old Man: Dark Skin Tone'},{emoji:'&#x1F475',name:'Old Woman'},{emoji:'&#x1F475&#x1F3FB',name:'Old Woman: Light Skin Tone'},{emoji:'&#x1F475&#x1F3FC',name:'Old Woman: Medium-Light Skin Tone'},{emoji:'&#x1F475&#x1F3FD',name:'Old Woman: Medium Skin Tone'},{emoji:'&#x1F475&#x1F3FE',name:'Old Woman: Medium-Dark Skin Tone'},{emoji:'&#x1F475&#x1F3FF',name:'Old Woman: Dark Skin Tone'},{emoji:'&#x1F476',name:'Baby'},{emoji:'&#x1F476&#x1F3FB',name:'Baby: Light Skin Tone'},{emoji:'&#x1F476&#x1F3FC',name:'Baby: Medium-Light Skin Tone'},{emoji:'&#x1F476&#x1F3FD',name:'Baby: Medium Skin Tone'},{emoji:'&#x1F476&#x1F3FE',name:'Baby: Medium-Dark Skin Tone'},{emoji:'&#x1F476&#x1F3FF',name:'Baby: Dark Skin Tone'},{emoji:'&#x1F47C',name:'Baby Angel'},{emoji:'&#x1F47C&#x1F3FB',name:'Baby Angel: Light Skin Tone'},{emoji:'&#x1F47C&#x1F3FC',name:'Baby Angel: Medium-Light Skin Tone'},{emoji:'&#x1F47C&#x1F3FD',name:'Baby Angel: Medium Skin Tone'},{emoji:'&#x1F47C&#x1F3FE',name:'Baby Angel: Medium-Dark Skin Tone'},{emoji:'&#x1F47C&#x1F3FF',name:'Baby Angel: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x2695&#xFE0F',name:'Man Health Worker'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x2695&#xFE0F',name:'Man Health Worker: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x2695&#xFE0F',name:'Man Health Worker: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x2695&#xFE0F',name:'Man Health Worker: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x2695&#xFE0F',name:'Man Health Worker: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x2695&#xFE0F',name:'Man Health Worker: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x2695&#xFE0F',name:'Woman Health Worker'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x2695&#xFE0F',name:'Woman Health Worker: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x2695&#xFE0F',name:'Woman Health Worker: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x2695&#xFE0F',name:'Woman Health Worker: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x2695&#xFE0F',name:'Woman Health Worker: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x2695&#xFE0F',name:'Woman Health Worker: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F393',name:'Man Student'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F393',name:'Man Student: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F393',name:'Man Student: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F393',name:'Man Student: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F393',name:'Man Student: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F393',name:'Man Student: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F393',name:'Woman Student'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F393',name:'Woman Student: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F393',name:'Woman Student: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F393',name:'Woman Student: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F393',name:'Woman Student: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F393',name:'Woman Student: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F3EB',name:'Man Teacher'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F3EB',name:'Man Teacher: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F3EB',name:'Man Teacher: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F3EB',name:'Man Teacher: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F3EB',name:'Man Teacher: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F3EB',name:'Man Teacher: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F3EB',name:'Woman Teacher'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F3EB',name:'Woman Teacher: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F3EB',name:'Woman Teacher: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F3EB',name:'Woman Teacher: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F3EB',name:'Woman Teacher: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F3EB',name:'Woman Teacher: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x2696&#xFE0F',name:'Man Judge'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x2696&#xFE0F',name:'Man Judge: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x2696&#xFE0F',name:'Man Judge: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x2696&#xFE0F',name:'Man Judge: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x2696&#xFE0F',name:'Man Judge: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x2696&#xFE0F',name:'Man Judge: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x2696&#xFE0F',name:'Woman Judge'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x2696&#xFE0F',name:'Woman Judge: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x2696&#xFE0F',name:'Woman Judge: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x2696&#xFE0F',name:'Woman Judge: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x2696&#xFE0F',name:'Woman Judge: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x2696&#xFE0F',name:'Woman Judge: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F33E',name:'Man Farmer'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F33E',name:'Man Farmer: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F33E',name:'Man Farmer: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F33E',name:'Man Farmer: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F33E',name:'Man Farmer: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F33E',name:'Man Farmer: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F33E',name:'Woman Farmer'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F33E',name:'Woman Farmer: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F33E',name:'Woman Farmer: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F33E',name:'Woman Farmer: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F33E',name:'Woman Farmer: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F33E',name:'Woman Farmer: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F373',name:'Man Cook'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F373',name:'Man Cook: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F373',name:'Man Cook: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F373',name:'Man Cook: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F373',name:'Man Cook: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F373',name:'Man Cook: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F373',name:'Woman Cook'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F373',name:'Woman Cook: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F373',name:'Woman Cook: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F373',name:'Woman Cook: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F373',name:'Woman Cook: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F373',name:'Woman Cook: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F527',name:'Man Mechanic'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F527',name:'Man Mechanic: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F527',name:'Man Mechanic: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F527',name:'Man Mechanic: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F527',name:'Man Mechanic: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F527',name:'Man Mechanic: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F527',name:'Woman Mechanic'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F527',name:'Woman Mechanic: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F527',name:'Woman Mechanic: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F527',name:'Woman Mechanic: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F527',name:'Woman Mechanic: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F527',name:'Woman Mechanic: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F3ED',name:'Man Factory Worker'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F3ED',name:'Man Factory Worker: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F3ED',name:'Man Factory Worker: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F3ED',name:'Man Factory Worker: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F3ED',name:'Man Factory Worker: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F3ED',name:'Man Factory Worker: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F3ED',name:'Woman Factory Worker'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F3ED',name:'Woman Factory Worker: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F3ED',name:'Woman Factory Worker: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F3ED',name:'Woman Factory Worker: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F3ED',name:'Woman Factory Worker: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F3ED',name:'Woman Factory Worker: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F4BC',name:'Man Office Worker'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F4BC',name:'Man Office Worker: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F4BC',name:'Man Office Worker: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F4BC',name:'Man Office Worker: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F4BC',name:'Man Office Worker: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F4BC',name:'Man Office Worker: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F4BC',name:'Woman Office Worker'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F4BC',name:'Woman Office Worker: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F4BC',name:'Woman Office Worker: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F4BC',name:'Woman Office Worker: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F4BC',name:'Woman Office Worker: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F4BC',name:'Woman Office Worker: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F52C',name:'Man Scientist'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F52C',name:'Man Scientist: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F52C',name:'Man Scientist: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F52C',name:'Man Scientist: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F52C',name:'Man Scientist: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F52C',name:'Man Scientist: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F52C',name:'Woman Scientist'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F52C',name:'Woman Scientist: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F52C',name:'Woman Scientist: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F52C',name:'Woman Scientist: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F52C',name:'Woman Scientist: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F52C',name:'Woman Scientist: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F4BB',name:'Man Technologist'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F4BB',name:'Man Technologist: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F4BB',name:'Man Technologist: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F4BB',name:'Man Technologist: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F4BB',name:'Man Technologist: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F4BB',name:'Man Technologist: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F4BB',name:'Woman Technologist'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F4BB',name:'Woman Technologist: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F4BB',name:'Woman Technologist: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F4BB',name:'Woman Technologist: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F4BB',name:'Woman Technologist: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F4BB',name:'Woman Technologist: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F3A4',name:'Man Singer'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F3A4',name:'Man Singer: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F3A4',name:'Man Singer: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F3A4',name:'Man Singer: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F3A4',name:'Man Singer: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F3A4',name:'Man Singer: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F3A4',name:'Woman Singer'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F3A4',name:'Woman Singer: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F3A4',name:'Woman Singer: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F3A4',name:'Woman Singer: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F3A4',name:'Woman Singer: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F3A4',name:'Woman Singer: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F3A8',name:'Man Artist'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F3A8',name:'Man Artist: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F3A8',name:'Man Artist: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F3A8',name:'Man Artist: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F3A8',name:'Man Artist: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F3A8',name:'Man Artist: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F3A8',name:'Woman Artist'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F3A8',name:'Woman Artist: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F3A8',name:'Woman Artist: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F3A8',name:'Woman Artist: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F3A8',name:'Woman Artist: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F3A8',name:'Woman Artist: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x2708&#xFE0F',name:'Man Pilot'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x2708&#xFE0F',name:'Man Pilot: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x2708&#xFE0F',name:'Man Pilot: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x2708&#xFE0F',name:'Man Pilot: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x2708&#xFE0F',name:'Man Pilot: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x2708&#xFE0F',name:'Man Pilot: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x2708&#xFE0F',name:'Woman Pilot'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x2708&#xFE0F',name:'Woman Pilot: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x2708&#xFE0F',name:'Woman Pilot: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x2708&#xFE0F',name:'Woman Pilot: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x2708&#xFE0F',name:'Woman Pilot: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x2708&#xFE0F',name:'Woman Pilot: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F680',name:'Man Astronaut'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F680',name:'Man Astronaut: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F680',name:'Man Astronaut: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F680',name:'Man Astronaut: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F680',name:'Man Astronaut: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F680',name:'Man Astronaut: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F680',name:'Woman Astronaut'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F680',name:'Woman Astronaut: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F680',name:'Woman Astronaut: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F680',name:'Woman Astronaut: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F680',name:'Woman Astronaut: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F680',name:'Woman Astronaut: Dark Skin Tone'},{emoji:'&#x1F468&#x200D&#x1F692',name:'Man Firefighter'},{emoji:'&#x1F468&#x1F3FB&#x200D&#x1F692',name:'Man Firefighter: Light Skin Tone'},{emoji:'&#x1F468&#x1F3FC&#x200D&#x1F692',name:'Man Firefighter: Medium-Light Skin Tone'},{emoji:'&#x1F468&#x1F3FD&#x200D&#x1F692',name:'Man Firefighter: Medium Skin Tone'},{emoji:'&#x1F468&#x1F3FE&#x200D&#x1F692',name:'Man Firefighter: Medium-Dark Skin Tone'},{emoji:'&#x1F468&#x1F3FF&#x200D&#x1F692',name:'Man Firefighter: Dark Skin Tone'},{emoji:'&#x1F469&#x200D&#x1F692',name:'Woman Firefighter'},{emoji:'&#x1F469&#x1F3FB&#x200D&#x1F692',name:'Woman Firefighter: Light Skin Tone'},{emoji:'&#x1F469&#x1F3FC&#x200D&#x1F692',name:'Woman Firefighter: Medium-Light Skin Tone'},{emoji:'&#x1F469&#x1F3FD&#x200D&#x1F692',name:'Woman Firefighter: Medium Skin Tone'},{emoji:'&#x1F469&#x1F3FE&#x200D&#x1F692',name:'Woman Firefighter: Medium-Dark Skin Tone'},{emoji:'&#x1F469&#x1F3FF&#x200D&#x1F692',name:'Woman Firefighter: Dark Skin Tone'},{emoji:'&#x1F46E',name:'Police Officer'},{emoji:'&#x1F46E&#x1F3FB',name:'Police Officer: Light Skin Tone'},{emoji:'&#x1F46E&#x1F3FC',name:'Police Officer: Medium-Light Skin Tone'},{emoji:'&#x1F46E&#x1F3FD',name:'Police Officer: Medium Skin Tone'},{emoji:'&#x1F46E&#x1F3FE',name:'Police Officer: Medium-Dark Skin Tone'},{emoji:'&#x1F46E&#x1F3FF',name:'Police Officer: Dark Skin Tone'},{emoji:'&#x1F46E&#x200D&#x2642&#xFE0F',name:'Man Police Officer'},{emoji:'&#x1F46E&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Police Officer: Light Skin Tone'},{emoji:'&#x1F46E&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Police Officer: Medium-Light Skin Tone'},{emoji:'&#x1F46E&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Police Officer: Medium Skin Tone'},{emoji:'&#x1F46E&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Police Officer: Medium-Dark Skin Tone'},{emoji:'&#x1F46E&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Police Officer: Dark Skin Tone'},{emoji:'&#x1F46E&#x200D&#x2640&#xFE0F',name:'Woman Police Officer'},{emoji:'&#x1F46E&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Police Officer: Light Skin Tone'},{emoji:'&#x1F46E&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Police Officer: Medium-Light Skin Tone'},{emoji:'&#x1F46E&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Police Officer: Medium Skin Tone'},{emoji:'&#x1F46E&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Police Officer: Medium-Dark Skin Tone'},{emoji:'&#x1F46E&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Police Officer: Dark Skin Tone'},{emoji:'&#x1F575',name:'Detective'},{emoji:'&#x1F575&#x1F3FB',name:'Detective: Light Skin Tone'},{emoji:'&#x1F575&#x1F3FC',name:'Detective: Medium-Light Skin Tone'},{emoji:'&#x1F575&#x1F3FD',name:'Detective: Medium Skin Tone'},{emoji:'&#x1F575&#x1F3FE',name:'Detective: Medium-Dark Skin Tone'},{emoji:'&#x1F575&#x1F3FF',name:'Detective: Dark Skin Tone'},{emoji:'&#x1F575&#xFE0F&#x200D&#x2642&#xFE0F',name:'Man Detective'},{emoji:'&#x1F575&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Detective: Light Skin Tone'},{emoji:'&#x1F575&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Detective: Medium-Light Skin Tone'},{emoji:'&#x1F575&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Detective: Medium Skin Tone'},{emoji:'&#x1F575&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Detective: Medium-Dark Skin Tone'},{emoji:'&#x1F575&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Detective: Dark Skin Tone'},{emoji:'&#x1F575&#xFE0F&#x200D&#x2640&#xFE0F',name:'Woman Detective'},{emoji:'&#x1F575&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Detective: Light Skin Tone'},{emoji:'&#x1F575&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Detective: Medium-Light Skin Tone'},{emoji:'&#x1F575&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Detective: Medium Skin Tone'},{emoji:'&#x1F575&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Detective: Medium-Dark Skin Tone'},{emoji:'&#x1F575&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Detective: Dark Skin Tone'},{emoji:'&#x1F482',name:'Guard'},{emoji:'&#x1F482&#x1F3FB',name:'Guard: Light Skin Tone'},{emoji:'&#x1F482&#x1F3FC',name:'Guard: Medium-Light Skin Tone'},{emoji:'&#x1F482&#x1F3FD',name:'Guard: Medium Skin Tone'},{emoji:'&#x1F482&#x1F3FE',name:'Guard: Medium-Dark Skin Tone'},{emoji:'&#x1F482&#x1F3FF',name:'Guard: Dark Skin Tone'},{emoji:'&#x1F482&#x200D&#x2642&#xFE0F',name:'Man Guard'},{emoji:'&#x1F482&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Guard: Light Skin Tone'},{emoji:'&#x1F482&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Guard: Medium-Light Skin Tone'},{emoji:'&#x1F482&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Guard: Medium Skin Tone'},{emoji:'&#x1F482&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Guard: Medium-Dark Skin Tone'},{emoji:'&#x1F482&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Guard: Dark Skin Tone'},{emoji:'&#x1F482&#x200D&#x2640&#xFE0F',name:'Woman Guard'},{emoji:'&#x1F482&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Guard: Light Skin Tone'},{emoji:'&#x1F482&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Guard: Medium-Light Skin Tone'},{emoji:'&#x1F482&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Guard: Medium Skin Tone'},{emoji:'&#x1F482&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Guard: Medium-Dark Skin Tone'},{emoji:'&#x1F482&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Guard: Dark Skin Tone'},{emoji:'&#x1F477',name:'Construction Worker'},{emoji:'&#x1F477&#x1F3FB',name:'Construction Worker: Light Skin Tone'},{emoji:'&#x1F477&#x1F3FC',name:'Construction Worker: Medium-Light Skin Tone'},{emoji:'&#x1F477&#x1F3FD',name:'Construction Worker: Medium Skin Tone'},{emoji:'&#x1F477&#x1F3FE',name:'Construction Worker: Medium-Dark Skin Tone'},{emoji:'&#x1F477&#x1F3FF',name:'Construction Worker: Dark Skin Tone'},{emoji:'&#x1F477&#x200D&#x2642&#xFE0F',name:'Man Construction Worker'},{emoji:'&#x1F477&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Construction Worker: Light Skin Tone'},{emoji:'&#x1F477&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Construction Worker: Medium-Light Skin Tone'},{emoji:'&#x1F477&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Construction Worker: Medium Skin Tone'},{emoji:'&#x1F477&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Construction Worker: Medium-Dark Skin Tone'},{emoji:'&#x1F477&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Construction Worker: Dark Skin Tone'},{emoji:'&#x1F477&#x200D&#x2640&#xFE0F',name:'Woman Construction Worker'},{emoji:'&#x1F477&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Construction Worker: Light Skin Tone'},{emoji:'&#x1F477&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Construction Worker: Medium-Light Skin Tone'},{emoji:'&#x1F477&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Construction Worker: Medium Skin Tone'},{emoji:'&#x1F477&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Construction Worker: Medium-Dark Skin Tone'},{emoji:'&#x1F477&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Construction Worker: Dark Skin Tone'},{emoji:'&#x1F473',name:'Person Wearing Turban'},{emoji:'&#x1F473&#x1F3FB',name:'Person Wearing Turban: Light Skin Tone'},{emoji:'&#x1F473&#x1F3FC',name:'Person Wearing Turban: Medium-Light Skin Tone'},{emoji:'&#x1F473&#x1F3FD',name:'Person Wearing Turban: Medium Skin Tone'},{emoji:'&#x1F473&#x1F3FE',name:'Person Wearing Turban: Medium-Dark Skin Tone'},{emoji:'&#x1F473&#x1F3FF',name:'Person Wearing Turban: Dark Skin Tone'},{emoji:'&#x1F473&#x200D&#x2642&#xFE0F',name:'Man Wearing Turban'},{emoji:'&#x1F473&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Wearing Turban: Light Skin Tone'},{emoji:'&#x1F473&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Wearing Turban: Medium-Light Skin Tone'},{emoji:'&#x1F473&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Wearing Turban: Medium Skin Tone'},{emoji:'&#x1F473&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Wearing Turban: Medium-Dark Skin Tone'},{emoji:'&#x1F473&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Wearing Turban: Dark Skin Tone'},{emoji:'&#x1F473&#x200D&#x2640&#xFE0F',name:'Woman Wearing Turban'},{emoji:'&#x1F473&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Wearing Turban: Light Skin Tone'},{emoji:'&#x1F473&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Wearing Turban: Medium-Light Skin Tone'},{emoji:'&#x1F473&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Wearing Turban: Medium Skin Tone'},{emoji:'&#x1F473&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Wearing Turban: Medium-Dark Skin Tone'},{emoji:'&#x1F473&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Wearing Turban: Dark Skin Tone'},{emoji:'&#x1F471',name:'Blond-Haired Person'},{emoji:'&#x1F471&#x1F3FB',name:'Blond-Haired Person: Light Skin Tone'},{emoji:'&#x1F471&#x1F3FC',name:'Blond-Haired Person: Medium-Light Skin Tone'},{emoji:'&#x1F471&#x1F3FD',name:'Blond-Haired Person: Medium Skin Tone'},{emoji:'&#x1F471&#x1F3FE',name:'Blond-Haired Person: Medium-Dark Skin Tone'},{emoji:'&#x1F471&#x1F3FF',name:'Blond-Haired Person: Dark Skin Tone'},{emoji:'&#x1F471&#x200D&#x2642&#xFE0F',name:'Blond-Haired Man'},{emoji:'&#x1F471&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Blond-Haired Man: Light Skin Tone'},{emoji:'&#x1F471&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Blond-Haired Man: Medium-Light Skin Tone'},{emoji:'&#x1F471&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Blond-Haired Man: Medium Skin Tone'},{emoji:'&#x1F471&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Blond-Haired Man: Medium-Dark Skin Tone'},{emoji:'&#x1F471&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Blond-Haired Man: Dark Skin Tone'},{emoji:'&#x1F471&#x200D&#x2640&#xFE0F',name:'Blond-Haired Woman'},{emoji:'&#x1F471&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Blond-Haired Woman: Light Skin Tone'},{emoji:'&#x1F471&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Blond-Haired Woman: Medium-Light Skin Tone'},{emoji:'&#x1F471&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Blond-Haired Woman: Medium Skin Tone'},{emoji:'&#x1F471&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Blond-Haired Woman: Medium-Dark Skin Tone'},{emoji:'&#x1F471&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Blond-Haired Woman: Dark Skin Tone'},{emoji:'&#x1F385',name:'Santa Claus'},{emoji:'&#x1F385&#x1F3FB',name:'Santa Claus: Light Skin Tone'},{emoji:'&#x1F385&#x1F3FC',name:'Santa Claus: Medium-Light Skin Tone'},{emoji:'&#x1F385&#x1F3FD',name:'Santa Claus: Medium Skin Tone'},{emoji:'&#x1F385&#x1F3FE',name:'Santa Claus: Medium-Dark Skin Tone'},{emoji:'&#x1F385&#x1F3FF',name:'Santa Claus: Dark Skin Tone'},{emoji:'&#x1F936',name:'Mrs. Claus'},{emoji:'&#x1F936&#x1F3FB',name:'Mrs. Claus: Light Skin Tone'},{emoji:'&#x1F936&#x1F3FC',name:'Mrs. Claus: Medium-Light Skin Tone'},{emoji:'&#x1F936&#x1F3FD',name:'Mrs. Claus: Medium Skin Tone'},{emoji:'&#x1F936&#x1F3FE',name:'Mrs. Claus: Medium-Dark Skin Tone'},{emoji:'&#x1F936&#x1F3FF',name:'Mrs. Claus: Dark Skin Tone'},{emoji:'&#x1F478',name:'Princess'},{emoji:'&#x1F478&#x1F3FB',name:'Princess: Light Skin Tone'},{emoji:'&#x1F478&#x1F3FC',name:'Princess: Medium-Light Skin Tone'},{emoji:'&#x1F478&#x1F3FD',name:'Princess: Medium Skin Tone'},{emoji:'&#x1F478&#x1F3FE',name:'Princess: Medium-Dark Skin Tone'},{emoji:'&#x1F478&#x1F3FF',name:'Princess: Dark Skin Tone'},{emoji:'&#x1F934',name:'Prince'},{emoji:'&#x1F934&#x1F3FB',name:'Prince: Light Skin Tone'},{emoji:'&#x1F934&#x1F3FC',name:'Prince: Medium-Light Skin Tone'},{emoji:'&#x1F934&#x1F3FD',name:'Prince: Medium Skin Tone'},{emoji:'&#x1F934&#x1F3FE',name:'Prince: Medium-Dark Skin Tone'},{emoji:'&#x1F934&#x1F3FF',name:'Prince: Dark Skin Tone'},{emoji:'&#x1F470',name:'Bride With Veil'},{emoji:'&#x1F470&#x1F3FB',name:'Bride With Veil: Light Skin Tone'},{emoji:'&#x1F470&#x1F3FC',name:'Bride With Veil: Medium-Light Skin Tone'},{emoji:'&#x1F470&#x1F3FD',name:'Bride With Veil: Medium Skin Tone'},{emoji:'&#x1F470&#x1F3FE',name:'Bride With Veil: Medium-Dark Skin Tone'},{emoji:'&#x1F470&#x1F3FF',name:'Bride With Veil: Dark Skin Tone'},{emoji:'&#x1F935',name:'Man In Tuxedo'},{emoji:'&#x1F935&#x1F3FB',name:'Man In Tuxedo: Light Skin Tone'},{emoji:'&#x1F935&#x1F3FC',name:'Man In Tuxedo: Medium-Light Skin Tone'},{emoji:'&#x1F935&#x1F3FD',name:'Man In Tuxedo: Medium Skin Tone'},{emoji:'&#x1F935&#x1F3FE',name:'Man In Tuxedo: Medium-Dark Skin Tone'},{emoji:'&#x1F935&#x1F3FF',name:'Man In Tuxedo: Dark Skin Tone'},{emoji:'&#x1F930',name:'Pregnant Woman'},{emoji:'&#x1F930&#x1F3FB',name:'Pregnant Woman: Light Skin Tone'},{emoji:'&#x1F930&#x1F3FC',name:'Pregnant Woman: Medium-Light Skin Tone'},{emoji:'&#x1F930&#x1F3FD',name:'Pregnant Woman: Medium Skin Tone'},{emoji:'&#x1F930&#x1F3FE',name:'Pregnant Woman: Medium-Dark Skin Tone'},{emoji:'&#x1F930&#x1F3FF',name:'Pregnant Woman: Dark Skin Tone'},{emoji:'&#x1F472',name:'Man With Chinese Cap'},{emoji:'&#x1F472&#x1F3FB',name:'Man With Chinese Cap: Light Skin Tone'},{emoji:'&#x1F472&#x1F3FC',name:'Man With Chinese Cap: Medium-Light Skin Tone'},{emoji:'&#x1F472&#x1F3FD',name:'Man With Chinese Cap: Medium Skin Tone'},{emoji:'&#x1F472&#x1F3FE',name:'Man With Chinese Cap: Medium-Dark Skin Tone'},{emoji:'&#x1F472&#x1F3FF',name:'Man With Chinese Cap: Dark Skin Tone'},{emoji:'&#x1F64D',name:'Person Frowning'},{emoji:'&#x1F64D&#x1F3FB',name:'Person Frowning: Light Skin Tone'},{emoji:'&#x1F64D&#x1F3FC',name:'Person Frowning: Medium-Light Skin Tone'},{emoji:'&#x1F64D&#x1F3FD',name:'Person Frowning: Medium Skin Tone'},{emoji:'&#x1F64D&#x1F3FE',name:'Person Frowning: Medium-Dark Skin Tone'},{emoji:'&#x1F64D&#x1F3FF',name:'Person Frowning: Dark Skin Tone'},{emoji:'&#x1F64D&#x200D&#x2642&#xFE0F',name:'Man Frowning'},{emoji:'&#x1F64D&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Frowning: Light Skin Tone'},{emoji:'&#x1F64D&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Frowning: Medium-Light Skin Tone'},{emoji:'&#x1F64D&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Frowning: Medium Skin Tone'},{emoji:'&#x1F64D&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Frowning: Medium-Dark Skin Tone'},{emoji:'&#x1F64D&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Frowning: Dark Skin Tone'},{emoji:'&#x1F64D&#x200D&#x2640&#xFE0F',name:'Woman Frowning'},{emoji:'&#x1F64D&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Frowning: Light Skin Tone'},{emoji:'&#x1F64D&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Frowning: Medium-Light Skin Tone'},{emoji:'&#x1F64D&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Frowning: Medium Skin Tone'},{emoji:'&#x1F64D&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Frowning: Medium-Dark Skin Tone'},{emoji:'&#x1F64D&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Frowning: Dark Skin Tone'},{emoji:'&#x1F64E',name:'Person Pouting'},{emoji:'&#x1F64E&#x1F3FB',name:'Person Pouting: Light Skin Tone'},{emoji:'&#x1F64E&#x1F3FC',name:'Person Pouting: Medium-Light Skin Tone'},{emoji:'&#x1F64E&#x1F3FD',name:'Person Pouting: Medium Skin Tone'},{emoji:'&#x1F64E&#x1F3FE',name:'Person Pouting: Medium-Dark Skin Tone'},{emoji:'&#x1F64E&#x1F3FF',name:'Person Pouting: Dark Skin Tone'},{emoji:'&#x1F64E&#x200D&#x2642&#xFE0F',name:'Man Pouting'},{emoji:'&#x1F64E&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Pouting: Light Skin Tone'},{emoji:'&#x1F64E&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Pouting: Medium-Light Skin Tone'},{emoji:'&#x1F64E&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Pouting: Medium Skin Tone'},{emoji:'&#x1F64E&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Pouting: Medium-Dark Skin Tone'},{emoji:'&#x1F64E&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Pouting: Dark Skin Tone'},{emoji:'&#x1F64E&#x200D&#x2640&#xFE0F',name:'Woman Pouting'},{emoji:'&#x1F64E&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Pouting: Light Skin Tone'},{emoji:'&#x1F64E&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Pouting: Medium-Light Skin Tone'},{emoji:'&#x1F64E&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Pouting: Medium Skin Tone'},{emoji:'&#x1F64E&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Pouting: Medium-Dark Skin Tone'},{emoji:'&#x1F64E&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Pouting: Dark Skin Tone'},{emoji:'&#x1F645',name:'Person Gesturing NO'},{emoji:'&#x1F645&#x1F3FB',name:'Person Gesturing NO: Light Skin Tone'},{emoji:'&#x1F645&#x1F3FC',name:'Person Gesturing NO: Medium-Light Skin Tone'},{emoji:'&#x1F645&#x1F3FD',name:'Person Gesturing NO: Medium Skin Tone'},{emoji:'&#x1F645&#x1F3FE',name:'Person Gesturing NO: Medium-Dark Skin Tone'},{emoji:'&#x1F645&#x1F3FF',name:'Person Gesturing NO: Dark Skin Tone'},{emoji:'&#x1F645&#x200D&#x2642&#xFE0F',name:'Man Gesturing NO'},{emoji:'&#x1F645&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Gesturing NO: Light Skin Tone'},{emoji:'&#x1F645&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Gesturing NO: Medium-Light Skin Tone'},{emoji:'&#x1F645&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Gesturing NO: Medium Skin Tone'},{emoji:'&#x1F645&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Gesturing NO: Medium-Dark Skin Tone'},{emoji:'&#x1F645&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Gesturing NO: Dark Skin Tone'},{emoji:'&#x1F645&#x200D&#x2640&#xFE0F',name:'Woman Gesturing NO'},{emoji:'&#x1F645&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Gesturing NO: Light Skin Tone'},{emoji:'&#x1F645&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Gesturing NO: Medium-Light Skin Tone'},{emoji:'&#x1F645&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Gesturing NO: Medium Skin Tone'},{emoji:'&#x1F645&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Gesturing NO: Medium-Dark Skin Tone'},{emoji:'&#x1F645&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Gesturing NO: Dark Skin Tone'},{emoji:'&#x1F646',name:'Person Gesturing OK'},{emoji:'&#x1F646&#x1F3FB',name:'Person Gesturing OK: Light Skin Tone'},{emoji:'&#x1F646&#x1F3FC',name:'Person Gesturing OK: Medium-Light Skin Tone'},{emoji:'&#x1F646&#x1F3FD',name:'Person Gesturing OK: Medium Skin Tone'},{emoji:'&#x1F646&#x1F3FE',name:'Person Gesturing OK: Medium-Dark Skin Tone'},{emoji:'&#x1F646&#x1F3FF',name:'Person Gesturing OK: Dark Skin Tone'},{emoji:'&#x1F646&#x200D&#x2642&#xFE0F',name:'Man Gesturing OK'},{emoji:'&#x1F646&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Gesturing OK: Light Skin Tone'},{emoji:'&#x1F646&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Gesturing OK: Medium-Light Skin Tone'},{emoji:'&#x1F646&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Gesturing OK: Medium Skin Tone'},{emoji:'&#x1F646&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Gesturing OK: Medium-Dark Skin Tone'},{emoji:'&#x1F646&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Gesturing OK: Dark Skin Tone'},{emoji:'&#x1F646&#x200D&#x2640&#xFE0F',name:'Woman Gesturing OK'},{emoji:'&#x1F646&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Gesturing OK: Light Skin Tone'},{emoji:'&#x1F646&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Gesturing OK: Medium-Light Skin Tone'},{emoji:'&#x1F646&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Gesturing OK: Medium Skin Tone'},{emoji:'&#x1F646&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Gesturing OK: Medium-Dark Skin Tone'},{emoji:'&#x1F646&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Gesturing OK: Dark Skin Tone'},{emoji:'&#x1F481',name:'Person Tipping Hand'},{emoji:'&#x1F481&#x1F3FB',name:'Person Tipping Hand: Light Skin Tone'},{emoji:'&#x1F481&#x1F3FC',name:'Person Tipping Hand: Medium-Light Skin Tone'},{emoji:'&#x1F481&#x1F3FD',name:'Person Tipping Hand: Medium Skin Tone'},{emoji:'&#x1F481&#x1F3FE',name:'Person Tipping Hand: Medium-Dark Skin Tone'},{emoji:'&#x1F481&#x1F3FF',name:'Person Tipping Hand: Dark Skin Tone'},{emoji:'&#x1F481&#x200D&#x2642&#xFE0F',name:'Man Tipping Hand'},{emoji:'&#x1F481&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Tipping Hand: Light Skin Tone'},{emoji:'&#x1F481&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Tipping Hand: Medium-Light Skin Tone'},{emoji:'&#x1F481&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Tipping Hand: Medium Skin Tone'},{emoji:'&#x1F481&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Tipping Hand: Medium-Dark Skin Tone'},{emoji:'&#x1F481&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Tipping Hand: Dark Skin Tone'},{emoji:'&#x1F481&#x200D&#x2640&#xFE0F',name:'Woman Tipping Hand'},{emoji:'&#x1F481&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Tipping Hand: Light Skin Tone'},{emoji:'&#x1F481&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Tipping Hand: Medium-Light Skin Tone'},{emoji:'&#x1F481&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Tipping Hand: Medium Skin Tone'},{emoji:'&#x1F481&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Tipping Hand: Medium-Dark Skin Tone'},{emoji:'&#x1F481&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Tipping Hand: Dark Skin Tone'},{emoji:'&#x1F64B',name:'Person Raising Hand'},{emoji:'&#x1F64B&#x1F3FB',name:'Person Raising Hand: Light Skin Tone'},{emoji:'&#x1F64B&#x1F3FC',name:'Person Raising Hand: Medium-Light Skin Tone'},{emoji:'&#x1F64B&#x1F3FD',name:'Person Raising Hand: Medium Skin Tone'},{emoji:'&#x1F64B&#x1F3FE',name:'Person Raising Hand: Medium-Dark Skin Tone'},{emoji:'&#x1F64B&#x1F3FF',name:'Person Raising Hand: Dark Skin Tone'},{emoji:'&#x1F64B&#x200D&#x2642&#xFE0F',name:'Man Raising Hand'},{emoji:'&#x1F64B&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Raising Hand: Light Skin Tone'},{emoji:'&#x1F64B&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Raising Hand: Medium-Light Skin Tone'},{emoji:'&#x1F64B&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Raising Hand: Medium Skin Tone'},{emoji:'&#x1F64B&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Raising Hand: Medium-Dark Skin Tone'},{emoji:'&#x1F64B&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Raising Hand: Dark Skin Tone'},{emoji:'&#x1F64B&#x200D&#x2640&#xFE0F',name:'Woman Raising Hand'},{emoji:'&#x1F64B&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Raising Hand: Light Skin Tone'},{emoji:'&#x1F64B&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Raising Hand: Medium-Light Skin Tone'},{emoji:'&#x1F64B&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Raising Hand: Medium Skin Tone'},{emoji:'&#x1F64B&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Raising Hand: Medium-Dark Skin Tone'},{emoji:'&#x1F64B&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Raising Hand: Dark Skin Tone'},{emoji:'&#x1F647',name:'Person Bowing'},{emoji:'&#x1F647&#x1F3FB',name:'Person Bowing: Light Skin Tone'},{emoji:'&#x1F647&#x1F3FC',name:'Person Bowing: Medium-Light Skin Tone'},{emoji:'&#x1F647&#x1F3FD',name:'Person Bowing: Medium Skin Tone'},{emoji:'&#x1F647&#x1F3FE',name:'Person Bowing: Medium-Dark Skin Tone'},{emoji:'&#x1F647&#x1F3FF',name:'Person Bowing: Dark Skin Tone'},{emoji:'&#x1F647&#x200D&#x2642&#xFE0F',name:'Man Bowing'},{emoji:'&#x1F647&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Bowing: Light Skin Tone'},{emoji:'&#x1F647&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Bowing: Medium-Light Skin Tone'},{emoji:'&#x1F647&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Bowing: Medium Skin Tone'},{emoji:'&#x1F647&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Bowing: Medium-Dark Skin Tone'},{emoji:'&#x1F647&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Bowing: Dark Skin Tone'},{emoji:'&#x1F647&#x200D&#x2640&#xFE0F',name:'Woman Bowing'},{emoji:'&#x1F647&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Bowing: Light Skin Tone'},{emoji:'&#x1F647&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Bowing: Medium-Light Skin Tone'},{emoji:'&#x1F647&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Bowing: Medium Skin Tone'},{emoji:'&#x1F647&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Bowing: Medium-Dark Skin Tone'},{emoji:'&#x1F647&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Bowing: Dark Skin Tone'},{emoji:'&#x1F926',name:'Person Facepalming'},{emoji:'&#x1F926&#x1F3FB',name:'Person Facepalming: Light Skin Tone'},{emoji:'&#x1F926&#x1F3FC',name:'Person Facepalming: Medium-Light Skin Tone'},{emoji:'&#x1F926&#x1F3FD',name:'Person Facepalming: Medium Skin Tone'},{emoji:'&#x1F926&#x1F3FE',name:'Person Facepalming: Medium-Dark Skin Tone'},{emoji:'&#x1F926&#x1F3FF',name:'Person Facepalming: Dark Skin Tone'},{emoji:'&#x1F926&#x200D&#x2642&#xFE0F',name:'Man Facepalming'},{emoji:'&#x1F926&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Facepalming: Light Skin Tone'},{emoji:'&#x1F926&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Facepalming: Medium-Light Skin Tone'},{emoji:'&#x1F926&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Facepalming: Medium Skin Tone'},{emoji:'&#x1F926&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Facepalming: Medium-Dark Skin Tone'},{emoji:'&#x1F926&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Facepalming: Dark Skin Tone'},{emoji:'&#x1F926&#x200D&#x2640&#xFE0F',name:'Woman Facepalming'},{emoji:'&#x1F926&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Facepalming: Light Skin Tone'},{emoji:'&#x1F926&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Facepalming: Medium-Light Skin Tone'},{emoji:'&#x1F926&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Facepalming: Medium Skin Tone'},{emoji:'&#x1F926&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Facepalming: Medium-Dark Skin Tone'},{emoji:'&#x1F926&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Facepalming: Dark Skin Tone'},{emoji:'&#x1F937',name:'Person Shrugging'},{emoji:'&#x1F937&#x1F3FB',name:'Person Shrugging: Light Skin Tone'},{emoji:'&#x1F937&#x1F3FC',name:'Person Shrugging: Medium-Light Skin Tone'},{emoji:'&#x1F937&#x1F3FD',name:'Person Shrugging: Medium Skin Tone'},{emoji:'&#x1F937&#x1F3FE',name:'Person Shrugging: Medium-Dark Skin Tone'},{emoji:'&#x1F937&#x1F3FF',name:'Person Shrugging: Dark Skin Tone'},{emoji:'&#x1F937&#x200D&#x2642&#xFE0F',name:'Man Shrugging'},{emoji:'&#x1F937&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Shrugging: Light Skin Tone'},{emoji:'&#x1F937&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Shrugging: Medium-Light Skin Tone'},{emoji:'&#x1F937&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Shrugging: Medium Skin Tone'},{emoji:'&#x1F937&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Shrugging: Medium-Dark Skin Tone'},{emoji:'&#x1F937&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Shrugging: Dark Skin Tone'},{emoji:'&#x1F937&#x200D&#x2640&#xFE0F',name:'Woman Shrugging'},{emoji:'&#x1F937&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Shrugging: Light Skin Tone'},{emoji:'&#x1F937&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Shrugging: Medium-Light Skin Tone'},{emoji:'&#x1F937&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Shrugging: Medium Skin Tone'},{emoji:'&#x1F937&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Shrugging: Medium-Dark Skin Tone'},{emoji:'&#x1F937&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Shrugging: Dark Skin Tone'},{emoji:'&#x1F486',name:'Person Getting Massage'},{emoji:'&#x1F486&#x1F3FB',name:'Person Getting Massage: Light Skin Tone'},{emoji:'&#x1F486&#x1F3FC',name:'Person Getting Massage: Medium-Light Skin Tone'},{emoji:'&#x1F486&#x1F3FD',name:'Person Getting Massage: Medium Skin Tone'},{emoji:'&#x1F486&#x1F3FE',name:'Person Getting Massage: Medium-Dark Skin Tone'},{emoji:'&#x1F486&#x1F3FF',name:'Person Getting Massage: Dark Skin Tone'},{emoji:'&#x1F486&#x200D&#x2642&#xFE0F',name:'Man Getting Massage'},{emoji:'&#x1F486&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Getting Massage: Light Skin Tone'},{emoji:'&#x1F486&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Getting Massage: Medium-Light Skin Tone'},{emoji:'&#x1F486&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Getting Massage: Medium Skin Tone'},{emoji:'&#x1F486&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Getting Massage: Medium-Dark Skin Tone'},{emoji:'&#x1F486&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Getting Massage: Dark Skin Tone'},{emoji:'&#x1F486&#x200D&#x2640&#xFE0F',name:'Woman Getting Massage'},{emoji:'&#x1F486&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Getting Massage: Light Skin Tone'},{emoji:'&#x1F486&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Getting Massage: Medium-Light Skin Tone'},{emoji:'&#x1F486&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Getting Massage: Medium Skin Tone'},{emoji:'&#x1F486&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Getting Massage: Medium-Dark Skin Tone'},{emoji:'&#x1F486&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Getting Massage: Dark Skin Tone'},{emoji:'&#x1F487',name:'Person Getting Haircut'},{emoji:'&#x1F487&#x1F3FB',name:'Person Getting Haircut: Light Skin Tone'},{emoji:'&#x1F487&#x1F3FC',name:'Person Getting Haircut: Medium-Light Skin Tone'},{emoji:'&#x1F487&#x1F3FD',name:'Person Getting Haircut: Medium Skin Tone'},{emoji:'&#x1F487&#x1F3FE',name:'Person Getting Haircut: Medium-Dark Skin Tone'},{emoji:'&#x1F487&#x1F3FF',name:'Person Getting Haircut: Dark Skin Tone'},{emoji:'&#x1F487&#x200D&#x2642&#xFE0F',name:'Man Getting Haircut'},{emoji:'&#x1F487&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Getting Haircut: Light Skin Tone'},{emoji:'&#x1F487&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Getting Haircut: Medium-Light Skin Tone'},{emoji:'&#x1F487&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Getting Haircut: Medium Skin Tone'},{emoji:'&#x1F487&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Getting Haircut: Medium-Dark Skin Tone'},{emoji:'&#x1F487&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Getting Haircut: Dark Skin Tone'},{emoji:'&#x1F487&#x200D&#x2640&#xFE0F',name:'Woman Getting Haircut'},{emoji:'&#x1F487&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Getting Haircut: Light Skin Tone'},{emoji:'&#x1F487&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Getting Haircut: Medium-Light Skin Tone'},{emoji:'&#x1F487&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Getting Haircut: Medium Skin Tone'},{emoji:'&#x1F487&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Getting Haircut: Medium-Dark Skin Tone'},{emoji:'&#x1F487&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Getting Haircut: Dark Skin Tone'},{emoji:'&#x1F6B6',name:'Person Walking'},{emoji:'&#x1F6B6&#x1F3FB',name:'Person Walking: Light Skin Tone'},{emoji:'&#x1F6B6&#x1F3FC',name:'Person Walking: Medium-Light Skin Tone'},{emoji:'&#x1F6B6&#x1F3FD',name:'Person Walking: Medium Skin Tone'},{emoji:'&#x1F6B6&#x1F3FE',name:'Person Walking: Medium-Dark Skin Tone'},{emoji:'&#x1F6B6&#x1F3FF',name:'Person Walking: Dark Skin Tone'},{emoji:'&#x1F6B6&#x200D&#x2642&#xFE0F',name:'Man Walking'},{emoji:'&#x1F6B6&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Walking: Light Skin Tone'},{emoji:'&#x1F6B6&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Walking: Medium-Light Skin Tone'},{emoji:'&#x1F6B6&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Walking: Medium Skin Tone'},{emoji:'&#x1F6B6&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Walking: Medium-Dark Skin Tone'},{emoji:'&#x1F6B6&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Walking: Dark Skin Tone'},{emoji:'&#x1F6B6&#x200D&#x2640&#xFE0F',name:'Woman Walking'},{emoji:'&#x1F6B6&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Walking: Light Skin Tone'},{emoji:'&#x1F6B6&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Walking: Medium-Light Skin Tone'},{emoji:'&#x1F6B6&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Walking: Medium Skin Tone'},{emoji:'&#x1F6B6&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Walking: Medium-Dark Skin Tone'},{emoji:'&#x1F6B6&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Walking: Dark Skin Tone'},{emoji:'&#x1F3C3',name:'Person Running'},{emoji:'&#x1F3C3&#x1F3FB',name:'Person Running: Light Skin Tone'},{emoji:'&#x1F3C3&#x1F3FC',name:'Person Running: Medium-Light Skin Tone'},{emoji:'&#x1F3C3&#x1F3FD',name:'Person Running: Medium Skin Tone'},{emoji:'&#x1F3C3&#x1F3FE',name:'Person Running: Medium-Dark Skin Tone'},{emoji:'&#x1F3C3&#x1F3FF',name:'Person Running: Dark Skin Tone'},{emoji:'&#x1F3C3&#x200D&#x2642&#xFE0F',name:'Man Running'},{emoji:'&#x1F3C3&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Running: Light Skin Tone'},{emoji:'&#x1F3C3&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Running: Medium-Light Skin Tone'},{emoji:'&#x1F3C3&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Running: Medium Skin Tone'},{emoji:'&#x1F3C3&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Running: Medium-Dark Skin Tone'},{emoji:'&#x1F3C3&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Running: Dark Skin Tone'},{emoji:'&#x1F3C3&#x200D&#x2640&#xFE0F',name:'Woman Running'},{emoji:'&#x1F3C3&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Running: Light Skin Tone'},{emoji:'&#x1F3C3&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Running: Medium-Light Skin Tone'},{emoji:'&#x1F3C3&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Running: Medium Skin Tone'},{emoji:'&#x1F3C3&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Running: Medium-Dark Skin Tone'},{emoji:'&#x1F3C3&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Running: Dark Skin Tone'},{emoji:'&#x1F483',name:'Woman Dancing'},{emoji:'&#x1F483&#x1F3FB',name:'Woman Dancing: Light Skin Tone'},{emoji:'&#x1F483&#x1F3FC',name:'Woman Dancing: Medium-Light Skin Tone'},{emoji:'&#x1F483&#x1F3FD',name:'Woman Dancing: Medium Skin Tone'},{emoji:'&#x1F483&#x1F3FE',name:'Woman Dancing: Medium-Dark Skin Tone'},{emoji:'&#x1F483&#x1F3FF',name:'Woman Dancing: Dark Skin Tone'},{emoji:'&#x1F57A',name:'Man Dancing'},{emoji:'&#x1F57A&#x1F3FB',name:'Man Dancing: Light Skin Tone'},{emoji:'&#x1F57A&#x1F3FC',name:'Man Dancing: Medium-Light Skin Tone'},{emoji:'&#x1F57A&#x1F3FD',name:'Man Dancing: Medium Skin Tone'},{emoji:'&#x1F57A&#x1F3FE',name:'Man Dancing: Medium-Dark Skin Tone'},{emoji:'&#x1F57A&#x1F3FF',name:'Man Dancing: Dark Skin Tone'},{emoji:'&#x1F46F',name:'People With Bunny Ears Partying'},{emoji:'&#x1F46F&#x200D&#x2642&#xFE0F',name:'Men With Bunny Ears Partying'},{emoji:'&#x1F46F&#x200D&#x2640&#xFE0F',name:'Women With Bunny Ears Partying'},{emoji:'&#x1F574',name:'Man In Business Suit Levitating'},{emoji:'&#x1F574&#x1F3FB',name:'Man In Business Suit Levitating: Light Skin Tone'},{emoji:'&#x1F574&#x1F3FC',name:'Man In Business Suit Levitating: Medium-Light Skin Tone'},{emoji:'&#x1F574&#x1F3FD',name:'Man In Business Suit Levitating: Medium Skin Tone'},{emoji:'&#x1F574&#x1F3FE',name:'Man In Business Suit Levitating: Medium-Dark Skin Tone'},{emoji:'&#x1F574&#x1F3FF',name:'Man In Business Suit Levitating: Dark Skin Tone'},{emoji:'&#x1F5E3',name:'Speaking Head'},{emoji:'&#x1F464',name:'Bust In Silhouette'},{emoji:'&#x1F465',name:'Busts In Silhouette'},{emoji:'&#x1F93A',name:'Person Fencing'},{emoji:'&#x1F3C7',name:'Horse Racing'},{emoji:'&#x1F3C7&#x1F3FB',name:'Horse Racing: Light Skin Tone'},{emoji:'&#x1F3C7&#x1F3FC',name:'Horse Racing: Medium-Light Skin Tone'},{emoji:'&#x1F3C7&#x1F3FD',name:'Horse Racing: Medium Skin Tone'},{emoji:'&#x1F3C7&#x1F3FE',name:'Horse Racing: Medium-Dark Skin Tone'},{emoji:'&#x1F3C7&#x1F3FF',name:'Horse Racing: Dark Skin Tone'},{emoji:'&#x26F7',name:'Skier'},{emoji:'&#x1F3C2',name:'Snowboarder'},{emoji:'&#x1F3C2&#x1F3FB',name:'Snowboarder: Light Skin Tone'},{emoji:'&#x1F3C2&#x1F3FC',name:'Snowboarder: Medium-Light Skin Tone'},{emoji:'&#x1F3C2&#x1F3FD',name:'Snowboarder: Medium Skin Tone'},{emoji:'&#x1F3C2&#x1F3FE',name:'Snowboarder: Medium-Dark Skin Tone'},{emoji:'&#x1F3C2&#x1F3FF',name:'Snowboarder: Dark Skin Tone'},{emoji:'&#x1F3CC',name:'Person Golfing'},{emoji:'&#x1F3CC&#x1F3FB',name:'Person Golfing: Light Skin Tone'},{emoji:'&#x1F3CC&#x1F3FC',name:'Person Golfing: Medium-Light Skin Tone'},{emoji:'&#x1F3CC&#x1F3FD',name:'Person Golfing: Medium Skin Tone'},{emoji:'&#x1F3CC&#x1F3FE',name:'Person Golfing: Medium-Dark Skin Tone'},{emoji:'&#x1F3CC&#x1F3FF',name:'Person Golfing: Dark Skin Tone'},{emoji:'&#x1F3CC&#xFE0F&#x200D&#x2642&#xFE0F',name:'Man Golfing'},{emoji:'&#x1F3CC&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Golfing: Light Skin Tone'},{emoji:'&#x1F3CC&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Golfing: Medium-Light Skin Tone'},{emoji:'&#x1F3CC&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Golfing: Medium Skin Tone'},{emoji:'&#x1F3CC&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Golfing: Medium-Dark Skin Tone'},{emoji:'&#x1F3CC&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Golfing: Dark Skin Tone'},{emoji:'&#x1F3CC&#xFE0F&#x200D&#x2640&#xFE0F',name:'Woman Golfing'},{emoji:'&#x1F3CC&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Golfing: Light Skin Tone'},{emoji:'&#x1F3CC&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Golfing: Medium-Light Skin Tone'},{emoji:'&#x1F3CC&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Golfing: Medium Skin Tone'},{emoji:'&#x1F3CC&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Golfing: Medium-Dark Skin Tone'},{emoji:'&#x1F3CC&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Golfing: Dark Skin Tone'},{emoji:'&#x1F3C4',name:'Person Surfing'},{emoji:'&#x1F3C4&#x1F3FB',name:'Person Surfing: Light Skin Tone'},{emoji:'&#x1F3C4&#x1F3FC',name:'Person Surfing: Medium-Light Skin Tone'},{emoji:'&#x1F3C4&#x1F3FD',name:'Person Surfing: Medium Skin Tone'},{emoji:'&#x1F3C4&#x1F3FE',name:'Person Surfing: Medium-Dark Skin Tone'},{emoji:'&#x1F3C4&#x1F3FF',name:'Person Surfing: Dark Skin Tone'},{emoji:'&#x1F3C4&#x200D&#x2642&#xFE0F',name:'Man Surfing'},{emoji:'&#x1F3C4&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Surfing: Light Skin Tone'},{emoji:'&#x1F3C4&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Surfing: Medium-Light Skin Tone'},{emoji:'&#x1F3C4&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Surfing: Medium Skin Tone'},{emoji:'&#x1F3C4&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Surfing: Medium-Dark Skin Tone'},{emoji:'&#x1F3C4&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Surfing: Dark Skin Tone'},{emoji:'&#x1F3C4&#x200D&#x2640&#xFE0F',name:'Woman Surfing'},{emoji:'&#x1F3C4&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Surfing: Light Skin Tone'},{emoji:'&#x1F3C4&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Surfing: Medium-Light Skin Tone'},{emoji:'&#x1F3C4&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Surfing: Medium Skin Tone'},{emoji:'&#x1F3C4&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Surfing: Medium-Dark Skin Tone'},{emoji:'&#x1F3C4&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Surfing: Dark Skin Tone'},{emoji:'&#x1F6A3',name:'Person Rowing Boat'},{emoji:'&#x1F6A3&#x1F3FB',name:'Person Rowing Boat: Light Skin Tone'},{emoji:'&#x1F6A3&#x1F3FC',name:'Person Rowing Boat: Medium-Light Skin Tone'},{emoji:'&#x1F6A3&#x1F3FD',name:'Person Rowing Boat: Medium Skin Tone'},{emoji:'&#x1F6A3&#x1F3FE',name:'Person Rowing Boat: Medium-Dark Skin Tone'},{emoji:'&#x1F6A3&#x1F3FF',name:'Person Rowing Boat: Dark Skin Tone'},{emoji:'&#x1F6A3&#x200D&#x2642&#xFE0F',name:'Man Rowing Boat'},{emoji:'&#x1F6A3&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Rowing Boat: Light Skin Tone'},{emoji:'&#x1F6A3&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Rowing Boat: Medium-Light Skin Tone'},{emoji:'&#x1F6A3&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Rowing Boat: Medium Skin Tone'},{emoji:'&#x1F6A3&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Rowing Boat: Medium-Dark Skin Tone'},{emoji:'&#x1F6A3&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Rowing Boat: Dark Skin Tone'},{emoji:'&#x1F6A3&#x200D&#x2640&#xFE0F',name:'Woman Rowing Boat'},{emoji:'&#x1F6A3&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Rowing Boat: Light Skin Tone'},{emoji:'&#x1F6A3&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Rowing Boat: Medium-Light Skin Tone'},{emoji:'&#x1F6A3&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Rowing Boat: Medium Skin Tone'},{emoji:'&#x1F6A3&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Rowing Boat: Medium-Dark Skin Tone'},{emoji:'&#x1F6A3&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Rowing Boat: Dark Skin Tone'},{emoji:'&#x1F3CA',name:'Person Swimming'},{emoji:'&#x1F3CA&#x1F3FB',name:'Person Swimming: Light Skin Tone'},{emoji:'&#x1F3CA&#x1F3FC',name:'Person Swimming: Medium-Light Skin Tone'},{emoji:'&#x1F3CA&#x1F3FD',name:'Person Swimming: Medium Skin Tone'},{emoji:'&#x1F3CA&#x1F3FE',name:'Person Swimming: Medium-Dark Skin Tone'},{emoji:'&#x1F3CA&#x1F3FF',name:'Person Swimming: Dark Skin Tone'},{emoji:'&#x1F3CA&#x200D&#x2642&#xFE0F',name:'Man Swimming'},{emoji:'&#x1F3CA&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Swimming: Light Skin Tone'},{emoji:'&#x1F3CA&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Swimming: Medium-Light Skin Tone'},{emoji:'&#x1F3CA&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Swimming: Medium Skin Tone'},{emoji:'&#x1F3CA&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Swimming: Medium-Dark Skin Tone'},{emoji:'&#x1F3CA&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Swimming: Dark Skin Tone'},{emoji:'&#x1F3CA&#x200D&#x2640&#xFE0F',name:'Woman Swimming'},{emoji:'&#x1F3CA&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Swimming: Light Skin Tone'},{emoji:'&#x1F3CA&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Swimming: Medium-Light Skin Tone'},{emoji:'&#x1F3CA&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Swimming: Medium Skin Tone'},{emoji:'&#x1F3CA&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Swimming: Medium-Dark Skin Tone'},{emoji:'&#x1F3CA&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Swimming: Dark Skin Tone'},{emoji:'&#x26F9',name:'Person Bouncing Ball'},{emoji:'&#x26F9&#x1F3FB',name:'Person Bouncing Ball: Light Skin Tone'},{emoji:'&#x26F9&#x1F3FC',name:'Person Bouncing Ball: Medium-Light Skin Tone'},{emoji:'&#x26F9&#x1F3FD',name:'Person Bouncing Ball: Medium Skin Tone'},{emoji:'&#x26F9&#x1F3FE',name:'Person Bouncing Ball: Medium-Dark Skin Tone'},{emoji:'&#x26F9&#x1F3FF',name:'Person Bouncing Ball: Dark Skin Tone'},{emoji:'&#x26F9&#xFE0F&#x200D&#x2642&#xFE0F',name:'Man Bouncing Ball'},{emoji:'&#x26F9&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Bouncing Ball: Light Skin Tone'},{emoji:'&#x26F9&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Bouncing Ball: Medium-Light Skin Tone'},{emoji:'&#x26F9&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Bouncing Ball: Medium Skin Tone'},{emoji:'&#x26F9&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Bouncing Ball: Medium-Dark Skin Tone'},{emoji:'&#x26F9&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Bouncing Ball: Dark Skin Tone'},{emoji:'&#x26F9&#xFE0F&#x200D&#x2640&#xFE0F',name:'Woman Bouncing Ball'},{emoji:'&#x26F9&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Bouncing Ball: Light Skin Tone'},{emoji:'&#x26F9&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Bouncing Ball: Medium-Light Skin Tone'},{emoji:'&#x26F9&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Bouncing Ball: Medium Skin Tone'},{emoji:'&#x26F9&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Bouncing Ball: Medium-Dark Skin Tone'},{emoji:'&#x26F9&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Bouncing Ball: Dark Skin Tone'},{emoji:'&#x1F3CB',name:'Person Lifting Weights'},{emoji:'&#x1F3CB&#x1F3FB',name:'Person Lifting Weights: Light Skin Tone'},{emoji:'&#x1F3CB&#x1F3FC',name:'Person Lifting Weights: Medium-Light Skin Tone'},{emoji:'&#x1F3CB&#x1F3FD',name:'Person Lifting Weights: Medium Skin Tone'},{emoji:'&#x1F3CB&#x1F3FE',name:'Person Lifting Weights: Medium-Dark Skin Tone'},{emoji:'&#x1F3CB&#x1F3FF',name:'Person Lifting Weights: Dark Skin Tone'},{emoji:'&#x1F3CB&#xFE0F&#x200D&#x2642&#xFE0F',name:'Man Lifting Weights'},{emoji:'&#x1F3CB&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Lifting Weights: Light Skin Tone'},{emoji:'&#x1F3CB&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Lifting Weights: Medium-Light Skin Tone'},{emoji:'&#x1F3CB&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Lifting Weights: Medium Skin Tone'},{emoji:'&#x1F3CB&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Lifting Weights: Medium-Dark Skin Tone'},{emoji:'&#x1F3CB&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Lifting Weights: Dark Skin Tone'},{emoji:'&#x1F3CB&#xFE0F&#x200D&#x2640&#xFE0F',name:'Woman Lifting Weights'},{emoji:'&#x1F3CB&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Lifting Weights: Light Skin Tone'},{emoji:'&#x1F3CB&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Lifting Weights: Medium-Light Skin Tone'},{emoji:'&#x1F3CB&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Lifting Weights: Medium Skin Tone'},{emoji:'&#x1F3CB&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Lifting Weights: Medium-Dark Skin Tone'},{emoji:'&#x1F3CB&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Lifting Weights: Dark Skin Tone'},{emoji:'&#x1F6B4',name:'Person Biking'},{emoji:'&#x1F6B4&#x1F3FB',name:'Person Biking: Light Skin Tone'},{emoji:'&#x1F6B4&#x1F3FC',name:'Person Biking: Medium-Light Skin Tone'},{emoji:'&#x1F6B4&#x1F3FD',name:'Person Biking: Medium Skin Tone'},{emoji:'&#x1F6B4&#x1F3FE',name:'Person Biking: Medium-Dark Skin Tone'},{emoji:'&#x1F6B4&#x1F3FF',name:'Person Biking: Dark Skin Tone'},{emoji:'&#x1F6B4&#x200D&#x2642&#xFE0F',name:'Man Biking'},{emoji:'&#x1F6B4&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Biking: Light Skin Tone'},{emoji:'&#x1F6B4&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Biking: Medium-Light Skin Tone'},{emoji:'&#x1F6B4&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Biking: Medium Skin Tone'},{emoji:'&#x1F6B4&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Biking: Medium-Dark Skin Tone'},{emoji:'&#x1F6B4&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Biking: Dark Skin Tone'},{emoji:'&#x1F6B4&#x200D&#x2640&#xFE0F',name:'Woman Biking'},{emoji:'&#x1F6B4&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Biking: Light Skin Tone'},{emoji:'&#x1F6B4&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Biking: Medium-Light Skin Tone'},{emoji:'&#x1F6B4&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Biking: Medium Skin Tone'},{emoji:'&#x1F6B4&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Biking: Medium-Dark Skin Tone'},{emoji:'&#x1F6B4&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Biking: Dark Skin Tone'},{emoji:'&#x1F6B5',name:'Person Mountain Biking'},{emoji:'&#x1F6B5&#x1F3FB',name:'Person Mountain Biking: Light Skin Tone'},{emoji:'&#x1F6B5&#x1F3FC',name:'Person Mountain Biking: Medium-Light Skin Tone'},{emoji:'&#x1F6B5&#x1F3FD',name:'Person Mountain Biking: Medium Skin Tone'},{emoji:'&#x1F6B5&#x1F3FE',name:'Person Mountain Biking: Medium-Dark Skin Tone'},{emoji:'&#x1F6B5&#x1F3FF',name:'Person Mountain Biking: Dark Skin Tone'},{emoji:'&#x1F6B5&#x200D&#x2642&#xFE0F',name:'Man Mountain Biking'},{emoji:'&#x1F6B5&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Mountain Biking: Light Skin Tone'},{emoji:'&#x1F6B5&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Mountain Biking: Medium-Light Skin Tone'},{emoji:'&#x1F6B5&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Mountain Biking: Medium Skin Tone'},{emoji:'&#x1F6B5&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Mountain Biking: Medium-Dark Skin Tone'},{emoji:'&#x1F6B5&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Mountain Biking: Dark Skin Tone'},{emoji:'&#x1F6B5&#x200D&#x2640&#xFE0F',name:'Woman Mountain Biking'},{emoji:'&#x1F6B5&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Mountain Biking: Light Skin Tone'},{emoji:'&#x1F6B5&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Mountain Biking: Medium-Light Skin Tone'},{emoji:'&#x1F6B5&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Mountain Biking: Medium Skin Tone'},{emoji:'&#x1F6B5&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Mountain Biking: Medium-Dark Skin Tone'},{emoji:'&#x1F6B5&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Mountain Biking: Dark Skin Tone'},{emoji:'&#x1F3CE',name:'Racing Car'},{emoji:'&#x1F3CD',name:'Motorcycle'},{emoji:'&#x1F938',name:'Person Cartwheeling'},{emoji:'&#x1F938&#x1F3FB',name:'Person Cartwheeling: Light Skin Tone'},{emoji:'&#x1F938&#x1F3FC',name:'Person Cartwheeling: Medium-Light Skin Tone'},{emoji:'&#x1F938&#x1F3FD',name:'Person Cartwheeling: Medium Skin Tone'},{emoji:'&#x1F938&#x1F3FE',name:'Person Cartwheeling: Medium-Dark Skin Tone'},{emoji:'&#x1F938&#x1F3FF',name:'Person Cartwheeling: Dark Skin Tone'},{emoji:'&#x1F938&#x200D&#x2642&#xFE0F',name:'Man Cartwheeling'},{emoji:'&#x1F938&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Cartwheeling: Light Skin Tone'},{emoji:'&#x1F938&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Cartwheeling: Medium-Light Skin Tone'},{emoji:'&#x1F938&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Cartwheeling: Medium Skin Tone'},{emoji:'&#x1F938&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Cartwheeling: Medium-Dark Skin Tone'},{emoji:'&#x1F938&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Cartwheeling: Dark Skin Tone'},{emoji:'&#x1F938&#x200D&#x2640&#xFE0F',name:'Woman Cartwheeling'},{emoji:'&#x1F938&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Cartwheeling: Light Skin Tone'},{emoji:'&#x1F938&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Cartwheeling: Medium-Light Skin Tone'},{emoji:'&#x1F938&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Cartwheeling: Medium Skin Tone'},{emoji:'&#x1F938&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Cartwheeling: Medium-Dark Skin Tone'},{emoji:'&#x1F938&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Cartwheeling: Dark Skin Tone'},{emoji:'&#x1F93C',name:'People Wrestling'},{emoji:'&#x1F93C&#x200D&#x2642&#xFE0F',name:'Men Wrestling'},{emoji:'&#x1F93C&#x200D&#x2640&#xFE0F',name:'Women Wrestling'},{emoji:'&#x1F93D',name:'Person Playing Water Polo'},{emoji:'&#x1F93D&#x1F3FB',name:'Person Playing Water Polo: Light Skin Tone'},{emoji:'&#x1F93D&#x1F3FC',name:'Person Playing Water Polo: Medium-Light Skin Tone'},{emoji:'&#x1F93D&#x1F3FD',name:'Person Playing Water Polo: Medium Skin Tone'},{emoji:'&#x1F93D&#x1F3FE',name:'Person Playing Water Polo: Medium-Dark Skin Tone'},{emoji:'&#x1F93D&#x1F3FF',name:'Person Playing Water Polo: Dark Skin Tone'},{emoji:'&#x1F93D&#x200D&#x2642&#xFE0F',name:'Man Playing Water Polo'},{emoji:'&#x1F93D&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Playing Water Polo: Light Skin Tone'},{emoji:'&#x1F93D&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Playing Water Polo: Medium-Light Skin Tone'},{emoji:'&#x1F93D&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Playing Water Polo: Medium Skin Tone'},{emoji:'&#x1F93D&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Playing Water Polo: Medium-Dark Skin Tone'},{emoji:'&#x1F93D&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Playing Water Polo: Dark Skin Tone'},{emoji:'&#x1F93D&#x200D&#x2640&#xFE0F',name:'Woman Playing Water Polo'},{emoji:'&#x1F93D&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Playing Water Polo: Light Skin Tone'},{emoji:'&#x1F93D&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Playing Water Polo: Medium-Light Skin Tone'},{emoji:'&#x1F93D&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Playing Water Polo: Medium Skin Tone'},{emoji:'&#x1F93D&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Playing Water Polo: Medium-Dark Skin Tone'},{emoji:'&#x1F93D&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Playing Water Polo: Dark Skin Tone'},{emoji:'&#x1F93E',name:'Person Playing Handball'},{emoji:'&#x1F93E&#x1F3FB',name:'Person Playing Handball: Light Skin Tone'},{emoji:'&#x1F93E&#x1F3FC',name:'Person Playing Handball: Medium-Light Skin Tone'},{emoji:'&#x1F93E&#x1F3FD',name:'Person Playing Handball: Medium Skin Tone'},{emoji:'&#x1F93E&#x1F3FE',name:'Person Playing Handball: Medium-Dark Skin Tone'},{emoji:'&#x1F93E&#x1F3FF',name:'Person Playing Handball: Dark Skin Tone'},{emoji:'&#x1F93E&#x200D&#x2642&#xFE0F',name:'Man Playing Handball'},{emoji:'&#x1F93E&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Playing Handball: Light Skin Tone'},{emoji:'&#x1F93E&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Playing Handball: Medium-Light Skin Tone'},{emoji:'&#x1F93E&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Playing Handball: Medium Skin Tone'},{emoji:'&#x1F93E&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Playing Handball: Medium-Dark Skin Tone'},{emoji:'&#x1F93E&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Playing Handball: Dark Skin Tone'},{emoji:'&#x1F93E&#x200D&#x2640&#xFE0F',name:'Woman Playing Handball'},{emoji:'&#x1F93E&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Playing Handball: Light Skin Tone'},{emoji:'&#x1F93E&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Playing Handball: Medium-Light Skin Tone'},{emoji:'&#x1F93E&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Playing Handball: Medium Skin Tone'},{emoji:'&#x1F93E&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Playing Handball: Medium-Dark Skin Tone'},{emoji:'&#x1F93E&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Playing Handball: Dark Skin Tone'},{emoji:'&#x1F939',name:'Person Juggling'},{emoji:'&#x1F939&#x1F3FB',name:'Person Juggling: Light Skin Tone'},{emoji:'&#x1F939&#x1F3FC',name:'Person Juggling: Medium-Light Skin Tone'},{emoji:'&#x1F939&#x1F3FD',name:'Person Juggling: Medium Skin Tone'},{emoji:'&#x1F939&#x1F3FE',name:'Person Juggling: Medium-Dark Skin Tone'},{emoji:'&#x1F939&#x1F3FF',name:'Person Juggling: Dark Skin Tone'},{emoji:'&#x1F939&#x200D&#x2642&#xFE0F',name:'Man Juggling'},{emoji:'&#x1F939&#x1F3FB&#x200D&#x2642&#xFE0F',name:'Man Juggling: Light Skin Tone'},{emoji:'&#x1F939&#x1F3FC&#x200D&#x2642&#xFE0F',name:'Man Juggling: Medium-Light Skin Tone'},{emoji:'&#x1F939&#x1F3FD&#x200D&#x2642&#xFE0F',name:'Man Juggling: Medium Skin Tone'},{emoji:'&#x1F939&#x1F3FE&#x200D&#x2642&#xFE0F',name:'Man Juggling: Medium-Dark Skin Tone'},{emoji:'&#x1F939&#x1F3FF&#x200D&#x2642&#xFE0F',name:'Man Juggling: Dark Skin Tone'},{emoji:'&#x1F939&#x200D&#x2640&#xFE0F',name:'Woman Juggling'},{emoji:'&#x1F939&#x1F3FB&#x200D&#x2640&#xFE0F',name:'Woman Juggling: Light Skin Tone'},{emoji:'&#x1F939&#x1F3FC&#x200D&#x2640&#xFE0F',name:'Woman Juggling: Medium-Light Skin Tone'},{emoji:'&#x1F939&#x1F3FD&#x200D&#x2640&#xFE0F',name:'Woman Juggling: Medium Skin Tone'},{emoji:'&#x1F939&#x1F3FE&#x200D&#x2640&#xFE0F',name:'Woman Juggling: Medium-Dark Skin Tone'},{emoji:'&#x1F939&#x1F3FF&#x200D&#x2640&#xFE0F',name:'Woman Juggling: Dark Skin Tone'},{emoji:'&#x1F46B',name:'Man And Woman Holding Hands'},{emoji:'&#x1F46C',name:'Two Men Holding Hands'},{emoji:'&#x1F46D',name:'Two Women Holding Hands'},{emoji:'&#x1F48F',name:'Kiss'},{emoji:'&#x1F469&#x200D&#x2764&#xFE0F&#x200D&#x1F48B&#x200D&#x1F468',name:'Kiss: Woman, Man'},{emoji:'&#x1F468&#x200D&#x2764&#xFE0F&#x200D&#x1F48B&#x200D&#x1F468',name:'Kiss: Man, Man'},{emoji:'&#x1F469&#x200D&#x2764&#xFE0F&#x200D&#x1F48B&#x200D&#x1F469',name:'Kiss: Woman, Woman'},{emoji:'&#x1F491',name:'Couple With Heart'},{emoji:'&#x1F469&#x200D&#x2764&#xFE0F&#x200D&#x1F468',name:'Couple With Heart: Woman, Man'},{emoji:'&#x1F468&#x200D&#x2764&#xFE0F&#x200D&#x1F468',name:'Couple With Heart: Man, Man'},{emoji:'&#x1F469&#x200D&#x2764&#xFE0F&#x200D&#x1F469',name:'Couple With Heart: Woman, Woman'},{emoji:'&#x1F46A',name:'Family'},{emoji:'&#x1F468&#x200D&#x1F469&#x200D&#x1F466',name:'Family: Man, Woman, Boy'},{emoji:'&#x1F468&#x200D&#x1F469&#x200D&#x1F467',name:'Family: Man, Woman, Girl'},{emoji:'&#x1F468&#x200D&#x1F469&#x200D&#x1F467&#x200D&#x1F466',name:'Family: Man, Woman, Girl, Boy'},{emoji:'&#x1F468&#x200D&#x1F469&#x200D&#x1F466&#x200D&#x1F466',name:'Family: Man, Woman, Boy, Boy'},{emoji:'&#x1F468&#x200D&#x1F469&#x200D&#x1F467&#x200D&#x1F467',name:'Family: Man, Woman, Girl, Girl'},{emoji:'&#x1F468&#x200D&#x1F468&#x200D&#x1F466',name:'Family: Man, Man, Boy'},{emoji:'&#x1F468&#x200D&#x1F468&#x200D&#x1F467',name:'Family: Man, Man, Girl'},{emoji:'&#x1F468&#x200D&#x1F468&#x200D&#x1F467&#x200D&#x1F466',name:'Family: Man, Man, Girl, Boy'},{emoji:'&#x1F468&#x200D&#x1F468&#x200D&#x1F466&#x200D&#x1F466',name:'Family: Man, Man, Boy, Boy'},{emoji:'&#x1F468&#x200D&#x1F468&#x200D&#x1F467&#x200D&#x1F467',name:'Family: Man, Man, Girl, Girl'},{emoji:'&#x1F469&#x200D&#x1F469&#x200D&#x1F466',name:'Family: Woman, Woman, Boy'},{emoji:'&#x1F469&#x200D&#x1F469&#x200D&#x1F467',name:'Family: Woman, Woman, Girl'},{emoji:'&#x1F469&#x200D&#x1F469&#x200D&#x1F467&#x200D&#x1F466',name:'Family: Woman, Woman, Girl, Boy'},{emoji:'&#x1F469&#x200D&#x1F469&#x200D&#x1F466&#x200D&#x1F466',name:'Family: Woman, Woman, Boy, Boy'},{emoji:'&#x1F469&#x200D&#x1F469&#x200D&#x1F467&#x200D&#x1F467',name:'Family: Woman, Woman, Girl, Girl'},{emoji:'&#x1F468&#x200D&#x1F466',name:'Family: Man, Boy'},{emoji:'&#x1F468&#x200D&#x1F466&#x200D&#x1F466',name:'Family: Man, Boy, Boy'},{emoji:'&#x1F468&#x200D&#x1F467',name:'Family: Man, Girl'},{emoji:'&#x1F468&#x200D&#x1F467&#x200D&#x1F466',name:'Family: Man, Girl, Boy'},{emoji:'&#x1F468&#x200D&#x1F467&#x200D&#x1F467',name:'Family: Man, Girl, Girl'},{emoji:'&#x1F469&#x200D&#x1F466',name:'Family: Woman, Boy'},{emoji:'&#x1F469&#x200D&#x1F466&#x200D&#x1F466',name:'Family: Woman, Boy, Boy'},{emoji:'&#x1F469&#x200D&#x1F467',name:'Family: Woman, Girl'},{emoji:'&#x1F469&#x200D&#x1F467&#x200D&#x1F466',name:'Family: Woman, Girl, Boy'},{emoji:'&#x1F469&#x200D&#x1F467&#x200D&#x1F467',name:'Family: Woman, Girl, Girl'},{emoji:'&#x1F3FB',name:'Light Skin Tone'},{emoji:'&#x1F3FC',name:'Medium-Light Skin Tone'},{emoji:'&#x1F3FD',name:'Medium Skin Tone'},{emoji:'&#x1F3FE',name:'Medium-Dark Skin Tone'},{emoji:'&#x1F3FF',name:'Dark Skin Tone'},{emoji:'&#x1F4AA',name:'Flexed Biceps'},{emoji:'&#x1F4AA&#x1F3FB',name:'Flexed Biceps: Light Skin Tone'},{emoji:'&#x1F4AA&#x1F3FC',name:'Flexed Biceps: Medium-Light Skin Tone'},{emoji:'&#x1F4AA&#x1F3FD',name:'Flexed Biceps: Medium Skin Tone'},{emoji:'&#x1F4AA&#x1F3FE',name:'Flexed Biceps: Medium-Dark Skin Tone'},{emoji:'&#x1F4AA&#x1F3FF',name:'Flexed Biceps: Dark Skin Tone'},{emoji:'&#x1F933',name:'Selfie'},{emoji:'&#x1F933&#x1F3FB',name:'Selfie: Light Skin Tone'},{emoji:'&#x1F933&#x1F3FC',name:'Selfie: Medium-Light Skin Tone'},{emoji:'&#x1F933&#x1F3FD',name:'Selfie: Medium Skin Tone'},{emoji:'&#x1F933&#x1F3FE',name:'Selfie: Medium-Dark Skin Tone'},{emoji:'&#x1F933&#x1F3FF',name:'Selfie: Dark Skin Tone'},{emoji:'&#x1F448',name:'Backhand Index Pointing Left'},{emoji:'&#x1F448&#x1F3FB',name:'Backhand Index Pointing Left: Light Skin Tone'},{emoji:'&#x1F448&#x1F3FC',name:'Backhand Index Pointing Left: Medium-Light Skin Tone'},{emoji:'&#x1F448&#x1F3FD',name:'Backhand Index Pointing Left: Medium Skin Tone'},{emoji:'&#x1F448&#x1F3FE',name:'Backhand Index Pointing Left: Medium-Dark Skin Tone'},{emoji:'&#x1F448&#x1F3FF',name:'Backhand Index Pointing Left: Dark Skin Tone'},{emoji:'&#x1F449',name:'Backhand Index Pointing Right'},{emoji:'&#x1F449&#x1F3FB',name:'Backhand Index Pointing Right: Light Skin Tone'},{emoji:'&#x1F449&#x1F3FC',name:'Backhand Index Pointing Right: Medium-Light Skin Tone'},{emoji:'&#x1F449&#x1F3FD',name:'Backhand Index Pointing Right: Medium Skin Tone'},{emoji:'&#x1F449&#x1F3FE',name:'Backhand Index Pointing Right: Medium-Dark Skin Tone'},{emoji:'&#x1F449&#x1F3FF',name:'Backhand Index Pointing Right: Dark Skin Tone'},{emoji:'&#x261D',name:'Index Pointing Up'},{emoji:'&#x261D&#x1F3FB',name:'Index Pointing Up: Light Skin Tone'},{emoji:'&#x261D&#x1F3FC',name:'Index Pointing Up: Medium-Light Skin Tone'},{emoji:'&#x261D&#x1F3FD',name:'Index Pointing Up: Medium Skin Tone'},{emoji:'&#x261D&#x1F3FE',name:'Index Pointing Up: Medium-Dark Skin Tone'},{emoji:'&#x261D&#x1F3FF',name:'Index Pointing Up: Dark Skin Tone'},{emoji:'&#x1F446',name:'Backhand Index Pointing Up'},{emoji:'&#x1F446&#x1F3FB',name:'Backhand Index Pointing Up: Light Skin Tone'},{emoji:'&#x1F446&#x1F3FC',name:'Backhand Index Pointing Up: Medium-Light Skin Tone'},{emoji:'&#x1F446&#x1F3FD',name:'Backhand Index Pointing Up: Medium Skin Tone'},{emoji:'&#x1F446&#x1F3FE',name:'Backhand Index Pointing Up: Medium-Dark Skin Tone'},{emoji:'&#x1F446&#x1F3FF',name:'Backhand Index Pointing Up: Dark Skin Tone'},{emoji:'&#x1F595',name:'Middle Finger'},{emoji:'&#x1F595&#x1F3FB',name:'Middle Finger: Light Skin Tone'},{emoji:'&#x1F595&#x1F3FC',name:'Middle Finger: Medium-Light Skin Tone'},{emoji:'&#x1F595&#x1F3FD',name:'Middle Finger: Medium Skin Tone'},{emoji:'&#x1F595&#x1F3FE',name:'Middle Finger: Medium-Dark Skin Tone'},{emoji:'&#x1F595&#x1F3FF',name:'Middle Finger: Dark Skin Tone'},{emoji:'&#x1F447',name:'Backhand Index Pointing Down'},{emoji:'&#x1F447&#x1F3FB',name:'Backhand Index Pointing Down: Light Skin Tone'},{emoji:'&#x1F447&#x1F3FC',name:'Backhand Index Pointing Down: Medium-Light Skin Tone'},{emoji:'&#x1F447&#x1F3FD',name:'Backhand Index Pointing Down: Medium Skin Tone'},{emoji:'&#x1F447&#x1F3FE',name:'Backhand Index Pointing Down: Medium-Dark Skin Tone'},{emoji:'&#x1F447&#x1F3FF',name:'Backhand Index Pointing Down: Dark Skin Tone'},{emoji:'&#x270C',name:'Victory Hand'},{emoji:'&#x270C&#x1F3FB',name:'Victory Hand: Light Skin Tone'},{emoji:'&#x270C&#x1F3FC',name:'Victory Hand: Medium-Light Skin Tone'},{emoji:'&#x270C&#x1F3FD',name:'Victory Hand: Medium Skin Tone'},{emoji:'&#x270C&#x1F3FE',name:'Victory Hand: Medium-Dark Skin Tone'},{emoji:'&#x270C&#x1F3FF',name:'Victory Hand: Dark Skin Tone'},{emoji:'&#x1F91E',name:'Crossed Fingers'},{emoji:'&#x1F91E&#x1F3FB',name:'Crossed Fingers: Light Skin Tone'},{emoji:'&#x1F91E&#x1F3FC',name:'Crossed Fingers: Medium-Light Skin Tone'},{emoji:'&#x1F91E&#x1F3FD',name:'Crossed Fingers: Medium Skin Tone'},{emoji:'&#x1F91E&#x1F3FE',name:'Crossed Fingers: Medium-Dark Skin Tone'},{emoji:'&#x1F91E&#x1F3FF',name:'Crossed Fingers: Dark Skin Tone'},{emoji:'&#x1F596',name:'Vulcan Salute'},{emoji:'&#x1F596&#x1F3FB',name:'Vulcan Salute: Light Skin Tone'},{emoji:'&#x1F596&#x1F3FC',name:'Vulcan Salute: Medium-Light Skin Tone'},{emoji:'&#x1F596&#x1F3FD',name:'Vulcan Salute: Medium Skin Tone'},{emoji:'&#x1F596&#x1F3FE',name:'Vulcan Salute: Medium-Dark Skin Tone'},{emoji:'&#x1F596&#x1F3FF',name:'Vulcan Salute: Dark Skin Tone'},{emoji:'&#x1F918',name:'Sign Of The Horns'},{emoji:'&#x1F918&#x1F3FB',name:'Sign Of The Horns: Light Skin Tone'},{emoji:'&#x1F918&#x1F3FC',name:'Sign Of The Horns: Medium-Light Skin Tone'},{emoji:'&#x1F918&#x1F3FD',name:'Sign Of The Horns: Medium Skin Tone'},{emoji:'&#x1F918&#x1F3FE',name:'Sign Of The Horns: Medium-Dark Skin Tone'},{emoji:'&#x1F918&#x1F3FF',name:'Sign Of The Horns: Dark Skin Tone'},{emoji:'&#x1F919',name:'Call Me Hand'},{emoji:'&#x1F919&#x1F3FB',name:'Call Me Hand: Light Skin Tone'},{emoji:'&#x1F919&#x1F3FC',name:'Call Me Hand: Medium-Light Skin Tone'},{emoji:'&#x1F919&#x1F3FD',name:'Call Me Hand: Medium Skin Tone'},{emoji:'&#x1F919&#x1F3FE',name:'Call Me Hand: Medium-Dark Skin Tone'},{emoji:'&#x1F919&#x1F3FF',name:'Call Me Hand: Dark Skin Tone'},{emoji:'&#x1F590',name:'Raised Hand With Fingers Splayed'},{emoji:'&#x1F590&#x1F3FB',name:'Raised Hand With Fingers Splayed: Light Skin Tone'},{emoji:'&#x1F590&#x1F3FC',name:'Raised Hand With Fingers Splayed: Medium-Light Skin Tone'},{emoji:'&#x1F590&#x1F3FD',name:'Raised Hand With Fingers Splayed: Medium Skin Tone'},{emoji:'&#x1F590&#x1F3FE',name:'Raised Hand With Fingers Splayed: Medium-Dark Skin Tone'},{emoji:'&#x1F590&#x1F3FF',name:'Raised Hand With Fingers Splayed: Dark Skin Tone'},{emoji:'&#x270B',name:'Raised Hand'},{emoji:'&#x270B&#x1F3FB',name:'Raised Hand: Light Skin Tone'},{emoji:'&#x270B&#x1F3FC',name:'Raised Hand: Medium-Light Skin Tone'},{emoji:'&#x270B&#x1F3FD',name:'Raised Hand: Medium Skin Tone'},{emoji:'&#x270B&#x1F3FE',name:'Raised Hand: Medium-Dark Skin Tone'},{emoji:'&#x270B&#x1F3FF',name:'Raised Hand: Dark Skin Tone'},{emoji:'&#x1F44C',name:'OK Hand'},{emoji:'&#x1F44C&#x1F3FB',name:'OK Hand: Light Skin Tone'},{emoji:'&#x1F44C&#x1F3FC',name:'OK Hand: Medium-Light Skin Tone'},{emoji:'&#x1F44C&#x1F3FD',name:'OK Hand: Medium Skin Tone'},{emoji:'&#x1F44C&#x1F3FE',name:'OK Hand: Medium-Dark Skin Tone'},{emoji:'&#x1F44C&#x1F3FF',name:'OK Hand: Dark Skin Tone'},{emoji:'&#x1F44D',name:'Thumbs Up'},{emoji:'&#x1F44D&#x1F3FB',name:'Thumbs Up: Light Skin Tone'},{emoji:'&#x1F44D&#x1F3FC',name:'Thumbs Up: Medium-Light Skin Tone'},{emoji:'&#x1F44D&#x1F3FD',name:'Thumbs Up: Medium Skin Tone'},{emoji:'&#x1F44D&#x1F3FE',name:'Thumbs Up: Medium-Dark Skin Tone'},{emoji:'&#x1F44D&#x1F3FF',name:'Thumbs Up: Dark Skin Tone'},{emoji:'&#x1F44E',name:'Thumbs Down'},{emoji:'&#x1F44E&#x1F3FB',name:'Thumbs Down: Light Skin Tone'},{emoji:'&#x1F44E&#x1F3FC',name:'Thumbs Down: Medium-Light Skin Tone'},{emoji:'&#x1F44E&#x1F3FD',name:'Thumbs Down: Medium Skin Tone'},{emoji:'&#x1F44E&#x1F3FE',name:'Thumbs Down: Medium-Dark Skin Tone'},{emoji:'&#x1F44E&#x1F3FF',name:'Thumbs Down: Dark Skin Tone'},{emoji:'&#x270A',name:'Raised Fist'},{emoji:'&#x270A&#x1F3FB',name:'Raised Fist: Light Skin Tone'},{emoji:'&#x270A&#x1F3FC',name:'Raised Fist: Medium-Light Skin Tone'},{emoji:'&#x270A&#x1F3FD',name:'Raised Fist: Medium Skin Tone'},{emoji:'&#x270A&#x1F3FE',name:'Raised Fist: Medium-Dark Skin Tone'},{emoji:'&#x270A&#x1F3FF',name:'Raised Fist: Dark Skin Tone'},{emoji:'&#x1F44A',name:'Oncoming Fist'},{emoji:'&#x1F44A&#x1F3FB',name:'Oncoming Fist: Light Skin Tone'},{emoji:'&#x1F44A&#x1F3FC',name:'Oncoming Fist: Medium-Light Skin Tone'},{emoji:'&#x1F44A&#x1F3FD',name:'Oncoming Fist: Medium Skin Tone'},{emoji:'&#x1F44A&#x1F3FE',name:'Oncoming Fist: Medium-Dark Skin Tone'},{emoji:'&#x1F44A&#x1F3FF',name:'Oncoming Fist: Dark Skin Tone'},{emoji:'&#x1F91B',name:'Left-Facing Fist'},{emoji:'&#x1F91B&#x1F3FB',name:'Left-Facing Fist: Light Skin Tone'},{emoji:'&#x1F91B&#x1F3FC',name:'Left-Facing Fist: Medium-Light Skin Tone'},{emoji:'&#x1F91B&#x1F3FD',name:'Left-Facing Fist: Medium Skin Tone'},{emoji:'&#x1F91B&#x1F3FE',name:'Left-Facing Fist: Medium-Dark Skin Tone'},{emoji:'&#x1F91B&#x1F3FF',name:'Left-Facing Fist: Dark Skin Tone'},{emoji:'&#x1F91C',name:'Right-Facing Fist'},{emoji:'&#x1F91C&#x1F3FB',name:'Right-Facing Fist: Light Skin Tone'},{emoji:'&#x1F91C&#x1F3FC',name:'Right-Facing Fist: Medium-Light Skin Tone'},{emoji:'&#x1F91C&#x1F3FD',name:'Right-Facing Fist: Medium Skin Tone'},{emoji:'&#x1F91C&#x1F3FE',name:'Right-Facing Fist: Medium-Dark Skin Tone'},{emoji:'&#x1F91C&#x1F3FF',name:'Right-Facing Fist: Dark Skin Tone'},{emoji:'&#x1F91A',name:'Raised Back Of Hand'},{emoji:'&#x1F91A&#x1F3FB',name:'Raised Back Of Hand: Light Skin Tone'},{emoji:'&#x1F91A&#x1F3FC',name:'Raised Back Of Hand: Medium-Light Skin Tone'},{emoji:'&#x1F91A&#x1F3FD',name:'Raised Back Of Hand: Medium Skin Tone'},{emoji:'&#x1F91A&#x1F3FE',name:'Raised Back Of Hand: Medium-Dark Skin Tone'},{emoji:'&#x1F91A&#x1F3FF',name:'Raised Back Of Hand: Dark Skin Tone'},{emoji:'&#x1F44B',name:'Waving Hand'},{emoji:'&#x1F44B&#x1F3FB',name:'Waving Hand: Light Skin Tone'},{emoji:'&#x1F44B&#x1F3FC',name:'Waving Hand: Medium-Light Skin Tone'},{emoji:'&#x1F44B&#x1F3FD',name:'Waving Hand: Medium Skin Tone'},{emoji:'&#x1F44B&#x1F3FE',name:'Waving Hand: Medium-Dark Skin Tone'},{emoji:'&#x1F44B&#x1F3FF',name:'Waving Hand: Dark Skin Tone'},{emoji:'&#x1F44F',name:'Clapping Hands'},{emoji:'&#x1F44F&#x1F3FB',name:'Clapping Hands: Light Skin Tone'},{emoji:'&#x1F44F&#x1F3FC',name:'Clapping Hands: Medium-Light Skin Tone'},{emoji:'&#x1F44F&#x1F3FD',name:'Clapping Hands: Medium Skin Tone'},{emoji:'&#x1F44F&#x1F3FE',name:'Clapping Hands: Medium-Dark Skin Tone'},{emoji:'&#x1F44F&#x1F3FF',name:'Clapping Hands: Dark Skin Tone'},{emoji:'&#x270D',name:'Writing Hand'},{emoji:'&#x270D&#x1F3FB',name:'Writing Hand: Light Skin Tone'},{emoji:'&#x270D&#x1F3FC',name:'Writing Hand: Medium-Light Skin Tone'},{emoji:'&#x270D&#x1F3FD',name:'Writing Hand: Medium Skin Tone'},{emoji:'&#x270D&#x1F3FE',name:'Writing Hand: Medium-Dark Skin Tone'},{emoji:'&#x270D&#x1F3FF',name:'Writing Hand: Dark Skin Tone'},{emoji:'&#x1F450',name:'Open Hands'},{emoji:'&#x1F450&#x1F3FB',name:'Open Hands: Light Skin Tone'},{emoji:'&#x1F450&#x1F3FC',name:'Open Hands: Medium-Light Skin Tone'},{emoji:'&#x1F450&#x1F3FD',name:'Open Hands: Medium Skin Tone'},{emoji:'&#x1F450&#x1F3FE',name:'Open Hands: Medium-Dark Skin Tone'},{emoji:'&#x1F450&#x1F3FF',name:'Open Hands: Dark Skin Tone'},{emoji:'&#x1F64C',name:'Raising Hands'},{emoji:'&#x1F64C&#x1F3FB',name:'Raising Hands: Light Skin Tone'},{emoji:'&#x1F64C&#x1F3FC',name:'Raising Hands: Medium-Light Skin Tone'},{emoji:'&#x1F64C&#x1F3FD',name:'Raising Hands: Medium Skin Tone'},{emoji:'&#x1F64C&#x1F3FE',name:'Raising Hands: Medium-Dark Skin Tone'},{emoji:'&#x1F64C&#x1F3FF',name:'Raising Hands: Dark Skin Tone'},{emoji:'&#x1F64F',name:'Folded Hands'},{emoji:'&#x1F64F&#x1F3FB',name:'Folded Hands: Light Skin Tone'},{emoji:'&#x1F64F&#x1F3FC',name:'Folded Hands: Medium-Light Skin Tone'},{emoji:'&#x1F64F&#x1F3FD',name:'Folded Hands: Medium Skin Tone'},{emoji:'&#x1F64F&#x1F3FE',name:'Folded Hands: Medium-Dark Skin Tone'},{emoji:'&#x1F64F&#x1F3FF',name:'Folded Hands: Dark Skin Tone'},{emoji:'&#x1F91D',name:'Handshake'},{emoji:'&#x1F485',name:'Nail Polish'},{emoji:'&#x1F485&#x1F3FB',name:'Nail Polish: Light Skin Tone'},{emoji:'&#x1F485&#x1F3FC',name:'Nail Polish: Medium-Light Skin Tone'},{emoji:'&#x1F485&#x1F3FD',name:'Nail Polish: Medium Skin Tone'},{emoji:'&#x1F485&#x1F3FE',name:'Nail Polish: Medium-Dark Skin Tone'},{emoji:'&#x1F485&#x1F3FF',name:'Nail Polish: Dark Skin Tone'},{emoji:'&#x1F442',name:'Ear'},{emoji:'&#x1F442&#x1F3FB',name:'Ear: Light Skin Tone'},{emoji:'&#x1F442&#x1F3FC',name:'Ear: Medium-Light Skin Tone'},{emoji:'&#x1F442&#x1F3FD',name:'Ear: Medium Skin Tone'},{emoji:'&#x1F442&#x1F3FE',name:'Ear: Medium-Dark Skin Tone'},{emoji:'&#x1F442&#x1F3FF',name:'Ear: Dark Skin Tone'},{emoji:'&#x1F443',name:'Nose'},{emoji:'&#x1F443&#x1F3FB',name:'Nose: Light Skin Tone'},{emoji:'&#x1F443&#x1F3FC',name:'Nose: Medium-Light Skin Tone'},{emoji:'&#x1F443&#x1F3FD',name:'Nose: Medium Skin Tone'},{emoji:'&#x1F443&#x1F3FE',name:'Nose: Medium-Dark Skin Tone'},{emoji:'&#x1F443&#x1F3FF',name:'Nose: Dark Skin Tone'},{emoji:'&#x1F463',name:'Footprints'},{emoji:'&#x1F440',name:'Eyes'},{emoji:'&#x1F441',name:'Eye'},{emoji:'&#x1F441&#xFE0F&#x200D&#x1F5E8&#xFE0F',name:'Eye In Speech Bubble'},{emoji:'&#x1F445',name:'Tongue'},{emoji:'&#x1F444',name:'Mouth'},{emoji:'&#x1F48B',name:'Kiss Mark'},{emoji:'&#x1F498',name:'Heart With Arrow'},{emoji:'&#x2764',name:'Red Heart'},{emoji:'&#x1F493',name:'Beating Heart'},{emoji:'&#x1F494',name:'Broken Heart'},{emoji:'&#x1F495',name:'Two Hearts'},{emoji:'&#x1F496',name:'Sparkling Heart'},{emoji:'&#x1F497',name:'Growing Heart'},{emoji:'&#x1F499',name:'Blue Heart'},{emoji:'&#x1F49A',name:'Green Heart'},{emoji:'&#x1F49B',name:'Yellow Heart'},{emoji:'&#x1F49C',name:'Purple Heart'},{emoji:'&#x1F5A4',name:'Black Heart'},{emoji:'&#x1F49D',name:'Heart With Ribbon'},{emoji:'&#x1F49E',name:'Revolving Hearts'},{emoji:'&#x1F49F',name:'Heart Decoration'},{emoji:'&#x2763',name:'Heavy Heart Exclamation'},{emoji:'&#x1F48C',name:'Love Letter'},{emoji:'&#x1F4A4',name:'Zzz'},{emoji:'&#x1F4A2',name:'Anger Symbol'},{emoji:'&#x1F4A3',name:'Bomb'},{emoji:'&#x1F4A5',name:'Collision'},{emoji:'&#x1F4A6',name:'Sweat Droplets'},{emoji:'&#x1F4A8',name:'Dashing Away'},{emoji:'&#x1F4AB',name:'Dizzy'},{emoji:'&#x1F4AC',name:'Speech Balloon'},{emoji:'&#x1F5E8',name:'Left Speech Bubble'},{emoji:'&#x1F5EF',name:'Right Anger Bubble'},{emoji:'&#x1F4AD',name:'Thought Balloon'},{emoji:'&#x1F573',name:'Hole'},{emoji:'&#x1F453',name:'Glasses'},{emoji:'&#x1F576',name:'Sunglasses'},{emoji:'&#x1F454',name:'Necktie'},{emoji:'&#x1F455',name:'T-Shirt'},{emoji:'&#x1F456',name:'Jeans'},{emoji:'&#x1F457',name:'Dress'},{emoji:'&#x1F458',name:'Kimono'},{emoji:'&#x1F459',name:'Bikini'},{emoji:'&#x1F45A',name:'Womanâs Clothes'},{emoji:'&#x1F45B',name:'Purse'},{emoji:'&#x1F45C',name:'Handbag'},{emoji:'&#x1F45D',name:'Clutch Bag'},{emoji:'&#x1F6CD',name:'Shopping Bags'},{emoji:'&#x1F392',name:'School Backpack'},{emoji:'&#x1F45E',name:'Manâs Shoe'},{emoji:'&#x1F45F',name:'Running Shoe'},{emoji:'&#x1F460',name:'High-Heeled Shoe'},{emoji:'&#x1F461',name:'Womanâs Sandal'},{emoji:'&#x1F462',name:'Womanâs Boot'},{emoji:'&#x1F451',name:'Crown'},{emoji:'&#x1F452',name:'Womanâs Hat'},{emoji:'&#x1F3A9',name:'Top Hat'},{emoji:'&#x1F393',name:'Graduation Cap'},{emoji:'&#x26D1',name:'Rescue Workerâs Helmet'},{emoji:'&#x1F4FF',name:'Prayer Beads'},{emoji:'&#x1F484',name:'Lipstick'},{emoji:'&#x1F48D',name:'Ring'},{emoji:'&#x1F48E',name:'Gem Stone'},{emoji:'&#x1F435',name:'Monkey Face'},{emoji:'&#x1F412',name:'Monkey'},{emoji:'&#x1F98D',name:'Gorilla'},{emoji:'&#x1F436',name:'Dog Face'},{emoji:'&#x1F415',name:'Dog'},{emoji:'&#x1F429',name:'Poodle'},{emoji:'&#x1F43A',name:'Wolf Face'},{emoji:'&#x1F98A',name:'Fox Face'},{emoji:'&#x1F431',name:'Cat Face'},{emoji:'&#x1F408',name:'Cat'},{emoji:'&#x1F981',name:'Lion Face'},{emoji:'&#x1F42F',name:'Tiger Face'},{emoji:'&#x1F405',name:'Tiger'},{emoji:'&#x1F406',name:'Leopard'},{emoji:'&#x1F434',name:'Horse Face'},{emoji:'&#x1F40E',name:'Horse'},{emoji:'&#x1F98C',name:'Deer'},{emoji:'&#x1F984',name:'Unicorn Face'},{emoji:'&#x1F42E',name:'Cow Face'},{emoji:'&#x1F402',name:'Ox'},{emoji:'&#x1F403',name:'Water Buffalo'},{emoji:'&#x1F404',name:'Cow'},{emoji:'&#x1F437',name:'Pig Face'},{emoji:'&#x1F416',name:'Pig'},{emoji:'&#x1F417',name:'Boar'},{emoji:'&#x1F43D',name:'Pig Nose'},{emoji:'&#x1F40F',name:'Ram'},{emoji:'&#x1F411',name:'Sheep'},{emoji:'&#x1F410',name:'Goat'},{emoji:'&#x1F42A',name:'Camel'},{emoji:'&#x1F42B',name:'Two-Hump Camel'},{emoji:'&#x1F418',name:'Elephant'},{emoji:'&#x1F98F',name:'Rhinoceros'},{emoji:'&#x1F42D',name:'Mouse Face'},{emoji:'&#x1F401',name:'Mouse'},{emoji:'&#x1F400',name:'Rat'},{emoji:'&#x1F439',name:'Hamster Face'},{emoji:'&#x1F430',name:'Rabbit Face'},{emoji:'&#x1F407',name:'Rabbit'},{emoji:'&#x1F43F',name:'Chipmunk'},{emoji:'&#x1F987',name:'Bat'},{emoji:'&#x1F43B',name:'Bear Face'},{emoji:'&#x1F428',name:'Koala'},{emoji:'&#x1F43C',name:'Panda Face'},{emoji:'&#x1F43E',name:'Paw Prints'},{emoji:'&#x1F983',name:'Turkey'},{emoji:'&#x1F414',name:'Chicken'},{emoji:'&#x1F413',name:'Rooster'},{emoji:'&#x1F423',name:'Hatching Chick'},{emoji:'&#x1F424',name:'Baby Chick'},{emoji:'&#x1F425',name:'Front-Facing Baby Chick'},{emoji:'&#x1F426',name:'Bird'},{emoji:'&#x1F427',name:'Penguin'},{emoji:'&#x1F54A',name:'Dove'},{emoji:'&#x1F985',name:'Eagle'},{emoji:'&#x1F986',name:'Duck'},{emoji:'&#x1F989',name:'Owl'},{emoji:'&#x1F438',name:'Frog Face'},{emoji:'&#x1F40A',name:'Crocodile'},{emoji:'&#x1F422',name:'Turtle'},{emoji:'&#x1F98E',name:'Lizard'},{emoji:'&#x1F40D',name:'Snake'},{emoji:'&#x1F432',name:'Dragon Face'},{emoji:'&#x1F409',name:'Dragon'},{emoji:'&#x1F433',name:'Spouting Whale'},{emoji:'&#x1F40B',name:'Whale'},{emoji:'&#x1F42C',name:'Dolphin'},{emoji:'&#x1F41F',name:'Fish'},{emoji:'&#x1F420',name:'Tropical Fish'},{emoji:'&#x1F421',name:'Blowfish'},{emoji:'&#x1F988',name:'Shark'},{emoji:'&#x1F419',name:'Octopus'},{emoji:'&#x1F41A',name:'Spiral Shell'},{emoji:'&#x1F980',name:'Crab'},{emoji:'&#x1F990',name:'Shrimp'},{emoji:'&#x1F991',name:'Squid'},{emoji:'&#x1F98B',name:'Butterfly'},{emoji:'&#x1F40C',name:'Snail'},{emoji:'&#x1F41B',name:'Bug'},{emoji:'&#x1F41C',name:'Ant'},{emoji:'&#x1F41D',name:'Honeybee'},{emoji:'&#x1F41E',name:'Lady Beetle'},{emoji:'&#x1F577',name:'Spider'},{emoji:'&#x1F578',name:'Spider Web'},{emoji:'&#x1F982',name:'Scorpion'},{emoji:'&#x1F490',name:'Bouquet'},{emoji:'&#x1F338',name:'Cherry Blossom'},{emoji:'&#x1F4AE',name:'White Flower'},{emoji:'&#x1F3F5',name:'Rosette'},{emoji:'&#x1F339',name:'Rose'},{emoji:'&#x1F940',name:'Wilted Flower'},{emoji:'&#x1F33A',name:'Hibiscus'},{emoji:'&#x1F33B',name:'Sunflower'},{emoji:'&#x1F33C',name:'Blossom'},{emoji:'&#x1F337',name:'Tulip'},{emoji:'&#x1F331',name:'Seedling'},{emoji:'&#x1F332',name:'Evergreen Tree'},{emoji:'&#x1F333',name:'Deciduous Tree'},{emoji:'&#x1F334',name:'Palm Tree'},{emoji:'&#x1F335',name:'Cactus'},{emoji:'&#x1F33E',name:'Sheaf Of Rice'},{emoji:'&#x1F33F',name:'Herb'},{emoji:'&#x2618',name:'Shamrock'},{emoji:'&#x1F340',name:'Four Leaf Clover'},{emoji:'&#x1F341',name:'Maple Leaf'},{emoji:'&#x1F342',name:'Fallen Leaf'},{emoji:'&#x1F343',name:'Leaf Fluttering In Wind'},{emoji:'&#x1F347',name:'Grapes'},{emoji:'&#x1F348',name:'Melon'},{emoji:'&#x1F349',name:'Watermelon'},{emoji:'&#x1F34A',name:'Tangerine'},{emoji:'&#x1F34B',name:'Lemon'},{emoji:'&#x1F34C',name:'Banana'},{emoji:'&#x1F34D',name:'Pineapple'},{emoji:'&#x1F34E',name:'Red Apple'},{emoji:'&#x1F34F',name:'Green Apple'},{emoji:'&#x1F350',name:'Pear'},{emoji:'&#x1F351',name:'Peach'},{emoji:'&#x1F352',name:'Cherries'},{emoji:'&#x1F353',name:'Strawberry'},{emoji:'&#x1F95D',name:'Kiwi Fruit'},{emoji:'&#x1F345',name:'Tomato'},{emoji:'&#x1F951',name:'Avocado'},{emoji:'&#x1F346',name:'Eggplant'},{emoji:'&#x1F954',name:'Potato'},{emoji:'&#x1F955',name:'Carrot'},{emoji:'&#x1F33D',name:'Ear Of Corn'},{emoji:'&#x1F336',name:'Hot Pepper'},{emoji:'&#x1F952',name:'Cucumber'},{emoji:'&#x1F344',name:'Mushroom'},{emoji:'&#x1F95C',name:'Peanuts'},{emoji:'&#x1F330',name:'Chestnut'},{emoji:'&#x1F35E',name:'Bread'},{emoji:'&#x1F950',name:'Croissant'},{emoji:'&#x1F956',name:'Baguette Bread'},{emoji:'&#x1F95E',name:'Pancakes'},{emoji:'&#x1F9C0',name:'Cheese Wedge'},{emoji:'&#x1F356',name:'Meat On Bone'},{emoji:'&#x1F357',name:'Poultry Leg'},{emoji:'&#x1F953',name:'Bacon'},{emoji:'&#x1F354',name:'Hamburger'},{emoji:'&#x1F35F',name:'French Fries'},{emoji:'&#x1F355',name:'Pizza'},{emoji:'&#x1F32D',name:'Hot Dog'},{emoji:'&#x1F32E',name:'Taco'},{emoji:'&#x1F32F',name:'Burrito'},{emoji:'&#x1F959',name:'Stuffed Flatbread'},{emoji:'&#x1F95A',name:'Egg'},{emoji:'&#x1F373',name:'Cooking'},{emoji:'&#x1F958',name:'Shallow Pan Of Food'},{emoji:'&#x1F372',name:'Pot Of Food'},{emoji:'&#x1F957',name:'Green Salad'},{emoji:'&#x1F37F',name:'Popcorn'},{emoji:'&#x1F371',name:'Bento Box'},{emoji:'&#x1F358',name:'Rice Cracker'},{emoji:'&#x1F359',name:'Rice Ball'},{emoji:'&#x1F35A',name:'Cooked Rice'},{emoji:'&#x1F35B',name:'Curry Rice'},{emoji:'&#x1F35C',name:'Steaming Bowl'},{emoji:'&#x1F35D',name:'Spaghetti'},{emoji:'&#x1F360',name:'Roasted Sweet Potato'},{emoji:'&#x1F362',name:'Oden'},{emoji:'&#x1F363',name:'Sushi'},{emoji:'&#x1F364',name:'Fried Shrimp'},{emoji:'&#x1F365',name:'Fish Cake With Swirl'},{emoji:'&#x1F361',name:'Dango'},{emoji:'&#x1F366',name:'Soft Ice Cream'},{emoji:'&#x1F367',name:'Shaved Ice'},{emoji:'&#x1F368',name:'Ice Cream'},{emoji:'&#x1F369',name:'Doughnut'},{emoji:'&#x1F36A',name:'Cookie'},{emoji:'&#x1F382',name:'Birthday Cake'},{emoji:'&#x1F370',name:'Shortcake'},{emoji:'&#x1F36B',name:'Chocolate Bar'},{emoji:'&#x1F36C',name:'Candy'},{emoji:'&#x1F36D',name:'Lollipop'},{emoji:'&#x1F36E',name:'Custard'},{emoji:'&#x1F36F',name:'Honey Pot'},{emoji:'&#x1F37C',name:'Baby Bottle'},{emoji:'&#x1F95B',name:'Glass Of Milk'},{emoji:'&#x2615',name:'Hot Beverage'},{emoji:'&#x1F375',name:'Teacup Without Handle'},{emoji:'&#x1F376',name:'Sake'},{emoji:'&#x1F37E',name:'Bottle With Popping Cork'},{emoji:'&#x1F377',name:'Wine Glass'},{emoji:'&#x1F378',name:'Cocktail Glass'},{emoji:'&#x1F379',name:'Tropical Drink'},{emoji:'&#x1F37A',name:'Beer Mug'},{emoji:'&#x1F37B',name:'Clinking Beer Mugs'},{emoji:'&#x1F942',name:'Clinking Glasses'},{emoji:'&#x1F943',name:'Tumbler Glass'},{emoji:'&#x1F37D',name:'Fork And Knife With Plate'},{emoji:'&#x1F374',name:'Fork And Knife'},{emoji:'&#x1F944',name:'Spoon'},{emoji:'&#x1F52A',name:'Kitchen Knife'},{emoji:'&#x1F3FA',name:'Amphora'},{emoji:'&#x1F30D',name:'Globe Showing Europe-Africa'},{emoji:'&#x1F30E',name:'Globe Showing Americas'},{emoji:'&#x1F30F',name:'Globe Showing Asia-Australia'},{emoji:'&#x1F310',name:'Globe With Meridians'},{emoji:'&#x1F5FA',name:'World Map'},{emoji:'&#x1F5FE',name:'Map Of Japan'},{emoji:'&#x1F3D4',name:'Snow-Capped Mountain'},{emoji:'&#x26F0',name:'Mountain'},{emoji:'&#x1F30B',name:'Volcano'},{emoji:'&#x1F5FB',name:'Mount Fuji'},{emoji:'&#x1F3D5',name:'Camping'},{emoji:'&#x1F3D6',name:'Beach With Umbrella'},{emoji:'&#x1F3DC',name:'Desert'},{emoji:'&#x1F3DD',name:'Desert Island'},{emoji:'&#x1F3DE',name:'National Park'},{emoji:'&#x1F3DF',name:'Stadium'},{emoji:'&#x1F3DB',name:'Classical Building'},{emoji:'&#x1F3D7',name:'Building Construction'},{emoji:'&#x1F3D8',name:'House'},{emoji:'&#x1F3D9',name:'Cityscape'},{emoji:'&#x1F3DA',name:'Derelict House'},{emoji:'&#x1F3E0',name:'House'},{emoji:'&#x1F3E1',name:'House With Garden'},{emoji:'&#x1F3E2',name:'Office Building'},{emoji:'&#x1F3E3',name:'Japanese Post Office'},{emoji:'&#x1F3E4',name:'Post Office'},{emoji:'&#x1F3E5',name:'Hospital'},{emoji:'&#x1F3E6',name:'Bank'},{emoji:'&#x1F3E8',name:'Hotel'},{emoji:'&#x1F3E9',name:'Love Hotel'},{emoji:'&#x1F3EA',name:'Convenience Store'},{emoji:'&#x1F3EB',name:'School'},{emoji:'&#x1F3EC',name:'Department Store'},{emoji:'&#x1F3ED',name:'Factory'},{emoji:'&#x1F3EF',name:'Japanese Castle'},{emoji:'&#x1F3F0',name:'Castle'},{emoji:'&#x1F492',name:'Wedding'},{emoji:'&#x1F5FC',name:'Tokyo Tower'},{emoji:'&#x1F5FD',name:'Statue Of Liberty'},{emoji:'&#x26EA',name:'Church'},{emoji:'&#x1F54C',name:'Mosque'},{emoji:'&#x1F54D',name:'Synagogue'},{emoji:'&#x26E9',name:'Shinto Shrine'},{emoji:'&#x1F54B',name:'Kaaba'},{emoji:'&#x26F2',name:'Fountain'},{emoji:'&#x26FA',name:'Tent'},{emoji:'&#x1F301',name:'Foggy'},{emoji:'&#x1F303',name:'Night With Stars'},{emoji:'&#x1F304',name:'Sunrise Over Mountains'},{emoji:'&#x1F305',name:'Sunrise'},{emoji:'&#x1F306',name:'Cityscape At Dusk'},{emoji:'&#x1F307',name:'Sunset'},{emoji:'&#x1F309',name:'Bridge At Night'},{emoji:'&#x2668',name:'Hot Springs'},{emoji:'&#x1F30C',name:'Milky Way'},{emoji:'&#x1F3A0',name:'Carousel Horse'},{emoji:'&#x1F3A1',name:'Ferris Wheel'},{emoji:'&#x1F3A2',name:'Roller Coaster'},{emoji:'&#x1F488',name:'Barber Pole'},{emoji:'&#x1F3AA',name:'Circus Tent'},{emoji:'&#x1F3AD',name:'Performing Arts'},{emoji:'&#x1F5BC',name:'Framed Picture'},{emoji:'&#x1F3A8',name:'Artist Palette'},{emoji:'&#x1F3B0',name:'Slot Machine'},{emoji:'&#x1F682',name:'Locomotive'},{emoji:'&#x1F683',name:'Railway Car'},{emoji:'&#x1F684',name:'High-Speed Train'},{emoji:'&#x1F685',name:'High-Speed Train With Bullet Nose'},{emoji:'&#x1F686',name:'Train'},{emoji:'&#x1F687',name:'Metro'},{emoji:'&#x1F688',name:'Light Rail'},{emoji:'&#x1F689',name:'Station'},{emoji:'&#x1F68A',name:'Tram'},{emoji:'&#x1F69D',name:'Monorail'},{emoji:'&#x1F69E',name:'Mountain Railway'},{emoji:'&#x1F68B',name:'Tram Car'},{emoji:'&#x1F68C',name:'Bus'},{emoji:'&#x1F68D',name:'Oncoming Bus'},{emoji:'&#x1F68E',name:'Trolleybus'},{emoji:'&#x1F690',name:'Minibus'},{emoji:'&#x1F691',name:'Ambulance'},{emoji:'&#x1F692',name:'Fire Engine'},{emoji:'&#x1F693',name:'Police Car'},{emoji:'&#x1F694',name:'Oncoming Police Car'},{emoji:'&#x1F695',name:'Taxi'},{emoji:'&#x1F696',name:'Oncoming Taxi'},{emoji:'&#x1F697',name:'Automobile'},{emoji:'&#x1F698',name:'Oncoming Automobile'},{emoji:'&#x1F699',name:'Sport Utility Vehicle'},{emoji:'&#x1F69A',name:'Delivery Truck'},{emoji:'&#x1F69B',name:'Articulated Lorry'},{emoji:'&#x1F69C',name:'Tractor'},{emoji:'&#x1F6B2',name:'Bicycle'},{emoji:'&#x1F6F4',name:'Kick Scooter'},{emoji:'&#x1F6F5',name:'Motor Scooter'},{emoji:'&#x1F68F',name:'Bus Stop'},{emoji:'&#x1F6E3',name:'Motorway'},{emoji:'&#x1F6E4',name:'Railway Track'},{emoji:'&#x26FD',name:'Fuel Pump'},{emoji:'&#x1F6A8',name:'Police Car Light'},{emoji:'&#x1F6A5',name:'Horizontal Traffic Light'},{emoji:'&#x1F6A6',name:'Vertical Traffic Light'},{emoji:'&#x1F6A7',name:'Construction'},{emoji:'&#x1F6D1',name:'Stop Sign'},{emoji:'&#x2693',name:'Anchor'},{emoji:'&#x26F5',name:'Sailboat'},{emoji:'&#x1F6F6',name:'Canoe'},{emoji:'&#x1F6A4',name:'Speedboat'},{emoji:'&#x1F6F3',name:'Passenger Ship'},{emoji:'&#x26F4',name:'Ferry'},{emoji:'&#x1F6E5',name:'Motor Boat'},{emoji:'&#x1F6A2',name:'Ship'},{emoji:'&#x2708',name:'Airplane'},{emoji:'&#x1F6E9',name:'Small Airplane'},{emoji:'&#x1F6EB',name:'Airplane Departure'},{emoji:'&#x1F6EC',name:'Airplane Arrival'},{emoji:'&#x1F4BA',name:'Seat'},{emoji:'&#x1F681',name:'Helicopter'},{emoji:'&#x1F69F',name:'Suspension Railway'},{emoji:'&#x1F6A0',name:'Mountain Cableway'},{emoji:'&#x1F6A1',name:'Aerial Tramway'},{emoji:'&#x1F680',name:'Rocket'},{emoji:'&#x1F6F0',name:'Satellite'},{emoji:'&#x1F6CE',name:'Bellhop Bell'},{emoji:'&#x1F6AA',name:'Door'},{emoji:'&#x1F6CC',name:'Person In Bed'},{emoji:'&#x1F6CC&#x1F3FB',name:'Person In Bed: Light Skin Tone'},{emoji:'&#x1F6CC&#x1F3FC',name:'Person In Bed: Medium-Light Skin Tone'},{emoji:'&#x1F6CC&#x1F3FD',name:'Person In Bed: Medium Skin Tone'},{emoji:'&#x1F6CC&#x1F3FE',name:'Person In Bed: Medium-Dark Skin Tone'},{emoji:'&#x1F6CC&#x1F3FF',name:'Person In Bed: Dark Skin Tone'},{emoji:'&#x1F6CF',name:'Bed'},{emoji:'&#x1F6CB',name:'Couch And Lamp'},{emoji:'&#x1F6BD',name:'Toilet'},{emoji:'&#x1F6BF',name:'Shower'},{emoji:'&#x1F6C0',name:'Person Taking Bath'},{emoji:'&#x1F6C0&#x1F3FB',name:'Person Taking Bath: Light Skin Tone'},{emoji:'&#x1F6C0&#x1F3FC',name:'Person Taking Bath: Medium-Light Skin Tone'},{emoji:'&#x1F6C0&#x1F3FD',name:'Person Taking Bath: Medium Skin Tone'},{emoji:'&#x1F6C0&#x1F3FE',name:'Person Taking Bath: Medium-Dark Skin Tone'},{emoji:'&#x1F6C0&#x1F3FF',name:'Person Taking Bath: Dark Skin Tone'},{emoji:'&#x1F6C1',name:'Bathtub'},{emoji:'&#x231B',name:'Hourglass'},{emoji:'&#x23F3',name:'Hourglass With Flowing Sand'},{emoji:'&#x231A',name:'Watch'},{emoji:'&#x23F0',name:'Alarm Clock'},{emoji:'&#x23F1',name:'Stopwatch'},{emoji:'&#x23F2',name:'Timer Clock'},{emoji:'&#x1F570',name:'Mantelpiece Clock'},{emoji:'&#x1F55B',name:'Twelve Oâclock'},{emoji:'&#x1F567',name:'Twelve-Thirty'},{emoji:'&#x1F550',name:'One Oâclock'},{emoji:'&#x1F55C',name:'One-Thirty'},{emoji:'&#x1F551',name:'Two Oâclock'},{emoji:'&#x1F55D',name:'Two-Thirty'},{emoji:'&#x1F552',name:'Three Oâclock'},{emoji:'&#x1F55E',name:'Three-Thirty'},{emoji:'&#x1F553',name:'Four Oâclock'},{emoji:'&#x1F55F',name:'Four-Thirty'},{emoji:'&#x1F554',name:'Five Oâclock'},{emoji:'&#x1F560',name:'Five-Thirty'},{emoji:'&#x1F555',name:'Six Oâclock'},{emoji:'&#x1F561',name:'Six-Thirty'},{emoji:'&#x1F556',name:'Seven Oâclock'},{emoji:'&#x1F562',name:'Seven-Thirty'},{emoji:'&#x1F557',name:'Eight Oâclock'},{emoji:'&#x1F563',name:'Eight-Thirty'},{emoji:'&#x1F558',name:'Nine Oâclock'},{emoji:'&#x1F564',name:'Nine-Thirty'},{emoji:'&#x1F559',name:'Ten Oâclock'},{emoji:'&#x1F565',name:'Ten-Thirty'},{emoji:'&#x1F55A',name:'Eleven Oâclock'},{emoji:'&#x1F566',name:'Eleven-Thirty'},{emoji:'&#x1F311',name:'New Moon'},{emoji:'&#x1F312',name:'Waxing Crescent Moon'},{emoji:'&#x1F313',name:'First Quarter Moon'},{emoji:'&#x1F314',name:'Waxing Gibbous Moon'},{emoji:'&#x1F315',name:'Full Moon'},{emoji:'&#x1F316',name:'Waning Gibbous Moon'},{emoji:'&#x1F317',name:'Last Quarter Moon'},{emoji:'&#x1F318',name:'Waning Crescent Moon'},{emoji:'&#x1F319',name:'Crescent Moon'},{emoji:'&#x1F31A',name:'New Moon Face'},{emoji:'&#x1F31B',name:'First Quarter Moon With Face'},{emoji:'&#x1F31C',name:'Last Quarter Moon With Face'},{emoji:'&#x1F321',name:'Thermometer'},{emoji:'&#x2600',name:'Sun'},{emoji:'&#x1F31D',name:'Full Moon With Face'},{emoji:'&#x1F31E',name:'Sun With Face'},{emoji:'&#x2B50',name:'White Medium Star'},{emoji:'&#x1F31F',name:'Glowing Star'},{emoji:'&#x1F320',name:'Shooting Star'},{emoji:'&#x2601',name:'Cloud'},{emoji:'&#x26C5',name:'Sun Behind Cloud'},{emoji:'&#x26C8',name:'Cloud With Lightning And Rain'},{emoji:'&#x1F324',name:'Sun Behind Small Cloud'},{emoji:'&#x1F325',name:'Sun Behind Large Cloud'},{emoji:'&#x1F326',name:'Sun Behind Rain Cloud'},{emoji:'&#x1F327',name:'Cloud With Rain'},{emoji:'&#x1F328',name:'Cloud With Snow'},{emoji:'&#x1F329',name:'Cloud With Lightning'},{emoji:'&#x1F32A',name:'Tornado'},{emoji:'&#x1F32B',name:'Fog'},{emoji:'&#x1F32C',name:'Wind Face'},{emoji:'&#x1F300',name:'Cyclone'},{emoji:'&#x1F308',name:'Rainbow'},{emoji:'&#x1F302',name:'Closed Umbrella'},{emoji:'&#x2602',name:'Umbrella'},{emoji:'&#x2614',name:'Umbrella With Rain Drops'},{emoji:'&#x26F1',name:'Umbrella On Ground'},{emoji:'&#x26A1',name:'High Voltage'},{emoji:'&#x2744',name:'Snowflake'},{emoji:'&#x2603',name:'Snowman'},{emoji:'&#x26C4',name:'Snowman Without Snow'},{emoji:'&#x2604',name:'Comet'},{emoji:'&#x1F525',name:'Fire'},{emoji:'&#x1F4A7',name:'Droplet'},{emoji:'&#x1F30A',name:'Water Wave'},{emoji:'&#x1F383',name:'Jack-O-Lantern'},{emoji:'&#x1F384',name:'Christmas Tree'},{emoji:'&#x1F386',name:'Fireworks'},{emoji:'&#x1F387',name:'Sparkler'},{emoji:'&#x2728',name:'Sparkles'},{emoji:'&#x1F388',name:'Balloon'},{emoji:'&#x1F389',name:'Party Popper'},{emoji:'&#x1F38A',name:'Confetti Ball'},{emoji:'&#x1F38B',name:'Tanabata Tree'},{emoji:'&#x1F38D',name:'Pine Decoration'},{emoji:'&#x1F38E',name:'Japanese Dolls'},{emoji:'&#x1F38F',name:'Carp Streamer'},{emoji:'&#x1F390',name:'Wind Chime'},{emoji:'&#x1F391',name:'Moon Viewing Ceremony'},{emoji:'&#x1F380',name:'Ribbon'},{emoji:'&#x1F381',name:'Wrapped Gift'},{emoji:'&#x1F397',name:'Reminder Ribbon'},{emoji:'&#x1F39F',name:'Admission Tickets'},{emoji:'&#x1F3AB',name:'Ticket'},{emoji:'&#x1F396',name:'Military Medal'},{emoji:'&#x1F3C6',name:'Trophy'},{emoji:'&#x1F3C5',name:'Sports Medal'},{emoji:'&#x1F947',name:'1st Place Medal'},{emoji:'&#x1F948',name:'2nd Place Medal'},{emoji:'&#x1F949',name:'3rd Place Medal'},{emoji:'&#x26BD',name:'Soccer Ball'},{emoji:'&#x26BE',name:'Baseball'},{emoji:'&#x1F3C0',name:'Basketball'},{emoji:'&#x1F3D0',name:'Volleyball'},{emoji:'&#x1F3C8',name:'American Football'},{emoji:'&#x1F3C9',name:'Rugby Football'},{emoji:'&#x1F3BE',name:'Tennis'},{emoji:'&#x1F3B1',name:'Pool 8 Ball'},{emoji:'&#x1F3B3',name:'Bowling'},{emoji:'&#x1F3CF',name:'Cricket'},{emoji:'&#x1F3D1',name:'Field Hockey'},{emoji:'&#x1F3D2',name:'Ice Hockey'},{emoji:'&#x1F3D3',name:'Ping Pong'},{emoji:'&#x1F3F8',name:'Badminton'},{emoji:'&#x1F94A',name:'Boxing Glove'},{emoji:'&#x1F94B',name:'Martial Arts Uniform'},{emoji:'&#x1F945',name:'Goal Net'},{emoji:'&#x1F3AF',name:'Direct Hit'},{emoji:'&#x26F3',name:'Flag In Hole'},{emoji:'&#x26F8',name:'Ice Skate'},{emoji:'&#x1F3A3',name:'Fishing Pole'},{emoji:'&#x1F3BD',name:'Running Shirt'},{emoji:'&#x1F3BF',name:'Skis'},{emoji:'&#x1F3AE',name:'Video Game'},{emoji:'&#x1F579',name:'Joystick'},{emoji:'&#x1F3B2',name:'Game Die'},{emoji:'&#x2660',name:'Spade Suit'},{emoji:'&#x2665',name:'Heart Suit'},{emoji:'&#x2666',name:'Diamond Suit'},{emoji:'&#x2663',name:'Club Suit'},{emoji:'&#x1F0CF',name:'Joker'},{emoji:'&#x1F004',name:'Mahjong Red Dragon'},{emoji:'&#x1F3B4',name:'Flower Playing Cards'},{emoji:'&#x1F507',name:'Muted Speaker'},{emoji:'&#x1F508',name:'Speaker Low Volume'},{emoji:'&#x1F509',name:'Speaker Medium Volume'},{emoji:'&#x1F50A',name:'Speaker High Volume'},{emoji:'&#x1F4E2',name:'Loudspeaker'},{emoji:'&#x1F4E3',name:'Megaphone'},{emoji:'&#x1F4EF',name:'Postal Horn'},{emoji:'&#x1F514',name:'Bell'},{emoji:'&#x1F515',name:'Bell With Slash'},{emoji:'&#x1F3BC',name:'Musical Score'},{emoji:'&#x1F3B5',name:'Musical Note'},{emoji:'&#x1F3B6',name:'Musical Notes'},{emoji:'&#x1F399',name:'Studio Microphone'},{emoji:'&#x1F39A',name:'Level Slider'},{emoji:'&#x1F39B',name:'Control Knobs'},{emoji:'&#x1F3A4',name:'Microphone'},{emoji:'&#x1F3A7',name:'Headphone'},{emoji:'&#x1F4FB',name:'Radio'},{emoji:'&#x1F3B7',name:'Saxophone'},{emoji:'&#x1F3B8',name:'Guitar'},{emoji:'&#x1F3B9',name:'Musical Keyboard'},{emoji:'&#x1F3BA',name:'Trumpet'},{emoji:'&#x1F3BB',name:'Violin'},{emoji:'&#x1F941',name:'Drum'},{emoji:'&#x1F4F1',name:'Mobile Phone'},{emoji:'&#x1F4F2',name:'Mobile Phone With Arrow'},{emoji:'&#x260E',name:'Telephone'},{emoji:'&#x1F4DE',name:'Telephone Receiver'},{emoji:'&#x1F4DF',name:'Pager'},{emoji:'&#x1F4E0',name:'Fax Machine'},{emoji:'&#x1F50B',name:'Battery'},{emoji:'&#x1F50C',name:'Electric Plug'},{emoji:'&#x1F4BB',name:'Laptop Computer'},{emoji:'&#x1F5A5',name:'Desktop Computer'},{emoji:'&#x1F5A8',name:'Printer'},{emoji:'&#x2328',name:'Keyboard'},{emoji:'&#x1F5B1',name:'Computer Mouse'},{emoji:'&#x1F5B2',name:'Trackball'},{emoji:'&#x1F4BD',name:'Computer Disk'},{emoji:'&#x1F4BE',name:'Floppy Disk'},{emoji:'&#x1F4BF',name:'Optical Disk'},{emoji:'&#x1F4C0',name:'Dvd'},{emoji:'&#x1F3A5',name:'Movie Camera'},{emoji:'&#x1F39E',name:'Film Frames'},{emoji:'&#x1F4FD',name:'Film Projector'},{emoji:'&#x1F3AC',name:'Clapper Board'},{emoji:'&#x1F4FA',name:'Television'},{emoji:'&#x1F4F7',name:'Camera'},{emoji:'&#x1F4F8',name:'Camera With Flash'},{emoji:'&#x1F4F9',name:'Video Camera'},{emoji:'&#x1F4FC',name:'Videocassette'},{emoji:'&#x1F50D',name:'Left-Pointing Magnifying Glass'},{emoji:'&#x1F50E',name:'Right-Pointing Magnifying Glass'},{emoji:'&#x1F52C',name:'Microscope'},{emoji:'&#x1F52D',name:'Telescope'},{emoji:'&#x1F4E1',name:'Satellite Antenna'},{emoji:'&#x1F56F',name:'Candle'},{emoji:'&#x1F4A1',name:'Light Bulb'},{emoji:'&#x1F526',name:'Flashlight'},{emoji:'&#x1F3EE',name:'Red Paper Lantern'},{emoji:'&#x1F4D4',name:'Notebook With Decorative Cover'},{emoji:'&#x1F4D5',name:'Closed Book'},{emoji:'&#x1F4D6',name:'Open Book'},{emoji:'&#x1F4D7',name:'Green Book'},{emoji:'&#x1F4D8',name:'Blue Book'},{emoji:'&#x1F4D9',name:'Orange Book'},{emoji:'&#x1F4DA',name:'Books'},{emoji:'&#x1F4D3',name:'Notebook'},{emoji:'&#x1F4D2',name:'Ledger'},{emoji:'&#x1F4C3',name:'Page With Curl'},{emoji:'&#x1F4DC',name:'Scroll'},{emoji:'&#x1F4C4',name:'Page Facing Up'},{emoji:'&#x1F4F0',name:'Newspaper'},{emoji:'&#x1F5DE',name:'Rolled-Up Newspaper'},{emoji:'&#x1F4D1',name:'Bookmark Tabs'},{emoji:'&#x1F516',name:'Bookmark'},{emoji:'&#x1F3F7',name:'Label'},{emoji:'&#x1F4B0',name:'Money Bag'},{emoji:'&#x1F4B4',name:'Yen Banknote'},{emoji:'&#x1F4B5',name:'Dollar Banknote'},{emoji:'&#x1F4B6',name:'Euro Banknote'},{emoji:'&#x1F4B7',name:'Pound Banknote'},{emoji:'&#x1F4B8',name:'Money With Wings'},{emoji:'&#x1F4B3',name:'Credit Card'},{emoji:'&#x1F4B9',name:'Chart Increasing With Yen'},{emoji:'&#x1F4B1',name:'Currency Exchange'},{emoji:'&#x1F4B2',name:'Heavy Dollar Sign'},{emoji:'&#x2709',name:'Envelope'},{emoji:'&#x1F4E7',name:'E-Mail'},{emoji:'&#x1F4E8',name:'Incoming Envelope'},{emoji:'&#x1F4E9',name:'Envelope With Arrow'},{emoji:'&#x1F4E4',name:'Outbox Tray'},{emoji:'&#x1F4E5',name:'Inbox Tray'},{emoji:'&#x1F4E6',name:'Package'},{emoji:'&#x1F4EB',name:'Closed Mailbox With Raised Flag'},{emoji:'&#x1F4EA',name:'Closed Mailbox With Lowered Flag'},{emoji:'&#x1F4EC',name:'Open Mailbox With Raised Flag'},{emoji:'&#x1F4ED',name:'Open Mailbox With Lowered Flag'},{emoji:'&#x1F4EE',name:'Postbox'},{emoji:'&#x1F5F3',name:'Ballot Box With Ballot'},{emoji:'&#x270F',name:'Pencil'},{emoji:'&#x2712',name:'Black Nib'},{emoji:'&#x1F58B',name:'Fountain Pen'},{emoji:'&#x1F58A',name:'Pen'},{emoji:'&#x1F58C',name:'Paintbrush'},{emoji:'&#x1F58D',name:'Crayon'},{emoji:'&#x1F4DD',name:'Memo'},{emoji:'&#x1F4BC',name:'Briefcase'},{emoji:'&#x1F4C1',name:'File Folder'},{emoji:'&#x1F4C2',name:'Open File Folder'},{emoji:'&#x1F5C2',name:'Card Index Dividers'},{emoji:'&#x1F4C5',name:'Calendar'},{emoji:'&#x1F4C6',name:'Tear-Off Calendar'},{emoji:'&#x1F5D2',name:'Spiral Notepad'},{emoji:'&#x1F5D3',name:'Spiral Calendar'},{emoji:'&#x1F4C7',name:'Card Index'},{emoji:'&#x1F4C8',name:'Chart Increasing'},{emoji:'&#x1F4C9',name:'Chart Decreasing'},{emoji:'&#x1F4CA',name:'Bar Chart'},{emoji:'&#x1F4CB',name:'Clipboard'},{emoji:'&#x1F4CC',name:'Pushpin'},{emoji:'&#x1F4CD',name:'Round Pushpin'},{emoji:'&#x1F4CE',name:'Paperclip'},{emoji:'&#x1F587',name:'Linked Paperclips'},{emoji:'&#x1F4CF',name:'Straight Ruler'},{emoji:'&#x1F4D0',name:'Triangular Ruler'},{emoji:'&#x2702',name:'Scissors'},{emoji:'&#x1F5C3',name:'Card File Box'},{emoji:'&#x1F5C4',name:'File Cabinet'},{emoji:'&#x1F5D1',name:'Wastebasket'},{emoji:'&#x1F512',name:'Locked'},{emoji:'&#x1F513',name:'Unlocked'},{emoji:'&#x1F50F',name:'Locked With Pen'},{emoji:'&#x1F510',name:'Locked With Key'},{emoji:'&#x1F511',name:'Key'},{emoji:'&#x1F5DD',name:'Old Key'},{emoji:'&#x1F528',name:'Hammer'},{emoji:'&#x26CF',name:'Pick'},{emoji:'&#x2692',name:'Hammer And Pick'},{emoji:'&#x1F6E0',name:'Hammer And Wrench'},{emoji:'&#x1F5E1',name:'Dagger'},{emoji:'&#x2694',name:'Crossed Swords'},{emoji:'&#x1F52B',name:'Pistol'},{emoji:'&#x1F3F9',name:'Bow And Arrow'},{emoji:'&#x1F6E1',name:'Shield'},{emoji:'&#x1F527',name:'Wrench'},{emoji:'&#x1F529',name:'Nut And Bolt'},{emoji:'&#x2699',name:'Gear'},{emoji:'&#x1F5DC',name:'Clamp'},{emoji:'&#x2697',name:'Alembic'},{emoji:'&#x2696',name:'Balance Scale'},{emoji:'&#x1F517',name:'Link'},{emoji:'&#x26D3',name:'Chains'},{emoji:'&#x1F489',name:'Syringe'},{emoji:'&#x1F48A',name:'Pill'},{emoji:'&#x1F6AC',name:'Cigarette'},{emoji:'&#x26B0',name:'Coffin'},{emoji:'&#x26B1',name:'Funeral Urn'},{emoji:'&#x1F5FF',name:'Moai'},{emoji:'&#x1F6E2',name:'Oil Drum'},{emoji:'&#x1F52E',name:'Crystal Ball'},{emoji:'&#x1F6D2',name:'Shopping Cart'},{emoji:'&#x1F3E7',name:'ATM Sign'},{emoji:'&#x1F6AE',name:'Litter In Bin Sign'},{emoji:'&#x1F6B0',name:'Potable Water'},{emoji:'&#x267F',name:'Wheelchair Symbol'},{emoji:'&#x1F6B9',name:'Menâs Room'},{emoji:'&#x1F6BA',name:'Womenâs Room'},{emoji:'&#x1F6BB',name:'Restroom'},{emoji:'&#x1F6BC',name:'Baby Symbol'},{emoji:'&#x1F6BE',name:'Water Closet'},{emoji:'&#x1F6C2',name:'Passport Control'},{emoji:'&#x1F6C3',name:'Customs'},{emoji:'&#x1F6C4',name:'Baggage Claim'},{emoji:'&#x1F6C5',name:'Left Luggage'},{emoji:'&#x26A0',name:'Warning'},{emoji:'&#x1F6B8',name:'Children Crossing'},{emoji:'&#x26D4',name:'No Entry'},{emoji:'&#x1F6AB',name:'Prohibited'},{emoji:'&#x1F6B3',name:'No Bicycles'},{emoji:'&#x1F6AD',name:'No Smoking'},{emoji:'&#x1F6AF',name:'No Littering'},{emoji:'&#x1F6B1',name:'Non-Potable Water'},{emoji:'&#x1F6B7',name:'No Pedestrians'},{emoji:'&#x1F4F5',name:'No Mobile Phones'},{emoji:'&#x1F51E',name:'No One Under Eighteen'},{emoji:'&#x2622',name:'Radioactive'},{emoji:'&#x2623',name:'Biohazard'},{emoji:'&#x2B06',name:'Up Arrow'},{emoji:'&#x2197',name:'Up-Right Arrow'},{emoji:'&#x27A1',name:'Right Arrow'},{emoji:'&#x2198',name:'Down-Right Arrow'},{emoji:'&#x2B07',name:'Down Arrow'},{emoji:'&#x2199',name:'Down-Left Arrow'},{emoji:'&#x2B05',name:'Left Arrow'},{emoji:'&#x2196',name:'Up-Left Arrow'},{emoji:'&#x2195',name:'Up-Down Arrow'},{emoji:'&#x2194',name:'Left-Right Arrow'},{emoji:'&#x21A9',name:'Right Arrow Curving Left'},{emoji:'&#x21AA',name:'Left Arrow Curving Right'},{emoji:'&#x2934',name:'Right Arrow Curving Up'},{emoji:'&#x2935',name:'Right Arrow Curving Down'},{emoji:'&#x1F503',name:'Clockwise Vertical Arrows'},{emoji:'&#x1F504',name:'Anticlockwise Arrows Button'},{emoji:'&#x1F519',name:'BACK Arrow'},{emoji:'&#x1F51A',name:'END Arrow'},{emoji:'&#x1F51B',name:'ON! Arrow'},{emoji:'&#x1F51C',name:'SOON Arrow'},{emoji:'&#x1F51D',name:'TOP Arrow'},{emoji:'&#x1F6D0',name:'Place Of Worship'},{emoji:'&#x269B',name:'Atom Symbol'},{emoji:'&#x1F549',name:'Om'},{emoji:'&#x2721',name:'Star Of David'},{emoji:'&#x2638',name:'Wheel Of Dharma'},{emoji:'&#x262F',name:'Yin Yang'},{emoji:'&#x271D',name:'Latin Cross'},{emoji:'&#x2626',name:'Orthodox Cross'},{emoji:'&#x262A',name:'Star And Crescent'},{emoji:'&#x262E',name:'Peace Symbol'},{emoji:'&#x1F54E',name:'Menorah'},{emoji:'&#x1F52F',name:'Dotted Six-Pointed Star'},{emoji:'&#x2648',name:'Aries'},{emoji:'&#x2649',name:'Taurus'},{emoji:'&#x264A',name:'Gemini'},{emoji:'&#x264B',name:'Cancer'},{emoji:'&#x264C',name:'Leo'},{emoji:'&#x264D',name:'Virgo'},{emoji:'&#x264E',name:'Libra'},{emoji:'&#x264F',name:'Scorpius'},{emoji:'&#x2650',name:'Sagittarius'},{emoji:'&#x2651',name:'Capricorn'},{emoji:'&#x2652',name:'Aquarius'},{emoji:'&#x2653',name:'Pisces'},{emoji:'&#x26CE',name:'Ophiuchus'},{emoji:'&#x1F500',name:'Shuffle Tracks Button'},{emoji:'&#x1F501',name:'Repeat Button'},{emoji:'&#x1F502',name:'Repeat Single Button'},{emoji:'&#x25B6',name:'Play Button'},{emoji:'&#x23E9',name:'Fast-Forward Button'},{emoji:'&#x23ED',name:'Next Track Button'},{emoji:'&#x23EF',name:'Play Or Pause Button'},{emoji:'&#x25C0',name:'Reverse Button'},{emoji:'&#x23EA',name:'Fast Reverse Button'},{emoji:'&#x23EE',name:'Last Track Button'},{emoji:'&#x1F53C',name:'Up Button'},{emoji:'&#x23EB',name:'Fast Up Button'},{emoji:'&#x1F53D',name:'Down Button'},{emoji:'&#x23EC',name:'Fast Down Button'},{emoji:'&#x23F8',name:'Pause Button'},{emoji:'&#x23F9',name:'Stop Button'},{emoji:'&#x23FA',name:'Record Button'},{emoji:'&#x23CF',name:'Eject Button'},{emoji:'&#x1F3A6',name:'Cinema'},{emoji:'&#x1F505',name:'Dim Button'},{emoji:'&#x1F506',name:'Bright Button'},{emoji:'&#x1F4F6',name:'Antenna Bars'},{emoji:'&#x1F4F3',name:'Vibration Mode'},{emoji:'&#x1F4F4',name:'Mobile Phone Off'},{emoji:'&#x267B',name:'Recycling Symbol'},{emoji:'&#x1F4DB',name:'Name Badge'},{emoji:'&#x269C',name:'Fleur-De-Lis'},{emoji:'&#x1F530',name:'Japanese Symbol For Beginner'},{emoji:'&#x1F531',name:'Trident Emblem'},{emoji:'&#x2B55',name:'Heavy Large Circle'},{emoji:'&#x2705',name:'White Heavy Check Mark'},{emoji:'&#x2611',name:'Ballot Box With Check'},{emoji:'&#x2714',name:'Heavy Check Mark'},{emoji:'&#x2716',name:'Heavy Multiplication X'},{emoji:'&#x274C',name:'Cross Mark'},{emoji:'&#x274E',name:'Cross Mark Button'},{emoji:'&#x2795',name:'Heavy Plus Sign'},{emoji:'&#x2640',name:'Female Sign'},{emoji:'&#x2642',name:'Male Sign'},{emoji:'&#x2695',name:'Medical Symbol'},{emoji:'&#x2796',name:'Heavy Minus Sign'},{emoji:'&#x2797',name:'Heavy Division Sign'},{emoji:'&#x27B0',name:'Curly Loop'},{emoji:'&#x27BF',name:'Double Curly Loop'},{emoji:'&#x303D',name:'Part Alternation Mark'},{emoji:'&#x2733',name:'Eight-Spoked Asterisk'},{emoji:'&#x2734',name:'Eight-Pointed Star'},{emoji:'&#x2747',name:'Sparkle'},{emoji:'&#x203C',name:'Double Exclamation Mark'},{emoji:'&#x2049',name:'Exclamation Question Mark'},{emoji:'&#x2753',name:'Question Mark'},{emoji:'&#x2754',name:'White Question Mark'},{emoji:'&#x2755',name:'White Exclamation Mark'},{emoji:'&#x2757',name:'Exclamation Mark'},{emoji:'&#x3030',name:'Wavy Dash'},{emoji:'&#x00A9',name:'Copyright'},{emoji:'&#x00AE',name:'Registered'},{emoji:'&#x2122',name:'Trade Mark'},{emoji:'&#x0023&#xFE0F&#x20E3',name:'Keycap: #'},{emoji:'&#x002A&#xFE0F&#x20E3',name:'Keycap: *'},{emoji:'&#x0030&#xFE0F&#x20E3',name:'Keycap: 0'},{emoji:'&#x0031&#xFE0F&#x20E3',name:'Keycap: 1'},{emoji:'&#x0032&#xFE0F&#x20E3',name:'Keycap: 2'},{emoji:'&#x0033&#xFE0F&#x20E3',name:'Keycap: 3'},{emoji:'&#x0034&#xFE0F&#x20E3',name:'Keycap: 4'},{emoji:'&#x0035&#xFE0F&#x20E3',name:'Keycap: 5'},{emoji:'&#x0036&#xFE0F&#x20E3',name:'Keycap: 6'},{emoji:'&#x0037&#xFE0F&#x20E3',name:'Keycap: 7'},{emoji:'&#x0038&#xFE0F&#x20E3',name:'Keycap: 8'},{emoji:'&#x0039&#xFE0F&#x20E3',name:'Keycap: 9'},{emoji:'&#x1F51F',name:'Keycap 10'},{emoji:'&#x1F4AF',name:'Hundred Points'},{emoji:'&#x1F520',name:'Input Latin Uppercase'},{emoji:'&#x1F521',name:'Input Latin Lowercase'},{emoji:'&#x1F522',name:'Input Numbers'},{emoji:'&#x1F523',name:'Input Symbols'},{emoji:'&#x1F524',name:'Input Latin Letters'},{emoji:'&#x1F170',name:'A Button (blood Type)'},{emoji:'&#x1F18E',name:'AB Button (blood Type)'},{emoji:'&#x1F171',name:'B Button (blood Type)'},{emoji:'&#x1F191',name:'CL Button'},{emoji:'&#x1F192',name:'COOL Button'},{emoji:'&#x1F193',name:'FREE Button'},{emoji:'&#x2139',name:'Information'},{emoji:'&#x1F194',name:'ID Button'},{emoji:'&#x24C2',name:'Circled M'},{emoji:'&#x1F195',name:'NEW Button'},{emoji:'&#x1F196',name:'NG Button'},{emoji:'&#x1F17E',name:'O Button (blood Type)'},{emoji:'&#x1F197',name:'OK Button'},{emoji:'&#x1F17F',name:'P Button'},{emoji:'&#x1F198',name:'SOS Button'},{emoji:'&#x1F199',name:'UP! Button'},{emoji:'&#x1F19A',name:'VS Button'},{emoji:'&#x1F201',name:'Japanese âhereâ Button'},{emoji:'&#x1F202',name:'Japanese âservice Chargeâ Button'},{emoji:'&#x1F237',name:'Japanese âmonthly Amountâ Button'},{emoji:'&#x1F236',name:'Japanese ânot Free Of Chargeâ Button'},{emoji:'&#x1F22F',name:'Japanese âreservedâ Button'},{emoji:'&#x1F250',name:'Japanese âbargainâ Button'},{emoji:'&#x1F239',name:'Japanese âdiscountâ Button'},{emoji:'&#x1F21A',name:'Japanese âfree Of Chargeâ Button'},{emoji:'&#x1F232',name:'Japanese âprohibitedâ Button'},{emoji:'&#x1F251',name:'Japanese âacceptableâ Button'},{emoji:'&#x1F238',name:'Japanese âapplicationâ Button'},{emoji:'&#x1F234',name:'Japanese âpassing Gradeâ Button'},{emoji:'&#x1F233',name:'Japanese âvacancyâ Button'},{emoji:'&#x3297',name:'Japanese âcongratulationsâ Button'},{emoji:'&#x3299',name:'Japanese âsecretâ Button'},{emoji:'&#x1F23A',name:'Japanese âopen For Businessâ Button'},{emoji:'&#x1F235',name:'Japanese âno Vacancyâ Button'},{emoji:'&#x25AA',name:'Black Small Square'},{emoji:'&#x25AB',name:'White Small Square'},{emoji:'&#x25FB',name:'White Medium Square'},{emoji:'&#x25FC',name:'Black Medium Square'},{emoji:'&#x25FD',name:'White Medium-Small Square'},{emoji:'&#x25FE',name:'Black Medium-Small Square'},{emoji:'&#x2B1B',name:'Black Large Square'},{emoji:'&#x2B1C',name:'White Large Square'},{emoji:'&#x1F536',name:'Large Orange Diamond'},{emoji:'&#x1F537',name:'Large Blue Diamond'},{emoji:'&#x1F538',name:'Small Orange Diamond'},{emoji:'&#x1F539',name:'Small Blue Diamond'},{emoji:'&#x1F53A',name:'Red Triangle Pointed Up'},{emoji:'&#x1F53B',name:'Red Triangle Pointed Down'},{emoji:'&#x1F4A0',name:'Diamond With A Dot'},{emoji:'&#x1F518',name:'Radio Button'},{emoji:'&#x1F532',name:'Black Square Button'},{emoji:'&#x1F533',name:'White Square Button'},{emoji:'&#x26AA',name:'White Circle'},{emoji:'&#x26AB',name:'Black Circle'},{emoji:'&#x1F534',name:'Red Circle'},{emoji:'&#x1F535',name:'Blue Circle'},{emoji:'&#x1F3C1',name:'Chequered Flag'},{emoji:'&#x1F6A9',name:'Triangular Flag'},{emoji:'&#x1F38C',name:'Crossed Flags'},{emoji:'&#x1F3F4',name:'Black Flag'},{emoji:'&#x1F3F3',name:'White Flag'},{emoji:'&#x1F3F3&#xFE0F&#x200D&#x1F308',name:'Rainbow Flag'},{emoji:'&#x1F1E6&#x1F1E8',name:'Ascension Island'},{emoji:'&#x1F1E6&#x1F1E9',name:'Andorra'},{emoji:'&#x1F1E6&#x1F1EA',name:'United Arab Emirates'},{emoji:'&#x1F1E6&#x1F1EB',name:'Afghanistan'},{emoji:'&#x1F1E6&#x1F1EC',name:'Antigua & Barbuda'},{emoji:'&#x1F1E6&#x1F1EE',name:'Anguilla'},{emoji:'&#x1F1E6&#x1F1F1',name:'Albania'},{emoji:'&#x1F1E6&#x1F1F2',name:'Armenia'},{emoji:'&#x1F1E6&#x1F1F4',name:'Angola'},{emoji:'&#x1F1E6&#x1F1F6',name:'Antarctica'},{emoji:'&#x1F1E6&#x1F1F7',name:'Argentina'},{emoji:'&#x1F1E6&#x1F1F8',name:'American Samoa'},{emoji:'&#x1F1E6&#x1F1F9',name:'Austria'},{emoji:'&#x1F1E6&#x1F1FA',name:'Australia'},{emoji:'&#x1F1E6&#x1F1FC',name:'Aruba'},{emoji:'&#x1F1E6&#x1F1FD',name:'Ãland Islands'},{emoji:'&#x1F1E6&#x1F1FF',name:'Azerbaijan'},{emoji:'&#x1F1E7&#x1F1E6',name:'Bosnia & Herzegovina'},{emoji:'&#x1F1E7&#x1F1E7',name:'Barbados'},{emoji:'&#x1F1E7&#x1F1E9',name:'Bangladesh'},{emoji:'&#x1F1E7&#x1F1EA',name:'Belgium'},{emoji:'&#x1F1E7&#x1F1EB',name:'Burkina Faso'},{emoji:'&#x1F1E7&#x1F1EC',name:'Bulgaria'},{emoji:'&#x1F1E7&#x1F1ED',name:'Bahrain'},{emoji:'&#x1F1E7&#x1F1EE',name:'Burundi'},{emoji:'&#x1F1E7&#x1F1EF',name:'Benin'},{emoji:'&#x1F1E7&#x1F1F1',name:'St. BarthÃ©lemy'},{emoji:'&#x1F1E7&#x1F1F2',name:'Bermuda'},{emoji:'&#x1F1E7&#x1F1F3',name:'Brunei'},{emoji:'&#x1F1E7&#x1F1F4',name:'Bolivia'},{emoji:'&#x1F1E7&#x1F1F6',name:'Caribbean Netherlands'},{emoji:'&#x1F1E7&#x1F1F7',name:'Brazil'},{emoji:'&#x1F1E7&#x1F1F8',name:'Bahamas'},{emoji:'&#x1F1E7&#x1F1F9',name:'Bhutan'},{emoji:'&#x1F1E7&#x1F1FB',name:'Bouvet Island'},{emoji:'&#x1F1E7&#x1F1FC',name:'Botswana'},{emoji:'&#x1F1E7&#x1F1FE',name:'Belarus'},{emoji:'&#x1F1E7&#x1F1FF',name:'Belize'},{emoji:'&#x1F1E8&#x1F1E6',name:'Canada'},{emoji:'&#x1F1E8&#x1F1E8',name:'Cocos (Keeling) Islands'},{emoji:'&#x1F1E8&#x1F1E9',name:'Congo - Kinshasa'},{emoji:'&#x1F1E8&#x1F1EB',name:'Central African Republic'},{emoji:'&#x1F1E8&#x1F1EC',name:'Congo - Brazzaville'},{emoji:'&#x1F1E8&#x1F1ED',name:'Switzerland'},{emoji:'&#x1F1E8&#x1F1EE',name:'CÃ´te DâIvoire'},{emoji:'&#x1F1E8&#x1F1F0',name:'Cook Islands'},{emoji:'&#x1F1E8&#x1F1F1',name:'Chile'},{emoji:'&#x1F1E8&#x1F1F2',name:'Cameroon'},{emoji:'&#x1F1E8&#x1F1F3',name:'China'},{emoji:'&#x1F1E8&#x1F1F4',name:'Colombia'},{emoji:'&#x1F1E8&#x1F1F5',name:'Clipperton Island'},{emoji:'&#x1F1E8&#x1F1F7',name:'Costa Rica'},{emoji:'&#x1F1E8&#x1F1FA',name:'Cuba'},{emoji:'&#x1F1E8&#x1F1FB',name:'Cape Verde'},{emoji:'&#x1F1E8&#x1F1FC',name:'CuraÃ§ao'},{emoji:'&#x1F1E8&#x1F1FD',name:'Christmas Island'},{emoji:'&#x1F1E8&#x1F1FE',name:'Cyprus'},{emoji:'&#x1F1E8&#x1F1FF',name:'Czech Republic'},{emoji:'&#x1F1E9&#x1F1EA',name:'Germany'},{emoji:'&#x1F1E9&#x1F1EC',name:'Diego Garcia'},{emoji:'&#x1F1E9&#x1F1EF',name:'Djibouti'},{emoji:'&#x1F1E9&#x1F1F0',name:'Denmark'},{emoji:'&#x1F1E9&#x1F1F2',name:'Dominica'},{emoji:'&#x1F1E9&#x1F1F4',name:'Dominican Republic'},{emoji:'&#x1F1E9&#x1F1FF',name:'Algeria'},{emoji:'&#x1F1EA&#x1F1E6',name:'Ceuta & Melilla'},{emoji:'&#x1F1EA&#x1F1E8',name:'Ecuador'},{emoji:'&#x1F1EA&#x1F1EA',name:'Estonia'},{emoji:'&#x1F1EA&#x1F1EC',name:'Egypt'},{emoji:'&#x1F1EA&#x1F1ED',name:'Western Sahara'},{emoji:'&#x1F1EA&#x1F1F7',name:'Eritrea'},{emoji:'&#x1F1EA&#x1F1F8',name:'Spain'},{emoji:'&#x1F1EA&#x1F1F9',name:'Ethiopia'},{emoji:'&#x1F1EA&#x1F1FA',name:'European Union'},{emoji:'&#x1F1EB&#x1F1EE',name:'Finland'},{emoji:'&#x1F1EB&#x1F1EF',name:'Fiji'},{emoji:'&#x1F1EB&#x1F1F0',name:'Falkland Islands'},{emoji:'&#x1F1EB&#x1F1F2',name:'Micronesia'},{emoji:'&#x1F1EB&#x1F1F4',name:'Faroe Islands'},{emoji:'&#x1F1EB&#x1F1F7',name:'France'},{emoji:'&#x1F1EC&#x1F1E6',name:'Gabon'},{emoji:'&#x1F1EC&#x1F1E7',name:'United Kingdom'},{emoji:'&#x1F1EC&#x1F1E9',name:'Grenada'},{emoji:'&#x1F1EC&#x1F1EA',name:'Georgia'},{emoji:'&#x1F1EC&#x1F1EB',name:'French Guiana'},{emoji:'&#x1F1EC&#x1F1EC',name:'Guernsey'},{emoji:'&#x1F1EC&#x1F1ED',name:'Ghana'},{emoji:'&#x1F1EC&#x1F1EE',name:'Gibraltar'},{emoji:'&#x1F1EC&#x1F1F1',name:'Greenland'},{emoji:'&#x1F1EC&#x1F1F2',name:'Gambia'},{emoji:'&#x1F1EC&#x1F1F3',name:'Guinea'},{emoji:'&#x1F1EC&#x1F1F5',name:'Guadeloupe'},{emoji:'&#x1F1EC&#x1F1F6',name:'Equatorial Guinea'},{emoji:'&#x1F1EC&#x1F1F7',name:'Greece'},{emoji:'&#x1F1EC&#x1F1F8',name:'South Georgia & South Sandwich Islands'},{emoji:'&#x1F1EC&#x1F1F9',name:'Guatemala'},{emoji:'&#x1F1EC&#x1F1FA',name:'Guam'},{emoji:'&#x1F1EC&#x1F1FC',name:'Guinea-Bissau'},{emoji:'&#x1F1EC&#x1F1FE',name:'Guyana'},{emoji:'&#x1F1ED&#x1F1F0',name:'Hong Kong SAR China'},{emoji:'&#x1F1ED&#x1F1F2',name:'Heard & McDonald Islands'},{emoji:'&#x1F1ED&#x1F1F3',name:'Honduras'},{emoji:'&#x1F1ED&#x1F1F7',name:'Croatia'},{emoji:'&#x1F1ED&#x1F1F9',name:'Haiti'},{emoji:'&#x1F1ED&#x1F1FA',name:'Hungary'},{emoji:'&#x1F1EE&#x1F1E8',name:'Canary Islands'},{emoji:'&#x1F1EE&#x1F1E9',name:'Indonesia'},{emoji:'&#x1F1EE&#x1F1EA',name:'Ireland'},{emoji:'&#x1F1EE&#x1F1F1',name:'Israel'},{emoji:'&#x1F1EE&#x1F1F2',name:'Isle Of Man'},{emoji:'&#x1F1EE&#x1F1F3',name:'India'},{emoji:'&#x1F1EE&#x1F1F4',name:'British Indian Ocean Territory'},{emoji:'&#x1F1EE&#x1F1F6',name:'Iraq'},{emoji:'&#x1F1EE&#x1F1F7',name:'Iran'},{emoji:'&#x1F1EE&#x1F1F8',name:'Iceland'},{emoji:'&#x1F1EE&#x1F1F9',name:'Italy'},{emoji:'&#x1F1EF&#x1F1EA',name:'Jersey'},{emoji:'&#x1F1EF&#x1F1F2',name:'Jamaica'},{emoji:'&#x1F1EF&#x1F1F4',name:'Jordan'},{emoji:'&#x1F1EF&#x1F1F5',name:'Japan'},{emoji:'&#x1F1F0&#x1F1EA',name:'Kenya'},{emoji:'&#x1F1F0&#x1F1EC',name:'Kyrgyzstan'},{emoji:'&#x1F1F0&#x1F1ED',name:'Cambodia'},{emoji:'&#x1F1F0&#x1F1EE',name:'Kiribati'},{emoji:'&#x1F1F0&#x1F1F2',name:'Comoros'},{emoji:'&#x1F1F0&#x1F1F3',name:'St. Kitts & Nevis'},{emoji:'&#x1F1F0&#x1F1F5',name:'North Korea'},{emoji:'&#x1F1F0&#x1F1F7',name:'South Korea'},{emoji:'&#x1F1F0&#x1F1FC',name:'Kuwait'},{emoji:'&#x1F1F0&#x1F1FE',name:'Cayman Islands'},{emoji:'&#x1F1F0&#x1F1FF',name:'Kazakhstan'},{emoji:'&#x1F1F1&#x1F1E6',name:'Laos'},{emoji:'&#x1F1F1&#x1F1E7',name:'Lebanon'},{emoji:'&#x1F1F1&#x1F1E8',name:'St. Lucia'},{emoji:'&#x1F1F1&#x1F1EE',name:'Liechtenstein'},{emoji:'&#x1F1F1&#x1F1F0',name:'Sri Lanka'},{emoji:'&#x1F1F1&#x1F1F7',name:'Liberia'},{emoji:'&#x1F1F1&#x1F1F8',name:'Lesotho'},{emoji:'&#x1F1F1&#x1F1F9',name:'Lithuania'},{emoji:'&#x1F1F1&#x1F1FA',name:'Luxembourg'},{emoji:'&#x1F1F1&#x1F1FB',name:'Latvia'},{emoji:'&#x1F1F1&#x1F1FE',name:'Libya'},{emoji:'&#x1F1F2&#x1F1E6',name:'Morocco'},{emoji:'&#x1F1F2&#x1F1E8',name:'Monaco'},{emoji:'&#x1F1F2&#x1F1E9',name:'Moldova'},{emoji:'&#x1F1F2&#x1F1EA',name:'Montenegro'},{emoji:'&#x1F1F2&#x1F1EB',name:'St. Martin'},{emoji:'&#x1F1F2&#x1F1EC',name:'Madagascar'},{emoji:'&#x1F1F2&#x1F1ED',name:'Marshall Islands'},{emoji:'&#x1F1F2&#x1F1F0',name:'Macedonia'},{emoji:'&#x1F1F2&#x1F1F1',name:'Mali'},{emoji:'&#x1F1F2&#x1F1F2',name:'Myanmar (Burma)'},{emoji:'&#x1F1F2&#x1F1F3',name:'Mongolia'},{emoji:'&#x1F1F2&#x1F1F4',name:'Macau SAR China'},{emoji:'&#x1F1F2&#x1F1F5',name:'Northern Mariana Islands'},{emoji:'&#x1F1F2&#x1F1F6',name:'Martinique'},{emoji:'&#x1F1F2&#x1F1F7',name:'Mauritania'},{emoji:'&#x1F1F2&#x1F1F8',name:'Montserrat'},{emoji:'&#x1F1F2&#x1F1F9',name:'Malta'},{emoji:'&#x1F1F2&#x1F1FA',name:'Mauritius'},{emoji:'&#x1F1F2&#x1F1FB',name:'Maldives'},{emoji:'&#x1F1F2&#x1F1FC',name:'Malawi'},{emoji:'&#x1F1F2&#x1F1FD',name:'Mexico'},{emoji:'&#x1F1F2&#x1F1FE',name:'Malaysia'},{emoji:'&#x1F1F2&#x1F1FF',name:'Mozambique'},{emoji:'&#x1F1F3&#x1F1E6',name:'Namibia'},{emoji:'&#x1F1F3&#x1F1E8',name:'New Caledonia'},{emoji:'&#x1F1F3&#x1F1EA',name:'Niger'},{emoji:'&#x1F1F3&#x1F1EB',name:'Norfolk Island'},{emoji:'&#x1F1F3&#x1F1EC',name:'Nigeria'},{emoji:'&#x1F1F3&#x1F1EE',name:'Nicaragua'},{emoji:'&#x1F1F3&#x1F1F1',name:'Netherlands'},{emoji:'&#x1F1F3&#x1F1F4',name:'Norway'},{emoji:'&#x1F1F3&#x1F1F5',name:'Nepal'},{emoji:'&#x1F1F3&#x1F1F7',name:'Nauru'},{emoji:'&#x1F1F3&#x1F1FA',name:'Niue'},{emoji:'&#x1F1F3&#x1F1FF',name:'New Zealand'},{emoji:'&#x1F1F4&#x1F1F2',name:'Oman'},{emoji:'&#x1F1F5&#x1F1E6',name:'Panama'},{emoji:'&#x1F1F5&#x1F1EA',name:'Peru'},{emoji:'&#x1F1F5&#x1F1EB',name:'French Polynesia'},{emoji:'&#x1F1F5&#x1F1EC',name:'Papua New Guinea'},{emoji:'&#x1F1F5&#x1F1ED',name:'Philippines'},{emoji:'&#x1F1F5&#x1F1F0',name:'Pakistan'},{emoji:'&#x1F1F5&#x1F1F1',name:'Poland'},{emoji:'&#x1F1F5&#x1F1F2',name:'St. Pierre & Miquelon'},{emoji:'&#x1F1F5&#x1F1F3',name:'Pitcairn Islands'},{emoji:'&#x1F1F5&#x1F1F7',name:'Puerto Rico'},{emoji:'&#x1F1F5&#x1F1F8',name:'Palestinian Territories'},{emoji:'&#x1F1F5&#x1F1F9',name:'Portugal'},{emoji:'&#x1F1F5&#x1F1FC',name:'Palau'},{emoji:'&#x1F1F5&#x1F1FE',name:'Paraguay'},{emoji:'&#x1F1F6&#x1F1E6',name:'Qatar'},{emoji:'&#x1F1F7&#x1F1EA',name:'RÃ©union'},{emoji:'&#x1F1F7&#x1F1F4',name:'Romania'},{emoji:'&#x1F1F7&#x1F1F8',name:'Serbia'},{emoji:'&#x1F1F7&#x1F1FA',name:'Russia'},{emoji:'&#x1F1F7&#x1F1FC',name:'Rwanda'},{emoji:'&#x1F1F8&#x1F1E6',name:'Saudi Arabia'},{emoji:'&#x1F1F8&#x1F1E7',name:'Solomon Islands'},{emoji:'&#x1F1F8&#x1F1E8',name:'Seychelles'},{emoji:'&#x1F1F8&#x1F1E9',name:'Sudan'},{emoji:'&#x1F1F8&#x1F1EA',name:'Sweden'},{emoji:'&#x1F1F8&#x1F1EC',name:'Singapore'},{emoji:'&#x1F1F8&#x1F1ED',name:'St. Helena'},{emoji:'&#x1F1F8&#x1F1EE',name:'Slovenia'},{emoji:'&#x1F1F8&#x1F1EF',name:'Svalbard & Jan Mayen'},{emoji:'&#x1F1F8&#x1F1F0',name:'Slovakia'},{emoji:'&#x1F1F8&#x1F1F1',name:'Sierra Leone'},{emoji:'&#x1F1F8&#x1F1F2',name:'San Marino'},{emoji:'&#x1F1F8&#x1F1F3',name:'Senegal'},{emoji:'&#x1F1F8&#x1F1F4',name:'Somalia'},{emoji:'&#x1F1F8&#x1F1F7',name:'Suriname'},{emoji:'&#x1F1F8&#x1F1F8',name:'South Sudan'},{emoji:'&#x1F1F8&#x1F1F9',name:'SÃ£o TomÃ© & PrÃ­ncipe'},{emoji:'&#x1F1F8&#x1F1FB',name:'El Salvador'},{emoji:'&#x1F1F8&#x1F1FD',name:'Sint Maarten'},{emoji:'&#x1F1F8&#x1F1FE',name:'Syria'},{emoji:'&#x1F1F8&#x1F1FF',name:'Swaziland'},{emoji:'&#x1F1F9&#x1F1E6',name:'Tristan Da Cunha'},{emoji:'&#x1F1F9&#x1F1E8',name:'Turks & Caicos Islands'},{emoji:'&#x1F1F9&#x1F1E9',name:'Chad'},{emoji:'&#x1F1F9&#x1F1EB',name:'French Southern Territories'},{emoji:'&#x1F1F9&#x1F1EC',name:'Togo'},{emoji:'&#x1F1F9&#x1F1ED',name:'Thailand'},{emoji:'&#x1F1F9&#x1F1EF',name:'Tajikistan'},{emoji:'&#x1F1F9&#x1F1F0',name:'Tokelau'},{emoji:'&#x1F1F9&#x1F1F1',name:'Timor-Leste'},{emoji:'&#x1F1F9&#x1F1F2',name:'Turkmenistan'},{emoji:'&#x1F1F9&#x1F1F3',name:'Tunisia'},{emoji:'&#x1F1F9&#x1F1F4',name:'Tonga'},{emoji:'&#x1F1F9&#x1F1F7',name:'Turkey'},{emoji:'&#x1F1F9&#x1F1F9',name:'Trinidad & Tobago'},{emoji:'&#x1F1F9&#x1F1FB',name:'Tuvalu'},{emoji:'&#x1F1F9&#x1F1FC',name:'Taiwan'},{emoji:'&#x1F1F9&#x1F1FF',name:'Tanzania'},{emoji:'&#x1F1FA&#x1F1E6',name:'Ukraine'},{emoji:'&#x1F1FA&#x1F1EC',name:'Uganda'},{emoji:'&#x1F1FA&#x1F1F2',name:'U.S. Outlying Islands'},{emoji:'&#x1F1FA&#x1F1F3',name:'United Nations'},{emoji:'&#x1F1FA&#x1F1F8',name:'United States'},{emoji:'&#x1F1FA&#x1F1FE',name:'Uruguay'},{emoji:'&#x1F1FA&#x1F1FF',name:'Uzbekistan'},{emoji:'&#x1F1FB&#x1F1E6',name:'Vatican City'},{emoji:'&#x1F1FB&#x1F1E8',name:'St. Vincent & Grenadines'},{emoji:'&#x1F1FB&#x1F1EA',name:'Venezuela'},{emoji:'&#x1F1FB&#x1F1EC',name:'British Virgin Islands'},{emoji:'&#x1F1FB&#x1F1EE',name:'U.S. Virgin Islands'},{emoji:'&#x1F1FB&#x1F1F3',name:'Vietnam'},{emoji:'&#x1F1FB&#x1F1FA',name:'Vanuatu'},{emoji:'&#x1F1FC&#x1F1EB',name:'Wallis & Futuna'},{emoji:'&#x1F1FC&#x1F1F8',name:'Samoa'},{emoji:'&#x1F1FD&#x1F1F0',name:'Kosovo'},{emoji:'&#x1F1FE&#x1F1EA',name:'Yemen'},{emoji:'&#x1F1FE&#x1F1F9',name:'Mayotte'},{emoji:'&#x1F1FF&#x1F1E6',name:'South Africa'},{emoji:'&#x1F1FF&#x1F1F2',name:'Zambia'}].forEach(e=>{n.insertAdjacentHTML('beforeEnd',`<span data-id="${e.emoji}" draggable="true" title="${e.name}">${e.emoji}</span>`),n.lastElementChild.addEventListener('dragstart',e=>{e.dataTransfer.setData('text',e.currentTarget.getAttribute('data-id'))})}),i.addEventListener('input',()=>{if(i.value)for(a=n.children.length-1;a>-1;--a)(t=n.children[a]).getAttribute('title').toLowerCase().match(i.value)?t.classList.remove('esgst-hidden'):t.classList.add('esgst-hidden');else for(a=n.children.length-1;a>-1;--a)n.children[a].classList.remove('esgst-hidden')}),savedEmojis=n.nextElementSibling.nextElementSibling,a=savedEmojis.children.length-1;a>-1;--a)savedEmojis.children[a].addEventListener('click',e=>{e.currentTarget.remove(),setValue('emojis',savedEmojis.innerHTML)});savedEmojis.addEventListener('dragover',e=>{e.preventDefault()}),savedEmojis.addEventListener('drop',e=>{e.preventDefault();let t=e.dataTransfer.getData('text').replace(/\\/g,'\\\\');savedEmojis.querySelector(`[data-id="${t}"]`)||(savedEmojis.appendChild(document.querySelector(`[data-id="${t}"]`).cloneNode(!0)),setValue('emojis',savedEmojis.innerHTML),savedEmojis.lastElementChild.addEventListener('click',e=>{e.currentTarget.remove(),setValue('emojis',savedEmojis.innerHTML)}))}),s.open(()=>{e.popout.classList.add('esgst-hidden')})}})},callback:async e=>{let t=e.firstElementChild;t.innerHTML=await getValue('emojis',''),setCfhEmojis(t)}},{id:'cfh_g',icons:['fa-star'],name:'Giveaway Encrypter',setPopout:e=>{e.popout.innerHTML='\n                        Giveaway Code: <input placeholder="XXXXX" type="text"/>\n                        <div class="form__saving-button btn_action white">Add</div>\n                    ';let t=e.popout.firstElementChild;t.nextElementSibling.addEventListener('click',()=>{if(t.value.match(/^[\d\w]{5}$/)){let s;formatCfhLink('',`ESGST-${encryptGedCode(t.value)}`),t.value='',e.close()}else alert('Wrong format. The right format is XXXXX.')})},callback:e=>{let t=e.firstElementChild;t.value=esgst.cfh.textArea.value.slice(esgst.cfh.textArea.selectionStart,esgst.cfh.textArea.selectionEnd),t.focus()}},{id:'cfh_sr',icons:['fa-floppy-o'],name:'Saved Replies',setPopout:async function(e){let t,s,n,i,a,o,r;for(esgst.cfh.deletedReplies=[],r=JSON.parse(await getValue('savedReplies','[]')),e.popout.innerHTML='\n                        <div>\n                            <input placeholder="Filter replies..." type="text"/>\n                        </div>\n                        <div class="esgst-cfh-sr-container"></div>\n                        <div class="form__saving-button btn_action white">Add New Reply</div>\n                        <div class="form__saving-button btn_action white">Save Reply</div>\n                        <div class="esgst-clickable esgst-hidden">\n                            <i class="fa fa-rotate-left"></i>\n                            <span>Undo Delete</span>\n                        </div>\n                    ',s=e.popout.firstElementChild.firstElementChild,esgst.cfh.undoDelete=e.popout.lastElementChild,o=esgst.cfh.undoDelete.previousElementSibling,addButton=o.previousElementSibling,a=addButton.previousElementSibling,n=0,i=r.length;n<i;++n)setCfhReply(a,r[n]);s.addEventListener('input',filterCfhReplies.bind(null,a)),esgst.cfh.undoDelete.addEventListener('click',undoCfhDelete),addButton.addEventListener('click',openCfhReplyPopup.bind(null,null,null,a,null)),o.addEventListener('click',()=>saveCfhReply(esgst.cfh.textArea.value,null,'Untitled',null,null,a,null,null))},callback:e=>{e.firstElementChild.firstElementChild.focus()}},{icons:['fa-paste'],name:'Automatic Links / Images Paste Formatting: OFF',callback:e=>{esgst.cfh.alipf=e.firstElementChild,setCfhAlipf(esgst.cfh_pasteFormatting)},onClick:setCfhAlipf},{icons:['fa-rotate-left'],name:'Undo Formatting',callback:e=>{esgst.cfh.undo=e.firstElementChild,esgst.cfh.undo.classList.add('esgst-faded')},onClick:()=>{let e,t;esgst.cfh.history.length&&(redoCfhFormatting(esgst.cfh.textArea,esgst.cfh.textArea.value),t=esgst.cfh.history.pop(),e=esgst.cfh.textArea.selectionEnd-(esgst.cfh.textArea.value.length-t.length),esgst.cfh.textArea.value=t,esgst.cfh.textArea.setSelectionRange(e,e),esgst.cfh.history.length||esgst.cfh.undo.classList.add('esgst-faded'),esgst.cfh.textArea.focus())}},{icons:['fa-rotate-right'],name:'Redo Formatting',callback:e=>{esgst.cfh.redo=e.firstElementChild,esgst.cfh.redo.classList.add('esgst-faded')},onClick:()=>{let e,t;esgst.cfh.backup.length&&(undoCfhFormatting(esgst.cfh.textArea,esgst.cfh.textArea.value),t=esgst.cfh.backup.pop(),e=esgst.cfh.textArea.selectionEnd+(t.length-esgst.cfh.textArea.value.length),esgst.cfh.textArea.value=t,esgst.cfh.textArea.setSelectionRange(e,e),esgst.cfh.backup.length||esgst.cfh.redo.classList.add('esgst-faded'),esgst.cfh.textArea.focus())}}];for(let t=0,s=e.length;t<s;t++){let s=e[t];if(!s.id||esgst[s.id]){let e=insertHtml(esgst.cfh.panel,'beforeEnd',`<div title="${getFeatureTooltip(s.id||'cfh',s.name)}"></div>`);if(s.icons.forEach(t=>{e.insertAdjacentHTML('beforeEnd',`<i class="fa ${t}"></i>`)}),s.text&&e.insertAdjacentText('beforeEnd',s.text),s.setPopout)await s.setPopout(new Popout('esgst-cfh-popout',e,0,!0,null,s.callback));else if(s.setPopup){let t;e.addEventListener('click',()=>{t?t.open():(t=new Popup('fa-table','Add a table:'),s.setPopup(t),t.open())})}else s.callback&&s.callback(e),e.addEventListener('click',()=>{s.onClick?s.onClick():formatCfhItem(s.prefix,s.suffix,s.multiline)})}}esgst.cfh_cf&&esgst.cfh.panel.insertAdjacentHTML('beforeEnd',`\n                <a href="/about/comment-formatting" title="${getFeatureTooltip('cfh_cf','Comment Formatting')}">\n                    <i class="fa fa-question-circle"></i>\n                </a>\n            `),esgst.cfh_p&&!esgst.cfh_p_a&&insertHtml(esgst.cfh.panel,'beforeEnd',`\n                <div title="${getFeatureTooltip('cfh_p','Preview')}">\n                    <i class="fa fa-eye"></i>\n                </div>\n            `).addEventListener('click',()=>{esgst.cfh.preview.innerHTML=parseMarkdown(esgst.cfh.textArea.value),formatCfhImages(esgst.cfh.preview)}),esgst.cfh.preview.className='esgst-cfh-preview markdown'}function setCfhTextAreas(e){let t,s;for(t=(s=e.querySelectorAll('textarea[name*="description"]')).length-1;t>-1;--t)s[t].onfocus=addCfhPanel.bind(null,s[t])}function addCfhPanel(e){e!==esgst.cfh.textArea&&(e.parentElement.insertBefore(esgst.cfh.panel,e),e.onfocus=addCfhPanel.bind(null,e),e.onpaste=(t=>{if(esgst.cfh_pasteFormatting){let s,n;(s=t.clipboardData.getData('text/plain')).match(/^https?:/)&&(t.preventDefault(),n=e.value,undoCfhFormatting(e,`${n.slice(0,e.selectionStart)}${s}${n.slice(e.selectionEnd)}`),formatCfhLink('',s,s.match(/\.(jpg|jpeg|gif|bmp|png)/),!0))}}),e.onkeydown=(e=>{'Backspace'===e.key&&esgst.cfh.recent&&(e.preventDefault(),esgst.cfh.undo.click()),esgst.cfh.recent=!1,e.ctrlKey&&('y'===e.key&&(esgst.cfh.backup.length||esgst.cfh.history.length)?(e.preventDefault(),esgst.cfh.redo.click()):'z'===e.key&&esgst.cfh.history.length&&(e.preventDefault(),esgst.cfh.undo.click()))}),esgst.cfh_p&&(esgst.cfh.preview.innerHTML='',e.parentElement.insertBefore(esgst.cfh.preview,e.nextElementSibling),esgst.cfh_p_a&&(e.oninput=(()=>{esgst.cfh.preview.innerHTML=parseMarkdown(e.value),formatCfhImages(esgst.cfh.preview)}))),esgst.cfh.textArea=e)}function undoCfhFormatting(e,t){esgst.cfh.history.push(t),esgst.cfh.undo.classList.remove('esgst-faded')}function redoCfhFormatting(e,t){esgst.cfh.backup.push(t),esgst.cfh.redo.classList.remove('esgst-faded')}function formatCfhItem(e='',t='',s){let n,i,a,o,r,l;l=esgst.cfh.textArea.value,undoCfhFormatting(esgst.cfh.textArea,l),o=esgst.cfh.textArea.selectionStart,n=esgst.cfh.textArea.selectionEnd,a=(r=l.slice(o,n)).length,s?(i=0,r=r.replace(/^|\n/g,t=>`${t}${e.replace(/\[n\]/,++i)}`)):r=`${e}${r}${t}`,a+=a>0?o+r.length-a:o+r.length-a-t.length,esgst.cfh.textArea.value=`${l.slice(0,o)}${r}${l.slice(n)}`,esgst.cfh.textArea.setSelectionRange(a,a),esgst.cfh.textArea.focus()}function formatCfhLink(e,t,s,n){let i,a,o;n?esgst.cfh.recent=!0:undoCfhFormatting(esgst.cfh.textArea,esgst.cfh.textArea.value),a=esgst.cfh.textArea.selectionStart,i=esgst.cfh.textArea.selectionEnd,o=s?`![${e}](${t})`:`[${e}](${t})`,esgst.cfh.textArea.value=`${esgst.cfh.textArea.value.slice(0,a)}${o}${esgst.cfh.textArea.value.slice(i)}`,e?esgst.cfh.textArea.setSelectionRange(i+o.length,i+o.length):esgst.cfh.textArea.setSelectionRange(i+o.indexOf('[')+1,i+o.indexOf('[')+1),esgst.cfh.textArea.focus()}async function checkImgurComplete(e,t){let s=await getValue('imgurToken');s?uploadImgurImage(`Bearer ${s}`,e,t):setTimeout(checkImgurComplete,250,e,t)}function uploadImgurImage(e,t,s){let n,i,a;i=new Popup('fa-upload','Upload Image',!0),n=insertHtml(i.description,'beforeEnd','<input type="file"/>'),a=insertHtml(i.description,'beforeEnd','<div class="esgst-description esgst-warning"></div>'),i.description.appendChild(new ButtonSet('green','grey','fa-upload','fa-circle-o-notch fa-spin','Upload','Uploading...',o=>{let r=n.files[0];if(r)if(r.type.match(/^image/))if(r.size/1024/1024<=10){let n=new FileReader;n.readAsDataURL(r),n.onload=readImgurFile.bind(null,e,t,i,n,s,a,o)}else createFadeMessage(a,'Image is larger than 10 MB!'),o();else createFadeMessage(a,'File is not an image!'),o();else createFadeMessage(a,'No file was loaded!'),o()}).set),esgst.cfh_img_remember&&i.description.appendChild(new ButtonSet_v2({color1:'grey',color2:'grey',icon1:'fa-rotate-left',icon2:'fa-circle-o-notch fa-spin',title1:'Reset',title2:'Resetting...',callback1:async()=>{await setSetting('cfh_img_remember',!1),esgst.cfh_img_remember=!1,i.close()}}).set),i.open()}async function readImgurFile(e,t,s,n,i,a,o){let r=JSON.parse((await request({data:`image=${encodeURIComponent(n.result.match(/base64,(.+)/)[1])}`,headers:{authorization:e},method:'POST',url:'https://api.imgur.com/3/image'})).responseText);r.success?(o(),s.close(),i.value=r.data.link,t.open()):(createFadeMessage(a,'Could not upload image!'),o())}function insertCfhTableRows(e,t){let s,n,i,a,o;for(;e>0;){for(a=t.rows.length,o=t.insertRow(a),n=0,i=t.rows[0].cells.length-1;n<i;++n)o.insertCell(0).innerHTML='<input placeholder="Value" type="text"/>';s=o.insertCell(0),a>2&&(s.innerHTML='\n                    <a>\n                        <i class="fa fa-times-circle" title="Delete row"></i>\n                    </a>\n                ',s.firstElementChild.addEventListener('click',()=>{t.rows.length>4?s.remove():alert('A table must have a least one row and two columns.')})),--e}}function insertCfhTableColumns(e,t){let s,n,i,a,o,r;for(;e>0;){for(r=t.rows,o=r[0].cells.length,i=3,a=r.length;i<a;++i)r[i].insertCell(o).innerHTML='<input placeholder="Value" type="text"/>';r[2].insertCell(o).innerHTML='\n                <select>\n                    <option value=":-">Left</option>\n                    <option value=":-:">Center</option>\n                    <option value="-:">Right</option>\n                </select>\n            ',(s=r[1].insertCell(o)).innerHTML='<input placeholder="Header" type="text"/>',(n=r[0].insertCell(o)).innerHTML='\n                <a>\n                    <i class="fa fa-times-circle" title="Delete column"></i>\n                </a>\n            ',n.firstElementChild.addEventListener('click',()=>{if(r=t.rows,(o=r[1].cells.length)>3){do{--o}while(r[1].cells[o]!==s);for(i=0,a=r.length;i<a;++i)r[i].deleteCell(o)}else alert('A table must have at least one row and two columns.')}),--e}}function setCfhEmojis(e){let t,s;for(s=e.children.length-1;s>-1;--s)(t=e.children[s]).addEventListener('click',formatCfhItem.bind(null,t.textContent,''))}function setCfhReply(e,t){let s,n,i,a,o,r;o=insertHtml(e,'beforeEnd',`\n            <div class="esgst-cfh-sr-box" draggable="true">\n                <div class="esgst-cfh-sr-summary">\n                    <div class="esgst-cfh-sr-name">${t.name}</div>\n                    <div class="esgst-cfh-sr-description">${t.description}</div>\n                </div>\n                <div class="esgst-cfh-sr-controls">\n                    <i class="esgst-clickable fa fa-retweet" title="Replace description with current reply"></i>\n                    <i class="esgst-clickable fa fa-edit" title="Edit reply"></i>\n                    <i class="esgst-clickable fa fa-trash" title="Delete reply"></i>\n                    <i class="fa fa-question-circle" title="Drag the reply to move it"></i>\n                </div>\n            </div>\n        `),r=o.firstElementChild,i=r.firstElementChild,n=i.nextElementSibling,s=(a=r.nextElementSibling.firstElementChild).nextElementSibling,o.addEventListener('dragstart',setCfhSource.bind(null,n,i,o)),o.addEventListener('dragenter',getCfhSource.bind(null,o,e)),o.addEventListener('dragend',saveCfhSource),r.addEventListener('click',()=>{let e,s,n,i,a;undoCfhFormatting(esgst.cfh.textArea,esgst.cfh.textArea.value),e=esgst.cfh.textArea.selectionEnd,(n=(a=t.description).match(/\[ESGST-R\][\s\S]+?\[\/ESGST-R\]/g))&&(i=n.length,a=n[s=Math.floor(Math.random()*i)].match(/\[ESGST-R\]([\s\S]+?)\[\/ESGST-R\]/)[1]),esgst.cfh.textArea.value=`${esgst.cfh.textArea.value.slice(0,esgst.cfh.textArea.selectionStart)}${a}${esgst.cfh.textArea.value.slice(e)}`,esgst.cfh.textArea.setSelectionRange(e+a.length,e+a.length),esgst.cfh.textArea.focus()}),s.addEventListener('click',openCfhReplyPopup.bind(null,t.description,t.name,e,r)),a.addEventListener('click',()=>saveCfhReply(t.description,esgst.cfh.textArea,t.name,null,null,e,r,null)),s.nextElementSibling.addEventListener('click',async()=>{let e=JSON.parse(await getValue('savedReplies','[]')),s;for(s=e.length-1;s>-1&&(e[s].name!==i.textContent||e[s].description!==n.textContent);s--);s>-1&&(e.splice(s,1),setValue('savedReplies',JSON.stringify(e)),o.classList.add('esgst-hidden'),esgst.cfh.deletedReplies.push({reply:o,savedReply:t}),esgst.cfh.undoDelete.classList.remove('esgst-hidden'))})}async function setCfhSource(e,t,s,n){let i,a;for(n.dataTransfer.setData('text/plain',''),esgst.cfh.source=s,i=(a=JSON.parse(await getValue('savedReplies','[]'))).length-1;i>-1&&(a[i].name!==t.textContent||a[i].description!==e.textContent);--i);i>-1&&(esgst.cfh.sourceIndex=i)}function getCfhSource(e,t){let s,n;s=esgst.cfh.source,n=0;do{if((s=s.previousElementSibling)&&s===e)return esgst.cfh.sourceNewIndex=n,void t.insertBefore(esgst.cfh.source,e);++n}while(s);esgst.cfh.sourceNewIndex=n-1,t.insertBefore(esgst.cfh.source,e.nextElementSibling)}async function saveCfhSource(){let e=JSON.parse(await getValue('savedReplies','[]'));e.splice(esgst.cfh.sourceNewIndex,0,e.splice(esgst.cfh.sourceIndex,1)[0]),setValue('savedReplies',JSON.stringify(e))}function openCfhReplyPopup(e,t,s,n){let i,a,o,r;(r=new Popup('fa-floppy-o',n?'Edit reply:':'Save new reply:',!0)).scrollable.insertAdjacentHTML('beforeEnd','\n            <div class="esgst-description">\n                You can save a defined list of replies to be picked at random when using it. To do so, enclose each option with <span class="esgst-bold">[ESGST-R][/ESGST-R]</span>. For example, a defined list that renders a random "thank you" comment when using it would look like this:<br/><br/>\n                [ESGST-R]Thanks![/ESGST-R]<br/>\n                [ESGST-R]Thank you![/ESGST-R]<br/>\n                [ESGST-R]Thank you so much!<br/><br/>\n                Can\'t wait to play this game![/ESGST-R]\n            </div>\n        '),i=(a=(o=insertHtml(r.scrollable,'beforeEnd',`\n            <div>\n                <div>\n                    <div>Name:</div>\n                    <input type="text" value="${t||''}"/>\n                </div>\n                <div>\n                    <div>Description:</div>\n                    <textarea>${e||''}</textarea>\n                </div>\n            </div>\n        `)).firstElementChild).nextElementSibling,a=a.lastElementChild,i=i.lastElementChild,esgst.cfh&&addCfhPanel(i),r.description.appendChild(new ButtonSet('green','grey','fa-check','fa-circle-o-notch fa-spin','Save','Saving...',saveCfhReply.bind(null,e,i,t,a,r,s,n)).set),r.open()}async function saveCfhReply(e,t,s,n,i,a,o,r){let[l,c]=[t?t.value.trim():e,n?n.value.trim():s];if(l&&c){let t=JSON.parse(await getValue('savedReplies','[]')),n={description:l,name:c};if(o){let i;for(i=t.length-1;i>-1&&(t[i].name!==s||t[i].description!==e);i--);i>-1&&(t[i]=n,o.firstElementChild.textContent=c,o.lastElementChild.textContent=l)}else t.push(n),setCfhReply(a,n);await setValue('savedReplies',JSON.stringify(t)),r&&(r(),i.close())}else r&&(r(),createAlert('Both fields are required.'))}function filterCfhReplies(e,t){let s,n,i;for(i=t.currentTarget.value,s=e.children.length-1;s>-1;--s)(n=e.children[s]).textContent.toLowerCase().match(i.toLowerCase())?n.classList.remove('esgst-hidden'):n.classList.add('esgst-hidden')}async function undoCfhDelete(){let e,t;(e=esgst.cfh.deletedReplies.pop()).reply.classList.remove('esgst-hidden'),e.reply.parentElement.appendChild(e.reply),(t=JSON.parse(await getValue('savedReplies','[]'))).push(e.savedReply),setValue('savedReplies',JSON.stringify(t)),0===esgst.cfh.deletedReplies.length&&esgst.cfh.undoDelete.classList.add('esgst-hidden')}function setCfhAlipf(e){void 0===e&&(e=!esgst.cfh_pasteFormatting),setSetting('cfh_pasteFormatting',e),esgst.cfh_pasteFormatting=e,e?(esgst.cfh.alipf.title=getFeatureTooltip('cfh','Automatic Links / Images Paste Formatting: ON'),esgst.cfh.alipf.classList.remove('esgst-faded')):(esgst.cfh.alipf.title=getFeatureTooltip('cfh','Automatic Links / Images Paste Formatting: OFF'),esgst.cfh.alipf.classList.add('esgst-faded')),esgst.cfh.textArea&&esgst.cfh.textArea.focus()}function formatCfhImages(e){let t,s,n;for(t=0,n=(s=e.getElementsByTagName('img')).length;t<n;++t)image=s[0],e.appendChild(image),image.classList.add('is-hidden','is_hidden'),image.outerHTML=`\n                <div>\n                    <div class="${esgst.sg?'comment__toggle-attached':'view_attached'}">View attached image.</div>\n                    <a href="${image.getAttribute('src')}" rel="nofollow noreferrer" target="_blank">\n                        ${image.outerHTML}\n                    </a>\n                </div>\n            `}function loadCh(){new Process({button:insertHtml(esgst.sg?esgst.mainButton.parentElement.getElementsByClassName('nav__absolute-dropdown')[0].lastElementChild:esgst.mainButton.parentElement.getElementsByClassName('dropdown')[0].firstElementChild.lastElementChild,'beforeBegin',`\n                <div class="esgst-header-menu-row" data-link-id="ch" data-link-key="account" title="${getFeatureTooltip('ch')}">\n                    <i class="fa fa-fw fa-comments yellow"></i>\n                    <div>\n                        <p class="esgst-header-menu-name">My Comment History</p>\n                        <p class="esgst-header-menu-description">View your comment history.</p>\n                    </div>\n                </div>\n            `),popup:{icon:'fa-comments',title:'Comment History',addProgress:!0,addScrollable:'left'},urls:{id:'ch',init:initChUrls,perLoad:5,request:{request:getChUrlRequest}}})}async function initChUrls(){this.ids=[];let e=JSON.parse(await getValue(`${esgst.name}CommentHistory`,'[]'));for(let t=0,s=e.length;t<s;t++)this.ids.push(e[t].id),this.items.push(`https://${location.hostname}/go/comment/${e[t].id}`)}function getChUrlRequest(e,t,s){let n=s.getElementById(this.ids[this.index]);esgst.sg&&((n=n.closest('.comment')).firstElementChild.classList.remove('comment__parent'),n.firstElementChild.classList.add('comment__child')),n.lastElementChild.remove();let i=n.parentElement.closest('.comment, .comment_outer'),a='';i?(i.lastElementChild.remove(),i.insertAdjacentHTML('beforeEnd',`\n                <div class="comment__children comment_children">${n.outerHTML}</div>\n            `),a+=i.outerHTML):(esgst.st&&n.getElementsByClassName('action_list')[0].firstElementChild.insertAdjacentHTML('afterEnd',`\n                    <a href="${t.finalUrl}">${s.title}</a>\n                `),a+=esgst.sg?`\n                <div class="comments__entity">\n                    <p class="comments__entity__name">\n                        <a href="${t.finalUrl}">${s.title}</a>\n                    </p>\n                </div>`:'',a+=`\n                <div class="comment__children comment_children">${n.outerHTML}</div>\n            `),this.context.insertAdjacentHTML('beforeEnd',`\n            <div class="comment comments comment_outer">${a}</div>\n        `)}async function saveChComment(e,t){let s=await createLock(`${esgst.name}CommentHistoryLock`,300),n=`${esgst.name}CommentHistory`,i=JSON.parse(await getValue(n,'[]'));i.unshift({id:e,timestamp:t}),await setValue(n,JSON.stringify(i)),s()}function loadChfl(){let e=null;if(esgst.sg){let t=document.getElementsByClassName('nav__relative-dropdown');e={sources:{giveaways:{container:t[0],context:t[0].firstElementChild,elements:{}},discussions:{container:t[1],context:t[1].firstElementChild,elements:{}},support:{container:t[2],context:t[2].firstElementChild,elements:{}},help:{container:t[3],context:t[3].firstElementChild,elements:{}},account:{container:t[4],context:t[4].firstElementChild,elements:{}},footer:{container:esgst.footer,context:esgst.footer.firstElementChild.lastElementChild,elements:{}}}}}else{let t=document.getElementsByClassName('dropdown');e={sources:{trades:{container:t[0],context:t[0].firstElementChild,elements:{}},account:{container:t[1],context:t[1].firstElementChild,elements:{}},footer:{container:esgst.footer,context:esgst.footer.firstElementChild.lastElementChild,elements:{}}}}}for(let t in e.sources){let s=e.sources[t];for(let e=s.context.children.length-1;e>-1;e--){let n=s.context.children[e],i=n.getAttribute('data-link-id');i?s.elements[i]||(s.elements[i]=n):(n.getAttribute('href')&&!n.getAttribute('href').match(/^javascript/)||'footer'===t&&n.lastElementChild.getAttribute('href'))&&(i=(i=('footer'===t?n.lastElementChild:n).getAttribute('href').match(/.*(\/|\?)(.+)$/)[2]).replace(/\[steamId\]/,esgst.steamId),n.setAttribute('data-link-id',i),n.setAttribute('data-link-key',t),s.elements[i]=n)}reorderChflElements(e,t,!0)}document.addEventListener('keydown',addChflButton.bind(null,e)),document.addEventListener('keyup',removeChflButton.bind(null,e))}function reorderChflElements(e,t,s){let n=e.sources[t],i=[];for(let a=esgst[`chfl_${t}`].length-1;a>-1;a--){let o=esgst[`chfl_${t}`][a];if(o.id){let a=n.elements[o.id];a&&!s?n.context.insertBefore(a,n.context.firstElementChild):(a&&a.remove(),'footer'===t?n.elements[o.id]=insertHtml(n.context,'afterBegin',`\n                            <${esgst.sg?'div':'li'} data-link-id="${o.id}" data-link-key="footer" title="${getFeatureTooltip('chfl')}">\n                                <i class="fa ${o.icon}"></i>\n                                <a href="${o.url}">${o.name}</a>\n                            </${esgst.sg?'div':'li'}>\n                        `):(n.elements[o.id]=insertHtml(n.context,'afterBegin',generateHeaderMenuItem(o,t)),n.elements[o.id].title=getFeatureTooltip('chfl'),o.description||n.elements[o.id].classList.add('esgst-chfl-small'),o.compact&&n.elements[o.id].classList.add('esgst-chfl-compact'))),makeChflDraggable(e,n.elements[o.id]),i.push(o.id)}else{let t=n.elements[o];t&&(n.context.insertBefore(t,n.context.firstElementChild),makeChflDraggable(e,t)),i.push(o)}}for(let e in n.elements)i.indexOf(e)>-1||(n.elements[e].remove(),delete n.elements[e])}function makeChflDraggable(e,t){t.setAttribute('draggable',!0),t.addEventListener('dragstart',startChflDrag.bind(null,e)),t.addEventListener('dragenter',enterChflDrag.bind(null,e)),t.addEventListener('dragend',saveChflOrder.bind(null,e))}function startChflDrag(e,t){t.dataTransfer.setData('text/plain',''),e.source=t.currentTarget}function enterChflDrag(e,t){let s=e.source,n=t.currentTarget;if(s.getAttribute('data-link-key')===n.getAttribute('data-link-key')){do{if((s=s.previousElementSibling)&&s===n)return void n.parentElement.insertBefore(e.source,n)}while(s);n.parentElement.insertBefore(e.source,n.nextElementSibling)}}function saveChflOrder(e){for(let t in e.sources){let s={};esgst.settings[`chfl_${t}_${esgst.name}`].forEach(e=>{e.id&&(s[e.id]=e)}),esgst.settings[`chfl_${t}_${esgst.name}`]=[];let n=e.sources[t];for(let e=0,i=n.context.children.length;e<i;e++){let i,a=n.context.children[e].getAttribute('data-link-id');a&&esgst.settings[`chfl_${t}_${esgst.name}`].push(s[a]||a)}esgst[`chfl_${t}`]=esgst.settings[`chfl_${t}_${esgst.name}`]}setValue('settings',JSON.stringify(esgst.settings))}function addChflButton(e,t){if(!e.button&&t.ctrlKey)for(let t in e.sources){let s=e.sources[t];if(s.container.classList.contains('is-hidden')||s.container.classList.contains('is_hidden'))continue;e.button=insertHtml(s.context,'beforeEnd','footer'===t?`\n                <${esgst.sg?'div':'li'}>\n                    <i class="fa fa-plus"></i>\n                    <a href="#">Add Custom Link</a>\n                </${esgst.sg?'div':'li'}>\n            `:generateHeaderMenuItem({color:'grey',icon:'fa-plus-circle',name:'Add Custom Link',description:'Click here to add a custom link.'})),e.button.addEventListener('click',openChflPopup.bind(null,e,null,t)),e.resetButton=insertHtml(s.context,'beforeEnd','footer'===t?`\n                <${esgst.sg?'div':'li'}>\n                    <i class="fa fa-undo"></i>\n                    <a href="#">Reset Links</a>\n                </${esgst.sg?'div':'li'}>\n            `:generateHeaderMenuItem({color:'grey',icon:'fa-undo',name:'Reset Links',description:'Click here to reset the custom links.'})),e.resetButton.addEventListener('click',createConfirmation.bind(null,'Are you sure you want to reset the links? Any custom links you added will be deleted.',resetChflLinks.bind(null,e,t),null));let n={};esgst[`chfl_${t}`].forEach(e=>{e.id&&(n[e.id]=e)});for(let n in s.elements){let i,a=insertHtml(s.elements[n],'beforeEnd','\n                    <div class="esgst-chfl-panel">\n                        <i class="esgst-chfl-edit-button fa fa-edit icon-grey"></i>\n                        <i class="esgst-chfl-remove-button fa fa-trash icon-grey"></i>\n                    </div>\n                ');a.firstElementChild.addEventListener('click',openChflPopup.bind(null,e,n,t)),a.lastElementChild.addEventListener('click',removeChflLink.bind(null,e,n,t))}return}}function openChflPopup(e,t,s,n){n.preventDefault();let i=new Popup(t?'fa-edit':'fa-plus',`${t?'Edit':'Add'} Custom Link`,!0),a=insertHtml(i.description,'beforeEnd','\n            <div>\n                <span>URL:</span>\n                <i class="fa fa-question-circle" title="Instead of entering \'https://www.steamgifts.com/url\', you can simply enter \'/url\'."></i>\n                <input class="esgst-switch-input esgst-switch-input-large" type="text">\n            </div>\n            <div>\n                <span>Color:</span>\n                <select class="esgst-switch-input esgst-switch-input-large">\n                    <option value="grey">Grey (Default)</option>\n                    <option value="blue">Blue</option>\n                    <option value="green">Green</option>\n                    <option value="red">Red</option>\n                    <option value="yellow">Yellow</option>\n                </select>\n            </div>\n            <div>\n                <span>Icon:</span>\n                <a href="https://fontawesome.com/v4.7.0/icons/">\n                    <i class="fa fa-question-circle" title="You must use an icon from FontAwesome (click on this icon to go to the FontAwesome page). Any icon except for the 41 new icons from v4.7 will work. The icon must be in the format \'fa-icon\', without the quotes."></i>\n                </a>\n                <input class="esgst-switch-input esgst-switch-input-large" type="text">\n            </div>\n            <div>\n                <span>Name:</span>\n                <input class="esgst-switch-input esgst-switch-input-large" type="text">\n            </div>\n            <div>\n                <span>Description:</span>\n                <input class="esgst-switch-input esgst-switch-input-large" type="text">\n            </div>\n        '),o=a.previousElementSibling,r=o.previousElementSibling,l=r.previousElementSibling,c=l.previousElementSibling.lastElementChild,d=new ToggleSwitch(i.description,null,null,'Use compact size.',!1,!1,'The bottom/top padding of the link will be reduced to 8px.');if(a=a.lastElementChild,o=o.lastElementChild,r=r.lastElementChild,l=l.lastElementChild,'footer'===s&&(l.parentElement.classList.add('esgst-hidden'),a.parentElement.classList.add('esgst-hidden'),d.switch.classList.add('esgst-hidden')),esgst.st&&a.parentElement.classList.add('esgst-hidden'),t)for(let n=esgst[`chfl_${s}`].length-1;n>-1;n--){let i=esgst[`chfl_${s}`][n];if(i===t||i.id&&i.id===t){if(i.id)a.value=i.description||'',o.value=i.name||'',r.value=i.icon||'',l.value=i.color||'',c.value=i.url||'',i.compact&&d.enable();else{let t=e.sources[s].elements[i],n=t.firstElementChild;esgst.sg?'footer'===s?(o.value=n.nextElementSibling.textContent.trim(),r.value=n.className.match(/.+(fa-.+)$/)[1],c.value=n.nextElementSibling.getAttribute('href')):(a.value=n.nextElementSibling.lastElementChild.textContent.trim(),o.value=n.nextElementSibling.firstElementChild.textContent.trim(),r.value=n.className.match(/.+(fa-.+)$/)[1],l.value=n.className.match(/icon-(.+?)\s/)[1],c.value=t.getAttribute('href')):'footer'===s?(o.value=n.nextElementSibling.textContent.trim(),r.value=n.className.match(/.+(fa-.+)$/)[1],c.value=n.nextElementSibling.getAttribute('href')):(o.value=n.nextElementSibling.textContent.trim(),r.value=n.className.match(/.+(fa-.+)$/)[1],l.value=n.className.match(/^(.+?)\s/)[1],c.value=t.getAttribute('href'))}break}}i.description.appendChild(new ButtonSet_v2({color1:'green',color2:'grey',icon1:t?'fa-edit':'fa-plus-circle',icon2:'fa-circle-o-notch fa-spin',title1:t?'Edit':'Add',title2:t?'Editing...':'Adding...',callback1:addChflLink.bind(null,e,l,d,a,t,r,s,o,i,c)}).set),i.open()}async function addChflLink(e,t,s,n,i,a,o,r,l,c){let d=c.value.match(/\/(giveaway|discussion|support\/ticket|trade)\/(.+?)\//)||c.value.match(/.*(\/|\?)(.+)$/),g={color:t.value,compact:s.value?1:0,description:n.value,icon:a.value,id:d[2],name:r.value,url:c.value};if(i){e.sources[o].elements[i].remove(),delete e.sources[o].elements[i];for(let e=esgst.settings[`chfl_${o}_${esgst.name}`].length-1;e>-1;e--){let t=esgst.settings[`chfl_${o}_${esgst.name}`][e];if(t.id){if(t.id!==i)continue;esgst.settings[`chfl_${o}_${esgst.name}`][e]=g;break}if(t===i){esgst.settings[`chfl_${o}_${esgst.name}`][e]=g;break}}}else esgst.settings[`chfl_${o}_${esgst.name}`].push(g);esgst[`chfl_${o}`]=esgst.settings[`chfl_${o}_${esgst.name}`],await setValue('settings',JSON.stringify(esgst.settings)),e.sources[o].elements[g.id]=insertHtml(e.sources[o].context,'beforeEnd','footer'===o?`\n            <${esgst.sg?'div':'li'} data-link-id="${g.id}" data-link-key="footer">\n                <i class="fa ${g.icon}"></i>\n                <a href="${g.url}">${g.name}</a>\n            </${esgst.sg?'div':'li'}>\n        `:generateHeaderMenuItem(g,o)),g.description||e.sources[o].elements[g.id].classList.add('esgst-chfl-small'),g.compact&&e.sources[o].elements[g.id].classList.add('esgst-chfl-compact'),makeChflDraggable(e,e.sources[o].elements[g.id]),reorderChflElements(e,o),l.close()}function resetChflLinks(e,t,s){s.preventDefault(),s.stopPropagation(),esgst.settings[`chfl_${t}_${esgst.name}`].forEach(s=>{if(!s.id)return;let n=e.sources[t].elements[s.id];n&&(n.remove(),delete e.sources[t].elements[s.id])}),esgst.settings[`chfl_${t}_${esgst.name}`]=esgst.defaultValues[`chfl_${t}_${esgst.name}`],esgst[`chfl_${t}`]=esgst.settings[`chfl_${t}_${esgst.name}`],reorderChflElements(e,t),setValue('settings',JSON.stringify(esgst.settings))}function removeChflLink(e,t,s,n){n.preventDefault(),n.stopPropagation(),e.sources[s].elements[t].remove(),delete e.sources[s].elements[t],saveChflOrder(e)}function removeChflButton(e){if(!e.button)return;e.button.remove(),e.button=null,e.resetButton.remove(),e.resetButton=null;let t=document.getElementsByClassName('esgst-chfl-panel');for(let e=t.length-1;e>-1;e--)t[e].remove()}async function closeCodbDiscussion(e){let t;return!!parseHtml((await request({data:`xsrf_token=${esgst.xsrfToken}&do=close_discussion`,method:'POST',url:e.url})).responseText).getElementsByClassName('page__heading__button--red')[0]&&(e.closed=!0,e.innerWrap.classList.add('is-faded'),!0)}async function openCodbDiscussion(e){let t;return!parseHtml((await request({data:`xsrf_token=${esgst.xsrfToken}&do=reopen_discussion`,method:'POST',url:e.url})).responseText).getElementsByClassName('page__heading__button--red')[0]&&(e.closed=!1,e.innerWrap.classList.remove('is-faded'),!0)}function loadCr(){esgst.discussionPath&&esgst.pagination&&reverseComments(esgst.pagination.previousElementSibling)}function loadCs(){!esgst.commentsPath||esgst.giveawayPath&&document.getElementsByClassName('table--summary')[0]||new Process({headingButton:{id:'cs',icons:['fa-comments','fa-search'],title:'Search comments from specific users'},popup:{icon:'fa-comments',title:'Search comments from specific users:',textInputs:[{placeholder:'username1, username2, ...'}],addProgress:!0,addScrollable:'left'},init:initCs,requests:[{source:esgst.discussionPath,url:esgst.searchUrl,request:getCsRequest}]})}function initCs(){this.usernames=this.popup.getTextInputValue(0).toLowerCase().replace(/(,\s*)+/g,function(e,t,s,n){return 0===s||s===n.length-e.length?'':', '}).split(', ');let e=location.pathname.match(/^\/(giveaway|discussion|support\/ticket|trade)\/(.+?)\//);this.code=e[2],this.type=e[1],this.title=esgst.originalTitle.replace(/\s-\sPage\s\d+/,''),this.results=0}async function getCsRequest(e,t,s){this.popup.setProgress(`Searching comments (page ${e.nextPage}${e.lastPage})..`),this.popup.setOverallProgress(`${this.results} results found.`);let n=s.getElementsByClassName('comments'),i=(n[1]||n[0]).querySelectorAll('.comment:not(.comment--submit), .comment_outer'),a=this.popup.getScrollable();for(let t=0,s=i.length;t<s;t++){let s=i[t];esgst.sg&&(s.firstElementChild.classList.remove('comment__parent'),s.firstElementChild.classList.add('comment__child'));let n=s.parentElement.closest('.comment, .comment_outer');(s=s.cloneNode(!0)).lastElementChild.innerHTML='';let o='\n                <div class="comment comments comment_outer">\n            ';n?((n=n.cloneNode(!0)).lastElementChild.remove(),n.insertAdjacentHTML('beforeEnd',`\n                    <div class="comment__children comment_children">${s.outerHTML}</div>\n                `),o+=n.outerHTML):(esgst.st&&s.getElementsByClassName('action_list')[0].firstElementChild.insertAdjacentHTML('afterEnd',`\n                        <a href="/${this.type}/${this.code}/">${this.title} - Page ${e.nextPage}</a>\n                    `),o+=esgst.sg?`\n                    <div class="comments__entity">\n                        <p class="comments__entity__name">\n                            <a href="/${this.type}/${this.code}/">${this.title} - Page ${e.nextPage}</a>\n                        </p>\n                    </div>`:'',o+=`\n                    <div class="comment__children comment_children">${s.outerHTML}</div>\n                `),o+='\n                </div>\n            ',this.usernames.indexOf(s.querySelector('.comment__username, .author_name').textContent.trim().toLowerCase())>-1&&(a.insertAdjacentHTML('beforeEnd',o),this.results+=1)}this.popup.setOverallProgress(`${this.results} results found.`),await loadEndlessFeatures(a)}async function loadCt(){if((esgst.commentsPath&&(!esgst.giveawayPath||!document.getElementsByClassName('table--summary')[0])||esgst.inboxPath)&&!esgst.ct_s){if(!esgst.ct_s){let e=createHeadingButton({featureId:'ct',id:'ctUnread',icons:['fa-eye-slash'],title:'Mark all comments in this page as unread'}),t=createHeadingButton({featureId:'ct',id:'ctRead',icons:['fa-eye'],title:'Mark all comments in this page as read'}),s;addCtCommentPanel(createHeadingButton({featureId:'ct',id:'ctGo',icons:['fa-comments-o'],title:'Go to the first unread comment of this page'}),t,e)}let e=location.pathname.match(/\/(giveaway|discussion|ticket|trade)\/(.+?)\//);if(e){let t,s,n,i,a,o;if(a=esgst.mainPageHeading.querySelector('.page__heading__breadcrumbs, .page_heading_breadcrumbs').firstElementChild,o=`${e[1]}s`,t=e[2],i=JSON.parse(await getValue(o)),s=parseInt(a.textContent.replace(/,/g,'').match(/\d+/)[0]),i[t]){let e,a;if(esgst.ct_s)a=i[t].count||(esgst.ct_s_h?s:0);else for(e in a=0,i[t].readComments)!e.match(/^(Count|undefined|)$/)&&i[t].readComments[e]&&++a;n=s===a?0:s-a}else n=esgst.ct_s&&esgst.ct_s_h?0:s;n>0&&a.insertAdjacentHTML('beforeEnd',` <span class="esgst-ct-count" title="${getFeatureTooltip('ct','Unread comments')}">(+${n})</span>`)}}}async function getCtComments(e,t,s,n,i,a,o){if(n)checkCtComments(e,t,s,!0,!1,!1,o);else{let n=await createLock('commentLock',300);checkCtComments(e,t,s,!1,i,a,e=>{o&&o(e),n()})}}async function checkCtComments(e,t,s,n,i,a,o){var r,l,c,d,g,u,h,m,p,f;esgst.ctGoToUnread=!1;let v=await getValues({giveaways:'{}',discussions:'{}',tickets:'{}',trades:'{}'});if(h=esgst.sg?{giveaways:JSON.parse(v.giveaways),discussions:JSON.parse(v.discussions),tickets:JSON.parse(v.tickets)}:{trades:JSON.parse(v.trades)},(u=t.length)>0){for(d=!1,g=s||0;g<u;++g)if(((c=t[g]).id||c.id.match(/^$/))&&(h[c.type][c.code]?h[c.type][c.code].readComments||(h[c.type][c.code].readComments={}):h[c.type][c.code]={readComments:{}},e>0&&(h[c.type][c.code].count=e),esgst.gdttt&&esgst[`gdttt_v${{giveaways:'g',discussions:'d',tickets:'t',trades:'ts'}[c.type]}`]&&(h[c.type][c.code].visited=!0),h[c.type][c.code].lastUsed=Date.now(),!esgst.ct_s))if(buttons=c.comment.getElementsByClassName('esgst-ct-comment-button'),c.author===esgst.username)markCtCommentRead(c,h);else if(h[c.type][c.code].readComments[c.id]&&c.timestamp===h[c.type][c.code].readComments[c.id])a?(markCtCommentUnread(c,h),addCtReadCommentButton(buttons[0],c)):(markCtCommentRead(c,h),addCtUnreadCommentButton(buttons[0],c)),addCtReadUntilHereButton(buttons[1],c),addCtUnreadUntilHereButton(buttons[2],c);else if(n&&(!esgst.ctGoToUnread||(esgst.ct_r&&!esgst.cr||!esgst.ct_r&&esgst.cr)&&c.comment.offsetTop<scrollY+esgst.commentsTop||(!esgst.ct_r&&!esgst.cr||esgst.ct_r&&esgst.cr)&&c.comment.offsetTop>scrollY+esgst.commentsTop)){if(esgst.ctGoToUnread=!0,!(esgst.discussionPath&&(!esgst.ct_r&&!esgst.cr||esgst.ct_r&&esgst.cr)||!esgst.discussionPath&&!esgst.ct_r)){esgst.discussionsPath?(esgst.ctUnreadFound=!0,!esgst.ctNewTab&&esgst.sto?c.id?location.href=`/go/comment/${c.id}`:location.href=`/discussion/${c.code}/`:c.id?open(`/go/comment/${c.id}`):open(`/discussion/${c.code}/`)):goToComment(c.id,c.comment),d=!0;break}f=c,d=!0}else i?(markCtCommentRead(c,h),addCtUnreadCommentButton(buttons[0],c)):(markCtCommentUnread(c,h),addCtReadCommentButton(buttons[0],c)),addCtReadUntilHereButton(buttons[1],c),addCtUnreadUntilHereButton(buttons[2],c);!esgst.ct_s&&n?(f&&(esgst.discussionsPath?(esgst.ctUnreadFound=!0,!esgst.ctNewTab&&esgst.sto?f.id?location.href=`/go/comment/${f.id}`:location.href=`/discussion/${f.code}/`:f.id?open(`/go/comment/${f.id}`):open(`/discussion/${f.code}/`)):goToComment(f.id,f.comment)),o&&o(d)):esgst.sg?(await setValues({giveaways:JSON.stringify(h.giveaways),discussions:JSON.stringify(h.discussions),tickets:JSON.stringify(h.tickets)}),o&&o(d)):(await setValue('trades',JSON.stringify(h.trades)),o&&o(d))}else(m=location.pathname.match(/(giveaway|discussion|trade|ticket)\/(.+?)(\/.*)?$/))?(p=`${m[1]}s`,l=m[2],h[p][l]||(h[p][l]={readComments:{},visited:!0}),e>0&&(h[p][l].count=e),h[p][l].lastUsed=Date.now(),esgst.sg?(await setValues({giveaways:JSON.stringify(h.giveaways),discussions:JSON.stringify(h.discussions),tickets:JSON.stringify(h.tickets)}),o&&o()):(await setValue('trades',JSON.stringify(h.trades)),o&&o())):o&&o()}async function markCtCommentRead(e,t,s,n){var i;if(s){let s=await createLock('commentLock',300);t=JSON.parse(await getValue(e.type)),e.id&&!t[e.code].readComments[e.id]&&esgst.commentsPath&&((i=document.getElementsByClassName('esgst-ct-count')[0]).textContent=` (+${parseInt(i.textContent.match(/\d+/)[0])-1})`),t[e.code].readComments[e.id]=e.timestamp,await setValue(e.type,JSON.stringify(t)),s(),e.comment.classList.add('esgst-ct-comment-read'),e.comment.style.opacity='0.5',setHoverOpacity(e.comment,'1','0.5'),n()}else t&&(e.id&&!t[e.type][e.code].readComments[e.id]&&esgst.commentsPath&&((i=document.getElementsByClassName('esgst-ct-count')[0]).textContent=` (+${parseInt(i.textContent.match(/\d+/)[0])-1})`),t[e.type][e.code].readComments[e.id]=e.timestamp),e.comment.classList.add('esgst-ct-comment-read'),e.comment.style.opacity='0.5',setHoverOpacity(e.comment,'1','0.5')}async function markCtCommentUnread(e,t,s,n){var i;if(s){let s=await createLock('commentLock',300);(t=JSON.parse(await getValue(e.type)))[e.code].readComments[e.id]&&(delete t[e.code].readComments[e.id],e.id&&esgst.commentsPath&&((i=document.getElementsByClassName('esgst-ct-count')[0]).textContent=` (+${parseInt(i.textContent.match(/\d+/)[0])+1})`)),await setValue(e.type,JSON.stringify(t)),s(),e.comment.classList.remove('esgst-ct-comment-read'),e.comment.style.opacity='1',setHoverOpacity(e.comment,'1','1'),n()}else t&&t[e.type][e.code].readComments[e.id]&&(e.id&&esgst.commentsPath&&((i=document.getElementsByClassName('esgst-ct-count')[0]).textContent=` (+${parseInt(i.textContent.match(/\d+/)[0])+1})`),delete t[e.type][e.code].readComments[e.id]),e.comment.classList.remove('esgst-ct-comment-read'),e.comment.style.opacity='1',setHoverOpacity(e.comment,'1','1')}function addCtReadUntilHereButton(e,t){e||(e=insertHtml(t.actions,'beforeEnd',`<div class="esgst-ct-comment-button" title="${getFeatureTooltip('ct','Mark all comments from this comment upwards as read')}"></div>`)),e.innerHTML='\n            <span>\n                <i class="fa fa-eye"></i>\n                <i class="fa fa-angle-up"></i>\n            </span>\n        ',e.firstElementChild.addEventListener('click',function(){e.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>',getCtComments(0,esgst.currentComments,t.index,!1,!0,!1,function(){addCtReadUntilHereButton(e,t)})})}function addCtUnreadUntilHereButton(e,t){e||(e=insertHtml(t.actions,'beforeEnd',`<div class="esgst-ct-comment-button" title="${getFeatureTooltip('ct','Mark all comments from this comment upwards as unread')}"></div>`)),e.innerHTML='\n            <span>\n                <i class="fa fa-eye-slash"></i>\n                <i class="fa fa-angle-up"></i>\n            </span>\n        ',e.firstElementChild.addEventListener('click',function(){e.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>',getCtComments(0,esgst.currentComments,t.index,!1,!1,!0,function(){addCtReadUntilHereButton(e,t)})})}function addCtReadCommentButton(e,t){e||(e=insertHtml(t.actions,'beforeEnd','<div class="esgst-ct-comment-button"></div>')),e.innerHTML=`\n            <i class="fa fa-eye" title="${getFeatureTooltip('ct','Mark this comment as read')}"></i>\n            <span title="${getFeatureTooltip('ct','Mark this comment as read and go to the next unread comment')}">\n                <i class="fa fa-eye"></i>\n                <i class="fa fa-angle-double-right"></i>\n            </span>\n        `,e.firstElementChild.addEventListener('click',function(){e.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>',markCtCommentRead(t,null,!0,function(){e.innerHTML='',addCtUnreadCommentButton(e,t)})}),e.lastElementChild.addEventListener('click',function(){e.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>',markCtCommentRead(t,null,!0,function(){e.innerHTML='',addCtUnreadCommentButton(e,t),getCtComments(0,esgst.currentComments,null,!0)})})}function addCtUnreadCommentButton(e,t){e||(e=insertHtml(t.actions,'beforeEnd','<div class="esgst-ct-comment-button"></div>')),e.innerHTML=`<i class="fa fa-eye-slash" title="${getFeatureTooltip('ct','Mark comment as unread')}">`,e.firstElementChild.addEventListener('click',function(){e.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>',markCtCommentUnread(t,null,!0,function(){e.innerHTML='',addCtReadCommentButton(e,t)})})}function addCtCommentPanel(e,t,s){var n,i,a,o;e.addEventListener('click',goToCtUnread.bind(null,e)),t.addEventListener('click',markCtCommentsRead.bind(null,t,null)),s.addEventListener('click',markCtCommentsUnread.bind(null,s)),esgst.ct_a&&esgst.inboxPath&&(n=document.querySelector('.js__submit-form, .js_mark_as_read'))&&(esgst.sg?(a=insertHtml(n,'afterEnd','\n                        <div class="sidebar__action-button">\n                            <i class="fa fa-check-circle"></i> Mark as Read\n                        </div>\n                    '),i='read_messages',o='/messages'):(a=insertHtml(n,'afterEnd','\n                        <a class="page_heading_btn green">\n                            <i class="fa fa-check-square-o"></i>\n                            <span>Mark as Read</span>\n                        </a>\n                    '),i='mark_as_read',o='/ajax.php'),n.remove(),a.addEventListener('click',async()=>{await request({data:`xsrf_token=${esgst.xsrfToken}&do=${i}`,method:'POST',url:o}),markCtCommentsRead(t,completeCtInboxRead.bind(null,a))}))}function completeCtInboxRead(e){var t,s,n;for(s=0,n=(t=document.querySelectorAll('.comment__envelope, .comment_unread')).length;s<n;++s)t[s].remove();e.remove()}function goToCtUnread(e){e.innerHTML='\n            <i class="fa fa-circle-o-notch fa-spin"></i>\n        ',getCtComments(0,esgst.currentComments,null,!0,!1,!1,function(t){e.innerHTML='\n                <i class="fa fa-comments-o"></i>\n            ',t||createAlert('No unread comments were found.')})}function markCtCommentsRead(e,t){e.innerHTML='\n            <i class="fa fa-circle-o-notch fa-spin"></i>\n        ',getCtComments(0,esgst.currentComments,null,!1,!0,!1,function(){e.innerHTML='\n                <i class="fa fa-eye"></i>\n            ',t&&t()})}function markCtCommentsUnread(e){e.innerHTML='\n            <i class="fa fa-circle-o-notch fa-spin"></i>\n        ',getCtComments(0,esgst.currentComments,null,!1,!1,!0,function(){e.innerHTML='\n                <i class="fa fa-eye-slash"></i>\n            '})}async function addCtDiscussionPanels(e,t,s,n,i){var a,o,r,l,c,d,g,u,h,m,p,f,v,x,w;for(w=esgst.discussionsPath||i?'discussions':esgst.ticketsPath?'tickets':esgst.tradesPath?'trades':'discussions',o=JSON.parse(await getValue(w,'{}')),g=0,f=(p=e.querySelectorAll('.table__row-outer-wrap, .row_outer_wrap')).length;g<f;++g)if((l=(m=p[g]).querySelector('.table__column__secondary-link[href*="/discussion/"], .table__column--width-small.text-center, .column_small.text_center'))&&(r=parseInt(l.textContent.replace(/,/g,'')),(x=(d=m.querySelector('.homepage_table_column_heading, .table__column__heading, .column_flex h3 a')).getAttribute('href'))&&(a=x.match(new RegExp(`/${w.slice(0,-1)}/(.+?)(/.*)?$`)))&&(a=a[1],!esgst.ust||'tickets'!==w||o[a]&&o[a].sent||!m.getElementsByClassName('table__column__secondary-link')[0].textContent.trim().match(/Request\sNew\sWinner|User\sReport/)||addUstCheckbox(a,m),esgst.gdttt||esgst.ct))){if(o[a]){if(esgst.ct_s)v=o[a].count||(esgst.ct_s_h?r:0);else for(u in v=0,o[a].readComments)!u.match(/^(Count|undefined|)$/)&&o[a].readComments[u]&&++v;c=r===v?0:r-v}else c=esgst.ct_s&&esgst.ct_s_h?0:r;if('discussions'===w&&c>0){for(h=esgst.currentDiscussions.length-1;h>-1&&esgst.currentDiscussions[h].code!==a;--h);h>-1&&(esgst.currentDiscussions[h].unread=!0)}addCtDiscussionPanel(a,o,m,l,r,c,x,w,i)}esgst.df&&esgst.df.filteredCount&&esgst[`df_enable${esgst.df.type}`]&&filterDfDiscussions(esgst.df,!1,n),esgst.ustButton&&(esgst.numUstTickets>0?esgst.ustButton.classList.remove('esgst-hidden'):esgst.ustButton.classList.add('esgst-hidden'))}function addCtDiscussionPanel(e,t,s,n,i,a,o,r,l){var c,d,g,u,h,m,p,f;f=insertHtml(n,esgst.giveawaysPath&&!esgst.oadd?'afterEnd':'beforeEnd',`\n            <span>\n                <span class="esgst-ct-count esgst-hidden" title="${getFeatureTooltip('ct')}">(+${a})</span>\n                <div class="esgst-heading-button esgst-hidden" title="${getFeatureTooltip('ct','Go to first unread comment of this discussion')}">\n                    <i class="fa fa-comments-o"></i>\n                </div>\n                <div class="esgst-heading-button esgst-hidden" title="${getFeatureTooltip('ct','Mark all comments in this discussion as read')}">\n                    <i class="fa fa-eye"></i>\n                </div>\n                <div class="esgst-heading-button esgst-hidden" title="${getFeatureTooltip('ct','Mark all comments in this discussion as unread')}">\n                    <i class="fa fa-eye-slash"></i>\n                </div>\n                <div class="esgst-heading-button esgst-hidden" title="${getFeatureTooltip('gdttt','Mark this discussion as visited')}">\n                    <i class="fa fa-check"></i>\n                </div>\n                <div class="esgst-heading-button esgst-hidden" title="${getFeatureTooltip('gdttt','Mark this discussion as unvisited')}">\n                    <i class="fa fa-times"></i>\n                </div>\n                <i class="fa fa-circle-o-notch fa-spin esgst-hidden"></i>\n            </span>\n        `),c=f.firstElementChild,d=c.nextElementSibling,u=d.nextElementSibling,h=u.nextElementSibling,m=h.nextElementSibling,p=m.nextElementSibling,g=p.nextElementSibling,esgst.ct&&(esgst.giveawaysPath||esgst.discussionsPath||l)&&(esgst.ct_s?a>0&&c.classList.remove('esgst-hidden'):a>0?(c.classList.remove('esgst-hidden'),d.classList.remove('esgst-hidden'),u.classList.remove('esgst-hidden'),a!==i&&h.classList.remove('esgst-hidden')):h.classList.remove('esgst-hidden')),esgst.gdttt&&(t[e]&&t[e].visited?p.classList.remove('esgst-hidden'):m.classList.remove('esgst-hidden')),d.addEventListener('mousedown',function(e){if(esgst.ctNewTab=!1,1===e.button)e.preventDefault(),esgst.ctNewTab=!0;else if(2===e.button)return;d.classList.add('esgst-hidden'),u.classList.add('esgst-hidden'),h.classList.add('esgst-hidden'),g.classList.remove('esgst-hidden'),esgst.ctUnreadFound=!1,markCtCommentsReadUnread(!0,!0,!1,!1,!1,1,`${o}/search?page=`,function(){g.classList.add('esgst-hidden'),d.classList.remove('esgst-hidden'),u.classList.remove('esgst-hidden'),h.classList.remove('esgst-hidden')})}),u.addEventListener('click',function(){d.classList.add('esgst-hidden'),u.classList.add('esgst-hidden'),h.classList.add('esgst-hidden'),g.classList.remove('esgst-hidden'),markCtCommentsReadUnread(!0,!1,!1,!0,!1,1,`${o}/search?page=`,function(){g.classList.add('esgst-hidden'),c.classList.add('esgst-hidden'),h.classList.remove('esgst-hidden')})}),h.addEventListener('click',async function(){d.classList.add('esgst-hidden'),u.classList.add('esgst-hidden'),h.classList.add('esgst-hidden'),g.classList.remove('esgst-hidden');let s=await createLock('commentLock',300);t=JSON.parse(await getValue('discussions'));for(let s in t[e].readComments)delete t[e].readComments[s];t[e].lastUsed=Date.now(),await setValue('discussions',JSON.stringify(t)),s(),g.classList.add('esgst-hidden'),c.classList.remove('esgst-hidden'),c.textContent=`(+${i})`,d.classList.remove('esgst-hidden'),u.classList.remove('esgst-hidden')}),m.addEventListener('click',async function(){d.classList.add('esgst-hidden'),u.classList.add('esgst-hidden'),h.classList.add('esgst-hidden'),m.classList.add('esgst-hidden'),g.classList.remove('esgst-hidden');let n=await createLock('commentLock',300);(t=JSON.parse(await getValue(r)))[e]||(t[e]={readComments:{}}),esgst.ct_s&&(t[e].count=i,c.textContent=''),t[e].visited=!0,t[e].lastUsed=Date.now(),await setValue(r,JSON.stringify(t)),n(),g.classList.add('esgst-hidden'),esgst.ct&&!esgst.ct_s&&(esgst.giveawaysPath||esgst.discussionsPath||l)&&(d.classList.remove('esgst-hidden'),u.classList.remove('esgst-hidden'),h.classList.remove('esgst-hidden')),p.classList.remove('esgst-hidden'),s.classList.add('esgst-ct-visited'),s.style.opacity='0.5',setHoverOpacity(s,'1','0.5')}),p.addEventListener('click',async function(){d.classList.add('esgst-hidden'),u.classList.add('esgst-hidden'),h.classList.add('esgst-hidden'),p.classList.add('esgst-hidden'),g.classList.remove('esgst-hidden');let n=await createLock('commentLock',300);t=JSON.parse(await getValue(r)),esgst.ct_s&&(delete t[e].count,c.textContent=`(+${i})`),delete t[e].visited,t[e].lastUsed=Date.now(),await setValue(r,JSON.stringify(t)),n(),g.classList.add('esgst-hidden'),esgst.ct&&!esgst.ct_s&&(esgst.giveawaysPath||esgst.discussionsPath||l)&&(d.classList.remove('esgst-hidden'),u.classList.remove('esgst-hidden'),h.classList.remove('esgst-hidden')),m.classList.remove('esgst-hidden'),s.classList.remove('esgst-ct-visited'),s.style.opacity='1',setHoverOpacity(s,'1','1')})}async function markCtCommentsReadUnread(e,t,s,n,i,a,o,r){var l,c,d;l=parseHtml((await request({method:'GET',queue:!0,url:`${o}${a}`})).responseText),getCtComments(0,await getComments(l,l,!0),null,t,n,i),t&&!esgst.ctUnreadFound||!t?(++a,(d=l.getElementsByClassName('pagination__navigation')[0])&&(t&&(esgst.ct_r&&a>1||!esgst.ct_r&&!d.lastElementChild.classList.contains('is-selected'))||!t&&!d.lastElementChild.classList.contains('is-selected'))?t&&esgst.ct_r?(e?(c=d.lastElementChild).textContent.match(/Last/)?a=parseInt(c.getAttribute('data-page-number')):(a=999999999,s=!0):s?a=parseInt(d.lastElementChild.getAttribute('data-page-number'))-1:a-=2,a>1?setTimeout(markCtCommentsReadUnread,0,!1,t,s,n,i,a,o,r):r()):setTimeout(markCtCommentsReadUnread,0,!1,t,s,n,i,a,o,r):r()):r()}function loadDed(){esgst.replyBox&&!esgst.userPath&&addDEDButton(esgst.replyBox)}function addDEDButton(e,t,s){var n,i,a,o,r,l,c;n=(n=e.querySelector('[name="trade_code"]'))?n.value:'',i=e.querySelector('[name="parent_id"]'),a=e.querySelector('[name="description"]'),o=esgst.sg?location.href.match(/(.+?)(#.+?)?$/)[1]:'/ajax.php',(e=e.getElementsByClassName(esgst.sg?'align-button-container':'btn_actions')[0]).firstElementChild.remove(),e.insertAdjacentHTML('afterBegin','<div class="esgst-ded-button"></div>'),e.insertAdjacentHTML('beforeEnd','<div class="comment__actions action_list esgst-ded-status"></div>'),r=e.firstElementChild,l=e.lastElementChild,r.appendChild(new ButtonSet('grey','grey','fa-send','fa-circle-o-notch fa-spin','Submit','Saving...',async function(e){if(l.innerHTML='',t){let r=await request({method:'GET',url:t});c=parseHtml(r.responseText),n=esgst.sg?'':r.finalUrl.match(/\/trade\/(.+?)\//)[1];let d=c.getElementById(t.match(/\/comment\/(.+)/)[1]);i=esgst.sg?d.closest('.comment').getAttribute('data-comment-id'):d.getAttribute('data-id');let g=esgst.sg?d.closest('.comment').getElementsByClassName('comment__children')[0]:d.getElementsByClassName('comment_children')[0];if(o=esgst.sg?r.finalUrl.match(/(.+?)(#.+?)?$/)[1]:'/ajax.php',esgst.rfi_c&&g.children.length>0){let t=new Popup('fa-clock-o','Somebody beat you to it! There are other replies to this comment, you can review them before submitting your reply.');g.classList.add('esgst-text-left'),t.scrollable.appendChild(g),await loadEndlessFeatures(g);let r=insertHtml(t.description,'beforeEnd','<textarea></textarea>');esgst.cfh&&addCfhPanel(r),r.value=a.value,t.description.appendChild(new ButtonSet('green','grey','fa-send','fa-circle-o-notch fa-spin','Submit','Submitting...',()=>{saveComment(n,i,r.value,o,l,null,(e,n,i)=>{t.close(),s(e,n,i)})}).set),t.open(),t.onClose=e}else saveComment(n,i,a.value,o,l,e,s)}else saveComment(n,i.value,a.value,o,l,e,s)}).set)}function loadDf(){esgst.df_m&&esgst.discussionsPath&&!esgst.editDiscussionPath&&(esgst.hideButtons&&esgst.hideButtons_df?esgst.leftButtonIds.indexOf('df')>-1?esgst.leftButtons.insertBefore(addDfContainer(esgst.mainPageHeading),esgst.leftButtons.firstElementChild):esgst.rightButtons.appendChild(addDfContainer(esgst.mainPageHeading)):esgst.mainPageHeading.insertBefore(addDfContainer(esgst.mainPageHeading),esgst.mainPageHeading.firstElementChild))}async function hideDfDiscussion(e,t){let s=await createLock('discussionLock',300),n=JSON.parse(await getValue('discussions','{}'));return n[e.code]||(n[e.code]={}),n[e.code].hidden=n[e.code].lastUsed=Date.now(),await setValue('discussions',JSON.stringify(n)),s(),t&&esgst.discussionPath||e.outerWrap.remove(),!0}async function unhideDfDiscussion(e,t){let s=await createLock('discussionLock',300),n=JSON.parse(await getValue('discussions','{}'));return n[e.code]&&(delete n[e.code].hidden,n[e.code].lastUsed=Date.now()),await setValue('discussions',JSON.stringify(n)),s(),t&&esgst.discussionPath||e.outerWrap.remove(),!0}function setDfOverride(e,t,s){let n,i;n=insertHtml(t,'afterBegin','<span class="esgst-gf-override"></span>'),e.overrideButtons[s]={change:()=>{void 0===e.overrides[s]&&(e.overrides[s]=0),e.overrideButtons[s].value=e.overrides[s],e.overrideButtons[s].value?n.innerHTML='<i class="fa fa-exclamation" title="Click to make this filter overridable"></i>':n.innerHTML='<i class="fa fa-exclamation esgst-faded" title="Click to make this filter non-overridable"></i>'}},e.overrideButtons[s].change(),n.addEventListener('click',()=>{e.overrides[s]=e.overrideButtons[s].value?0:1,e.overrideButtons[s].change(),filterDfDiscussions(e)})}function addDfContainer(e){var t,s,n,i,a,o,r,l,c,d,g,u,h,m,p,f,v,x,w,b,y,F,_,k,E,S,C,A,T,D,L,B,M,j,G,P,I,H,N,R,q;if((f=document.createElement('div')).className='esgst-heading-button esgst-gf-heading-button',f.id='esgst-df',f.innerHTML=`\n            <span class="esgst-gf-toggle-switch"></span>\n            <i class="fa fa-sliders" title="${getFeatureTooltip('df','Manage presets')}"></i>\n        `,esgst.df=p={counters:{},type:esgst.createdDiscussionsPath?'Created':''},(H=new ToggleSwitch(f.firstElementChild,`df_enable${esgst.df.type}`,!0,'',!1,!1,null,esgst[`df_enable${esgst.df.type}`])).onEnabled=filterDfDiscussions.bind(null,p),H.onDisabled=filterDfDiscussions.bind(null,p,!0),T=f.lastElementChild,p.container=insertHtml(e,'afterEnd',`\n            <div class="esgst-gf-container">\n                <div class="esgst-gf-box">\n                    <div class="esgst-gf-filters esgst-hidden">\n                        <div class="esgst-gf-basic-filters esgst-hidden">\n                            <div>\n                                <span class="esgst-bold">Basic Filters:</span>\n                                <i class="fa fa-question-circle" title="The entries/copies filters are infinite. To increase/decrease their max value, simply enter the new max value into the input field and it will be changed."></i>\n                            </div>\n                        </div>\n                        <div class="esgst-gf-type-filters">\n                            <div>\n                                <span class="esgst-bold">Type Filters:</span>\n                            </div>\n                        </div>\n                        <div class="esgst-gf-right-panel">\n                            <div class="esgst-gf-legend-panel">\n                                <div>\n                                    <span class="esgst-bold">Legend:</span>\n                                    <i class="fa fa-question-circle" title="This legend applies to the type filters, except where noted"></i>\n                                </div>\n                                <div class="esgst-gf-legend"><i class="fa fa-circle-o"></i> - Hide all.</div>\n                                <div class="esgst-gf-legend"><i class="fa fa-circle"></i> - Show only.</div>\n                                <div class="esgst-gf-legend"><i class="fa fa-check-circle"></i> - Show all.</div>\n                                <div class="esgst-gf-legend"><i class="fa fa-exclamation esgst-faded"></i> - Overridable <i class="fa fa-question-circle" title="Overridable filters can be overridden by exceptions"></i></div>\n                                <div class="esgst-gf-legend"><i class="fa fa-exclamation"></i> - Non-Overridable <i class="fa fa-question-circle" title="Non-Overridable filters cannot be overridden by exceptions"></i></div>\n                            </div>\n                            <br>\n                            <div class="esgst-gf-preset-panel">\n                                <div>\n                                    <span class="esgst-bold">Preset:</span>\n                                </div>\n                                <div>\n                                    <span></span> exceptions <i class="esgst-clickable fa fa-gear" title="Manage exceptions"></i>\n                                </div>\n                                <input class="form__input-small" type="text"/>\n                                <div class="esgst-description esgst-bold"></div>\n                                <div class="form__row__error esgst-hidden">\n                                    <i class="fa fa-exclamation-circle"></i> Please enter a name for the preset.\n                                </div>\n                                <div class="esgst-description">The name of the preset.</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="esgst-gf-button" title="${getFeatureTooltip('df')}">\n                    <span>Expand</span><span class="esgst-hidden">Collapse</span> filters (<span>0</span> filtered - <span></span>)\n                </div>\n            </div>\n        `),h=(n=p.container.firstElementChild).firstElementChild,s=h.firstElementChild,c=(d=(g=(M=(R=s.nextElementSibling).nextElementSibling.lastElementChild).firstElementChild.nextElementSibling).firstElementChild).nextElementSibling,G=(B=(L=g.nextElementSibling).nextElementSibling).nextElementSibling,M.appendChild(new ButtonSet('green','grey','fa-check','fa-circle-o-notch fa-spin','Save Preset','Saving...',saveDfPreset.bind(null,p,L,B,G)).set),r=(u=(i=n.nextElementSibling).firstElementChild).nextElementSibling,i.addEventListener('click',toggleGfFilters.bind(null,r,u,h)),p.filteredCount=r.nextElementSibling,p.paginationFilteredCount=insertHtml(esgst.pagination.firstElementChild,'beforeEnd','\n            <span>\n                (<span class="esgst-bold">0</span> filtered by Discussion Filters)\n            </span>\n        ').firstElementChild,D=p.filteredCount.nextElementSibling,T.addEventListener('click',openDfPresetPopup.bind(null,p,d,D,L)),C=esgst[`df_preset${esgst.df.type}`]){for(v=(j=JSON.parse(esgst.storage.dfPresets)).length-1;v>=0&&j[v].name!==C;--v);v>=0?(A=j[v],D.textContent=L.value=C):A=null}return A||(C=`Default${esgst.df.type}`,A={name:C},['maxComments','minComments','announcements','bugs_suggestions','deals','general','groupRecruitment','letsPlayTogether','offTopic','puzzles','uncategorized','created','poll','highlighted','visited','unread'].forEach(e=>{A[e]=esgst.settings[`df_${e}`]}),(j=JSON.parse(esgst.storage.dfPresets)).push(A),setValue('dfPresets',JSON.stringify(j)),setSetting(`df_preset${esgst.df.type}`,C),D.textContent=L.value=C),A.exceptions?(p.exceptions=A.exceptions,d.textContent=A.exceptions.length):d.textContent=0,p.overrides=A.overrides||{},p.overrideButtons={},c.addEventListener('click',openDfExceptionPopup.bind(null,d,p,L)),s.classList.remove('esgst-hidden'),[{check:!0,infinite:!0,maxValue:999999,minValue:0,name:'Comments'}].forEach(e=>{e.check&&(C=e.name,y=`max${C}`,_=e.maxValue,k=`min${C}`,S=e.minValue,b=C.toLowerCase(),esgst[`df_${b}`]?(w=e.infinite,F=A[y]||_,E=A[k]||S,I=e.step||1,!w&&F>_&&(F=_),p[y]=F,p[k]=E,t=insertHtml(s,'beforeEnd',`\n                        <div class="esgst-gf-basic-filter">\n                            <div>${C} <span class="esgst-gf-filter-count" title="Number of discussions this filter is filtering">0</span> <span class="esgst-float-right"><input type="text" value="${E}"> - <input type="text" value="${F}"></span></div>\n                            <div></div>\n                        </div>\n                    `),l=t.firstElementChild,setDfOverride(p,l,b),P=l.nextElementSibling,p.counters[b]=l.firstElementChild.nextElementSibling,p[`${k}Input`]=p.counters[b].nextElementSibling.firstElementChild,p[`${y}Input`]=p[`${k}Input`].nextElementSibling,p[`${y}Input`].addEventListener('change',changeGfMaxValue.bind(null,w,P,I)),p[`${k}Input`].addEventListener('change',changeGfMinValue.bind(null,P,I)),w&&(_=F),$(P).slider({change:changeDfSlider.bind(null,p,y,k),min:S,max:_,range:!0,slide:slideGfSlider.bind(null,p,y,k),step:I,values:[E,F]})):(p[y]=_,p[k]=S))}),1===s.children.length&&s.classList.add('esgst-hidden'),[{check:!0,key:'announcements',name:'Announcements'},{check:!0,key:'bugs_suggestions',name:'Bugs / Suggestion'},{check:!0,key:'deals',name:'Deals'},{check:!0,key:'general',name:'General'},{check:!0,key:'groupRecruitment',name:'Group Recruitment'},{check:!0,key:'letsPlayTogether',name:'Let\'s Play Together'},{check:!0,key:'offTopic',name:'Off-Topic'},{check:!0,key:'puzzles',name:'Puzzles'},{check:!0,key:'uncategorized',name:'Uncategorized'},{check:!0,key:'created',name:'Created'},{check:!0,key:'poll',name:'Poll'},{check:esgst.dh,key:'highlighted',name:'Highlighted'},{check:esgst.gdttt,key:'visited',name:'Visited'},{check:esgst.ct,key:'unread',name:'Unread'}].forEach(e=>{e.check&&(b=e.key,esgst[`df_${b}`]?(C=e.name,N=insertHtml(R,'beforeEnd',`\n                        <div class="esgst-gf-type-filter">\n                            <span>${C}</span>\n                            <span class="esgst-gf-filter-count" title="Number of discussions this filter is filtering">0</span>\n                        </div>\n                    `),q=A[b]||'enabled',p[b]=q,p[`${b}Checkbox`]=new Checkbox(N,q,!0),p.counters[b]=N.lastElementChild,setDfOverride(p,N,b),p[`${b}Checkbox`].checkbox.addEventListener('click',changeDfValue.bind(null,p[`${b}Checkbox`],p,b))):p[b]='enabled')}),1===R.children.length&&R.classList.add('esgst-hidden'),f}function changeDfSlider(e,t,s,n,i){e[t]=i.values[1],e[s]=i.values[0],filterDfDiscussions(e)}function changeDfValue(e,t,s){t[s]=e.value,filterDfDiscussions(t)}async function saveDfPreset(e,t,s,n,a){var o,r,l,c;if(r=t.value){for(n.classList.add('esgst-hidden'),l={name:r},['maxComments','minComments','announcements','bugs_suggestions','deals','general','groupRecruitment','letsPlayTogether','offTopic','puzzles','uncategorized','created','poll','highlighted','visited','unread'].forEach(t=>{void 0!==e[t]&&(l[t]=e[t])}),l.exceptions=e.exceptions,l.overrides=e.overrides,c=JSON.parse(await getValue('dfPresets','[]')),i=c.length-1;i>=0&&c[i].name!==r;--i);i>=0?((o=c[i].exceptions)&&(l.exceptions=o),c[i]=l):c.push(l),await setValue('dfPresets',JSON.stringify(c)),await setSetting(`df_preset${esgst.df.type}`,r),createFadeMessage(s,'Saved!'),a()}else n.classList.remove('esgst-hidden'),a()}async function openDfPresetPopup(e,t,s,n){var i,a,o,r,l,c,d,g,u,h,m,p;(l=new Popup('fa-sliders','Manage presets:',!0)).description.insertAdjacentHTML('afterBegin','<div class="esgst-description">To edit a preset, apply it and save it with the same name. To rename a preset, click the edit icon, enter the new name and hit "Enter". Drag and drop presets to move them.</div>'),i=[],(p=insertHtml(l.description,'beforeEnd','\n            <div class="esgst-clickable esgst-hidden">\n                <i class="fa fa-rotate-left"></i>\n                <span>Undo Delete</span>\n            </div>\n        ')).addEventListener('click',undoDfDeletePreset.bind(null,i,p)),m=insertHtml(l.scrollable,'beforeEnd','<div class="esgst-text-left popup__keys__list"></div>'),JSON.parse(await getValue('dfPresets','[]')).forEach(c=>{a='',[{key:'Comments',name:'comments'}].forEach(e=>{void 0!==c[`max${e.key}`]&&(a+=`${c[`min${e.key}`]}-${c[`max${e.key}`]} ${e.name}, `)}),r=[],h=[],[{key:'announcements',name:'announcements'},{key:'bugs_suggestions',name:'bugs / suggestions'},{key:'deals',name:'deals'},{key:'general',name:'general'},{key:'groupRecruitment',name:'group recruitment'},{key:'letsPlayTogether',name:'let\'s play together'},{key:'offTopic',name:'off-topic'},{key:'puzzles',name:'puzzles'},{key:'uncategorized',name:'uncategorized'},{key:'created',name:'created'},{key:'poll',name:'poll'},{key:'highlighted',name:'highlighted'},{key:'visited',name:'visited'},{key:'unread',name:'unread'}].forEach(e=>{'disabled'===c[e.key]?r.push(e.name):'none'===c[e.key]&&h.push(e.name)}),r.length>0&&(a+=`hide: ${r.join(' & ')}, `),h.length>0&&(a+=`only show: ${h.join(' & ')}, `),(u=insertHtml(m,'beforeEnd',`\n                <div ${n.value===c.name?'class="esgst-green-highlight"':''} draggable="true">\n                    <div class="esgst-float-left">\n                        <input class="esgst-hidden" type="text" value="${c.name}"/>\n                        <strong class="esgst-clickable">${c.name}</strong>\n                    </div>\n                    <div class="esgst-clickable esgst-float-right">\n                        <i class="fa fa-edit" title="Rename preset"></i>\n                        <span title="Delete preset">\n                            <i class="fa fa-trash"></i>\n                        </span>\n                    </div>\n                    <div class="esgst-clear"></div>\n                    <div class="esgst-description">${a.slice(0,-2)}</div>\n                </div>\n            `)).addEventListener('dragstart',setDfSource.bind(null,e,c,u)),u.addEventListener('dragenter',getGfSource.bind(null,e,u,m)),u.addEventListener('dragend',saveDfSource.bind(null,e)),g=u.firstElementChild.firstElementChild,o=g.nextElementSibling,g.addEventListener('keypress',renameDfPreset.bind(null,o,c,s,n)),o.addEventListener('click',applyDfPreset.bind(null,e,t,l,c,s,n)),(d=u.firstElementChild.nextElementSibling.firstElementChild).addEventListener('click',showGfRenameInput.bind(null,o,g)),d.nextElementSibling.addEventListener('click',deleteDfPreset.bind(null,i,c,u,p))}),l.open()}async function setDfSource(e,t,s,n){var i,a;for(n.dataTransfer.setData('text/plain',''),e.source=s,i=(a=JSON.parse(await getValue('dfPresets','[]'))).length-1;i>=0&&a[i].name!==t.name;--i);e.sourceIndex=i}async function saveDfSource(e){let t=JSON.parse(await getValue('dfPresets','[]'));t.splice(e.sourceNewIndex,0,t.splice(e.sourceIndex,1)[0]),setValue('dfPresets',JSON.stringify(t))}async function applyDfPreset(e,t,s,n,i,a){var o,r,l;for(l in['maxComments','minComments','announcements','bugs_suggestions','deals','general','groupRecruitment','letsPlayTogether','offTopic','puzzles','uncategorized','created','poll','highlighted','visited','unread'].forEach(t=>{(o=e[`${t}Checkbox`])?o.isThreeState?(e[t]=o.value=n[t],o.change(!1,e[t])):n[t]?(e[t]=!0,o.check()):(e[t]=!1,o.uncheck()):(r=e[`${t}Input`])&&(e[t]=r.value=n[t],r.dispatchEvent(new Event('change')))}),i.textContent=a.value=n.name,n.exceptions?(e.exceptions=n.exceptions,t.textContent=n.exceptions.length):t.textContent=0,e.overrides=n.overrides||{},e.overrideButtons)e.overrideButtons[l].change();await setSetting(`df_preset${esgst.df.type}`,n.name),s.close(),filterDfDiscussions(e)}async function renameDfPreset(e,t,s,n,i){var a,o,r,l;if('Enter'===i.key){for(r=t.name,o=i.currentTarget.value,a=(l=JSON.parse(await getValue('dfPresets'))).length-1;a>=0&&l[a].name!==r;--a);t.name=l[a].name=o,setValue('dfPresets',JSON.stringify(l)),e.textContent=o,n.value===r&&(s.textContent=n.value=o),esgst[`df_preset${esgst.df.type}`]===r&&setSetting(`df_preset${esgst.df.type}`,o),i.currentTarget.classList.add('esgst-hidden'),e.classList.remove('esgst-hidden')}}async function deleteDfPreset(e,t,s,n,i){let a=i.currentTarget;a.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>';let o=JSON.parse(await getValue('dfPresets','[]')),r;for(r=o.length-1;r>=0&&o[r].name!==t.name;--r);o.splice(r,1),await setValue('dfPresets',JSON.stringify(o)),a.innerHTML='<i class="fa fa-trash"></i>',s.classList.add('esgst-hidden'),e.push({details:t,row:s}),n.classList.remove('esgst-hidden')}async function undoDfDeletePreset(e,t){let s=e.pop();s.row.classList.remove('esgst-hidden'),s.row.parentElement.appendChild(s.row);let n=JSON.parse(await getValue('dfPresets','[]'));n.push(s.details),setValue('dfPresets',JSON.stringify(n)),0===e.length&&t.classList.add('esgst-hidden')}async function openDfExceptionPopup(e,t,s){var n,i,a,o,r,l,c,d,g,u,h,m;for(c=new Popup('fa-gear','Manage exceptions: <i class="fa fa-question-circle" title="Exceptions are discussion that will always appear, no matter which filters are set (they still get filtered by type filters). For example, if you have a filter that only shows discussion with 100+ comments, but you have an exception for deals, all deal discussions will appear, regardless of their number of comments.\n\nEach exception works as an AND conjunction, so if you want to make an exception for deal discussions **or** poll discussions, you have to create 2 separate exceptions, otherwise the exception will be for discussions that are both deal **and** poll."></i>',!0),n=[],m=insertHtml(c.description,'beforeEnd','\n            <div class="esgst-clickable esgst-hidden">\n                <i class="fa fa-rotate-left"></i>\n                <span>Undo Delete</span>\n            </div>\n        '),h=insertHtml(c.scrollable,'beforeEnd','<div class="esgst-text-left popup__keys__list"></div>'),l=s.value,a=(g=JSON.parse(await getValue('dfPresets','[]'))).length-1;a>=0&&g[a].name!==l;--a);d=g[a],m.addEventListener('click',undoDfDeleteException.bind(null,n,e,t,d,m)),d.exceptions&&d.exceptions.forEach(s=>{i='',[{key:'Comments',name:'comments'}].forEach(e=>{o=s[`max${e.key}`],r=s[`min${e.key}`],void 0!==o&&void 0!==r?i+=`${r}-${o} ${e.name}, `:void 0!==o?i+=`?-${o} ${e.name}, `:void 0!==r&&(i+=`${r}-? ${e.name}, `)}),[{key:'announcements',name:'announcements'},{key:'bugs_suggestions',name:'bugs / suggestions'},{key:'deals',name:'deals'},{key:'general',name:'general'},{key:'groupRecruitment',name:'group recruitment'},{key:'letsPlayTogether',name:'let\'s play together'},{key:'offTopic',name:'off-topic'},{key:'puzzles',name:'puzzles'},{key:'uncategorized',name:'uncategorized'},{key:'created',name:'created'},{key:'poll',name:'poll'},{key:'highlighted',name:'highlighted'},{key:'visited',name:'visited'},{key:'unread',name:'unread'}].forEach(e=>{s[e.key]&&(i+=`${e.name}, `)}),u=insertHtml(h,'beforeEnd',`\n                    <div>\n                        <div class="esgst-bold esgst-clickable esgst-float-left">${s.name}</div>\n                        <div class="esgst-clickable esgst-float-right">\n                            <i class="fa fa-edit" title="Edit exception"></i>\n                            <span title="Delete exception">\n                                <i class="fa fa-trash"></i>\n                            </span>\n                        </div>\n                        <div class="esgst-clear"></div>\n                        <div class="esgst-description">${i.slice(0,-2)}</div>\n                    </div>\n                `),heading=u.firstElementChild,editButton=heading.nextElementSibling.firstElementChild,editButton.addEventListener('click',openDfManageExceptionPopup.bind(null,s,e,t,d,()=>c.close())),editButton.nextElementSibling.addEventListener('click',deleteDfException.bind(null,n,s,e,t,heading,d,u,m))}),c.description.appendChild(new ButtonSet('green','','fa-plus','','Create Exception','',openDfManageExceptionPopup.bind(null,{},e,t,d,()=>c.close())).set),c.open()}function openDfManageExceptionPopup(e,t,s,n,i){var a,o,r,l;i&&i(),popup=new Popup('fa-edit','Create/edit exception:',!0),popup.scrollable.classList.add('esgst-gf-container','esgst-gf-filters','esgst-text-left'),popup.name=insertHtml(popup.description,'afterBegin',`Name: <input type="text" value="${e.name||''}"/>`),a=insertHtml(popup.scrollable,'beforeEnd','\n            <div class="esgst-gf-basic-filters">\n                <div>\n                    <span class="esgst-bold">Basic Filters:</span>\n                </div>\n            </div>\n        '),[{key:'Comments',name:'Comments'}].forEach(t=>{r=insertHtml(a,'beforeEnd',`\n                <div class="esgst-gf-basic-filter esgst-text-left">\n                    <div>${t.name} <span class="esgst-float-right"><input type="text" value="${e[`min${t.key}`]||''}"/> - <input type="text" value="${e[`max${t.key}`]||''}"/></span></div>\n                </div>\n            `).firstElementChild.lastElementChild,popup[`min${t.key}`]=r.firstElementChild,popup[`max${t.key}`]=r.lastElementChild}),l=insertHtml(popup.scrollable,'beforeEnd','\n            <div class="esgst-gf-type-filters">\n                <div>\n                    <span class="esgst-bold">Type Filters:</span>\n                </div>\n            </div>\n        '),[{key:'announcements',name:'Announcements'},{key:'bugs_suggestions',name:'Bugs / Suggestions'},{key:'deals',name:'Deals'},{key:'general',name:'General'},{key:'groupRecruitment',name:'Group Recruitment'},{key:'letsPlayTogether',name:'Let\'s Play Together'},{key:'offTopic',name:'Off-Topic'},{key:'puzzles',name:'Puzzles'},{key:'uncategorized',name:'Uncategorized'},{key:'created',name:'Created'},{key:'poll',name:'Poll'},{key:'highlighted',name:'Highlighted'},{key:'visited',name:'Visited'},{key:'unread',name:'Unread'}].forEach(t=>{popup[t.key]=new Checkbox(insertHtml(l,'beforeEnd',`<div class="esgst-gf-type-filter"><span></span> ${t.name}</div>`).firstElementChild,e[t.key])}),popup.description.appendChild(new ButtonSet('green','grey','fa-plus','fa-circle-o-notch fa-spin','Save','Saving...',saveDfException.bind(null,t,s,n,popup)).set),popup.open()}async function saveDfException(e,t,s,n,i){var a,o,r;for(a={name:n.name.value},['Comments'].forEach(e=>{n[`max${e}`].value.length&&(a[`max${e}`]=parseFloat(n[`max${e}`].value)),n[`min${e}`].value.length&&(a[`min${e}`]=parseFloat(n[`min${e}`].value))}),['announcements','bugs_suggestions','deals','general','groupRecruitment','letsPlayTogether','offTopic','puzzles','uncategorized','created','poll','highlighted','visited','unread'].forEach(e=>{n[e].input.checked&&('genres'===e?n.genreList.value.length&&(a.genres=1,a.genreList=n.genreList.value):a[e]=1)}),s.exceptions||(s.exceptions=[]),o=s.exceptions.length-1;o>=0&&s.exceptions[o].name!==a.name;--o);for(o>=0?s.exceptions[o]=a:(s.exceptions.push(a),e.textContent=s.exceptions.length),t.exceptions=s.exceptions,o=(r=JSON.parse(await getValue('dfPresets','[]'))).length-1;o>=0&&r[o].name!==s.name;--o);r[o]=s,await setValue('dfPresets',JSON.stringify(r)),i(),n.close(),filterDfDiscussions(t)}async function deleteDfException(e,t,s,n,i,a,o,r,l){var c,t,d,a,g;for((c=l.currentTarget).innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>',d=a.exceptions.length-1;d>=0&&a.exceptions[d].name!==t.name;--d);for(a.exceptions.splice(d,1),n.exceptions=a.exceptions,s.textContent=a.exceptions.length,d=(g=JSON.parse(await getValue('dfPresets','[]'))).length-1;d>=0&&g[d].name!==a.name;--d);g[d]=a,await setValue('dfPresets',JSON.stringify(g)),c.innerHTML='<i class="fa fa-trash"></i>',o.classList.add('esgst-hidden'),e.push({details:t,row:o}),r.classList.remove('esgst-hidden'),filterDfDiscussions(n)}async function undoDfDeleteException(e,t,s,n,i){var a,o,r;for((a=e.pop()).row.classList.remove('esgst-hidden'),a.row.parentElement.appendChild(a.row),n.exceptions.push(a.details),s.exceptions=n.exceptions,t.textContent=n.exceptions.length,o=(r=JSON.parse(await getValue('dfPresets','[]'))).length-1;o>=0&&r[o].name!==n.name;--o);r[o]=n,setValue('dfPresets',JSON.stringify(r)),0===e.length&&i.classList.add('esgst-hidden')}function filterDfDiscussions(e,t,s){let n;for(n in e.counters)e.counters[n].textContent='0';esgst.currentDiscussions.forEach(s=>{t?s.outerWrap.classList.contains('esgst-hidden')&&s.outerWrap.classList.remove('esgst-hidden'):filterDfDiscussion(e,s)?s.outerWrap.classList.contains('esgst-hidden')||s.outerWrap.classList.add('esgst-hidden'):s.outerWrap.classList.contains('esgst-hidden')&&s.outerWrap.classList.remove('esgst-hidden')}),updateDfCount(e,s)}function filterDfException(e,t){var s,n,i,a,o,r,l,c,d,g;for(g=['announcements','bugs_suggestions','deals','general','groupRecruitment','letsPlayTogether','offTopic','puzzles','uncategorized','created','poll','highlighted','visited','unread'],n=!1,i=0,c=(s=['Comments']).length;!n&&i<c;++i)o=(d=s[i]).toLowerCase(),r=`max${d}`,void 0!==e[l=`min${d}`]&&(n=!(t[o]>=e[l])),n||void 0===e[r]||(n=!(t[o]<=e[r]));for(i=0,c=g.length;!n&&i<c;++i)e[o=g[i]]&&(n=!t[o]);return n}function filterDfDiscussion(e,t){var s,n,i,a,o,r,l,c,d,g,u,h;for(h=['announcements','bugs_suggestions','deals','general','groupRecruitment','letsPlayTogether','offTopic','puzzles','uncategorized','created','poll','highlighted','visited','unread'],i=!1,u=0,a=0,d=(s=['Comments']).length;a<d&&(!i||!u);++a)l=`max${g=s[a]}`,c=`min${g}`,(t[r=g.toLowerCase()]<e[c]||t[r]>e[l])&&(i=!0,u=e.overrides[r],n=r);for(a=0,d=h.length;a<d&&(!i||!u);++a)('disabled'===e[r=h[a]]&&t[r]||'none'===e[r]&&!t[r])&&(i=!0,u=e.overrides[r],n||(n=r));if(e.exceptions&&!u)for(a=e.exceptions.length-1;a>=0&&i;--a)i=filterDfException(e.exceptions[a],t);return i&&e.counters&&e.counters[n]&&(e.counters[n].textContent=parseInt(e.counters[n].textContent)+1),i}function updateDfCount(e,t){var s,n,i;for(s=0,i=esgst.currentDiscussions.length-1;i>-1;--i)n=esgst.currentDiscussions[i],document.body.contains(n.outerWrap)||t?n.outerWrap.classList.contains('esgst-hidden')&&(s+=1):esgst.currentDiscussions.splice(i,1);e.filteredCount.textContent=s,e.paginationFilteredCount.textContent=s}function loadDh(){new Process({button:insertHtml(document.getElementsByClassName('nav__absolute-dropdown')[1],'beforeEnd',generateHeaderMenuItem({description:'View your highlighted discussions.',icon:'fa-star yellow',id:'dh',name:'View Highlighted',title:getFeatureTooltip('dh')})),popup:{icon:'fa-star',title:'Highlited Discussions',addProgress:!0,addScrollable:'left'},urls:{id:'dh',init:initDhUrls,perLoad:5,request:{request:getDhUrlRequest}}})}async function initDhUrls(){let e=JSON.parse(await getValue('discussions'));this.keys=[];for(let t in e){let s;e[t].highlighted&&(this.keys.push(t),this.items.push(`/discussion/${t}/`))}this.mainContext=this.popup.getScrollable('\n            <div class="table esgst-text-left">\n                <div class="table__heading">\n                    <div class="table__column--width-fill">Summary</div>\n                    <div class="table__column--width-small text-center">Comments</div>\n                </div>\n            </div>\n        ').lastElementChild,this.contextHtml='\n            <div class="table__rows"></div>\n        '}function getDhUrlRequest(e,t,s){let n=this.keys[this.index],i=s.getElementsByClassName('page__heading__breadcrumbs'),a=i[0].firstElementChild.nextElementSibling.nextElementSibling,o=s.getElementsByClassName('comment__username')[0].firstElementChild;this.context.insertAdjacentHTML('beforeEnd',`\n            <div>\n                <div class="table__row-outer-wrap">\n                    <div class="table__row-inner-wrap">\n                        <div>\n                            ${s.getElementsByClassName('global__image-outer-wrap')[0].outerHTML}\n                        </div>\n                        <div class="table__column--width-fill">\n                            <h3>\n                                <a class="table__column__heading" href="/discussion/${n}/">${a.nextElementSibling.nextElementSibling.firstElementChild.textContent}</a>\n                            </h3>\n                            <p>\n                                <a class="table__column__secondary-link" href="${a.getAttribute('href')}">${a.textContent}</a> -\n                                ${s.querySelector('.comment [data-timestamp]').outerHTML} ago by\n                                <a class="table__column__secondary-link" href="${o.getAttribute('href')}">${o.textContent}</a>\n                            </p>\n                        </div>\n                        <div class="table__column--width-small text-center">\n                            <a class="table__column__secondary-link" href="/discussion/${n}/">${i[1].textContent.match(/(.+) Comments?/)[1]}</a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        `)}async function highlightDhDiscussion(e,t,s){if(s){let s=await createLock('commentLock',300);comments=JSON.parse(await getValue('discussions')),comments[e]||(comments[e]={readComments:{}}),comments[e].highlighted=!0,comments[e].lastUsed=Date.now(),await setValue('discussions',JSON.stringify(comments)),t.classList.add('esgst-dh-highlighted'),s()}else t.classList.add('esgst-dh-highlighted');return!0}async function unhighlightDhDiscussion(e,t,s){if(s){let s=await createLock('commentLock',300);comments=JSON.parse(await getValue('discussions')),delete comments[e].highlighted,comments[e].lastUsed=Date.now(),await setValue('discussions',JSON.stringify(comments)),t.classList.remove('esgst-dh-highlighted'),s()}else t.classList.remove('esgst-dh-highlighted');return!0}function getDkcLinks(e){var t,s,n,i;for(t=(n=e.getElementsByClassName('form__key-btn-delete')).length-1;t>-1;--t)i=insertHtml(s=n[t],'afterEnd','\n                <span class="table__column__secondary-link esgst-clickable">Delete</span>\n            '),s.remove(),i.addEventListener('click',createConfirmation.bind(null,'Are you sure you want to delete this key?',deleteDkcKey.bind(null,i),null))}async function deleteDkcKey(e){let t=e.closest('.table__row-inner-wrap');t.getElementsByClassName('form__key-read')[0].classList.add('is-hidden'),t.getElementsByClassName('form__key-loading')[0].classList.remove('is-hidden'),t.querySelector('[name="key_value"]').value='',t.getElementsByClassName('form__key-value')[0].textContent='',await request({data:`xsrf_token=${esgst.xsrfToken}&do=set_gift_key&key_value=&winner_id=${t.querySelector('[name="winner_id"]').value}`,method:'POST',url:'/ajax.php'}),t.getElementsByClassName('form__key-loading')[0].classList.add('is-hidden'),t.getElementsByClassName('form__key-insert')[0].classList.remove('is-hidden'),t.getElementsByClassName('js__sent-text')[0].textContent='Sent Gift',t.getElementsByClassName('js__sent-text')[1].textContent='Sent Gift'}function loadDs(){if(!esgst.discussionsPath)return;let e={button:createHeadingButton({id:'ds',icons:['fa-sort'],title:'Sort discussions'})};e.button.addEventListener('click',openDsPopout.bind(e))}function openDsPopout(){if(this.popout)return;this.popout=new Popout('esgst-ds-popout',this.button,0,!0),new ToggleSwitch(this.popout.popout,'ds_auto',!1,'Auto Sort',!1,!1,'Automatically sorts the discussions by the selected option when loading the page.',esgst.ds_auto);let e=insertHtml(this.popout.popout,'beforeEnd','\n            <select>\n                <option value="sortIndex_asc">Default</option>\n                <option value="title_asc">Title - Ascending</option>\n                <option value="title_desc">Title - Descending</option>\n                <option value="category_asc">Category - Ascending</option>\n                <option value="category_desc">Category - Descending</option>\n                <option value="createdTimestamp_asc">Created Time - Ascending</option>\n                <option value="createdTimestamp_desc">Created Time - Descending</option>\n                <option value="author_asc">Author - Ascending</option>\n                <option value="author_desc">Author - Descending</option>\n                <option value="comments_asc">Comments - Ascending</option>\n                <option value="comments_desc">Comments - Descending</option>\n            </select>\n        ');e.value=esgst.ds_option;let t=saveAndSortContent.bind(null,'ds_option','currentDiscussions',e,null);e.addEventListener('change',t),this.popout.popout.appendChild(new ButtonSet_v2({color1:'green',color2:'',icon1:'fa-arrow-circle-right',icon2:'',title1:'Sort',title2:'',callback1:t}).set),this.popout.open()}function hideEfElements(e){let t,s,n;esgst.ef_filters.split(', ').forEach(t=>{if(t)try{if(n=t.match(/\[esgst\.(.+)\]/)){if(!esgst[n[1]])return;t=t.replace(/\[esgst\..+\]/,'')}for(elements=e.querySelectorAll(t),s=elements.length-1;s>-1;s--)elements[s].classList.add('esgst-hidden')}catch(e){}})}async function saveEghGame(e,t){var s;if(e&&t&&(!(s=JSON.parse(await getValue('games')))[t][e]||!s[t][e].entered)){let n=await createLock('gameLock',300);(s=JSON.parse(await getValue('games')))[t][e]||(s[t][e]={}),s[t][e].entered=!0,await setValue('games',JSON.stringify(s)),n()}}async function unhighlightEghGame(e,t,s){let n=s.currentTarget;if(n.classList.contains('fa-spin'))return;n.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>';let i=await createLock('gameLock',300),a=JSON.parse(await getValue('games'));delete a[t][e].entered,await setValue('games',JSON.stringify(a)),n.remove(),i()}async function addElgbButtons(e,t,s){if(!e.innerWrap.getElementsByClassName('esgst-elgb-button')[0])if(esgst.enteredPath&&t)setElgbEntryButton(e);else if(!(e.blacklist||e.inviteOnly&&!e.url||!e.started||e.ended||e.created||e.level>esgst.level||e.id&&esgst.games[e.type][e.id]&&(esgst.games[e.type][e.id].owned||esgst.games[e.type][e.id].won||esgst.games[e.type][e.id].hidden&&esgst.hgebd)))if(esgst.giveawayPath&&t){let n=document.getElementsByClassName('sidebar__error is-disabled')[0];if(!n||'Not Enough Points'!==n.textContent.trim())return;e.elgbPanel=insertHtml(n.parentElement,'afterBegin','<div></div>'),n.remove(),addElgbButton(e,t,s)}else addElgbButton(e,t,s)}function setElgbEntryButton(e){let t=e.outerWrap.getElementsByClassName('table__remove-default')[0];if(!t)return;let s=t.parentElement,n=insertHtml(s.parentElement,'beforeEnd',`\n            <div class="esgst-clickable esgst-hidden" title="${getFeatureTooltip('elgb')}">\n                <i class="fa fa-plus-circle esgst-green"></i>\n                <span class="table__column__secondary-link">Add</span>\n            </div>\n            <div class="esgst-clickable" title="${getFeatureTooltip('elgb')}">\n                <i class="fa fa-times-circle esgst-red"></i>\n                <span class="table__column__secondary-link">Remove</span>\n            </div>\n            <div class="esgst-hidden" title="${getFeatureTooltip('elgb')}">\n                <i class="fa fa-refresh fa-spin"></i>\n                <span>Adding...</span>\n            </div>\n            <div class="esgst-hidden" title="${getFeatureTooltip('elgb')}">\n                <i class="fa fa-refresh fa-spin"></i>\n                <span>Removing...</span>\n            </div>\n            <div class="esgst-hidden" title="${getFeatureTooltip('elgb')}">\n                <i class="fa fa-exclamation esgst-red"></i>\n                <span>Error</span>\n            </div>\n        `),i=n.previousElementSibling,a=i.previousElementSibling,o=a.previousElementSibling,r=o.previousElementSibling;r.addEventListener('click',addElgbEntry.bind(null,r,a,n,e,o)),o.addEventListener('click',removeElgbEntry.bind(null,r,n,e,o,i)),s.remove()}async function addElgbEntry(e,t,s,n,i){e.classList.add('esgst-hidden'),t.classList.remove('esgst-hidden');try{let e=JSON.parse((await request({data:`xsrf_token=${esgst.xsrfToken}&do=entry_insert&code=${n.code}`,method:'POST',url:'/ajax.php'})).responseText);'success'===e.type?i.classList.remove('esgst-hidden'):s.classList.remove('esgst-hidden'),esgst.pointsContainer.textContent=e.points,refreshHeaderElements(document)}catch(e){s.classList.remove('esgst-hidden')}t.classList.add('esgst-hidden'),esgst.et&&setEtEntry(n.code,!0,n.name)}async function removeElgbEntry(e,t,s,n,i){n.classList.add('esgst-hidden'),i.classList.remove('esgst-hidden');try{let n=JSON.parse((await request({data:`xsrf_token=${esgst.xsrfToken}&do=entry_delete&code=${s.code}`,method:'POST',url:'/ajax.php'})).responseText);'success'===n.type?e.classList.remove('esgst-hidden'):t.classList.remove('esgst-hidden'),esgst.pointsContainer.textContent=n.points,refreshHeaderElements(document)}catch(e){t.classList.remove('esgst-hidden')}i.classList.add('esgst-hidden'),esgst.et&&setEtEntry(s.code,!1,s.name)}function addElgbButton(e,t,s){let n=!e.elgbButton;e.entered?(e.elgbButton=new ButtonSet_v2({color1:'yellow',color2:'grey',icon1:'fa-minus-circle',icon2:'fa-circle-o-notch fa-spin',title1:'Leave',title2:'Leaving...',callback1:leaveElgbGiveaway.bind(null,e,t,s),set:e.elgbButton}).set,e.elgbButton.removeAttribute('title')):e.error?(e.elgbButton||(e.elgbButton=document.createElement('div'),e.elgbButton.className='esgst-button-set'),e.elgbButton.innerHTML=`\n                <div class="sidebar__error is-disabled">\n                    <i class="fa fa-exclamation-circle"></i>\n                    <span>${e.error}</span>\n                </div>\n            `):e.noPoints?(e.elgbButton=new ButtonSet_v2({color1:'red',color2:'grey',icon1:'fa-plus-circle',icon2:'fa-circle-o-notch fa-spin',title1:'Enter',title2:'Entering...',callback1:enterElgbGiveaway.bind(null,e,t,null,s),set:e.elgbButton}).set,e.elgbButton.setAttribute('title','Not Enough Points')):e.points<=esgst.points?(e.elgbButton=new ButtonSet_v2({color1:'green',color2:'grey',icon1:'fa-plus-circle',icon2:'fa-circle-o-notch fa-spin',title1:'Enter',title2:'Entering...',callback1:enterElgbGiveaway.bind(null,e,t,null,s),set:e.elgbButton}).set,e.elgbButton.removeAttribute('title')):(e.elgbButton=new ButtonSet_v2({color1:'red',color2:'grey',icon1:'fa-plus-circle',icon2:'fa-circle-o-notch fa-spin',title1:'Enter',title2:'Entering...',callback1:enterElgbGiveaway.bind(null,e,t,null,s),set:e.elgbButton}).set,e.elgbButton.setAttribute('title','Not Enough Points')),n&&(e.elgbButton.classList.add('esgst-elgb-button'),esgst.gv&&(t&&esgst.giveawaysPath||'gb'===s&&esgst.gv_gb||'ged'===s&&esgst.gv_ged||'ge'===s&&esgst.gv_ge)?e.elgbPanel.insertBefore(e.elgbButton,e.elgbPanel.firstElementChild):e.elgbPanel.appendChild(e.elgbButton),e.elgbButton.setAttribute('data-columnId','elgb'),esgst.lockGiveawayColumns||t&&!esgst.giveawaysPath&&!esgst.userPath&&!esgst.groupPath||(e.elgbButton.setAttribute('draggable',!0),e.elgbButton.addEventListener('dragstart',setGiveawaySource.bind(null,e)),e.elgbButton.addEventListener('dragenter',getGiveawaySource.bind(null,e,!1)),e.elgbButton.addEventListener('dragend',saveGiveawaySource.bind(null,e))))}async function openElgbPopup(e,t,s,n){let i=new Popup('fa-file-text-o',`<a href="${e.url}"><span>${e.name}</span></a> by <a href="/user/${e.creator}">${e.creator}</a>`,!0);if(e.entered){let n=new ButtonSet('yellow','grey','fa-minus-circle','fa-circle-o-notch fa-spin','Leave Giveaway','Leaving...',n=>{leaveElgbGiveaway(e,t,s,()=>{n(),i.close()})});i.description.appendChild(n.set)}else{let n=JSON.parse(await getValue('games'));if(e.started&&!e.ended&&!e.created&&e.level<=esgst.level&&(e.id&&(n[e.type][e.id]&&!n[e.type][e.id].owned&&(!n[e.type][e.id].hidden||!esgst.hgebd)||!n[e.type][e.id])||!e.id)){let n=new ButtonSet('green','grey','fa-plus-circle','fa-circle-o-notch fa-spin','Enter Giveaway','Entering...',n=>{enterElgbGiveaway(e,t,!0,s,()=>{n(),i.close()})});i.description.appendChild(n.set)}}let a=null;if((esgst.elgb_d||esgst.elgb_r&&esgst.elgb_r_d||n)&&(a=parseHtml((await request({method:'GET',url:e.url})).responseText).getElementsByClassName('page__description')[0]),a&&a.textContent.trim()&&!n)if(esgst.elgb_c){Date.now()-esgst.elgbCache.timestamp>36e5&&(esgst.elgbCache={descriptions:{},timestamp:Date.now()},setLocalValue('elgbCache',JSON.stringify(esgst.elgbCache))),esgst.elgbCache.descriptions[e.creator]||(esgst.elgbCache.descriptions[e.creator]=[]);let t=a.innerHTML,s;for(s=esgst.elgbCache.descriptions[e.creator].length-1;s>-1&&esgst.elgbCache.descriptions[e.creator][s]!==t;--s);if(s>-1)a=null;else if(esgst.elgbCache.descriptions[e.creator].push(t),setLocalValue('elgbCache',JSON.stringify(esgst.elgbCache)),esgst.elgb_f){let e;a.textContent.replace(/[^a-zA-Z]/g,'').toLowerCase().match(new RegExp(`^(${esgst.elgb_filters})$`))&&(a=null)}}else if(esgst.elgb_f){let e;a.textContent.replace(/[^a-zA-Z]/g,'').toLowerCase().match(new RegExp(`^(${esgst.elgb_filters})$`))&&(a=null)}a&&(a.classList.add('esgst-text-left'),i.scrollable.insertAdjacentHTML('beforeEnd',a.outerHTML));let o=null;if((esgst.elgb_r&&(!esgst.elgb_r_d||a)||n)&&(o=insertHtml(i.scrollable,'beforeEnd','<textarea></textarea>'),esgst.cfh&&addCfhPanel(o),i.description.appendChild(new ButtonSet('green','grey','fa-arrow-circle-right','fa-circle-o-notch fa-spin','Add Comment','Saving...',async t=>{o.value&&await request({data:`xsrf_token=${esgst.xsrfToken}&do=comment_new&description=${o.value}`,method:'POST',url:e.url}),t(),i.close()}).set)),a&&esgst.elgb_f){let e=new ButtonSet('grey','grey','fa-eye','fa-circle-o-notch fa-spin','Add Description To Filters','Filtering...',async t=>{esgst.elgb_filters=`${esgst.elgb_filters}|${a.textContent.replace(/[^a-zA-Z]/g,'').toLowerCase()}`,await setSetting('elgb_filters',esgst.elgb_filters),t(),e.remove()}).set;i.description.appendChild(e)}(esgst.elgb_d&&a||esgst.elgb_r&&(!esgst.elgb_r_d||a)||n)&&(n&&(i.onClose=n),i.open(()=>{o&&o.focus()}))}async function enterElgbGiveaway(e,t,s,n,i){let a=JSON.parse((await request({data:`xsrf_token=${esgst.xsrfToken}&do=entry_insert&code=${e.code}`,method:'POST',url:'/ajax.php'})).responseText);'success'===a.type?(esgst.giveawayPath&&t||e.innerWrap.classList.add('is-faded'),e.entered=!0,e.noPoints=!1,addElgbButton(e,t,n),esgst.et&&setEtEntry(e.code,!0,e.name),esgst.pointsContainer.textContent=a.points,await refreshHeaderElements(document),esgst.hr&&setLocalValue('hrCache',JSON.stringify(getHrCache())),updateElgbButtons(),esgst.egh&&saveEghGame(e.id,e.type),esgst.gb&&esgst.gb_ue&&e.gbButton&&(3===e.gbButton.index&&e.gbButton.change(e.gbButton.callbacks[2]),esgst.gb_se||e.gbButton.button.classList.add('esgst-hidden')),esgst.gf&&esgst.gf.filteredCount&&esgst[`gf_enable${esgst.gf.type}`]&&filterGfGiveaways(esgst.gf),esgst.gfPopup&&esgst.gfPopup.filteredCount&&esgst[`gf_enable${esgst.gfPopup.type}`]&&filterGfGiveaways(esgst.gfPopup),i&&i(),s||esgst.giveawayPath&&t||openElgbPopup(e,t,n)):(e.entered=!1,a.msg.match(/Not Enough Points/)?e.noPoints=!0:e.error=a.msg,addElgbButton(e,t,n),i&&i())}async function leaveElgbGiveaway(e,t,s,n){let i=JSON.parse((await request({data:`xsrf_token=${esgst.xsrfToken}&do=entry_delete&code=${e.code}`,method:'POST',url:'/ajax.php'})).responseText);'success'===i.type?(e.innerWrap.classList.remove('is-faded'),e.entered=!1,e.noPoints=!1,addElgbButton(e,t,s),esgst.et&&setEtEntry(e.code,!1,e.name),esgst.pointsContainer.textContent=i.points,await refreshHeaderElements(document),esgst.hr&&setLocalValue('hrCache',JSON.stringify(getHrCache())),updateElgbButtons(),esgst.gb&&e.gbButton&&e.gbButton.button.classList.remove('esgst-hidden'),esgst.gf&&esgst.gf.filteredCount&&esgst[`gf_enable${esgst.gf.type}`]&&filterGfGiveaways(esgst.gf),esgst.gfPopup&&esgst.gfPopup.filteredCount&&esgst[`gf_enable${esgst.gfPopup.type}`]&&filterGfGiveaways(esgst.gfPopup),n&&n()):n&&n()}function updateElgbButtons(){var e,t,s;for(t=0,s=esgst.currentGiveaways.length;t<s;++t)(e=esgst.currentGiveaways[t]).elgbButton&&!e.entered&&addElgbButton(e,!0);esgst.ttec&&calculateTtecTime(esgst.currentGiveaways,!0)}function loadEs(){let e,t,s,n,i,a,o,r,l,c,d,g,u,h,m,p,f,v,x,w,b,y,F,_,k;if(esgst.mainPageHeading&&esgst.pagination)if(i=esgst.es_pd,l=esgst.pagination.previousElementSibling,rows=l.getElementsByClassName('table__rows')[0],rows&&(l=rows),h=[esgst.paginationNavigation?esgst.paginationNavigation.innerHTML:''],F=esgst.es_r&&esgst.discussionPath)if(1===esgst.currentPage&&esgst.paginationNavigation&&document.referrer.match(/www.steamgifts.com\/($|discussions|messages)/)){for(o=0,c=l.children.length;o<c;++o)l.children[0].remove();esgst.currentComments=[],esgst.pagination.firstElementChild.firstElementChild.nextElementSibling.textContent=0,esgst.paginationNavigation?(r=esgst.paginationNavigation.lastElementChild,n=r.classList.contains('is-selected')&&r.textContent.match(/Last/)&&!esgst.lastPageLink?parseInt(r.getAttribute('data-page-number')):999999999):n=999999999,g=n,y=!0,a=!1,E()}else n=esgst.currentPage,m=n+1,a=0===(g=n-1),E();else n=esgst.currentPage,g=n+1,m=n-1,a=!esgst.paginationNavigation||esgst.paginationNavigation.lastElementChild.classList.contains(esgst.selectedClass),E();async function E(){var t,i;for(t=0,i=l.children.length;t<i;++t)l.children[t].classList.add(`esgst-es-page-${n}`);d=createHeadingButton({featureId:'es',id:'esNext',icons:['fa-step-forward'],title:'Load next page'}),s=createHeadingButton({featureId:'es',id:'esContinuous',icons:['fa-fast-forward'],title:'Continuously load pages'}),a&&s.classList.add('esgst-hidden'),p=createHeadingButton({featureId:'es',id:'esPause',icons:['fa-pause'],title:'Pause the endless scrolling'}),b=createHeadingButton({featureId:'es',id:'esResume',orderId:'esPause',icons:['fa-play'],title:'Resume the endless scrolling'}),w=createHeadingButton({featureId:'es',id:'esRefresh',icons:['fa-refresh','fa-map-marker'],title:'Refresh current page'}),x=createHeadingButton({featureId:'es',id:'esRefreshAll',icons:['fa-refresh'],title:'Refresh all pages'}),w.addEventListener('click',M),x.addEventListener('click',j),s.addEventListener('click',D),d.addEventListener('click',T),p.addEventListener('click',L),b.addEventListener('click',B),esgst.paginationNavigation&&(r=esgst.paginationNavigation.lastElementChild,!esgst.lastPageLink||esgst.lastPage===u||r.classList.contains('is-selected')||r.textContent.match(/Last/)||esgst.paginationNavigation.insertAdjacentHTML('beforeEnd',esgst.lastPageLink),setEsPaginationNavigation()),e=!1,await getValue('esPause',!1)?L():B(),u=n,document.addEventListener('scroll',A),esgst.checkEndlessScrolling=S}async function S(s){esgst.stopEs||e||f||a||!(t||k||scrollY>=document.body.offsetHeight-2*innerHeight)?s&&'function'==typeof s&&s():(e=!0,document.removeEventListener('scroll',S),v=insertHtml(esgst.pagination.firstElementChild,'beforeEnd','\n                    <span class="esgst-bold"><i class="fa fa-circle-o-notch fa-spin"></i> Loading next page...</span>\n                '),C(!1,!1,s,await request({method:'GET',url:`${esgst.searchUrl}${g}`})))}async function C(s,o,c,d){var p,x,b,_,E,C,A,T,D,L,B;for((D=(x=(L=parseHtml(d.responseText).getElementsByClassName('pagination')[0]).previousElementSibling).getElementsByClassName('table__rows')[0])&&(x=D),B=L.getElementsByClassName(esgst.paginationNavigationClass)[0],y?(h[0]=B.innerHTML,esgst.paginationNavigation.innerHTML=h[0],esgst.paginationNavigation&&(r=esgst.paginationNavigation.lastElementChild,!esgst.lastPageLink||esgst.lastPage===u||r.classList.contains('is-selected')||r.textContent.match(/Last/)||esgst.paginationNavigation.insertAdjacentHTML('beforeEnd',esgst.lastPageLink),setEsPaginationNavigation()),y=!1,999999999===n&&(n=parseInt(B.lastElementChild.getAttribute('data-page-number')),g=n,m=n+1,u=n)):s?(L=h[(F?m-(o||u):(o||u)-m)-1],B&&L!==B.innerHTML&&(h[(F?m-(o||u):(o||u)-m)-1]=B.innerHTML,a=!1)):h.push(B.innerHTML),E=document.createDocumentFragment(),esgst.cr&&esgst.discussionPath&&reverseComments(x),o||(await loadEndlessFeatures(x,!0,null,!0),setESRemoveEntry(x)),A=x.children.length,C=0;C<A;++C)(p=x.children[0]).classList.add(`esgst-es-page-${s?o||u:g}`),E.appendChild(p);if(s){for(T=(_=document.getElementsByClassName(`esgst-es-page-${o||u}`)).length,C=1;C<T;++C)_[0].remove();b=_[0],l.insertBefore(E,b),b.remove(),o||(esgst.gf&&esgst.gf.filteredCount&&updateGfCount(esgst.gf),esgst.df&&esgst.df.filteredCount&&updateDfCount(esgst.df),esgst.ts&&!esgst.us&&sortTsTables()),esgst.pagination.firstElementChild.firstElementChild.nextElementSibling.textContent=(parseInt(esgst.pagination.firstElementChild.firstElementChild.nextElementSibling.textContent.replace(/,/g,''))-T+A).toString().replace(/\B(?=(\d{3})+(?!\d))/g,','),o?check.count+=1:(w.addEventListener('click',M),w.innerHTML='\n                        <i class="fa fa-refresh"></i>\n                        <i class="fa fa-map-marker"></i>\n                    ')}else i&&l.insertAdjacentHTML('beforeEnd',`\n                        <div class="esgst-page-heading esgst-es-page-divisor">\n                            <div class="page__heading__breadcrumbs page_heading_breadcrumbs">\n                                <a href="${esgst.searchUrl}${g}">Page ${g}</a>\n                            </div>\n                        </div>\n                    `),l.appendChild(E),esgst.ts&&!esgst.us&&sortTsTables(),esgst.pagination.firstElementChild.firstElementChild.nextElementSibling.textContent=(parseInt(esgst.pagination.firstElementChild.firstElementChild.nextElementSibling.textContent.replace(/,/g,''))+A).toString().replace(/\B(?=(\d{3})+(?!\d))/g,','),v.remove(),F?(e=!1,--g<=0?(a=!0,c&&'function'==typeof c&&c()):f||k?c&&'function'==typeof c&&c():(t||document.addEventListener('scroll',S),S(c))):(++g,e=!1,B.lastElementChild.classList.contains(esgst.selectedClass)?(a=!0,c&&'function'==typeof c&&c()):f||k?c&&'function'==typeof c&&c():(t||document.addEventListener('scroll',S),S(c)))}function A(){var e,t,s;esgst.paginationNavigation&&h.length>0&&(scrollY+innerHeight===document.documentElement.offsetHeight?u=F?m-h.length:m+h.length:(e=document.querySelector(`.esgst-es-page-${u}:not(.esgst-hidden)`),t=document.querySelector(`.esgst-es-page-${F?u-1:u+1}:not(.esgst-hidden)`),e?scrollY+esgst.commentsTop<e.offsetTop?u!==n&&(u=F?u+1:u-1):t&&scrollY+esgst.commentsTop>=t.offsetTop&&(u=F?u-1:u+1):t&&scrollY+esgst.commentsTop>=t.offsetTop?u=F?u-1:u+1:u!==n&&(u=F?u+1:u-1)),s=h[(F?m-u:u-m)-1]||h[0],esgst.paginationNavigation.innerHTML!==s&&(esgst.paginationNavigation.innerHTML=s,r=esgst.paginationNavigation.lastElementChild,!esgst.lastPageLink||esgst.lastPage===u||r.classList.contains('is-selected')||r.textContent.match(/Last/)||esgst.paginationNavigation.insertAdjacentHTML('beforeEnd',esgst.lastPageLink),setEsPaginationNavigation()))}async function T(){if(!k){d.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>',k=!0;let e=f;await B(),document.addEventListener('scroll',S),S(async()=>{k=!1,e?await L():await B(),d.innerHTML='<i class="fa fa-step-forward"></i>'})}}function D(){t||(s.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>',t=!0,B(),document.addEventListener('scroll',S),S(()=>{t=!1,s.innerHTML='<i class="fa fa-fast-forward"></i>'}))}async function L(){a||document.removeEventListener('scroll',S),p.classList.add('esgst-hidden'),b.classList.remove('esgst-hidden'),f=!0,await setValue('esPause',f),t=!1,s.innerHTML='<i class="fa fa-fast-forward"></i>'}async function B(){b.classList.add('esgst-hidden'),p.classList.remove('esgst-hidden'),f=!1,await setValue('esPause',f),a||t||k||(document.addEventListener('scroll',S),S())}async function M(){w.removeEventListener('click',M),w.innerHTML='\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n            ';let e=await request({method:'GET',url:`${esgst.searchUrl}${u}`});C(!0,!1,null,e),esgst.giveawaysPath&&esgst.es_rd&&(esgst.oadd?loadOadd(!0):checkMissingDiscussions(!0)),esgst.pinnedGiveaways&&(esgst.pinnedGiveaways.innerHTML=parseHtml(e.responseText).getElementsByClassName('pinned-giveaways__outer-wrap')[0].innerHTML,await loadEndlessFeatures(esgst.pinnedGiveaways,!0),loadPgb()),esgst.hr||(await refreshHeaderElements(parseHtml((await request({method:'GET',url:esgst.sg?'/giveaways/search?type=wishlist':'/'})).responseText)),refreshHeader(getHrCache()))}async function j(){var e,t,s;for(x.removeEventListener('click',j),x.innerHTML='\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n            ',check=new CompletionCheck(h.length,async()=>{await loadEndlessFeatures(l,!0),setESRemoveEntry(l),x.addEventListener('click',j),x.innerHTML='\n                    <i class="fa fa-refresh"></i>\n                ',esgst.gf&&esgst.gf.filteredCount&&updateGfCount(esgst.gf),esgst.df&&esgst.df.filteredCount&&updateDfCount(esgst.df),esgst.ts&&!esgst.us&&sortTsTables(),esgst.giveawaysPath&&esgst.es_rd&&(esgst.oadd?loadOadd(!0):checkMissingDiscussions(!0)),esgst.pinnedGiveaways&&(esgst.pinnedGiveaways.innerHTML=parseHtml(s.responseText).getElementsByClassName('pinned-giveaways__outer-wrap')[0].innerHTML,await loadEndlessFeatures(esgst.pinnedGiveaways,!0),loadPgb())}),C(!0,t=F?m-1:m+1,null,s=await request({method:'GET',url:`${esgst.searchUrl}${t}`})),e=1;e<check.total;++e)C(!0,t=F?m-(e+1):m+(e+1),null,await request({method:'GET',url:`${esgst.searchUrl}${t}`}));esgst.hr||(await refreshHeaderElements(parseHtml((await request({method:'GET',url:esgst.sg?'/giveaways/search?type=wishlist':'/'})).responseText)),refreshHeader(getHrCache()))}}function setEsPaginationNavigation(){var e,t,s;for(t=0,s=(e=esgst.paginationNavigation.children).length;t<s;++t)e[t].addEventListener('click',setEsPaginationNavigationItem)}function setEsPaginationNavigationItem(e){var t;e.preventDefault(),t=e.currentTarget.getAttribute('data-page-number'),element=document.querySelector(`.esgst-es-page-${t}:not(.esgst-hidden)`),element?animateScroll(element.offsetTop):location.href=e.currentTarget.getAttribute('href')}function setESRemoveEntry(e){var t,s,n;for(s=0,n=(t=e.getElementsByClassName('table__row-inner-wrap')).length;s<n;++s)removeESEntry(t[s])}function removeESEntry(e){var t,s,n,i;(t=e.getElementsByClassName('table__remove-default')[0])&&(s=t.nextElementSibling,n=s.nextElementSibling,t.addEventListener('click',async function(){var a,o,r;for(t.classList.toggle('is-hidden'),s.classList.toggle('is-hidden'),a=e.getElementsByTagName('input'),i='',o=0,r=a.length;o<r;++o)i+=`${a[o].getAttribute('name')}=${a[o].value}${o<r-1?'&':''}`;s.classList.toggle('is-hidden');let l=JSON.parse((await request({data:i,method:'POST',url:'/ajax.php'})).responseText);'success'===l.type?(e.classList.add('is-faded'),n.classList.toggle('is-hidden'),esgst.pointsContainer.textContent=l.points,esgst.points=parseInt(esgst.pointsContainer.textContent.replace(/,/g,'').match(/\d+/)[0])):t.classList.toggle('is-hidden')}))}function loadEt(){if(esgst.sg&&(insertHtml(esgst.sg?esgst.mainButton.parentElement.getElementsByClassName('nav__absolute-dropdown')[0].lastElementChild:esgst.mainButton.parentElement.getElementsByClassName('dropdown')[0].firstElementChild.lastElementChild,'beforeBegin',`\n            <div class="esgst-header-menu-row" data-link-id="et" data-link-key="account" title="${getFeatureTooltip('et')}">\n                <i class="fa fa-fw fa-ticket red"></i>\n                <div>\n                    <p class="esgst-header-menu-name">My Entry History</p>\n                    <p class="esgst-header-menu-description">View your entry history.</p>\n                </div>\n            </div>\n        `).addEventListener('click',setSMManageEntriesTracker),esgst.giveawayPath&&!document.getElementsByClassName('table--summary')[0]&&esgst.enterGiveawayButton)){let e,t;e=location.pathname.match(/^\/giveaway\/(.+?)\//)[1],t=document.getElementsByClassName('featured__heading__medium')[0].textContent,esgst.enterGiveawayButton.addEventListener('click',setEtEntry.bind(null,e,!0,t)),esgst.leaveGiveawayButton.addEventListener('click',setEtEntry.bind(null,e,!1,t))}}async function setSMManageEntriesTracker(){let e={},t=JSON.parse(await getValue('entries','[]')),s='';for(let n=t.length-1;n>-1;n--){let i=t[n];s+=`\n                <li>\n                    ${i.entry?'Entered':'Left'} <a href="/giveaway/${i.code}/">${i.name}</a> on ${getTimestamp(i.timestamp/1e3,esgst.at_24,esgst.at_s)}\n                </li>\n            `;let a=getDate(i.timestamp),o=new Date(a).getTime();e[o]||(e[o]={date:a,entered:0,left:0}),i.entry?e[o].entered+=1:e[o].left+=1}let n=new Popup('fa-history','Entry Tracker',!0),i=insertHtml(n.scrollable,'beforeEnd','\n            <div class="esgst-text-left esgst-float-right table" style="padding-left: 5px; width: auto;">\n                <div class="table__heading">\n                    <div class="table__column--width-small">Delete</div>\n                    <div class="table__column--width-small">Date</div>\n                    <div class="table__column--width-small">Entered</div>\n                    <div class="table__column--width-small">Left</div>\n                </div>\n                <div class="table__rows"></div>\n            </div>\n        ').lastElementChild,a=Object.keys(e);a.sort();let o={count:999999999,date:null},r={count:0,date:null},l=0;for(let t=a.length-1;t>-1;t--){let s=a[t],c=insertHtml(i,'beforeEnd',`\n                <div class="table__row-outer-wrap">\n                    <div class="table__row-inner-wrap">\n                        <div class="table__column--width-small esgst-text-center">\n                            <i class="fa fa-times esgst-clickable" title="Delete"></i>\n                        </div>\n                        <div class="table__column--width-small">${e[s].date}</div>\n                        <div class="table__column--width-small">${e[s].entered}</div>\n                        <div class="table__column--width-small">${e[s].left}</div>\n                    </div>\n                </div>\n            `).firstElementChild.firstElementChild;c.firstElementChild.addEventListener('click',deleteEtEntry.bind(null,c,e[s].date,n)),e[s].entered<o.count&&(o.count=e[s].entered,o.date=e[s].date),e[s].entered>r.count&&(r.count=e[s].entered,r.date=e[s].date),l+=e[s].entered}let c=Math.round(l/a.length*100)/100;n.description.insertAdjacentHTML('afterBegin',`\n            <div>\n                You enter on average <span class="esgst-bold">${c}</span> giveaways per day.\n            </div>\n            <div>\n                Your highest entry count was on <span class="esgst-italic">${r.date}</span> with <span class="esgst-bold">${r.count}</span> entries.\n            </div>\n            <div>\n                Your lowest entry count was on <span class="esgst-italic">${o.date}</span> with <span class="esgst-bold">${o.count}</span> entries.\n            </div>\n        `),n.scrollable.insertAdjacentHTML('beforeEnd',`\n            <div class="esgst-text-left esgst-float-left markdown" style="border-right: 1px solid #ccc; padding-right: 5px;">\n                <ul>${s}</ul>\n            </div>\n        `),n.scrollable.insertAdjacentHTML('beforeEnd','<div class="esgst-clear"></div>'),n.open()}async function deleteEtEntry(e,t,s){if(!confirm(`Are you sure you want to delete entries for ${t}? Your entire history for that day will be deleted.`))return;e.innerHTML='\n            <i class="fa fa-circle-o-notch fa-spin"></i>\n        ';let n=JSON.parse(await getValue('entries','[]'));for(let e=n.length-1;e>-1;e--){let s;t===getDate(n[e].timestamp)&&n.splice(e,1)}await setValue('entries',JSON.stringify(n)),s.close(),setSMManageEntriesTracker()}function getEtEntries(e){var t,s,n;for(s=0,n=(t=e.querySelectorAll('.table__remove-default:not(.is-hidden)')).length;s<n;++s)setEtObserver(t[s])}function setEtObserver(e){var t,s,n,i;t=(n=(s=e.closest('.table__row-inner-wrap')).getElementsByClassName('table__column__heading')[0]).getAttribute('href').match(/\/giveaway\/(.+?)\//)[1],i=n.firstChild.textContent.trim().match(/(.+?)(\s\(.+\sCopies\))?$/)[1],e.addEventListener('click',setEtEntry.bind(null,t,!1,i))}async function setEtEntry(e,t,s){let n=JSON.parse(await getValue('entries','[]'));n.push({code:e,entry:t,name:s,timestamp:Date.now()}),setValue('entries',JSON.stringify(n))}function getEvVideos(e){var t,s,n,i,a,o,r,l,c,d,g,u,h,m;for(s=0,n=(t=['youtube.com','youtu.be','vimeo.com']).length;s<n;++s)for(i=t[s],o=0,r=(a=e.querySelectorAll(`a[href*="${i}"]`)).length;o<r;++o)c=(l=a[o]).previousSibling,d=l.nextSibling,c&&c.textContent.trim()||d&&d.textContent.trim()||(g=getVideoEmbedUrl(s,u=l.getAttribute('href')))&&(m=u!==(h=l.textContent)?`<div>${h}</div>`:'',l.outerHTML=`\n                            <div>\n                                ${m}\n                                <iframe width="640" height="360" src="${g}" frameborder="0" allowfullscreen></iframe>\n                            </div>\n                        `)}function getVideoEmbedUrl(e,t){var s,n,i,a,o,r;return n=(s=[/youtube.com\/watch\?v=(.+?)(\/.*)?(&.*)?$/,/youtu.be\/(.+?)(\/.*)?$/,/vimeo.com\/(.+?)(\/.*)?$/])[e],(i=t.match(n))?`${o=(a=['https://www.youtube.com/embed/','https://www.youtube.com/embed/','https://player.vimeo.com/video/'])[e]}${r=i[1]}`:null}function loadFf(){esgst.footer&&(esgst.footer.classList.add('esgst-ff'),esgst.pageOuterWrap.classList.add('esgst-ff-sibling'))}function loadFh(){if(!esgst.header)return;let e;esgst.header.classList.add('esgst-fh'),((!esgst.giveawaysPath||esgst.featuredContainer&&!esgst.featuredContainer.classList.contains('esgst-hidden'))&&esgst.featuredContainer||esgst.pageOuterWrap).classList.add('esgst-fh-sibling');let t=esgst.header.offsetHeight;esgst.pageTop+=t,esgst.commentsTop+=t,esgst.style.insertAdjacentText('beforeEnd',`\n            .esgst-fh-sibling {\n                margin-top: ${t}px;\n            }\n        `)}function loadFmph(){if(!esgst.mainPageHeading)return;let e;esgst.mainPageHeading.insertAdjacentHTML('afterEnd',`\n            <div class="esgst-fmph-placeholder esgst-hidden"></div>\n            <div class="esgst-fmph-background ${esgst.pageOuterWrapClass} esgst-hidden"></div>\n        `),esgst.mainPageHeadingPlaceholder=esgst.mainPageHeading.nextElementSibling,esgst.mainPageHeadingBackground=esgst.mainPageHeadingPlaceholder.nextElementSibling,document.addEventListener('scroll',fixFmphHeading),fixFmphHeading(),e=esgst.mainPageHeading.offsetHeight,newHeight=esgst.gf&&esgst.gf_m&&(esgst.giveawaysPath||esgst.groupsPath||esgst.createdPath||esgst.enteredPath||esgst.wonPath)||esgst.df&&esgst.df_m&&esgst.discussionsPath?e+23:e,esgst.style.insertAdjacentText('beforeEnd',`\n            .esgst-fmph {\n                position: fixed;\n                top: ${esgst.pageTop}px;\n                z-index: 998;\n            }\n            .esgst-fmph-placeholder {\n                height: ${newHeight}px;\n            }\n            .esgst-fmph-background {\n                height: ${esgst.pageTop+newHeight+5}px;\n                padding: 0;\n                position: fixed;\n                top: 0;\n                z-index: 997;\n            }\n            .esgst-gf-container-fixed {\n                position: fixed;\n                top: ${esgst.pageTop+34}px;\n                z-index: 998;\n            }\n        `),esgst.commentsTop+=e+30}function fixFmphHeading(){scrollY>esgst.mainPageHeading.offsetTop-esgst.pageTop&&(document.removeEventListener('scroll',fixFmphHeading),esgst.mainPageHeading.classList.add('esgst-fmph'),esgst.mainPageHeadingPlaceholder.classList.remove('esgst-hidden'),esgst.mainPageHeadingBackground.classList.remove('esgst-hidden'),width=`${getComputedStyle(esgst.mainPageHeading.parentElement).getPropertyValue('width')}`,esgst.mainPageHeading.style.width=width,esgst.mainPageHeadingBackground.style.width=width,esgst.gf&&esgst.gf.container&&(esgst.gf.container.classList.add('esgst-gf-container-fixed'),esgst.gf.container.style.width=width),esgst.df&&esgst.df.container&&(esgst.df.container.classList.add('esgst-gf-container-fixed'),esgst.df.container.style.width=width),document.addEventListener('scroll',unfixFmphHeading))}function unfixFmphHeading(){scrollY<=esgst.mainPageHeadingPlaceholder.offsetTop-esgst.pageTop&&(document.removeEventListener('scroll',unfixFmphHeading),esgst.mainPageHeading.classList.remove('esgst-fmph'),esgst.mainPageHeadingPlaceholder.classList.add('esgst-hidden'),esgst.mainPageHeadingBackground.classList.add('esgst-hidden'),width='',esgst.mainPageHeading.style.width=width,esgst.mainPageHeadingBackground.style.width=width,esgst.gf&&esgst.gf.container&&esgst.gf.container.classList.remove('esgst-gf-container-fixed'),esgst.df&&esgst.df.container&&esgst.df.container.classList.remove('esgst-gf-container-fixed'),document.addEventListener('scroll',fixFmphHeading))}function loadFs(){esgst.sidebar&&(esgst.sidebarAd=esgst.sidebar.getElementsByClassName('sidebar__mpu')[0],esgst.sidebarSibling=esgst.sidebar.nextElementSibling,document.addEventListener('scroll',fixFsSidebar),fixFsSidebar(),esgst.style.insertAdjacentText('beforeEnd',`\n            .esgst-fs {\n                position: fixed;\n                top: ${esgst.pageTop}px;\n            }\n        `))}function fixFsSidebar(){esgst.sidebar.offsetTop>=esgst.pageTop?esgst.sidebarTop=esgst.sidebar.offsetTop-esgst.pageTop:esgst.sidebarTop=esgst.sidebar.offsetTop,scrollY>esgst.sidebarTop&&document.documentElement.offsetHeight>2*innerHeight&&(document.removeEventListener('scroll',fixFsSidebar),esgst.sidebar.classList.add('esgst-fs'),esgst.sidebarAd&&esgst.sidebarAd.classList.add('esgst-hidden'),esgst.sidebarSibling.style.marginLeft=`${esgst.sidebar.offsetWidth+25}px`,document.addEventListener('scroll',unfixFsSidebar))}function unfixFsSidebar(){scrollY<=esgst.sidebarTop&&(document.removeEventListener('scroll',unfixFsSidebar),esgst.sidebar.classList.remove('esgst-fs'),esgst.sidebarAd&&esgst.sidebarAd.classList.remove('esgst-hidden'),esgst.sidebarSibling.style.marginLeft='25px',document.addEventListener('scroll',fixFsSidebar))}function loadGas(){if(!(esgst.giveawaysPath||esgst.enteredPath||esgst.groupPath||esgst.userPath))return;let e=location.search.match(/type=(wishlist|recommended|group|new)/);e=e?capitalizeFirstLetter(e[1]):esgst.enteredPath?'Entered':esgst.userPath?'User':esgst.groupPath?'Groups':'',esgst.gas={autoKey:`gas_auto${e}`,optionKey:`gas_option${e}`};let t={button:createHeadingButton({id:'gas',icons:['fa-sort'],title:'Sort giveaways'})};t.button.addEventListener('click',openGasPopout.bind(t))}function openGasPopout(){if(this.popout)return;this.popout=new Popout('esgst-gas-popout',this.button,0,!0),new ToggleSwitch(this.popout.popout,esgst.gas.autoKey,!1,'Auto Sort',!1,!1,'Automatically sorts the giveaways by the selected option when loading the page.',esgst[esgst.gas.autoKey]);let e=insertHtml(this.popout.popout,'beforeEnd',`\n            <select>\n                <option value="sortIndex_asc">Default</option>\n                <option value="name_asc">Game Name - Ascending</option>\n                <option value="name_desc">Game Name - Descending</option>\n            ${esgst.enteredPath?'':'\n                <option value="points_asc">Points - Ascending</option>\n                <option value="points_desc">Points - Descending</option>\n            '}\n            ${esgst.gc&&esgst.gc_r&&!esgst.enteredPath?'\n                <option value="rating_asc">Rating - Ascending</option>\n                <option value="rating_desc">Rating - Descending</option>\n            ':''}\n                <option value="endTime_asc">End Time - Ascending</option>\n                <option value="endTime_desc">End Time - Descending</option>\n            ${esgst.enteredPath?'':'\n                <option value="startTime_asc">Start Time - Ascending</option>\n                <option value="startTime_desc">Start Time - Descending</option>\n                <option value="creator_asc">Creator - Ascending</option>\n                <option value="creator_desc">Creator - Descending</option>\n                <option value="comments_asc">Comments - Ascending</option>\n                <option value="comments_desc">Comments - Descending</option>\n            '}\n                <option value="entries_asc">Entries - Ascending</option>\n                <option value="entries_desc">Entries - Descending</option>\n            ${esgst.gwc?'\n                <option value="chance_asc">Chance - Ascending</option>\n                <option value="chance_desc">Chance - Descending</option>\n                <option value="chancePerPoint_asc">Chance Per Point - Ascending</option>\n                <option value="chancePerPoint_desc">Chance Per Point - Descending</option>\n            ':''}\n            ${esgst.gwr?'\n                <option value="ratio_asc">Ratio - Ascending</option>\n                <option value="ratio_desc">Ratio - Descending</option>\n            ':''}\n            </select>\n        `);e.value=esgst[esgst.gas.optionKey];let t=saveAndSortContent.bind(null,esgst.gas.optionKey,'currentGiveaways',e,null);e.addEventListener('change',t),this.popout.popout.appendChild(new ButtonSet_v2({color1:'green',color2:'',icon1:'fa-arrow-circle-right',icon2:'',title1:'Sort',title2:'',callback1:t}).set),this.popout.open()}function loadGb(){let e=null;esgst.gbPath||(e=insertHtml(document.getElementsByClassName('nav__left-container')[0],'beforeEnd',`\n                <div class="nav__button-container esgst-hidden" title="${getFeatureTooltip('gb','View your bookmarked giveaways')}">\n                    <div class="nav__button">\n                        <i class="fa fa-bookmark"></i>\n                    </div>\n                </div>\n            `)),addGbButton(e),esgst.gb_ue&&esgst.enterGiveawayButton&&(esgst.enterGiveawayButton.onclick=(()=>{let e=esgst.currentGiveaways[0];e&&e.gbButton&&(3===e.gbButton.index&&e.gbButton.change(e.gbButton.callbacks[2]),esgst.gb_se||e.gbButton.button.classList.add('esgst-hidden'))})),esgst.leaveGiveawayButton&&(esgst.leaveGiveawayButton.onclick=(()=>{let e=esgst.currentGiveaways[0];e&&e.gbButton&&e.gbButton.button.classList.remove('esgst-hidden')}))}async function addGbButton(e){var t,s,n=[],i=1,a=0,o=0;let r=await createLock('giveawayLock',300);var l=JSON.parse(await getValue('giveaways','{}')),c;for(var d in esgst.gb_h&&e&&e.classList.add('esgst-gb-highlighted'),l)l[d].bookmarked&&(void 0===l[d].started&&(l[d].started=!0),Date.now()>=l[d].endTime||!l[d].endTime?l[d].started?esgst.gb_u?delete l[d].bookmarked:n.push(l[d]):(n.push(l[d]),++a,esgst.gb_h&&e&&e.classList.add('started')):l[d].started&&(n.push(l[d]),(i=l[d].endTime-Date.now()-36e5*esgst.gb_hours)<=0&&++o));if(c=a||o?a?o?`(${a} started - click to update them, ${o} ending)`:`(${a} started - click to update them)`:`(${o} ending)`:'',e&&(e.title=getFeatureTooltip('gb',`View your bookmarked giveaways ${c}`)),n.length){for(n.sort(function(e,t){return e.endTime>t.endTime?1:e.endTime<t.endTime?-1:0}),t=0,s=n.length;t<s;++t)Date.now()>n[t].endTime&&(n.push(n.splice(t,1)[0]),t-=1,s-=1);e&&(e.classList.remove('esgst-hidden'),esgst.gb_h&&o>0&&e.classList.add('ending'))}await setValue('giveaways',JSON.stringify(l)),r(),esgst.gbPath&&loadGbGibs(n,esgst.mainContext,insertHtml(esgst.mainContext,'beforeEnd','<div></div>')),!esgst.gbPath&&e&&e.addEventListener('mousedown',function(e){if(2!==e.button)if(e.preventDefault(),esgst.gb_t||1===e.button)open('/esgst/bookmarked-giveaways');else{let e=new Popup('fa-bookmark','Bookmarked Giveaways',!0);loadGbGibs(n,e.description,e.scrollable,e)}})}function loadGbGibs(e,t,s,n){let i;var a=0,o=e.length,r=insertHtml(s,'beforeEnd','<div class="esgst-text-left"></div>'),l=new ButtonSet('green','grey','fa-plus','fa-circle-o-notch fa-spin','Load more...','Loading more...',function(t){loadGbGiveaways(a,a+5,e,r,i,n,function(e){(a=e)>o?l.set.remove():esgst.es_gb&&s.scrollHeight<=s.offsetHeight&&l.trigger(),t()})});if(t.insertBefore(new ButtonSet_v2({color1:'grey',color2:'',icon1:'fa-list',icon2:'',title1:'View Raw List',title2:'',callback1:openGbList.bind(null,{bookmarked:e})}).set,s),t.insertBefore(l.set,s),n&&n.open(),i=insertHtml(s,'beforeBegin','\n            <div>\n                <span>0</span>P required to enter all <span>0</span> giveaways.\n            </div>\n        '),esgst.gf&&esgst.gf_m||esgst.gm){let e=insertHtml(s,'beforeBegin','\n                <div class="page__heading"></div>\n            ');esgst.gf&&esgst.gf_m&&e.appendChild(addGfContainer(e,'Gb')),esgst.gm&&loadGm(e)}l.trigger(),esgst.es_gb&&s.addEventListener('scroll',function(){s.scrollTop+s.offsetHeight>=s.scrollHeight&&!l.busy&&l.trigger()})}function openGbList(e){e.popup?e.popup.open():(e.popup=new Popup('fa-list','Bookmarked Giveaways (Raw List)'),e.bookmarked.forEach(t=>{e.popup.scrollable.insertAdjacentHTML('beforeEnd',`\n                <div>\n                    <a class="table__column__secondary-link"${t.name?' data-esgst="true"':''} href="/giveaway/${t.code}/">${t.name||t.code}</a>\n                </div>\n            `)}),e.popup.open(),loadGbNames(e))}async function loadGbNames(e){let t={};for(let s=0,n=e.popup.scrollable.children.length;s<n;s++){let n=e.popup.scrollable.children[s].firstElementChild;if(!n.getAttribute('data-esgst')){let e=n.textContent;n.textContent=parseHtml((await request({method:'GET',queue:!0,url:n.getAttribute('href')})).responseText).getElementsByClassName('featured__heading__medium')[0].textContent,t[e]={name:n.textContent}}}lockAndSaveGiveaways(t)}async function loadGbGiveaways(e,t,s,n,i,a,o){if(e<t)if(s[e]){let C=await request({method:'GET',queue:!0,url:`/giveaway/${s[e].code}/`});var r,l=parseHtml(C.responseText),c=l.getElementsByClassName('featured__outer-wrap--giveaway')[0];if(c){var d=l.getElementsByClassName('featured__heading')[0],g=d.nextElementSibling,u=g.firstElementChild;r=0,s[e].started||u.textContent.match(/Begins/)||(r=1e3*parseInt(u.lastElementChild.getAttribute('data-timestamp')));var h=C.finalUrl,m=c.getAttribute('data-game-id'),p=d.getElementsByTagName('a'),f,v,x;for(f=0,v=p.length;f<v;++f)p[f].classList.add('giveaway__icon');var w=d.firstElementChild;w.outerHTML=`<a class="giveaway__heading__name" href="${h}">${w.innerHTML}</a>`;var b=d.getElementsByClassName('featured__heading__small');for(x=b.length,i.firstElementChild.textContent=parseInt(i.firstElementChild.textContent)+parseInt(b[x-1].textContent.match(/\d+/)[0]),i.lastElementChild.textContent=parseInt(i.lastElementChild.textContent)+1,f=0;f<x;++f)b[0].outerHTML=`<span class="giveaway__heading__thin">${b[0].innerHTML}</span>`;u.classList.remove('featured__column');var y=u.nextElementSibling;y.classList.remove('featured__column','featured__column--width-fill'),y.classList.add('giveaway__column--width-fill'),y.lastElementChild.classList.add('giveaway__username');var F=g.lastElementChild;F.remove();for(var _=y.nextElementSibling;_;)_.classList.remove('featured__column'),_.className=_.className.replace(/featured/g,'giveaway'),_=_.nextElementSibling;var k=l.getElementsByClassName('sidebar__navigation__item__count'),E=l.getElementsByClassName('global__image-outer-wrap--game-large')[0].firstElementChild.getAttribute('src');let A=l.getElementsByClassName('sidebar__entry-delete')[0];A&&(A=!A.classList.contains('is-hidden'));var S=`${Date.now()>s[e].endTime&&!n.getElementsByClassName('row-spacer')[0]?'<div class="row-spacer"></div>':''}\n                        <div>\n                            <div class="giveaway__row-outer-wrap" ${A?'data-entered="true"':''}data-game-id="${m}">\n                                <div class="giveaway__row-inner-wrap">\n                                    <div class="giveaway__summary">\n                                        <h2 class="giveaway__heading">${d.innerHTML}</h2>\n                                        <div class="giveaway__columns">${g.innerHTML}</div>\n                                        <div class="giveaway__links">\n                                            <a href="${h}/entries">\n                                                <i class="fa fa-tag"></i>\n                                                <span>${k[1]&&k[1].textContent||0} entries</span>\n                                            </a>\n                                            <a href="${h}/comments">\n                                                <i class="fa fa-comment"></i>\n                                                <span>${k[0].textContent} comments</span>\n                                            </a>\n                                        </div>\n                                    </div>\n                                    ${F.outerHTML}\n                                    <a class="giveaway_image_thumbnail" href="${h}" style="background-image: url(${E})"></a>\n                                </div>\n                            </div>\n                        </div>\n                    `;if(n.insertAdjacentHTML('beforeEnd',S),await loadEndlessFeatures(n.lastElementChild,!1,'gb'),r>0){let l=await createLock('giveawayLock',300),c=JSON.parse(await getValue('giveaways'));c[s[e].code].started=!0,c[s[e].code].endTime=r,await setValue('giveaways',JSON.stringify(c)),l(),setTimeout(loadGbGiveaways,0,++e,t,s,n,i,a,o)}else setTimeout(loadGbGiveaways,0,++e,t,s,n,i,a,o)}else setTimeout(loadGbGiveaways,0,++e,t,s,n,i,a,o)}else o(e+1);else o(e)}function getGbGiveaways(e,t){t&&esgst.archivePath||e.creator===esgst.username||!e.url||e.gbButton||(e.gbButton=new Button(e.headingName,'beforeBegin',{callbacks:[bookmarkGbGiveaway.bind(null,e,t),null,unbookmarkGbGiveaway.bind(null,e,t),null],className:'esgst-gb-button',icons:['fa-bookmark-o esgst-clickable','fa-circle-o-notch fa-spin','fa-bookmark','fa-circle-o-notch fa-spin'],index:esgst.giveaways[e.code]&&esgst.giveaways[e.code].bookmarked?2:0,titles:['Bookmark giveaway','Bookmarking giveaway...','Unbookmark giveaway','Unbookmarking giveaway...']}),(e.entered||esgst.enteredPath&&t)&&!esgst.gb_se&&e.gbButton.button.classList.add('esgst-hidden'))}async function bookmarkGbGiveaway(e){let t=await createLock('giveawayLock',300),s=JSON.parse(await getValue('giveaways','{}'));return s[e.code]||(s[e.code]={}),s[e.code].code=e.code,s[e.code].endTime=e.endTime,s[e.code].name=e.name,s[e.code].started=e.started,s[e.code].bookmarked=!0,await setValue('giveaways',JSON.stringify(s)),t(),!0}async function unbookmarkGbGiveaway(e){let t=await createLock('giveawayLock',300),s=JSON.parse(await getValue('giveaways','{}'));return s[e.code]&&delete s[e.code].bookmarked,await setValue('giveaways',JSON.stringify(s)),t(),!0}async function getGcGames(e,t){let s={apps:Object.keys(e.apps),cache:{apps:{},subs:{}},subs:Object.keys(e.subs)};for(let t in e.apps){let s=e.apps[t];for(let e=0,t=s.length;e<t;++e){let t=s[e];t.container.getElementsByClassName('esgst-gc-panel')[0]||(t.container.closest('.poll')?t.container.getElementsByClassName('table__column__heading')[0].insertAdjacentHTML('afterEnd','<div class="esgst-gc-panel"></div>'):t.heading.insertAdjacentHTML('afterEnd','<div class="esgst-gc-panel"></div>'))}}for(let t in e.subs){let s=e.subs[t];for(let e=0,t=s.length;e<t;++e){let t=s[e];t.container.getElementsByClassName('esgst-gc-panel')[0]||(t.container.closest('.poll')?t.container.getElementsByClassName('table__column__heading')[0].insertAdjacentHTML('afterEnd','<div class="esgst-gc-panel"></div>'):t.heading.insertAdjacentHTML('afterEnd','<div class="esgst-gc-panel"></div>'))}}if(esgst.gc_gi||esgst.gc_r||esgst.gc_a||esgst.gc_mp||esgst.gc_sc||esgst.gc_tc||esgst.gc_l||esgst.gc_m||esgst.gc_dlc||esgst.gc_ea||esgst.gc_rm||esgst.gc_rd||esgst.gc_g||esgst.gc_p){s.cache=JSON.parse(getLocalValue('gcCache','{ "apps": {}, "subs": {}, "timestamp": 0 }'));let e=Date.now();for(let t in s.cache.apps)s.cache.apps[t].lastCheck?(e-s.cache.apps[t].lastCheck>6048e5||-1===s.cache.apps[t].price||!s.cache.apps[t].tags&&!s.cache.apps[t].rating)&&delete s.cache.apps[t]:s.cache.apps[t].lastCheck=e;for(let t in s.cache.subs)s.cache.subs[t].lastCheck?(e-s.cache.subs[t].lastCheck>6048e5||-1===s.cache.subs[t].price)&&delete s.cache.subs[t]:s.cache.subs[t].lastCheck=e;setLocalValue('gcCache',JSON.stringify(s.cache));let t=[],n=[];for(let e=0,n=s.apps.length;e<n;++e){let n=s.apps[e];s.cache.apps[n]||t.push(n)}for(let e=0,t=s.subs.length;e<t;++e){let t=s.subs[e];s.cache.subs[t]||n.push(t)}let i=t.length,a=n.length;if(i||a){let e=[];for(let n=0,i=t.length;n<i;++n)e.push(getGcCategories(s,t[n],'apps'));for(let t=0,i=n.length;t<i;++t)e.push(getGcCategories(s,n[t],'subs'));await Promise.all(e),setLocalValue('gcCache',JSON.stringify(s.cache))}}let n=JSON.parse(await getValue('games'));for(let t=0,i=s.apps.length;t<i;++t){let i=s.apps[t];addGcCategory(s.cache.apps[i],e.apps[i],i,n.apps[i],'apps')}for(let t=0,i=s.subs.length;t<i;++t){let i=s.subs[t];addGcCategory(s.cache.subs[i],e.subs[i],i,n.subs[i],'subs')}let i=['achievements','dlc','dlcFree','dlcNonFree','genres','linux','mac','multiplayer','package','rating','removed','steamCloud','tradingCards','earlyAccess','releaseDate'];for(let e=0,t=esgst.currentGiveaways.length;e<t;++e){let t=esgst.currentGiveaways[e];if(!t.gcReady&&t.outerWrap.querySelector('[data-gcReady]')){for(let e=0,s=i.length;e<s;++e){let s=i[e],n=t.outerWrap.getElementsByClassName(`esgst-gc-${s}`)[0];n?'releaseDate'===s?(t.releaseDate=n.getAttribute('data-timestamp'),'?'===t.releaseDate?t.releaseDate=-1:t.releaseDate=parseInt(t.releaseDate)):'genres'===s?t.genres=n.textContent.toLowerCase().trim().replace(/\s{2,}/g,', ').split(/,\s/):'rating'===s?t.rating=parseInt(n.title.match(/(\d+)%/)[1]):t[s]=!0:'rating'===s?t.rating=0:'releaseDate'===s&&(t.releaseDate=-1)}if(t.grid&&esgst.gc_b){let e=insertHtml(t.outerWrap,'beforeEnd','<div class="esgst-gc-border"></div>'),s={gc_fcv:'fullCV',gc_rcv:'reducedCV',gc_ncv:'noCV',gc_h:'hidden',gc_i:'ignored',gc_o:'owned',gc_w:'wishlisted',gc_a:'achievements',gc_mp:'multiplayer',gc_sc:'steamCloud',gc_tc:'tradingCards',gc_l:'linux',gc_m:'mac',gc_ea:'earlyAccess',gc_rm:'removed',gc_dlc:'dlc',gc_p:'package'};esgst.gc_categories_gv.forEach(n=>{s[n]&&t.innerWrap.getElementsByClassName(`esgst-gc-${s[n]}`)[0]&&e.insertAdjacentHTML('beforeEnd',`<div class="esgst-gc-${s[n]}"></div>`)})}t.gcReady=!0}}for(let e=0,t=esgst.popupGiveaways.length;e<t;++e){let t=esgst.popupGiveaways[e];if(!t.gcReady&&t.outerWrap.querySelector('[data-gcReady]')){for(let e=0,s=i.length;e<s;++e){let s=i[e],n=t.outerWrap.getElementsByClassName(`esgst-gc-${s}`)[0];n?'genres'===s?t.genres=n.textContent.toLowerCase().trim().replace(/\s{2,}/g,', ').split(/,\s/):'rating'===s?t.rating=parseInt(n.title.match(/(\d+)%/)[1]):t[s]=!0:'rating'===s&&(t.rating=0)}if(t.grid&&esgst.gc_b){let e=insertHtml(t.outerWrap,'beforeEnd','<div class="esgst-gc-border"></div>'),s={gc_fcv:'fullCV',gc_rcv:'reducedCV',gc_ncv:'noCV',gc_h:'hidden',gc_i:'ignored',gc_o:'owned',gc_w:'wishlisted',gc_a:'achievements',gc_mp:'multiplayer',gc_sc:'steamCloud',gc_tc:'tradingCards',gc_l:'linux',gc_m:'mac',gc_ea:'earlyAccess',gc_rm:'removed',gc_dlc:'dlc',gc_p:'package'};esgst.gc_categories_gv.forEach(n=>{s[n]&&t.innerWrap.getElementsByClassName(`esgst-gc-${s[n]}`)[0]&&e.insertAdjacentHTML('beforeEnd',`<div class="esgst-gc-${s[n]}"></div>`)})}t.gcReady=!0}}esgst.gf&&esgst.gf.filteredCount&&esgst[`gf_enable${esgst.gf.type}`]&&filterGfGiveaways(esgst.gf,!1,t),esgst.gfPopup&&esgst.gfPopup.filteredCount&&esgst[`gf_enable${esgst.gfPopup.type}`]&&filterGfGiveaways(esgst.gfPopup)}async function getGcCategories(e,t,s){try{let n={achievements:0,dlc:0,earlyAccess:0,genres:'',linux:0,mac:0,multiplayer:0,name:'',price:-1,rating:'',ratingType:'',releaseDate:'?',removed:1,steamCloud:0,tags:'',tradingCards:0};'subs'===s&&(n.apps=[]);let i=JSON.parse((await request({method:'GET',url:`http://store.steampowered.com/api/${'apps'===s?'appdetails?appids=':'packagedetails?packageids='}${t}&filters=achievements,basic,categories,genres,name,platforms,price,price_overview,release_date&cc=us&l=en`})).responseText),a;if(i&&i[t]&&(a=i[t].data)){if('subs'===s&&a.apps&&(n.apps=a.apps),a.categories)for(let e=0,t=a.categories.length;e<t;++e)switch(a.categories[e].description){case'Steam Achievements':n.achievements=1;break;case'Multi-player':n.multiplayer=1;break;case'Steam Cloud':n.steamCloud=1;break;case'Steam Trading Cards':n.tradingCards=1}n.achievements&&a.achievements&&a.achievements.total&&(n.achievements=a.achievements.total),n.dlc='dlc'===a.type?1:0;let e=[];if(a.genres)for(let t=0,s=a.genres.length;t<s;++t)e.push(a.genres[t].description.trim());e.sort(function(e,t){return e.localeCompare(t,{sensitivity:'base'})}),n.earlyAccess=e.indexOf('Early Access')>=0?1:0,n.genres=e.join(', ');let t=a.platforms;n.linux=t.linux?1:0,n.mac=t.mac?1:0,n.name=a.name;let i=a.price||a.price_overview;n.price=i?'USD'===i.currency?Math.ceil(i.initial/100):-1:0,a.release_date&&a.release_date.date&&(n.releaseDate=new Date(a.release_date.date).getTime())}let o=await request({headers:{Cookie:'birthtime=0; mature_content=1'},method:'GET',url:`http://store.steampowered.com/${s.slice(0,-1)}/${t}`}),r=parseHtml(o.responseText);if(o.finalUrl.match(t)){let e=r.getElementsByClassName('user_reviews_summary_row'),t=e.length;if(t>0){let s=e[t-1].getAttribute('data-store-tooltip').replace(/,|\./g,''),i=s.match(/(\d+)%.+?(\d+)/),a=1,o=2;i||(i=s.match(/(\d+).+?(\d+)%/),a=2,o=1),i&&(n.rating=`${i[a]}% (${i[o]})`,s=parseInt(i[a]),n.ratingType=s>=0?s<40?'Negative':s<70?'Mixed':'Positive':'?')}n.removed=0;let s=[];for(let t=0,n=(e=r.querySelectorAll('a.app_tag')).length;t<n;++t)s.push(e[t].textContent.trim());s.sort(function(e,t){return e.localeCompare(t,{sensitivity:'base'})}),n.tags=s.join(', ')}e.cache[s][t]=n,esgst.gc_dlc_b&&n.dlc&&a&&a.fullgame&&a.fullgame.appid&&(n.freeBase=JSON.parse((await request({method:'GET',url:`http://store.steampowered.com/api/appdetails?appids=${a.fullgame.appid}&filters=basic&cc=us&l=en`})).responseText)[a.fullgame.appid].data.is_free)}catch(e){console.log(e)}}function addGcCategory(e,t,s,n,i){var a,o,r,l,c,d,g,u,h,m,p,f,v,x,w,b,y,F,_,k,E,S,C,A,T;if('subs'===i&&e.apps)for(let t=e.apps.length-1;t>-1;t--){let s=e.apps[t].id,i=esgst.games.apps[s];if(i&&i.wishlisted){n.wishlisted=i.wishlisted;break}}C=i.slice(0,-1),k=e?e.name:t[0].name,g=encodeURIComponent(k.replace(/\.\.\.$/,'')),d=[];let D=t[0].grid?esgst.gc_categories_gv:esgst.gc_categories;for(x=0,F=D.length;x<F;++x)if(o=D[x],esgst[o])switch(o){case'gc_fcv':(!n||n.reducedCV||n.noCV)&&n||d.push(`\n                                <a class="esgst-gc esgst-gc-fullCV" data-id="gc_fcv" href="https://www.steamgifts.com/bundle-games/search?q=${g}" title="${getFeatureTooltip('gc_fcv','Full CV')}">${esgst.gc_fcv_s?esgst.gc_fcv_s_i?`<i class="fa fa-${esgst.gc_fcvIcon}"></i>`:'FCV':esgst.gc_fcvLabel}</a>\n                            `);break;case'gc_rcv':!n||!n.reducedCV||esgst.gc_ncv_o&&n.noCV||d.push(`\n                                <a class="esgst-gc esgst-gc-reducedCV" data-id="gc_rcv" href="https://www.steamgifts.com/bundle-games/search?q=${g}" title="${getFeatureTooltip('gc_rcv',`Reduced CV since ${n.reducedCV}`)}">${esgst.gc_rcv_s?esgst.gc_rcv_s_i?`<i class="fa fa-${esgst.gc_rcvIcon}"></i>`:'RCV':esgst.gc_rcvLabel}</a>\n                            `);break;case'gc_ncv':n&&n.noCV&&d.push(`\n                                <a class="esgst-gc esgst-gc-noCV" data-id="gc_ncv" href="https://www.steamgifts.com/bundle-games/search?q=${g}" title="${getFeatureTooltip('gc_ncv',`No CV since ${n.noCV}`)}">${esgst.gc_ncv_s?esgst.gc_ncv_s_i?`<i class="fa fa-${esgst.gc_ncvIcon}"></i>`:'NCV':esgst.gc_ncvLabel}</a>\n                            `);break;case'gc_h':n&&n.hidden&&d.push(`\n                                <a class="esgst-gc esgst-gc-hidden" data-id="gc_h" href="https://www.steamgifts.com/account/settings/giveaways/filters/search?q=${g}" title="${getFeatureTooltip('gc_h','Hidden')}">${esgst.gc_h_s?esgst.gc_h_s_i?`<i class="fa fa-${esgst.gc_hIcon}"></i>`:'H':esgst.gc_hLabel}</a>\n                            `);break;case'gc_i':n&&n.ignored&&d.push(`\n                                <a class="esgst-gc esgst-gc-ignored" data-id="gc_i" href="http://store.steampowered.com/${C}/${s}" title="${getFeatureTooltip('gc_i','Ignored')}">${esgst.gc_i_s?esgst.gc_i_s_i?`<i class="fa fa-${esgst.gc_iIcon}"></i>`:'I':esgst.gc_iLabel}</a>\n                            `);break;case'gc_o':n&&n.owned&&d.push(`\n                                <a class="esgst-gc esgst-gc-owned" data-id="gc_o" href="https://www.steamgifts.com/account/steam/games/search?q=${g}" title="${getFeatureTooltip('gc_o','Owned')}">${esgst.gc_o_s?esgst.gc_o_s_i?`<i class="fa fa-${esgst.gc_oIcon}"></i>`:'O':esgst.gc_oLabel}</a>\n                            `),esgst.gc_o_a&&esgst.gc_o_altAccounts.forEach(e=>{var t=e.games[i][s];t&&t.owned&&d.push(`\n                                        <a class="esgst-gc esgst-gc-owned" data-id="gc_o" href="http://steamcommunity.com/profiles/${e.steamId}/games" style="background-color: ${e.bgColor}; color: ${e.color};" title="${getFeatureTooltip('gc_o_a',`Owned by ${e.name}`)}">${esgst.gc_o_s?esgst.gc_o_s_i?`<i class="fa fa-${e.icon}"></i>`:'O':e.label}</a>\n                                    `)});break;case'gc_w':n&&n.wishlisted&&d.push(`\n                                <a class="esgst-gc esgst-gc-wishlisted" data-id="gc_w" href="https://www.steamgifts.com/account/steam/wishlist/search?q=${g}" title="${getFeatureTooltip('gc_w',`Wishlisted${'number'==typeof n.wishlisted?` since ${formatGcDate(1e3*n.wishlisted)}`:''}`)}">${esgst.gc_w_s?esgst.gc_w_s_i?`<i class="fa fa-${esgst.gc_wIcon}"></i>`:'W':esgst.gc_wLabel}</a>\n                            `);break;case'gc_gi':if(e&&e.price&&(A=esgst.users.users[esgst.steamId])&&(f=A.giveaways)){if(f=f.sent[i][s],a=0,l=0,S=0,f){var L=Date.now();for(b=0,numGiveaways=f.length;b<numGiveaways;++b)(p=esgst.giveaways[f[b]])&&(Array.isArray(p.winners)?p.winners.length>0?p.winners.forEach(e=>{l+=1,(p.entries>=5||!p.inviteOnly&&!p.group&&!p.whitelist)&&'Received'===e.status&&(S+=1)}):L<p.endTime&&(a+=p.copies):p.winners>0?(l+=Math.min(p.entries,p.winners),(p.entries>=5||!p.inviteOnly&&!p.group&&!p.whitelist)&&(S+=Math.min(p.entries,p.winners))):L<p.endTime&&(a+=p.copies));if(T=e.price,n&&(n.noCV?T=0:n.reducedCV&&(T*=.15)),S>5)for(b=0,numGiveaways=S-5;b<numGiveaways;++b)T*=.9;c=S+1>5?.9*T:T,c=Math.round(100*c)/100}else T=e.price,n&&(n.noCV?T=0:n.reducedCV&&(T*=.15)),c=Math.round(100*T)/100;d.push(`\n                                        <a class="esgst-gc esgst-gc-giveawayInfo" data-id="gc_gi" href="https://www.steamgifts.com/user/${esgst.username}" title="${getFeatureTooltip('gc_gi',`You have sent ${l} copies of this game (${S} of which added to your CV)${a?`\nYou currently have ${a} open giveaways for this game`:''}\nYou should get $${c} real CV for sending a new copy of this game\nA giveaway for this game is worth ${Math.min(Math.ceil(e.price),50)}P`)}"><i class="fa fa-info"></i> ${l} <i class="fa fa-dollar"></i> ${c}</a>\n                                    `)}break;case'gc_r':if(e&&e.rating){let t=null,n=parseInt(e.rating.match(/(\d+)%/)[1]);for(let e=0,s=esgst.gc_r_colors.length;e<s&&!(n>=(t=esgst.gc_r_colors[e]).lower&&n<=t.upper);e++);t||(t={bgColor:'#7f8c8d',color:'#ffffff',icon:'fa-question-circle'});let i=e.rating.match(/\((\d+)\)/);i&&(e.rating=e.rating.replace(/\(\d+\)/,`(${parseInt(i[1]).toLocaleString()})`)),d.push(`\n                                <a class="esgst-gc esgst-gc-rating" data-bgColor="${t.bgColor}" data-color="${t.color}" data-id="gc_r" href="http://store.steampowered.com/${C}/${s}" style="background-color: ${t.bgColor}; color: ${t.color};" title="${getFeatureTooltip('gc_r',e.rating)}">${t.icon.match(/\w/)?`<i class="fa fa-${t.icon}"></i>`:`<span style="font-size: 14px;">${t.icon}</span>`}${esgst.gc_r_s?` ${e.rating}`:''}</a>\n                            `)}break;case'gc_a':e&&e.achievements&&d.push(`\n                                <a class="esgst-gc esgst-gc-achievements" data-id="gc_a" href="http://steamcommunity.com/stats/${s}/achievements" title="${getFeatureTooltip('gc_a',`Achievements (${e.achievements})`)}">${esgst.gc_a_s?esgst.gc_a_s_i?`<i class="fa fa-${esgst.gc_aIcon}"></i>`:'A':esgst.gc_aLabel}</a>\n                            `);break;case'gc_mp':e&&e.multiplayer&&d.push(`\n                                <a class="esgst-gc esgst-gc-multiplayer" data-id="gc_mp" href="http://store.steampowered.com/${C}/${s}" title="${getFeatureTooltip('gc_mp','Multiplayer')}">${esgst.gc_mp_s?esgst.gc_mp_s_i?`<i class="fa fa-${esgst.gc_mpIcon}"></i>`:'MP':esgst.gc_mpLabel}</a>\n                            `);break;case'gc_sc':e&&e.steamCloud&&d.push(`\n                                <a class="esgst-gc esgst-gc-steamCloud" data-id="gc_sc" href="http://store.steampowered.com/${C}/${s}" title="${getFeatureTooltip('gc_sc','Steam Cloud')}">${esgst.gc_sc_s?esgst.gc_sc_s_i?`<i class="fa fa-${esgst.gc_scIcon}"></i>`:'SC':esgst.gc_scLabel}</a>\n                            `);break;case'gc_tc':e&&e.tradingCards&&d.push(`\n                                <a class="esgst-gc esgst-gc-tradingCards" data-id="gc_tc" href="http://www.steamcardexchange.net/index.php?gamepage-${C}id-${s}" title="${getFeatureTooltip('gc_tc','Trading Cards')}">${esgst.gc_tc_s?esgst.gc_tc_s_i?`<i class="fa fa-${esgst.gc_tcIcon}"></i>`:'TC':esgst.gc_tcLabel}</a>\n                            `);break;case'gc_l':e&&e.linux&&d.push(`\n                                <a class="esgst-gc esgst-gc-linux" data-id="gc_l" href="http://store.steampowered.com/${C}/${s}" title="${getFeatureTooltip('gc_l','Linux')}">${esgst.gc_l_s?esgst.gc_l_s_i?`<i class="fa fa-${esgst.gc_lIcon}"></i>`:'L':esgst.gc_lLabel}</a>\n                            `);break;case'gc_m':e&&e.mac&&d.push(`\n                                <a class="esgst-gc esgst-gc-mac" data-id="gc_m" href="http://store.steampowered.com/${C}/${s}" title="${getFeatureTooltip('gc_m','Mac')}">${esgst.gc_m_s?esgst.gc_m_s_i?`<i class="fa fa-${esgst.gc_mIcon}"></i>`:'M':esgst.gc_mLabel}</a>\n                            `);break;case'gc_dlc':e&&e.dlc&&d.push(`\n                                <a class="esgst-gc esgst-gc-dlc" data-id="gc_dlc" href="http://store.steampowered.com/${C}/${s}" title="${getFeatureTooltip('gc_dlc',`DLC${void 0!==e.freeBase?e.freeBase?' (the base game of this DLC is free)':' (the base game of this DLC is not free)':''}`)}">${esgst.gc_dlc_s?esgst.gc_dlc_s_i?`<i class="fa fa-${esgst.gc_dlcIcon}"></i>${void 0!==e.freeBase?e.freeBase?' <i class="fa fa-certificate esgst-gc-dlcFree"></i>':' <i class="fa fa-money esgst-gc-dlcNonFree"></i>':''}`:`DLC${void 0!==e.freeBase?e.freeBase?' <span class="esgst-gc-dlcFree">(F)</span>':' <span class="esgst-gc-dlcNonFree">(NF)</span>':''}`:`${esgst.gc_dlcLabel}${void 0!==e.freeBase?e.freeBase?' <span class="esgst-gc-dlcFree">(Free)</span>':' <span class="esgst-gc-dlcNonFree">(Not Free)</span>':''}`}</a>\n                            `);break;case'gc_p':'subs'===i&&d.push(`\n                                <a class="esgst-gc esgst-gc-package" data-id="gc_p" href="http://store.steampowered.com/${C}/${s}" title="${getFeatureTooltip('gc_p',`Package${e.apps?` (${e.apps.length})`:''}`)}">${esgst.gc_p_s?esgst.gc_p_s_i?`<i class="fa fa-${esgst.gc_pIcon}"></i>`:'P':esgst.gc_pLabel}</a>\n                            `);break;case'gc_ea':e&&e.earlyAccess&&d.push(`\n                                <a class="esgst-gc esgst-gc-earlyAccess" data-id="gc_ea" href="http://store.steampowered.com/${C}/${s}" title="${getFeatureTooltip('gc_ea','Early Access')}">${esgst.gc_ea_s?esgst.gc_ea_s_i?`<i class="fa fa-${esgst.gc_eaIcon}"></i>`:'EA':esgst.gc_eaLabel}</a>\n                            `);break;case'gc_rm':e&&e.removed&&d.push(`\n                                <a class="esgst-gc esgst-gc-removed" data-id="gc_rm" href="http://steamdb.info/${C}/${s}" title="${getFeatureTooltip('gc_rm','Removed')}">${esgst.gc_rm_s?esgst.gc_rm_s_i?`<i class="fa fa-${esgst.gc_rmIcon}"></i>`:'RM':esgst.gc_rmLabel}</a>\n                            `);break;case'gc_rd':e&&e.releaseDate&&d.push(`\n                                <a class="esgst-gc esgst-gc-releaseDate" data-id="gc_rd" data-timestamp="${e.releaseDate/1e3}" href="http://store.steampowered.com/${C}/${s}" title="${getFeatureTooltip('gc_rd','Release Date')}">\n                                    <i class="fa fa-${esgst.gc_rdIcon}"></i> ${formatGcDate(e.releaseDate)}\n                                </a>\n                            `);break;case'gc_g':if(e&&e.genres){let t;for(m=esgst.gc_g_udt&&e.tags?`${e.genres}, ${e.tags}`:e.genres,m=(h=sortArray(Array.from(new Set(m.split(/,\s/))))).join(', '),r=[],esgst.gc_g_filters.trim()&&(t=esgst.gc_g_filters.trim().toLowerCase().split(/\s*,\s*/)),b=h.length-1;b>=0;--b)if(u=h[b].toLowerCase(),!t||t.indexOf(u)>-1){for(y=esgst.gc_g_colors.length-1;y>=0&&esgst.gc_g_colors[y].genre.toLowerCase()!==u;--y);y>=0?esgst.gc_g_s?r.push(`\n                                                <a class="esgst-gc esgst-gc-genres" href="http://store.steampowered.com/${C}/${s}" style="background-color: ${esgst.gc_g_colors[y].bgColor}; color: ${esgst.gc_g_colors[y].color};" title="${getFeatureTooltip('gc_g_s',h[b])}">${h.splice(b,1)}</a>\n                                            `):r.push(`\n                                                <span style="color: ${esgst.gc_g_colors[y].color}">${h.splice(b,1)}</span>\n                                            `):esgst.gc_g_s&&(h[b]=`\n                                            <a class="esgst-gc esgst-gc-genres" href="http://store.steampowered.com/${C}/${s}" title="${getFeatureTooltip('gc_g_s',h[b])}">${h[b]}</a>\n                                        `)}else h.splice(b,1);if(r.length)for(b=(r=sortArray(r)).length-1;b>=0;--b)h.unshift(r[b]);esgst.gc_g_s?d.push(`\n                                    <span class="esgst-gc-genres" data-id="gc_g">${h.join('')}</span>\n                                `):h.length>0&&d.push(`\n                                    <a class="esgst-gc esgst-gc-genres" data-id="gc_g" href="http://store.steampowered.com/${C}/${s}" title="${getFeatureTooltip('gc_g',m)}">${h.join(', ')}</a>\n                                `)}}v=d.join('');let B={categoryKey:t[0].grid?'gc_categories_gv':'gc_categories',indexKey:t[0].grid?'gc_indexes_gv':'gc_indexes',source:null};for(x=0,F=t.length;x<F;++x)if((_=t[x].container.getElementsByClassName('esgst-gc-panel')[0])&&!_.getAttribute('data-gcReady')){if(esgst.gc_il&&!esgst.giveawayPath&&(_.previousElementSibling.style.display='inline-block',_.classList.add('esgst-gc-panel-inline')),_.innerHTML=v,!esgst.gc_lp||!esgst.gc_lp_gv&&t[x].grid)for(b=_.children.length-1;b>-1;--b)_.children[b].removeAttribute('href');if(t[x].columns){for(b=t[x].columns.children.length-1;b>-1;b--){let e=t[x].columns.children[b];e.addEventListener('dragenter',getGcSource.bind(null,B,t[x].columns,b,e,null,!1))}for(t[x].columns.addEventListener('dragenter',getGcSource.bind(null,B,t[x].columns,0,null,t[x].columns,!0)),t[x].gvIcons&&t[x].gvIcons.addEventListener('dragenter',getGcSource.bind(null,B,t[x].columns,0,null,t[x].gvIcons,!0)),_.addEventListener('dragenter',getGcSource.bind(null,B,t[x].columns,-1,null,_,!1)),b=_.children.length-1;b>-1;b--){let e=_.children[b];e.setAttribute('draggable',!0),e.addEventListener('dragstart',setGcSource.bind(null,B,e,_,t[x].columns,t[x].gvIcons)),e.addEventListener('dragenter',getGcSource.bind(null,B,t[x].columns,-1,e,null,!1)),e.addEventListener('dragend',saveGcSource.bind(null,B,_,t[x].columns,t[x].gvIcons));let s=e.getAttribute('data-id'),n=esgst[B.indexKey][s];isSet(n)&&-1!==n&&(e.classList.add(esgst.giveawayPath?'featured__column':'giveaway__column'),'gc_r'===s&&(e.firstElementChild.style.color=e.style.backgroundColor,e.style.color='',e.style.background=''),t[x].columns.insertBefore(e,t[x].columns.children[n]))}}_.setAttribute('data-gcReady',1)}}function formatGcDate(e){if('?'===e)return e;let t=new Date(e);return esgst.gc_rdLabel.replace(/DD/,t.getDate()).replace(/MM/,t.getMonth()+1).replace(/Month/,['January','February','March','April','May','June','July','August','September','October','November','December'][t.getMonth()]).replace(/Mon/,['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'][t.getMonth()]).replace(/YYYY/,t.getFullYear())}function setGcSource(e,t,s,n,i,a){a.dataTransfer.setData('text/plain',''),e.source=t,setTimeout(()=>{s.children.length||(s.style.height='28px',s.style.width='100%'),n&&!n.children.length&&(n.style.height='25px',n.style.width='100%'),i&&!i.children.length&&(i.style.height='28px',i.style.width='100%')},0)}function getGcSource(e,t,s,n,i,a){let o=e.source;if(e.source&&e.source!==n)if(i)i.children.length||(i.appendChild(e.source),esgst[e.indexKey][e.source.getAttribute('data-id')]=s,a?e.source.classList.add(esgst.giveawayPath?'featured__column':'giveaway__column'):(e.source.classList.remove(esgst.giveawayPath?'featured__column':'giveaway__column'),e.source.firstElementChild.style.color='',e.source.style.color=e.source.getAttribute('data-color'),e.source.style.backgroundColor=e.source.getAttribute('data-bgColor')));else{do{if((o=o.previousElementSibling)&&o===n)return t.contains(n)?(e.source.classList.add(esgst.giveawayPath?'featured__column':'giveaway__column'),'gc_r'===e.source.getAttribute('data-id')&&(e.source.firstElementChild.style.color=e.source.getAttribute('data-bgColor'),e.source.style.color='',e.source.style.background='')):(e.source.classList.remove(esgst.giveawayPath?'featured__column':'giveaway__column'),'gc_r'===e.source.getAttribute('data-id')&&(e.source.firstElementChild.style.color='',e.source.style.color=e.source.getAttribute('data-color'),e.source.style.backgroundColor=e.source.getAttribute('data-bgColor'))),n.getAttribute('data-id')?(esgst[e.categoryKey].splice(esgst[e.categoryKey].indexOf(n.getAttribute('data-id')),0,esgst[e.categoryKey].splice(esgst[e.categoryKey].indexOf(e.source.getAttribute('data-id')),1)[0]),esgst[e.indexKey][e.source.getAttribute('data-id')]=isSet(esgst[e.indexKey][n.getAttribute('data-id')])?esgst[e.indexKey][n.getAttribute('data-id')]:-1):esgst[e.indexKey][e.source.getAttribute('data-id')]=s,void n.parentElement.insertBefore(e.source,n)}while(o);t.contains(n)?(e.source.classList.add(esgst.giveawayPath?'featured__column':'giveaway__column'),'gc_r'===e.source.getAttribute('data-id')&&(e.source.firstElementChild.style.color=e.source.getAttribute('data-bgColor'),e.source.style.color='',e.source.style.background='')):(e.source.classList.remove(esgst.giveawayPath?'featured__column':'giveaway__column'),'gc_r'===e.source.getAttribute('data-id')&&(e.source.firstElementChild.style.color='',e.source.style.color=e.source.getAttribute('data-color'),e.source.style.backgroundColor=e.source.getAttribute('data-bgColor'))),n.getAttribute('data-id')?(esgst[e.categoryKey].splice(esgst[e.categoryKey].indexOf(n.getAttribute('data-id')),0,esgst[e.categoryKey].splice(esgst[e.categoryKey].indexOf(e.source.getAttribute('data-id')),1)[0]),esgst[e.indexKey][e.source.getAttribute('data-id')]=isSet(esgst[e.indexKey][n.getAttribute('data-id')])?esgst[e.indexKey][n.getAttribute('data-id')]:-1):esgst[e.indexKey][e.source.getAttribute('data-id')]=s+1,n.parentElement.insertBefore(e.source,n.nextElementSibling)}}async function saveGcSource(e,t,s,n,i){e.source=null,t.style.height='',t.style.width='',s&&(s.style.height='',s.style.width=''),n&&(n.style.height='',n.style.width=''),await setSetting(e.categoryKey,esgst[e.categoryKey]),await setSetting(e.indexKey,esgst[e.indexKey])}function setGclButton(e){var t,s,n,i,a,o,r;if(e.regionRestricted){switch(esgst.gcl_index){case 0:i='mouseenter',o=!1,n=1e3,e.regionRestricted.addEventListener('mouseleave',function(e){r&&(clearTimeout(r),r=null),a=setTimeout(function(){s&&!t.contains(e.relatedTarget)&&s.close()},1e3)}),e.regionRestricted.addEventListener('click',function(){r&&(clearTimeout(r),r=null)});break;case 1:i='click',o=!0,n=0,e.regionRestricted.removeAttribute('href'),e.regionRestricted.classList.add('esgst-clickable');break;case 2:i='click',n=0,e.regionRestricted.removeAttribute('href'),e.regionRestricted.classList.add('esgst-clickable')}e.regionRestricted.addEventListener(i,function(){r=setTimeout(function(){if(s)switch(esgst.gcl_index){case 0:s.open(e.regionRestricted);break;case 1:s.isOpen?s.close():s.open(e.regionRestricted);break;case 2:s.open()}else 2===esgst.gcl_index?(s=new Popup('fa-globe',`<a href="${e.url}/region-restrictions">Giveaway Countries</a>`),t=s.scrollable,s.open()):(s=new Popout('esgst-gcl-popout',null,1e3,o),t=s.popout,s.open(e.regionRestricted)),t.innerHTML='\n                            <i class="fa fa-circle-o-notch fa-spin"></i>\n                            <span>Loading countries...</span>\n                        ',getGclCountries([],1,`${e.url}/region-restrictions/search?page=`,async n=>{n?(t.innerHTML='\n                                    <input placeholder="Search country..." type="text"/>\n                                    <div class="esgst-text-left table">\n                                        <div class="table__rows"></div>\n                                    </div>\n                                ',t.firstElementChild.addEventListener('input',()=>{let e,n,i;if(i=t.firstElementChild.value.toLowerCase(),e=t.lastElementChild.firstElementChild.children,i)for(n=e.length-1;n>-1;--n)element=e[n],element.getElementsByClassName('table__column__heading')[0].textContent.toLowerCase().match(i)?element.classList.remove('esgst-hidden'):element.classList.add('esgst-hidden');else for(n=e.length-1;n>-1;--n)e[n].classList.remove('esgst-hidden');s.reposition()}),n.forEach(e=>{t.lastElementChild.firstElementChild.insertAdjacentHTML('beforeEnd',e)}),await loadEndlessFeatures(t),1===esgst.gcl_index&&t.insertAdjacentHTML('afterBegin',`<a class="esgst-ggl-heading" href="${e.url}/region-restrictions">Giveaway Countries</a>`),s.reposition()):(t.innerHTML='\n                                    <i class="fa fa-times-circle"></i>\n                                    <span>An error ocurred.</span>\n                                ',1===esgst.gcl_index&&t.insertAdjacentHTML('afterBegin',`<a class="esgst-ggl-heading" href="${e.url}/region-restrictions">Giveaway Countries</a>`),s.reposition())});0===esgst.gcl_index&&(t.onmouseenter=function(){a&&(clearTimeout(a),a=null)})},n)})}}async function getGclCountries(e,t,s,n){let i=parseHtml((await request({method:'GET',url:`${s}${t}`})).responseText);if(i.getElementsByClassName('table--summary')[0])setTimeout(n,0,null);else{let a,o,r,l;for(a=i.getElementsByClassName('table__row-outer-wrap'),o=0,r=a.length;o<r;++o)e.push(a[o].outerHTML);(l=i.getElementsByClassName('pagination__navigation')[0])&&!l.lastElementChild.classList.contains('is-selected')?setTimeout(getGclCountries,0,e,++t,s,n):setTimeout(n,0,e)}}async function loadGdttt(){if(!esgst.commentsPath)return;let e=location.pathname.match(/(giveaway|discussion|ticket|trade)\/(.+?)\//),t=`${e[1]}s`,s=e[2],n=JSON.parse(esgst.storage[t]);if(esgst[`gdttt_v${{giveaways:'g',discussions:'d',tickets:'t',trades:'ts'}[t]}`]){if(!esgst.ct){let e=await createLock('commentLock',300);n[s]||(n[s]={readComments:{}}),n[s].visited=!0,n[s].lastUsed=Date.now(),await setValue(t,JSON.stringify(n)),e()}}else(esgst.discussionPath||esgst.tradePath)&&(n[s]&&n[s].visited?addGdtttMarkUnvisitedButton(null,s,document.querySelector('.page__heading, .page_heading'),t):addGdtttMarkVisitedButton(null,s,document.querySelector('.page__heading, .page_heading'),t))}async function checkGdtttVisited(e){let t=e.querySelectorAll('.homepage_table_column_heading, .table__column__heading, .giveaway__heading__name, .column_flex h3 a'),s=await getValues({giveaways:'{}',discussions:'{}',tickets:'{}',trades:'{}'});for(let e in s)s[e]=JSON.parse(s[e]);for(let e=0,n=t.length;e<n;++e){let n=t[e],i=n.getAttribute('href');if(i){let e=i.match(/(giveaway|discussion|ticket|trade)\/(.+?)(\/.*)?$/);if(e){let t=`${e[1]}s`,i=e[2],a=n.closest('.table__row-outer-wrap, .giveaway__row-outer-wrap, .row_outer_wrap'),o=s[t][i];o&&o.visited&&a&&('giveaways'===t&&esgst.gdttt_g||'giveaways'!==t)&&(a.classList.add('esgst-ct-visited'),a.style.opacity='0.5',setHoverOpacity(a,'1','0.5'))}}}}function addGdtttMarkVisitedButton(e,t,s,n){var i;let a=!1;e||(e=insertHtml(s,'afterBegin','<div class="esgst-gdttt-button page_heading_btn"><div>')),e.innerHTML=`<i class="fa fa-check" title="${getFeatureTooltip('gdttt','Mark as visited')}"></i>`,e.addEventListener('click',async function(){if(!a){a=!0,e.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>';let o=await createLock('commentLock',300);(i=JSON.parse(await getValue(n)))[t]||(i[t]={readComments:{}}),esgst.ct_s&&(i[t].count=count),i[t].visited=!0,i[t].lastUsed=Date.now(),await setValue(n,JSON.stringify(i)),o(),addGdtttMarkUnvisitedButton(e,t,s,n)}})}function addGdtttMarkUnvisitedButton(e,t,s,n){var i;let a=!1;e||(e=insertHtml(s,'afterBegin','<div class="esgst-gdttt-button page_heading_btn"><div>')),e.innerHTML=`<i class="fa fa-times" title="${getFeatureTooltip('gdttt','Mark as unvisited')}"></i>`,e.addEventListener('click',async function(){if(!a){a=!0,e.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>';let o=await createLock('commentLock',300);i=JSON.parse(await getValue(n)),esgst.ct_s&&delete i[t].count,delete i[t].visited,i[t].lastUsed=Date.now(),await setValue(n,JSON.stringify(i)),o(),addGdtttMarkVisitedButton(e,t,s,n)}})}async function loadGe(){if((esgst.giveawayCommentsPath&&!document.getElementsByClassName('table--summary')[0]||esgst.discussionPath)&&(document.querySelector('[href*="/giveaway/"]')||document.querySelector('[href*="sgtools.info/giveaways/"]'))){let e={button:createHeadingButton({id:'ge',icons:['fa-gift','fa-search'],title:'Extract giveaways'})};setMouseEvent(e.button,'ge_t',`/esgst/extracted-giveaways?url=${location.pathname.match(/^\/(giveaway|discussion)\/.+?\//)[0]}`,openGePopup.bind(null,e))}else if(esgst.gePath){let e;openGePopup({context:parseHtml((await request({method:'GET',url:getParameters().url})).responseText)})}}function openGePopup(e){if(!e.popup){if(e.count=0,e.total=0,e.sgtools=[],e.extracted=[],e.bumpLink='',e.points=0,e.isDivided=esgst.gc_gi||esgst.gc_r||esgst.gc_rm||esgst.gc_ea||esgst.gc_tc||esgst.gc_a||esgst.gc_mp||esgst.gc_sc||esgst.gc_l||esgst.gc_m||esgst.gc_dlc||esgst.gc_rd||esgst.gc_g,esgst.gePath?e.popup={description:esgst.mainContext,scrollable:esgst.mainContext,open:()=>{},reposition:()=>{}}:e.popup=new Popup('fa-gift','Extracted giveaways:'),e.results=insertHtml(e.popup.scrollable,'beforeEnd','<div class="esgst-text-left"></div>'),esgst.gf&&esgst.gf_m||esgst.gm){let t=insertHtml(e.popup.scrollable,'afterBegin','\n                    <div class="page__heading"></div>\n                ');esgst.gf&&esgst.gf_m&&t.appendChild(addGfContainer(t,'Ge')),esgst.gm&&loadGm(t)}e.set=new ButtonSet('green','grey','fa-search','fa-times','Extract','Cancel',t=>{if(e.callback)e.results.insertAdjacentHTML('beforeEnd','<div></div>'),e.callback();else{e.isCanceled=!1,e.button&&e.button.classList.add('esgst-busy'),e.progress.innerHTML=`\n                        <i class="fa fa-circle-o-notch fa-spin"></i>\n                        <span>${e.total}</span> giveaways extracted.\n                    `,e.results.insertAdjacentHTML('beforeEnd','<div></div>'),e.mainCallback=t;let s=getGeGiveaways(e,esgst.gePath?e.context:esgst.pageOuterWrap);extractGeGiveaways(e,s,0,s.length,completeGeExtraction.bind(null,e,t))}},()=>{e.isCanceled=!0,completeGeExtraction(e)}),e.popup.description.appendChild(e.set.set),e.progress=insertHtml(e.popup.description,'beforeEnd','<div></div>'),esgst.es_ge&&e.popup.scrollable.addEventListener('scroll',()=>{e.popup.scrollable.scrollTop+e.popup.scrollable.offsetHeight>=e.popup.scrollable.scrollHeight&&e.set&&!e.set.busy&&e.set.trigger()}),e.set.trigger()}e.popup.open()}function extractGeGiveaways(e,t,s,n,i){e.isCanceled||(s<n?extractGeGiveaway(e,t[s],setTimeout.bind(null,extractGeGiveaways,0,e,t,++s,n,i)):i())}async function extractGeGiveaway(e,t,s){if(!e.isCanceled)if(e.isDivided&&50===e.count){let n,i,a;for(e.mainCallback(),e.count=0,await loadEndlessFeatures(e.results.lastElementChild,!1,'ge'),e.set.set.firstElementChild.lastElementChild.textContent='Extract More',e.progress.firstElementChild.remove(),e.callback=extractGeGiveaway.bind(null,e,t,s),i=!1,a=(n=e.results.lastElementChild.children).length-1;a>-1&&!i;--a)n[a].firstElementChild.classList.contains('esgst-hidden')&&(i=!0);(esgst.es_ge&&e.popup.scrollable.scrollHeight<=e.popup.scrollable.offsetHeight||i)&&e.set.trigger()}else if(e.extracted.indexOf(t)<0){let n=await request({method:'GET',url:`/giveaway/${t}/`}),i,a,o,r,l,c,d;if(r=buildGiveaway(d=parseHtml(n.responseText),n.finalUrl))(r=(await getGiveawayInfo(insertHtml(e.results.lastElementChild,'beforeEnd',r.html).firstElementChild,document)).giveaway).public&&esgst.ge_p&&(r.outerWrap.classList.add('esgst-ge-public'),r.summary.classList.add('esgst-ge-public')),(r.group||r.whitelist)&&esgst.ge_g&&(r.outerWrap.classList.add('esgst-ge-group'),r.summary.classList.add('esgst-ge-group')),(a=d.getElementsByClassName('sidebar__error')[0])&&r.outerWrap.setAttribute('data-error',a.textContent),e.points+=r.points,e.count+=1,e.total+=1,e.progress.innerHTML=`\n                            <i class="fa fa-circle-o-notch fa-spin"></i>\n                            <span>${e.total}</span> giveaways extracted.\n                        `,e.extracted.push(t),e.bumpLink||(i=d.querySelector('[href*="/discussion/"]'))&&(e.bumpLink=i.getAttribute('href')),(c=(l=getGeGiveaways(e,d)).length)>0?setTimeout(extractGeGiveaways,0,e,l,0,c,s):s();else{let n=await request({anon:!0,method:'GET',url:`/giveaway/${t}/`}),i,a,o,r,l,c;(o=buildGiveaway(c=parseHtml(n.responseText),n.finalUrl))&&((o=(await getGiveawayInfo(insertHtml(e.results.lastElementChild,'beforeEnd',o.html).firstElementChild,document)).giveaway).outerWrap.setAttribute('data-blacklist',!0),esgst.ge_b&&(o.outerWrap.classList.add('esgst-ge-blacklist'),o.summary.classList.add('esgst-ge-blacklist')),e.points+=o.points),e.count+=1,e.total+=1,e.progress.innerHTML=`\n                            <i class="fa fa-circle-o-notch fa-spin"></i>\n                            <span>${e.total}</span> giveaways extracted.\n                        `,e.extracted.push(t),e.bumpLink||(i=c.querySelector('[href*="/discussion/"]'))&&(e.bumpLink=i.getAttribute('href')),(l=(r=getGeGiveaways(e,c)).length)>0?setTimeout(extractGeGiveaways,0,e,r,0,l,s):s()}}else s()}function getGeGiveaways(e,t){let s,n,i,a,o,r,l,c,d,g;for(r=0,c=(a=t.querySelectorAll('[href*="sgtools.info/giveaways/"]')).length;r<c;r++)(l=(g=a[r].getAttribute('href')).match(/\/giveaways\/(.+)/))&&(s=l[1],e.extracted.indexOf(s)<0&&(e.sgtools.push({code:s,element:insertHtml(e.results,'afterBegin',`\n                        <div class="markdown esgst-text-center">\n                            <a href="${g}">${g}</a>\n                        </div>\n                    `).firstElementChild}),e.extracted.push(s)));for(o=[],t===e.context?(l=getParameters().url.match(/\/giveaway\/(.+?)\//))&&o.push(l[1]):t===esgst.pageOuterWrap&&esgst.giveawayPath&&(l=location.href.match(/\/giveaway\/(.+?)\//))&&o.push(l[1]),d={code:null,count:0},r=0,c=(a=t.querySelectorAll('.markdown [href*="/giveaway/"]')).length;r<c;++r)(l=(i=a[r]).getAttribute('href').match(/\/giveaway\/(.+?)(\/.*)?$/))&&(s=l[1],!esgst.ge_o||esgst.discussionPath||i.textContent.toLowerCase().match(/forw|more|next|>|â/)?e.extracted.indexOf(s)<0&&o.indexOf(s)<0&&o.push(s):(l=i.textContent.match(/\d+/))&&(n=parseInt(l[0]))>d.count&&e.extracted.indexOf(s)<0&&o.indexOf(s)<0&&(d.code=s,d.count=n));return d.count>0&&o.push(d.code),o}async function completeGeExtraction(e,t){e.button&&e.button.classList.remove('esgst-busy'),e.progress.firstElementChild.remove(),t&&t(),await loadEndlessFeatures(e.results.lastElementChild,!1,'ge'),e.sgtools.length>0&&e.sgtools.forEach(async e=>{let t=parseHtml((await request({method:'GET',url:`http://www.sgtools.info/giveaways/${e.code}`})).responseText).getElementsByClassName('featured__outer-wrap')[0];e.element.textContent=`${t.getElementsByClassName('featured__heading')[0].textContent.trim()} - Level ${t.getElementsByClassName('featured__column--contributor-level')[0].textContent.match(/\d+/)[0]} (SGTools)`});let s=`\n            <div class="markdown esgst-text-center">\n                ${e.bumpLink&&!esgst.discussionPath?`\n                    <h2>\n                        <a href="${e.bumpLink}">Bump</a>\n                    </h2>\n                `:''}\n                ${e.points}P required to enter all giveaways.\n            </div>\n        `;e.results.insertAdjacentHTML('afterBegin',s),e.results.insertAdjacentHTML('beforeEnd',s),e.set.set.remove(),e.set=null}function loadGed(){if(!esgst.sg)return;let e={newGiveaways:[]};esgst.gedPath?openGedPopup(e):(e.button=insertHtml(esgst.headerNavigationLeft,'beforeEnd',`\n                <div class="nav__button-container esgst-hidden" title="${getFeatureTooltip('ged','View your decrypted giveaways')}">\n                    <div class="nav__button">\n                        <i class="fa fa-star"></i>\n                    </div>\n                </div>\n            `),e.button.addEventListener('mousedown',openGedPopup.bind(null,e)),getGedGiveaways(e)),esgst.addGedIcons=addGedIcons.bind(null,e)}async function openGedPopup(e,t){if(t){if(2===t.button)return;t.preventDefault()}if(esgst.gedPath?e.container=e.context=esgst.mainContext:esgst.ged_t||t&&1===t.button?open('/esgst/decrypted-giveaways'):(e.popup=new Popup('fa-star','Decrypted Giveaways',!0),e.container=e.popup.description,e.context=e.popup.scrollable,e.popup.open()),e.context.innerHTML='\n            <i class="fa fa-circle-o-notch fa-spin"></i> Loading...\n        ',await getGedGiveaways(e),e.context.innerHTML='',esgst.gf&&esgst.gf_m||esgst.gm){let t=insertHtml(e.context,'afterBegin','\n                <div class="page__heading"></div>\n            ');esgst.gf&&esgst.gf_m&&t.appendChild(addGfContainer(t,'Ged')),esgst.gm&&loadGm(t)}e.results=insertHtml(e.context,'beforeEnd','<div class="esgst-text-left"></div>'),e.set=new ButtonSet_v2({color1:'green',color2:'grey',icon1:'fa-plus',icon2:'fa-circle-o-notch fa-spin',title1:'Load More',title2:'Loading more...',callback1:loadGedGiveaways.bind(null,e)}),e.container.appendChild(e.set.set),e.set.trigger(),esgst.es_ged&&e.context.addEventListener('scroll',checkGedEndless.bind(null,e))}async function getGedGiveaways(e){e.giveaways=[],e.i=0;let t={},s=Date.now(),n=await createLock('gedLock',300),i=await getValue('decryptedGiveaways',await getValue('exclusiveGiveaways',{}));'string'==typeof i&&(i=JSON.parse(i));for(let n in i){i[n].html&&delete i[n].html;let a=i[n].timestamp<=s,o=!1,r=esgst.giveaways[n];if(r){let e=null;r.gameType&&r.gameSteamId&&(e=esgst.games[r.gameType][r.gameSteamId]),(r.level<esgst.gf_minLevelPopup||r.level>esgst.gf_maxLevelPopup||r.copies<esgst.gf_minCopiesPopup||r.copies>esgst.gf_maxCopiesPopup||r.points<esgst.gf_minPointsPopup||r.points>esgst.gf_maxPointsPopup||'disabled'===esgst.gf_createdPopup&&r.creator===esgst.username||'none'===esgst.gf_createdPopup&&r.creator!==esgst.username||e&&('disabled'===esgst.gf_hiddenPopup&&e.hidden||'none'===esgst.gf_hiddenPopup&&!e.hidden||'disabled'===esgst.gf_ownedPopup&&e.owned||'none'===esgst.gf_ownedPopup&&!e.owned||'disabled'===esgst.gf_ignoredPopup&&e.ignored||'none'===esgst.gf_ignoredPopup&&!e.ignored))&&(o=!0),o||!a||r.started||(await getGedGiveaway(n,t,i,!0),a=i[n].timestamp<=s)}o||a||e.giveaways.push({code:n,source:i[n].source,timestamp:i[n].timestamp})}await lockAndSaveGiveaways(t),await setValue('decryptedGiveaways',JSON.stringify(i)),n(),e.n=e.giveaways.length,e.n>0&&(e.button&&e.button.classList.remove('esgst-hidden'),e.giveaways=sortArrayByNumberKey(e.giveaways,'timestamp'))}async function getGedGiveaway(e,t,s,n,i){let a=await request({method:'GET',url:`/giveaway/${e}/`}),o=(await getGiveaways(parseHtml(a.responseText),!1,a.finalUrl,!1,null,!0))[0];return o&&(t[e]=o,o.started&&n&&(s[e].timestamp=o.endTime)),i&&(s[e]={source:i,timestamp:o&&o.endTime||0}),o}async function loadGedGiveaways(e){let t=0;for(;(t<5||esgst.es_ged&&e.context.scrollHeight<=e.context.offsetHeight||(e.results.children.length-(esgst.gfPopup&&parseInt(esgst.gfPopup.filteredCount.textContent)||0))%5!=0)&&e.i<e.n;){t+=1;let s=e.giveaways[e.i];e.i+=1;let n=await request({method:'GET',url:`/giveaway/${s.code}/`}),i=buildGiveaway(parseHtml(n.responseText),n.finalUrl);if(!i||!i.started)continue;let a=insertHtml(e.results,'beforeEnd',i.html);s.source&&a.getElementsByClassName('giveaway__columns')[0].insertAdjacentHTML('afterBegin',`\n                    <a class="esgst-ged-source" href="${s.source.match(/\/discussion\//)?s.source:`/go/comment/${s.source}`}">Source</a>\n                `),await loadEndlessFeatures(a,!1,'ged'),e.newGiveaways.indexOf(s.code)>-1&&a.getElementsByClassName('giveaway__heading__name')[0].insertAdjacentText('afterBegin','[NEW] ')}e.i>=e.n&&e.set.set.remove()}function checkGedEndless(e){e.context.scrollTop+e.context.offsetHeight>=e.context.scrollHeight&&!e.set.busy&&e.set.trigger()}async function addGedIcons(e,t){let s={},n=Date.now(),i=null,a=null,o=!1;for(let o=t.length-1;o>-1;o--){let r=t[o],l=r.actions.getElementsByClassName('esgst-ged-icon');for(let e=l.length-1;e>-1;e--)l[0].remove();if(!r.displayState)continue;let c=r.displayState.querySelectorAll('[href^="ESGST-"]');for(let t=c.length-1;t>-1;t--){let o=c[t].getAttribute('href').match(/ESGST-(.+)/)[1];if(o.match(/currentVersion/))continue;a||(a=await createLock('gedLock',300),'string'==typeof(i=await getValue('decryptedGiveaways',await getValue('exclusiveGiveaways',{})))&&(i=JSON.parse(i)));let l=i[o=decryptGedCode(o)]&&n>i[o].timestamp,d=!1,g=esgst.giveaways[o]&&esgst.giveaways[o].started;if(!i[o]||l&&!g){let t=await getGedGiveaway(o,s,i,!1,r.id||location.href);e.newGiveaways.push(o),d=!0,t&&(l=t.ended,g=t.started)}r.actions.insertAdjacentHTML('beforeEnd',`\n                    <a class="esgst-ged-icon${l?' esgst-red':g?d?' esgst-green':'':' esgst-yellow'}" href="/giveaway/${o}/" title="${getFeatureTooltip('ged','ESGST Decrypted Giveaway')}">\n                        <i class="fa fa-star"></i>\n                    </a>\n                `)}}a&&(await lockAndSaveGiveaways(s),await setValue('decryptedGiveaways',JSON.stringify(i)),a()),e.button}function encryptGedCode(e){let t,s,n,i,a,o;switch(t='NOPQRSTUVWXYZABCDEFGHIJKLM',Math.floor(4*Math.random())){case 0:for(s='',n=0,i=(a=rot(e,13)).length;n<i;++n)s+=a.charCodeAt(n).toString(16);return s;case 1:for(s='',n=0,i=(a=rot(e,13)).length;n<i;++n)s+=a.charCodeAt(n).toString(16);return s=s.replace(/\d/g,e=>t[parseInt(e)]);case 2:for(s='',n=0,i=(a=rot(e,o=Math.ceil(25*Math.random()))).length;n<i;++n)s+=a.charCodeAt(n).toString(16);return s+=o.toString(16);case 3:for(s='',n=0,i=(a=rot(e,o=Math.ceil(25*Math.random()))).length;n<i;++n)s+=a.charCodeAt(n).toString(16);return s=(s+=o.toString(16)).replace(/\d/g,e=>t[parseInt(e)])}}function decryptGedCode(e){let t,s,n;return t='NOPQRSTUVWXYZABCDEFGHIJKLM',n=(n=(e=e.replace(/-/g,'').replace(/[A-Z]/g,e=>t.indexOf(e))).slice(10))?parseInt(n,16):13,s='',e.slice(0,10).match(/../g).forEach(e=>{s+=String.fromCharCode(parseInt(e,16))}),rot(s,26-n)}async function saveGedGiveaways(e,t){let s=[],n=e.querySelectorAll('[href^="ESGST-"]');for(let e=0,t=n.length;e<t;e++){let t=n[e].getAttribute('href').match(/ESGST-(.+)/)[1];t.match(/currentVersion/)||s.push(decryptGedCode(t))}if(!s.length)return;let i={decryptedGiveaways:await getValue('decryptedGiveaways',await getValue('exclusiveGiveaways',{})),giveaways:{}};'string'==typeof i.decryptedGiveaways&&(i.decryptedGiveaways=JSON.parse(i.decryptedGiveaways));let a=[];s.forEach(e=>{if(i.decryptedGiveaways[e])return;let s=esgst.giveaways[e];s&&s.endTime?i.decryptedGiveaways[e]={source:t,timestamp:s.endTime}:a.push(getGedGiveaway(e,i.giveaways,i.decryptedGiveaways,!1,t))}),await Promise.all(a),await setValue('decryptedGiveaways',JSON.stringify(i.decryptedGiveaways)),await lockAndSaveGiveaways(i.giveaways)}function loadGesl(){var e;esgst.giveawayPath&&document.getElementsByClassName('table--summary')[0]&&(e=encodeURIComponent(document.getElementsByClassName('table__column__secondary-link')[0].textContent),document.getElementsByClassName('table__row-outer-wrap')[0].insertAdjacentHTML('afterEnd',`\n                <div class="table__row-outer-wrap" title="${getFeatureTooltip('gesl')}">\n                    <div class="table__row-inner-wrap">\n                        <div class="table__column--width-small">\n                            <span class="esgst-bold">Search Links</span>\n                        </div>\n                        <div class="table__column--width-fill">\n                            <a href="https://www.steamgifts.com/giveaways/search?q=${e}" target="_blank" title="Search for active giveaways">\n                                <i class="fa"><img src="${esgst.sgIcon}"></i>\n                            </a>\n                            <a href="http://store.steampowered.com/search/?term=${e}" target="_blank" title="Search on Steam">\n                                <i class="fa fa-steam"></i>\n                            </a>\n                            <a href="https://steamdb.info/search/?a=app&q=${e}" target="_blank" title="Search on SteamDB">\n                                <i class="fa"><img src="https://steamdb.info/static/logos/favicon-16x16.png"></i>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            `))}function loadGf(){esgst.gf_m&&(esgst.giveawaysPath||esgst.createdPath||esgst.enteredPath||esgst.wonPath||esgst.groupPath||esgst.userPath)&&(esgst.hideButtons&&esgst.hideButtons_gf?esgst.leftButtonIds.indexOf('gf')>-1?esgst.leftButtons.insertBefore(addGfContainer(esgst.mainPageHeading),esgst.leftButtons.firstElementChild):esgst.rightButtons.appendChild(addGfContainer(esgst.mainPageHeading)):esgst.mainPageHeading.insertBefore(addGfContainer(esgst.mainPageHeading),esgst.mainPageHeading.firstElementChild))}function getGfGiveaways(e,t,s){e.creator===esgst.username||e.ended||e.entered||!e.url||(('gf'===s||esgst.giveawayPath)&&!e.innerWrap.getElementsByClassName('esgst-gf-unhide-button')[0]&&esgst.giveaways[e.code]&&esgst.giveaways[e.code].hidden&&new Button(e.headingName,'beforeBegin',{callbacks:[hideGfGiveaway.bind(null,e,t),null,unhideGfGiveaway.bind(null,e,t),null],className:'esgst-gf-unhide-button',icons:['fa-eye-slash esgst-clickable','fa-circle-o-notch fa-spin','fa-eye esgst-clickable','fa-circle-o-notch fa-spin'],index:2,titles:['Hide giveaway','Hiding giveaway...','Unhide giveaway','Unhiding giveaway...']}),('gc'!==s&&(esgst.giveawaysPath||esgst.groupPath)||esgst.giveawayPath)&&(e.innerWrap.getElementsByClassName('esgst-gf-hide-button')[0]||esgst.giveaways[e.code]&&esgst.giveaways[e.code].hidden&&esgst.giveaways[e.code].code||new Button(e.headingName,'beforeBegin',{callbacks:[hideGfGiveaway.bind(null,e,t),null,unhideGfGiveaway.bind(null,e,t),null],className:'esgst-gf-hide-button',icons:['fa-eye-slash esgst-clickable','fa-circle-o-notch fa-spin','fa-eye esgst-clickable','fa-circle-o-notch fa-spin'],index:0,titles:['Hide giveaway','Hiding giveaway...','Unhide giveaway','Unhiding giveaway...']})))}async function hideGfGiveaway(e,t){let s=await createLock('giveawayLock',300),n=JSON.parse(await getValue('giveaways','{}'));return n[e.code]||(n[e.code]={}),n[e.code].code=e.code,n[e.code].endTime=e.endTime,n[e.code].hidden=Date.now(),await setValue('giveaways',JSON.stringify(n)),s(),t&&esgst.giveawayPath||e.outerWrap.remove(),!0}async function unhideGfGiveaway(e,t){let s=await createLock('giveawayLock',300),n=JSON.parse(await getValue('giveaways','{}'));return n[e.code]&&delete n[e.code].hidden,await setValue('giveaways',JSON.stringify(n)),s(),t&&esgst.giveawayPath||e.outerWrap.remove(),!0}function setGfOverride(e,t,s){let n,i;n=insertHtml(t,'afterBegin','<span class="esgst-gf-override"></span>'),e.overrideButtons[s]={change:()=>{void 0===e.overrides[s]&&(e.overrides[s]=0),e.overrideButtons[s].value=e.overrides[s],e.overrideButtons[s].value?n.innerHTML='<i class="fa fa-exclamation" title="Click to make this filter overridable"></i>':n.innerHTML='<i class="fa fa-exclamation esgst-faded" title="Click to make this filter non-overridable"></i>'}},e.overrideButtons[s].change(),n.addEventListener('click',()=>{e.overrides[s]=e.overrideButtons[s].value?0:1,e.overrideButtons[s].change(),filterGfGiveaways(e)})}function addGfContainer(e,t){var s,n,i,a,o,r,l,c,d,g,u,h,m,p,f,v,x,w,b,y,F,_,k,E,S,C,A,T,D,L,B,M,j,G,P,I,H,N,R,q,W;if(f={counters:{},popup:t,type:t||(esgst.groupPath?'Groups':location.search.match(/type/)?{wishlist:'Wishlist',recommended:'Recommended',group:'Group',new:'New'}[location.search.match(/type=(wishlist|recommended|group|new)/)[1]]:esgst.createdPath?'Created':esgst.enteredPath?'Entered':esgst.wonPath?'Won':esgst.userPath?'User':'')},t?esgst.gfPopup=f:esgst.gf=f,(v=document.createElement('div')).className='esgst-heading-button esgst-gf-heading-button',v.id='esgst-gf',v.innerHTML=`\n            <span class="esgst-gf-toggle-switch"></span>\n            <i class="fa fa-sliders" title="${getFeatureTooltip('gf','Manage presets')}"></i>\n        `,(N=new ToggleSwitch(v.firstElementChild,`gf_enable${f.type}`,!0,'',!1,!1,null,esgst[`gf_enable${f.type}`])).onEnabled=filterGfGiveaways.bind(null,f),N.onDisabled=filterGfGiveaways.bind(null,f,!0),D=v.lastElementChild,f.container=insertHtml(e,'afterEnd','\n            <div class="esgst-gf-container">\n                <div class="esgst-gf-box">\n                    <div class="esgst-gf-filters esgst-hidden">\n                        <div class="esgst-gf-basic-filters">\n                            <div>\n                                <span class="esgst-bold">Basic Filters:</span>\n                                <i class="fa fa-question-circle" title="The entries/copies filters are infinite. To increase/decrease their max value, simply enter the new max value into the input field and it will be changed."></i>\n                            </div>\n                        </div>\n                        <div class="esgst-gf-type-filters">\n                            <div>\n                                <span class="esgst-bold">Type Filters:</span>\n                            </div>\n                        </div>\n                        <div class="esgst-gf-category-filters esgst-hidden">\n                            <div>\n                                <span class="esgst-bold">Category Filters:</span>\n                            </div>\n                        </div>\n                        <div class="esgst-gf-right-panel">\n                            <div class="esgst-gf-legend-panel">\n                                <div>\n                                    <span class="esgst-bold">Legend:</span>\n                                    <i class="fa fa-question-circle" title="This legend applies to the type/category filters, except where noted"></i>\n                                </div>\n                                <div class="esgst-gf-legend"><i class="fa fa-circle-o"></i> - Hide all.</div>\n                                <div class="esgst-gf-legend"><i class="fa fa-circle"></i> - Show only.</div>\n                                <div class="esgst-gf-legend"><i class="fa fa-check-circle"></i> - Show all.</div>\n                                <div class="esgst-gf-legend"><i class="fa fa-exclamation esgst-faded"></i> - Overridable <i class="fa fa-question-circle" title="Overridable filters can be overridden by exceptions"></i></div>\n                                <div class="esgst-gf-legend"><i class="fa fa-exclamation"></i> - Non-Overridable <i class="fa fa-question-circle" title="Non-Overridable filters cannot be overridden by exceptions"></i></div>\n                            </div>\n                            <br>\n                            <div class="esgst-gf-preset-panel">\n                                <div>\n                                    <span class="esgst-bold">Preset:</span>\n                                </div>\n                                <div>\n                                    <span></span> exceptions <i class="esgst-clickable fa fa-gear" title="Manage exceptions"></i>\n                                </div>\n                                <input class="form__input-small" type="text"/>\n                                <div class="esgst-description esgst-bold"></div>\n                                <div class="form__row__error esgst-hidden">\n                                    <i class="fa fa-exclamation-circle"></i> Please enter a name for the preset.\n                                </div>\n                                <div class="esgst-description">The name of the preset.</div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div class="esgst-gf-button">\n                    <span>Expand</span><span class="esgst-hidden">Collapse</span> filters (<span>0</span> filtered - <span>0</span>P required to enter all unfiltered - <span></span>)\n                </div>\n            </div>\n        '),m=(i=f.container.firstElementChild).firstElementChild,n=m.firstElementChild,q=n.nextElementSibling,d=(g=(u=(j=(r=q.nextElementSibling).nextElementSibling.lastElementChild).firstElementChild.nextElementSibling).firstElementChild).nextElementSibling,P=(M=(B=u.nextElementSibling).nextElementSibling).nextElementSibling,j.appendChild(new ButtonSet('green','grey','fa-check','fa-circle-o-notch fa-spin','Save Preset','Saving...',saveGfPreset.bind(null,f,B,M,P)).set),l=(h=(a=i.nextElementSibling).firstElementChild).nextElementSibling,a.addEventListener('click',toggleGfFilters.bind(null,l,h,m)),f.filteredCount=l.nextElementSibling,f.pointsCount=f.filteredCount.nextElementSibling,!f.popup&&esgst.pagination&&(f.paginationFilteredCount=insertHtml(esgst.pagination.firstElementChild,'beforeEnd','\n                <span>\n                    (<span class="esgst-bold">0</span> filtered by Giveaway Filters)\n                </span>\n            ').firstElementChild),L=f.pointsCount.nextElementSibling,D.addEventListener('click',openGfPresetPopup.bind(null,f,g,L,B)),A=esgst[`gf_preset${f.type}`]){for(x=(G=JSON.parse(esgst.storage.filterPresets)).length-1;x>=0&&G[x].name!==A;--x);x>=0?(T=G[x],L.textContent=B.value=A):T=null}return T||(A=`Default${f.type}`,T={name:A},['maxLevel','minLevel','maxEntries','minEntries','maxCopies','minCopies','maxPoints','minPoints','maxComments','minComments','maxMinutesToEnd','minMinutesToEnd','maxChance','minChance','maxRatio','minRatio','maxRating','minRating','maxReleaseDate','minReleaseDate','pinned','inviteOnly','group','whitelist','regionRestricted','created','received','notReceived','awaitingFeedback','entered','started','ended','deleted','hidden','fullCV','reducedCV','noCV','owned','wishlisted','ignored','previouslyEntered','previouslyWon','removed','tradingCards','achievements','multiplayer','steamCloud','linux','mac','dlc','dlcFree','dlcNonFree','package','earlyAccess','genres','genreList'].forEach(e=>{T[e]=esgst.settings[`gf_${e}${f.type}`]}),(G=JSON.parse(esgst.storage.filterPresets)).push(T),setValue('filterPresets',JSON.stringify(G)),setSetting(`gf_preset${f.type}`,A),L.textContent=B.value=A),T.exceptions?(f.exceptions=T.exceptions,g.textContent=T.exceptions.length):g.textContent=0,f.overrides=T.overrides||{},f.overrideButtons={},d.addEventListener('click',openGfExceptionPopup.bind(null,g,f,B)),[{check:!esgst.parameters.level_min&&!esgst.parameters.level_max&&((!esgst.createdPath||esgst.cewgd)&&(!esgst.enteredPath||esgst.cewgd)&&(!esgst.wonPath||esgst.cewgd)||t),maxValue:10,minValue:0,name:'Level'},{check:!esgst.parameters.entry_min&&!esgst.parameters.entry_max&&(!esgst.wonPath||t),infinite:!0,maxValue:99999,minValue:0,name:'Entries'},{check:!esgst.parameters.copy_min&&!esgst.parameters.copy_max&&(!esgst.wonPath||t),infinite:!0,maxValue:99999,minValue:1,name:'Copies'},{check:!esgst.parameters.point_min&&!esgst.parameters.point_max&&((!esgst.createdPath||esgst.cewgd)&&(!esgst.enteredPath||esgst.cewgd)&&(!esgst.wonPath||esgst.cewgd)||t),maxValue:100,minValue:0,name:'Points'},{check:t||!esgst.createdPath&&!esgst.enteredPath&&!esgst.wonPath,maxValue:99999,minValue:0,name:'Comments'},{check:!esgst.wonPath||t,maxValue:43800,minValue:0,name:'MinutesToEnd'},{check:(!esgst.enteredPath||esgst.cewgd)&&!esgst.createdPath&&!esgst.wonPath||t,maxValue:100,minValue:0,name:'Chance',step:.01},{check:(!esgst.enteredPath||esgst.cewgd)&&!esgst.createdPath&&!esgst.wonPath||t,maxValue:99999,minValue:0,name:'Ratio'},{check:!0,maxValue:100,minValue:0,name:'Rating'},{check:!esgst.parameters.release_date_min&&!esgst.parameters.release_date_max,infinite:!0,maxValue:new Date('2070-12-31').getTime()/1e3,minValue:new Date('1970-01-01').getTime()/1e3,name:'ReleaseDate'}].forEach(e=>{if(e.check&&('Rating'!==(A=e.name)||esgst.gc&&esgst.gc_r)&&('ReleaseDate'!==A||esgst.gc&&esgst.gc_rd))if(F=`max${A}`,k=e.maxValue,E=`min${A}`,C=e.minValue,y='MinutesToEnd'===A?'minutesToEnd':'ReleaseDate'===A?'releaseDate':A.toLowerCase(),esgst[`gf_${y}`]){if(b=e.infinite,_=T[F]||k,S=T[E]||C,H=e.step||1,!b&&_>k&&(_=k),f[F]=_,f[E]=S,s=insertHtml(n,'beforeEnd',`\n                            <div class="esgst-gf-basic-filter">\n                                <div>${'MinutesToEnd'===A?'Minutes To End':'ReleaseDate'===A?'Release Date':A} <span class="esgst-gf-filter-count" title="Number of giveaways this filter is filtering">0</span> <span class="esgst-float-right"><input type="${'ReleaseDate'===A?'date':'text'}" value="${'ReleaseDate'===A?formatGfDate(S):S}"> - <input type="${'ReleaseDate'===A?'date':'text'}" value="${'ReleaseDate'===A?formatGfDate(_):_}"></span></div>\n                                <div></div>\n                                <div></div>\n                            </div>\n                        `),c=s.firstElementChild,setGfOverride(f,c,y),I=c.nextElementSibling,'Rating'===A){let e=new ToggleSwitch(I.nextElementSibling,'gf_noRating',!1,'Filter games with no rating.',!1,!1,null,esgst.gf_noRating);e.onEnabled=filterGfGiveaways.bind(null,f),e.onDisabled=filterGfGiveaways.bind(null,f)}else if('ReleaseDate'===A){let e=new ToggleSwitch(I.nextElementSibling,'gf_noReleaseDate',!1,'Filter games with no release date.',!1,!1,null,esgst.gf_noReleaseDate);e.onEnabled=filterGfGiveaways.bind(null,f),e.onDisabled=filterGfGiveaways.bind(null,f)}f.counters[y]=c.firstElementChild.nextElementSibling,f[`${E}Input`]=f.counters[y].nextElementSibling.firstElementChild,f[`${F}Input`]=f[`${E}Input`].nextElementSibling,f[`${F}Input`].addEventListener('change',changeGfMaxValue.bind(null,b,I,H)),f[`${E}Input`].addEventListener('change',changeGfMinValue.bind(null,I,H)),b&&(k=_),$(I).slider({change:changeGfSlider.bind(null,f,F,E),min:C,max:k,range:!0,slide:slideGfSlider.bind(null,f,F,E),step:H,values:[S,_]})}else f[F]=k,f[E]=C}),1===n.children.length&&n.classList.add('esgst-hidden'),[{check:esgst.giveawaysPath,key:'pinned',name:'Pinned'},{check:(!esgst.createdPath||esgst.cewgd)&&(!esgst.enteredPath||esgst.cewgd)&&(!esgst.wonPath||esgst.cewgd)||t,key:'inviteOnly',name:'Invite Only'},{check:(!esgst.createdPath||esgst.cewgd)&&(!esgst.enteredPath||esgst.cewgd)&&(!esgst.wonPath||esgst.cewgd)||t,key:'group',name:'Group'},{check:(!esgst.createdPath||esgst.cewgd)&&(!esgst.enteredPath||esgst.cewgd)&&(!esgst.wonPath||esgst.cewgd)||t,key:'whitelist',name:'Whitelist'},{check:(!esgst.createdPath||esgst.cewgd)&&(!esgst.enteredPath||esgst.cewgd)&&(!esgst.wonPath||esgst.cewgd)||t,key:'regionRestricted',name:'Region Restricted'},{check:!esgst.createdPath&&!esgst.enteredPath&&!esgst.wonPath||t,key:'created',name:'Created'},{check:esgst.createdPath,key:'received',name:'Received'},{check:esgst.createdPath,key:'notReceived',name:'Not Received'},{check:esgst.createdPath,key:'awaitingFeedback',name:'Awaiting Feedback'},{check:!esgst.createdPath&&!esgst.enteredPah&&!esgst.wonPath||t,key:'entered',name:'Entered'},{check:!esgst.enteredPath&&!esgst.wonPath||t,key:'started',name:'Started'},{check:!esgst.wonPath||t,key:'ended',name:'Ended'},{check:esgst.createdPath||esgst.enteredPath,key:'deleted',name:'Deleted'},{check:!0,key:'owned',name:'Owned'},{check:!0,key:'wishlisted',name:'Wishlisted'},{check:!0,key:'hidden',name:'Hidden'},{check:!0,key:'ignored',name:'Ignored'},{check:!0,key:'previouslyEntered',name:'Previously Entered'},{check:!0,key:'previouslyWon',name:'Previously Won'},{check:!0,key:'fullCV',name:'Full CV'},{check:!0,key:'reducedCV',name:'Reduced CV'},{check:!0,key:'noCV',name:'No CV'}].forEach(e=>{e.check&&('regionRestricted'===(y=e.key)&&esgst.parameters.region_restricted||(esgst[`gf_${y}`]?(A=e.name,R=insertHtml(q,'beforeEnd',`\n                            <div class="esgst-gf-type-filter">\n                                <span>${A}</span>\n                                <span class="esgst-gf-filter-count" title="Number of giveaways this filter is filtering">0</span>\n                            </div>\n                        `),W=T[y]||'enabled',f[y]=W,f[`${y}Checkbox`]=new Checkbox(R,W,!0),setGfOverride(f,R,y),f[`${y}Checkbox`].checkbox.addEventListener('click',changeGfValue.bind(null,f[`${y}Checkbox`],f,y)),f.counters[y]=R.lastElementChild):f[y]='enabled'))}),1===q.children.length&&q.classList.add('esgst-hidden'),esgst.gc&&(r.classList.remove('esgst-hidden'),[{id:'gc_rm',key:'removed',name:'Removed'},{id:'gc_tc',key:'tradingCards',name:'Trading Cards'},{id:'gc_a',key:'achievements',name:'Achievements'},{id:'gc_mp',key:'multiplayer',name:'Multiplayer'},{id:'gc_sc',key:'steamCloud',name:'Steam Cloud'},{id:'gc_l',key:'linux',name:'Linux'},{id:'gc_m',key:'mac',name:'Mac'},{id:'gc_dlc',key:'dlc',name:'DLC'},{id:'gc_dlc_b',key:'dlcFree',name:'DLC (Free Base)'},{id:'gc_dlc_b',key:'dlcNonFree',name:'DLC (Non-Free Base)'},{id:'gc_p',key:'package',name:'Package'},{id:'gc_ea',key:'earlyAccess',name:'Early Access'},{id:'gc_g',key:'genres',name:'Genres'}].forEach(e=>{'gc_dlc'===(w=e.id)&&esgst.parameters.dlc||!esgst[w]||(y=e.key,p='genres'===y,esgst[`gf_${y}`]?(A=e.name,o=insertHtml(r,'beforeEnd',`\n                            <div class="esgst-gf-category-filter">\n                                <span>${A} ${p?'<input placeholder="Genre1, Genre2" type="text">':''}</span>\n                                <span class="esgst-gf-filter-count" title="Number of giveaways this filter is filtering">0</span>\n                            </div>\n                        `),W=void 0!==T[y]?T[y]:'enabled',f[y]=W,f[`${y}Checkbox`]=new Checkbox(o,W,!0),setGfOverride(f,o,y),f[`${y}Checkbox`].checkbox.addEventListener('click',changeGfValue.bind(null,f[`${y}Checkbox`],f,y)),f.counters[y]=o.lastElementChild,p&&(f.genreListInput=o.firstElementChild.nextElementSibling.nextElementSibling.firstElementChild,W=T.genreList&&T.genreList.replace(/,(?!\s)/g,', ')||'',f.genreList=f.genreListInput.value=W,f.genreListInput.addEventListener('change',changeGfValue.bind(null,f.genreListInput,f,'genreList')))):f[y]='enabled')}),1===r.children.length&&r.classList.add('esgst-hidden')),v}function toggleGfFilters(e,t,s){e.classList.toggle('esgst-hidden'),t.classList.toggle('esgst-hidden'),s.classList.toggle('esgst-hidden')}function changeGfMaxValue(e,t,s,n){var i,a,o;i=$(t).slider('values',1),a=$(t).slider('values',0),(o='date'===n.currentTarget.type?new Date(n.currentTarget.value).getTime()/1e3:s?parseFloat(n.currentTarget.value):parseInt(n.currentTarget.value))!==i&&o>=a&&(e&&$(t).slider('option','max',o),$(t).slider('values',[a,o]))}function changeGfMinValue(e,t,s){var n,i,a;n=$(e).slider('values',1),i=$(e).slider('values',0),(a='date'===s.currentTarget.type?new Date(s.currentTarget.value).getTime()/1e3:t?parseFloat(s.currentTarget.value):parseInt(s.currentTarget.value))!==i&&a<=n&&$(e).slider('values',[a,n])}function changeGfSlider(e,t,s,n,i){e[t]=i.values[1],e[s]=i.values[0],filterGfGiveaways(e)}function slideGfSlider(e,t,s,n,i){e[`${t}Input`].value='maxReleaseDate'===t?formatGfDate(i.values[1]):i.values[1],e[`${s}Input`].value='minReleaseDate'===s?formatGfDate(i.values[0]):i.values[0]}function formatGfDate(e){let t=new Date(1e3*e);return`${t.getFullYear()}-${`0${t.getMonth()+1}`.slice(-2)}-${`0${t.getDate()}`.slice(-2)}`}function changeGfValue(e,t,s){'ended'===s&&(esgst.stopEs=!1),t[s]=e.value,filterGfGiveaways(t)}async function saveGfPreset(e,t,s,n,a){var o,r,l,c;if(r=t.value){for(n.classList.add('esgst-hidden'),l={name:r},['maxLevel','minLevel','maxEntries','minEntries','maxCopies','minCopies','maxPoints','minPoints','maxComments','minComments','maxMinutesToEnd','minMinutesToEnd','maxChance','minChance','maxRatio','minRatio','maxRating','minRating','maxReleaseDate','minReleaseDate','pinned','inviteOnly','group','whitelist','regionRestricted','created','received','notReceived','awaitingFeedback','entered','started','ended','deleted','hidden','fullCV','reducedCV','noCV','owned','wishlisted','ignored','previouslyEntered','previouslyWon','removed','tradingCards','achievements','multiplayer','steamCloud','linux','mac','dlc','dlcFree','dlcNonFree','package','earlyAccess','genres','genreList'].forEach(t=>{void 0!==e[t]&&(l[t]=e[t])}),l.exceptions=e.exceptions,l.overrides=e.overrides,c=JSON.parse(await getValue('filterPresets','[]')),i=c.length-1;i>=0&&c[i].name!==r;--i);i>=0?((o=c[i].exceptions)&&(l.exceptions=o),c[i]=l):c.push(l),await setValue('filterPresets',JSON.stringify(c)),await setSetting(`gf_preset${e.type}`,r),createFadeMessage(s,'Saved!'),a()}else n.classList.remove('esgst-hidden'),a()}async function openGfPresetPopup(e,t,s,n){var i,a,o,r,l,c,d,g,u,h,m,p;(l=new Popup('fa-sliders','Manage presets:',!0)).description.insertAdjacentHTML('afterBegin','<div class="esgst-description">To edit a preset, apply it and save it with the same name. To rename a preset, click the edit icon, enter the new name and hit "Enter". Drag and drop presets to move them.</div>'),i=[],(p=insertHtml(l.description,'beforeEnd','\n            <div class="esgst-clickable esgst-hidden">\n                <i class="fa fa-rotate-left"></i>\n                <span>Undo Delete</span>\n            </div>\n        ')).addEventListener('click',undoGfDeletePreset.bind(null,i,p)),m=insertHtml(l.scrollable,'beforeEnd','<div class="esgst-text-left popup__keys__list"></div>'),JSON.parse(await getValue('filterPresets','[]')).forEach(c=>{a='',[{key:'Level',name:'level'},{key:'Entries',name:'entries'},{key:'Copies',name:'copies'},{key:'Points',name:'points'},{key:'Comments',name:'comments'},{key:'MinutesToEnd',name:'minutes to end'},{key:'Chance',name:'chance'},{key:'Ratio',name:'ratio'},{key:'Rating',name:'rating'},{key:'ReleaseDate',name:'release date'}].forEach(e=>{void 0!==c[`max${e.key}`]&&(a+=`${c[`min${e.key}`]}-${c[`max${e.key}`]} ${e.name}, `)}),r=[],h=[],[{key:'pinned',name:'pinned'},{key:'inviteOnly',name:'invite only'},{key:'group',name:'group'},{key:'whitelist',name:'whitelist'},{key:'regionRestricted',name:'region restricted'},{key:'created',name:'created'},{key:'received',name:'received'},{key:'notReceived',name:'not received'},{key:'awaitingFeedback',name:'awaiting feedback'},{key:'entered',name:'entered'},{key:'deleted',name:'deleted'},{key:'owned',name:'owned'},{key:'wishlisted',name:'wishlisted'},{key:'hidden',name:'hidden'},{key:'ignored',name:'ignored'},{key:'previouslyEntered',name:'previously entered'},{key:'previouslyWon',name:'previously won'},{key:'fullCV',name:'full CV'},{key:'reducedCV',name:'reduced CV'},{key:'noCV',name:'no CV'},{key:'removed',name:'removed'},{key:'tradingCards',name:'trading cards'},{key:'achievements',name:'achievements'},{key:'multiplayer',name:'multiplayer'},{key:'steamCloud',name:'steam cloud'},{key:'linux',name:'linux'},{key:'mac',name:'mac'},{key:'dlc',name:'dlc'},{key:'dlcFree',name:'dlc (free base)'},{key:'dlcNonFree',name:'dlc (non-free base)'},{key:'package',name:'package'},{key:'earlyAccess',name:'early access'},{key:'genres',name:'genres'}].forEach(e=>{'disabled'===c[e.key]?'genres'===e.key&&c.genres&&c.genreList?r.push(`genres (${c.genreList.toLowerCase()})`):r.push(e.name):'none'===c[e.key]&&('genres'===e.key&&c.genres&&c.genreList?h.push(`genres (${c.genreList.toLowerCase()})`):h.push(e.name))}),r.length>0&&(a+=`hide: ${r.join(' & ')}, `),h.length>0&&(a+=`only show: ${h.join(' & ')}, `),(u=insertHtml(m,'beforeEnd',`\n                <div ${n.value===c.name?'class="esgst-green-highlight"':''} draggable="true">\n                    <div class="esgst-float-left">\n                        <input class="esgst-hidden" type="text" value="${c.name}"/>\n                        <strong class="esgst-clickable">${c.name}</strong>\n                    </div>\n                    <div class="esgst-clickable esgst-float-right">\n                        <i class="fa fa-edit" title="Rename preset"></i>\n                        <span title="Delete preset">\n                            <i class="fa fa-trash"></i>\n                        </span>\n                    </div>\n                    <div class="esgst-clear"></div>\n                    <div class="esgst-description">${a.slice(0,-2)}</div>\n                </div>\n            `)).addEventListener('dragstart',setGfSource.bind(null,e,c,u)),u.addEventListener('dragenter',getGfSource.bind(null,e,u,m)),u.addEventListener('dragend',saveGfSource.bind(null,e)),g=u.firstElementChild.firstElementChild,o=g.nextElementSibling,g.addEventListener('keypress',renameGfPreset.bind(null,o,c,s,n)),o.addEventListener('click',applyGfPreset.bind(null,e,t,l,c,s,n)),(d=u.firstElementChild.nextElementSibling.firstElementChild).addEventListener('click',showGfRenameInput.bind(null,o,g)),d.nextElementSibling.addEventListener('click',deleteGfPreset.bind(null,i,c,u,p))}),l.open()}async function setGfSource(e,t,s,n){var i,a;for(n.dataTransfer.setData('text/plain',''),e.source=s,i=(a=JSON.parse(await getValue('filterPresets','[]'))).length-1;i>=0&&a[i].name!==t.name;--i);e.sourceIndex=i}function getGfSource(e,t,s){var n,i;n=e.source,i=0;do{if((n=n.previousElementSibling)&&n===t)return e.sourceNewIndex=i,void s.insertBefore(e.source,t);++i}while(n);e.sourceNewIndex=i-1,s.insertBefore(e.source,t.nextElementSibling)}async function saveGfSource(e){let t=JSON.parse(await getValue('filterPresets','[]'));t.splice(e.sourceNewIndex,0,t.splice(e.sourceIndex,1)[0]),setValue('filterPresets',JSON.stringify(t))}async function applyGfPreset(e,t,s,n,i,a){var o,r,l;for(l in['maxLevel','minLevel','maxEntries','minEntries','maxCopies','minCopies','maxPoints','minPoints','maxComments','minComments','maxMinutesToEnd','minMinutesToEnd','maxChance','minChance','maxRatio','minRatio','maxRating','minRating','maxReleaseDate','minReleaseDate','pinned','inviteOnly','group','whitelist','regionRestricted','created','received','notReceived','awaitingFeedback','entered','started','ended','deleted','hidden','fullCV','reducedCV','noCV','owned','wishlisted','ignored','previouslyEntered','previouslyWon','removed','tradingCards','achievements','multiplayer','steamCloud','linux','mac','dlc','dlcFree','dlcNonFree','package','earlyAccess','genres','genreList'].forEach(t=>{(o=e[`${t}Checkbox`])?o.isThreeState?(e[t]=o.value=n[t],o.change(!1,e[t])):n[t]?(e[t]=!0,o.check()):(e[t]=!1,o.uncheck()):(r=e[`${t}Input`])&&(e[t]=r.value=n[t],r.dispatchEvent(new Event('change')))}),i.textContent=a.value=n.name,n.exceptions?(e.exceptions=n.exceptions,t.textContent=n.exceptions.length):t.textContent=0,e.overrides=n.overrides||{},e.overrideButtons)e.overrideButtons[l].change();await setSetting(`gf_preset${e.type}`,n.name),s.close(),filterGfGiveaways(e)}function showGfRenameInput(e,t){var s;e.classList.add('esgst-hidden'),t.classList.remove('esgst-hidden'),s=t.value,t.value='',t.focus(),t.value=s}async function renameGfPreset(e,t,s,n,i){var a,o,r,l;if('Enter'===i.key){for(r=t.name,o=i.currentTarget.value,a=(l=JSON.parse(await getValue('filterPresets'))).length-1;a>=0&&l[a].name!==r;--a);t.name=l[a].name=o,setValue('filterPresets',JSON.stringify(l)),e.textContent=o,n.value===r&&(s.textContent=n.value=o),['','Wishlist','Recommended','Group','New','Created','Entered','Won','Groups','User','Gb','Ge','Ged'].forEach(e=>{esgst[`gf_preset${e}`]===r&&setSetting(`gf_preset${e}`,o)}),i.currentTarget.classList.add('esgst-hidden'),e.classList.remove('esgst-hidden')}}async function deleteGfPreset(e,t,s,n,i){var a,o,r;for((a=i.currentTarget).innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>',o=(r=JSON.parse(await getValue('filterPresets','[]'))).length-1;o>=0&&r[o].name!==t.name;--o);r.splice(o,1),setValue('filterPresets',JSON.stringify(r)),a.innerHTML='<i class="fa fa-trash"></i>',s.classList.add('esgst-hidden'),e.push({details:t,row:s}),n.classList.remove('esgst-hidden')}async function undoGfDeletePreset(e,t){let s=e.pop();s.row.classList.remove('esgst-hidden'),s.row.parentElement.appendChild(s.row);let n=JSON.parse(await getValue('filterPresets','[]'));n.push(s.details),setValue('filterPresets',JSON.stringify(n)),0===e.length&&t.classList.add('esgst-hidden')}async function openGfExceptionPopup(e,t,s){var n,i,a,o,r,l,c,d,g,u,h,m;for(c=new Popup('fa-gear','Manage exceptions: <i class="fa fa-question-circle" title="Exceptions are giveaways that will always appear, no matter which filters are set (they still get filtered by type/category filters). For example, if you have a filter that only shows giveaways with 0.5+ chance, but you have an exception for wishlist, all wishlist giveaways will appear, regardless of their chance.\n\nEach exception works as an AND conjunction, so if you want to make an exception for wishlist giveaways **or** giveaways with multiple copies, you have to create 2 separate exceptions, otherwise the exception will be for giveaways that are both wishlist **and** multiple copies."></i>',!0),n=[],m=insertHtml(c.description,'beforeEnd','\n            <div class="esgst-clickable esgst-hidden">\n                <i class="fa fa-rotate-left"></i>\n                <span>Undo Delete</span>\n            </div>\n        '),h=insertHtml(c.scrollable,'beforeEnd','<div class="esgst-text-left popup__keys__list"></div>'),l=s.value,a=(g=JSON.parse(await getValue('filterPresets','[]'))).length-1;a>=0&&g[a].name!==l;--a);d=g[a],m.addEventListener('click',undoGfDeleteException.bind(null,n,e,t,d,m)),d.exceptions&&d.exceptions.forEach(s=>{i='',[{key:'Level',name:'level'},{key:'Entries',name:'entries'},{key:'Copies',name:'copies'},{key:'Points',name:'points'},{key:'Comments',name:'comments'},{key:'MinutesToEnd',name:'minutes to end'},{key:'Chance',name:'chance'},{key:'Ratio',name:'ratio'},{key:'Rating',name:'rating'},{key:'ReleaseDate',name:'release date'}].forEach(e=>{o=s[`max${e.key}`],r=s[`min${e.key}`],void 0!==o&&void 0!==r?i+=`${r}-${o} ${e.name}, `:void 0!==o?i+=`?-${o} ${e.name}, `:void 0!==r&&(i+=`${r}-? ${e.name}, `)}),[{key:'pinned',name:'pinned'},{key:'inviteOnly',name:'invite only'},{key:'group',name:'group'},{key:'whitelist',name:'whitelist'},{key:'regionRestricted',name:'region restricted'},{key:'created',name:'created'},{key:'received',name:'received'},{key:'notReceived',name:'not received'},{key:'awaitingFeedback',name:'awaiting feedback'},{key:'entered',name:'entered'},{key:'deleted',name:'deleted'},{key:'owned',name:'owned'},{key:'wishlisted',name:'wishlisted'},{key:'hidden',name:'hidden'},{key:'ignored',name:'ignored'},{key:'previouslyEntered',name:'previously entered'},{key:'previouslyWon',name:'previously won'},{key:'fullCV',name:'full CV'},{key:'reducedCV',name:'reduced CV'},{key:'noCV',name:'no CV'},{key:'removed',name:'removed'},{key:'tradingCards',name:'trading cards'},{key:'achievements',name:'achievements'},{key:'multiplayer',name:'multiplayer'},{key:'steamCloud',name:'steam cloud'},{key:'linux',name:'linux'},{key:'mac',name:'mac'},{key:'dlc',name:'dlc'},{key:'dlcFree',name:'dlc (free base)'},{key:'dlcNonFree',name:'dlc (non-free base)'},{key:'package',name:'package'},{key:'earlyAccess',name:'early access'},{key:'genres',name:'genres'}].forEach(e=>{s[e.key]&&(i+='genres'===e.key?`genres (${s.genreList.toLowerCase()}), `:`${e.name}, `)}),u=insertHtml(h,'beforeEnd',`\n                    <div>\n                        <div class="esgst-bold esgst-clickable esgst-float-left">${s.name}</div>\n                        <div class="esgst-clickable esgst-float-right">\n                            <i class="fa fa-edit" title="Edit exception"></i>\n                            <span title="Delete exception">\n                                <i class="fa fa-trash"></i>\n                            </span>\n                        </div>\n                        <div class="esgst-clear"></div>\n                        <div class="esgst-description">${i.slice(0,-2)}</div>\n                    </div>\n                `),heading=u.firstElementChild,editButton=heading.nextElementSibling.firstElementChild,editButton.addEventListener('click',openGfManageExceptionPopup.bind(null,s,e,t,d,()=>c.close())),editButton.nextElementSibling.addEventListener('click',deleteGfException.bind(null,n,s,e,t,heading,d,u,m))}),c.description.appendChild(new ButtonSet('green','','fa-plus','','Create Exception','',openGfManageExceptionPopup.bind(null,{},e,t,d,()=>c.close())).set),c.open()}function openGfManageExceptionPopup(e,t,s,n,i){var a,o,r,l;i&&i(),popup=new Popup('fa-edit','Create/edit exception:',!0),popup.scrollable.classList.add('esgst-gf-container','esgst-gf-filters','esgst-text-left'),popup.name=insertHtml(popup.description,'afterBegin',`Name: <input type="text" value="${e.name||''}"/>`),a=insertHtml(popup.scrollable,'beforeEnd','\n            <div class="esgst-gf-basic-filters">\n                <div>\n                    <span class="esgst-bold">Basic Filters:</span>\n                </div>\n            </div>\n        '),[{key:'Level',name:'Level'},{key:'Entries',name:'Entries'},{key:'Copies',name:'Copies'},{key:'Points',name:'Points'},{key:'Comments',name:'Comments'},{key:'MinutesToEnd',name:'Minutes To End'},{key:'Chance',name:'Chance'},{key:'Ratio',name:'Ratio'},{key:'Rating',name:'Rating'},{key:'ReleaseDate',name:'Release Date'}].forEach(t=>{r=insertHtml(a,'beforeEnd',`\n                <div class="esgst-gf-basic-filter esgst-text-left">\n                    <div>${t.name} <span class="esgst-float-right"><input type="text" value="${e[`min${t.key}`]||''}"/> - <input type="text" value="${e[`max${t.key}`]||''}"/></span></div>\n                </div>\n            `).firstElementChild.lastElementChild,popup[`min${t.key}`]=r.firstElementChild,popup[`max${t.key}`]=r.lastElementChild}),l=insertHtml(popup.scrollable,'beforeEnd','\n            <div class="esgst-gf-type-filters">\n                <div>\n                    <span class="esgst-bold">Type Filters:</span>\n                </div>\n            </div>\n        '),[{key:'pinned',name:'Pinned'},{key:'inviteOnly',name:'Invite Only'},{key:'group',name:'Group'},{key:'whitelist',name:'Whitelist'},{key:'regionRestricted',name:'Region Restricted'},{key:'created',name:'Created'},{key:'received',name:'Received'},{key:'notReceived',name:'Not Received'},{key:'awaitingFeedback',name:'Awaiting Feedback'},{key:'entered',name:'Entered'},{key:'started',name:'Started'},{key:'ended',name:'Ended'},{key:'deleted',name:'Deleted'},{key:'owned',name:'Owned'},{key:'wishlisted',name:'Wishlisted'},{key:'hidden',name:'Hidden'},{key:'ignored',name:'Ignored'},{key:'previouslyEntered',name:'Previously Entered'},{key:'previouslyWon',name:'Previously Won'},{key:'fullCV',name:'Full CV'},{key:'reducedCV',name:'Reduced CV'},{key:'noCV',name:'No CV'}].forEach(t=>{popup[t.key]=new Checkbox(insertHtml(l,'beforeEnd',`<div class="esgst-gf-type-filter"><span></span> ${t.name}</div>`).firstElementChild,e[t.key])}),o=insertHtml(popup.scrollable,'beforeEnd','\n            <div class="esgst-gf-category-filters">\n                <div>\n                    <span class="esgst-bold">Category Filters:</span>\n                </div>\n            </div>\n        '),[{key:'removed',name:'Removed'},{key:'tradingCards',name:'Trading Cards'},{key:'achievements',name:'Achievements'},{key:'multiplayer',name:'Multiplayer'},{key:'steamCloud',name:'Steam Cloud'},{key:'linux',name:'Linux'},{key:'mac',name:'Mac'},{key:'dlc',name:'DLC'},{key:'dlcFree',name:'DLC (Free Base)'},{key:'dlcNonFree',name:'DLC (Non-Free Base)'},{key:'package',name:'Package'},{key:'earlyAccess',name:'Early Access'},{key:'genres',name:'Genres'}].forEach(t=>{r=insertHtml(o,'beforeEnd',`<div class="esgst-gf-category-filter"><span></span> ${t.name}${'genres'===t.key?` <input type="text" value="${e.genreList||''}"/>`:''}</div>`),popup[t.key]=new Checkbox(r.firstElementChild,e[t.key]),'genres'===t.key&&(popup.genreList=r.lastElementChild)}),popup.description.appendChild(new ButtonSet('green','grey','fa-plus','fa-circle-o-notch fa-spin','Save','Saving...',saveGfException.bind(null,t,s,n,popup)).set),popup.open()}async function saveGfException(e,t,s,n,i){var a,o,r;for(a={name:n.name.value},['Level','Entries','Copies','Points','Comments','MinutesToEnd','Chance','Ratio','Rating','ReleaseDate'].forEach(e=>{n[`max${e}`].value.length&&(a[`max${e}`]='ReleaseDate'===e?new Date(n[`max${e}`].value).getTime():parseFloat(n[`max${e}`].value)),n[`min${e}`].value.length&&(a[`min${e}`]='ReleaseDate'===e?new Date(n[`min${e}`].value).getTime():parseFloat(n[`min${e}`].value))}),['pinned','inviteOnly','group','whitelist','regionRestricted','created','received','notReceived','awaitingFeedback','entered','started','ended','deleted','owned','wishlisted','hidden','ignored','previouslyEntered','previouslyWon','fullCV','reducedCV','noCV','removed','tradingCards','achievements','multiplayer','steamCloud','linux','mac','dlc','dlcFree','dlcNonFree','package','earlyAccess','genres'].forEach(e=>{n[e].input.checked&&('genres'===e?n.genreList.value.length&&(a.genres=1,a.genreList=n.genreList.value):a[e]=1)}),s.exceptions||(s.exceptions=[]),o=s.exceptions.length-1;o>=0&&s.exceptions[o].name!==a.name;--o);for(o>=0?s.exceptions[o]=a:(s.exceptions.push(a),e.textContent=s.exceptions.length),t.exceptions=s.exceptions,o=(r=JSON.parse(await getValue('filterPresets','[]'))).length-1;o>=0&&r[o].name!==s.name;--o);r[o]=s,await setValue('filterPresets',JSON.stringify(r)),i(),n.close(),filterGfGiveaways(t)}async function deleteGfException(e,t,s,n,i,a,o,r,l){var c,t,d,a,g;for((c=l.currentTarget).innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>',d=a.exceptions.length-1;d>=0&&a.exceptions[d].name!==t.name;--d);for(a.exceptions.splice(d,1),n.exceptions=a.exceptions,s.textContent=a.exceptions.length,d=(g=JSON.parse(await getValue('filterPresets','[]'))).length-1;d>=0&&g[d].name!==a.name;--d);g[d]=a,setValue('filterPresets',JSON.stringify(g)),c.innerHTML='<i class="fa fa-trash"></i>',o.classList.add('esgst-hidden'),e.push({details:t,row:o}),r.classList.remove('esgst-hidden'),filterGfGiveaways(n)}async function undoGfDeleteException(e,t,s,n,i){var a,o,r;for((a=e.pop()).row.classList.remove('esgst-hidden'),a.row.parentElement.appendChild(a.row),n.exceptions.push(a.details),s.exceptions=n.exceptions,t.textContent=n.exceptions.length,o=(r=JSON.parse(await getValue('filterPresets','[]'))).length-1;o>=0&&r[o].name!==n.name;--o);r[o]=n,setValue('filterPresets',JSON.stringify(r)),0===e.length&&i.classList.add('esgst-hidden')}function filterGfGiveaways(e,t,s){let n,i;for(i in e.counters)e.counters[i].textContent='0';(n=e.popup?esgst.popupGiveaways:esgst.currentGiveaways).forEach(s=>{t?s.outerWrap.classList.contains('esgst-hidden')&&s.outerWrap.classList.remove('esgst-hidden'):filterGfGiveaway(e,s)?s.outerWrap.classList.contains('esgst-hidden')||s.outerWrap.classList.add('esgst-hidden'):s.outerWrap.classList.contains('esgst-hidden')&&s.outerWrap.classList.remove('esgst-hidden')}),updateGfCount(e,s),'Popup'!==esgst.gfType&&esgst.checkEndlessScrolling&&esgst.checkEndlessScrolling()}function filterGfException(e,t){var s,n,i,a,o,r,l,c,d,g,u,h,m;for(h=['pinned','inviteOnly','group','whitelist','regionRestricted','created','received','notReceived','awaitingFeedback','entered','started','ended','deleted','owned','wishlisted','hidden','ignored','previouslyEntered','previouslyWon','fullCV','reducedCV','noCV'],n=['removed','tradingCards','achievements','multiplayer','steamCloud','linux','mac','dlc','dlcFree','dlcNonFree','package','earlyAccess','genres'],i=!1,a=0,g=(s=['Level','Entries','Copies','Points','Comments','MinutesToEnd','Chance','Ratio','Rating','ReleaseDate']).length;!i&&a<g;++a)('Rating'!==(u=s[a])&&'ReleaseDate'!==u||esgst.gc&&t.gcReady)&&(r='MinutesToEnd'===u?'minutesToEnd':'ReleaseDate'===u?'releaseDate':u.toLowerCase(),l=`max${u}`,c=`min${u}`,'MinutesToEnd'===u&&(d=(t.endTime-Date.now())/6e4),void 0!==e[c]&&(i='MinutesToEnd'===u?!(d>=e[c]&&!t.ended):!(t[r]>=e[c])),i||void 0!==e[l]&&(i='MinutesToEnd'===u?!(d<=e[l]&&!t.ended):!(t[r]<=e[l])));for(a=0,g=h.length;!i&&a<g;++a)('regionRestricted'===(r=h[a])&&!esgst.parameters.region_restricted||'regionRestricted'!==r)&&e[r]&&(i=!('fullCV'===r?!t.reducedCV&&!t.noCV:t[r]));if(esgst.gc&&t.gcReady)for(a=0,g=n.length;!i&&a<g;++a){if('genres'===(r=n[a]))if(t.genres&&e.genreList){for(genres=e.genreList.toLowerCase().split(/,\s/),o=genres.length-1;o>=0&&t.genres.indexOf(genres[o])<0;--o);m=o>=0}else m=!1;else m=t[r];e[r]&&(i=!m)}return i}function filterGfGiveaway(e,t){var s,n,i,a,o,r,l,c,d,g,u,h,m,p,f;for(p=['pinned','inviteOnly','group','whitelist','regionRestricted','created','received','notReceived','awaitingFeedback','entered','started','ended','deleted','owned','wishlisted','hidden','ignored','previouslyEntered','previouslyWon','fullCV','reducedCV','noCV'],n=['removed','tradingCards','achievements','multiplayer','steamCloud','linux','mac','dlc','dlcFree','dlcNonFree','package','earlyAccess','genres'],a=!1,m=0,o=0,u=(s=['Level','Entries','Copies','Points','Comments','MinutesToEnd','Chance','Ratio','Rating','ReleaseDate']).length;o<u&&(!a||!m);++o)('Rating'!==(h=s[o])&&'ReleaseDate'!==h||esgst.gc&&t.gcReady)&&e[`max${h}Input`]&&(l='MinutesToEnd'===h?'minutesToEnd':'ReleaseDate'===h?'releaseDate':h.toLowerCase(),c=`max${h}`,d=`min${h}`,'MinutesToEnd'===h?t.ended||t.deleted||((g=(t.endTime-Date.now())/6e4)<e[d]||g>e[c])&&(a=!0,m=e.overrides[l],i=l):(t[l]<e[d]||t[l]>e[c])&&('Rating'===h&&(0!==t.rating||esgst.gf_noRating)||'ReleaseDate'===h&&(-1!==t.releaseDate||esgst.gf_noReleaseDate)||'Rating'!==h&&'ReleaseDate'!==h)&&(a=!0,m=e.overrides[l],i=l));for(o=0,u=p.length;o<u&&(!a||!m);++o)('regionRestricted'===(l=p[o])&&!esgst.parameters.region_restricted||'regionRestricted'!==l)&&('fullCV'===l&&('disabled'===e.fullCV&&!t.reducedCV&&!t.noCV||'none'===e.fullCV&&(t.reducedCV||t.noCV))||'fullCV'!==l&&('disabled'===e[l]&&t[l]||'none'===e[l]&&!t[l]))&&(a=!0,m=e.overrides[l],i||(i=l),'ended'===l&&'disabled'===e.ended&&(esgst.createdPath||esgst.enteredPath||esgst.wonPath||esgst.userPath)&&(esgst.stopEs=!0));if(esgst.gc&&t.gcReady)for(o=0,u=n.length;o<u&&(!a||!m);++o)if('dlc'!==(l=n[o])||!esgst.parameters.dlc){if('genres'===l)if(t.genres&&e.genreList){for(genres=e.genreList.toLowerCase().split(/,\s/),r=genres.length-1;r>=0&&t.genres.indexOf(genres[r])<0;--r);f=r>=0}else f=!1;else f=t[l];('disabled'===e[l]&&f||'none'===e[l]&&!f)&&(a=!0,m=e.overrides[l],i||(i=l))}if(e.exceptions&&!m)for(o=e.exceptions.length-1;o>=0&&a;--o)a=filterGfException(e.exceptions[o],t);return a&&e.counters&&e.counters[i]&&(e.counters[i].textContent=parseInt(e.counters[i].textContent)+1),a}function updateGfCount(e,t){var s,n,i,a,o;for(s=0,o=0,a=0,key=e.popup?'popupGiveaways':'currentGiveaways',i=esgst[key].length-1;i>-1;--i)n=esgst[key][i],document.body.contains(n.outerWrap)||t?n.pinned&&esgst.pinnedGiveaways.classList.contains('esgst-hidden')||(n.outerWrap.classList.contains('esgst-hidden')?(n.pinned||(a+=1),s+=1):n.entered||(o+=n.points)):esgst[key].splice(i,1);e.filteredCount.textContent=s,e.pointsCount.textContent=o,!e.popup&&e.paginationFilteredCount&&(e.paginationFilteredCount.textContent=a)}function setGglButtons(e,t){var s,n;if(t&&!esgst.createdPath&&!esgst.enteredPath&&!esgst.wonPath||!t)for(s=0,n=e.length;s<n;++s)setGglButton(e[s])}function setGglButton(e){var t,s,n,i,a,o,r,l,c,d,g;if(e.group){switch(esgst.ggl_index){case 1:i='mouseenter',l=!1,n=1e3,e.group.addEventListener('mouseleave',function(e){g&&(clearTimeout(g),g=null),a=setTimeout(function(){s&&!t.contains(e.relatedTarget)&&s.close()},1e3)}),e.group.addEventListener('click',function(){g&&(clearTimeout(g),g=null)});break;case 2:e.group.removeAttribute('href'),e.group.classList.add('esgst-clickable'),i='click',l=!0,n=0;break;case 3:e.group.removeAttribute('href'),e.group.classList.add('esgst-clickable'),i='click',n=0}e.group.addEventListener(i,function(){g=setTimeout(async function(){if(s)switch(esgst.ggl_index){case 1:s.open(e.group);break;case 2:s.isOpen?s.close():s.open(e.group);case 3:s.open()}else{3===esgst.ggl_index?(s=new Popup('fa-user',`<a href="${e.url}/groups">Giveaway Groups</a>`),t=s.scrollable,s.open()):(s=new Popout('esgst-ggl-popout',null,1e3,l),t=s.popout,s.open(e.group)),t.innerHTML='\n                            <i class="fa fa-circle-o-notch fa-spin"></i>\n                            <span>Loading groups...</span>\n                        ',o={},r={};let n=await getValues({giveaways:'{}',groups:'[]'});c=JSON.parse(n.giveaways),d=JSON.parse(n.groups),loadGglGroups([e],0,1,o,r,c,d,function(n){var i,a,o,l,c,g,u,h;if(n){for(t.innerHTML='\n                                    <div class="esgst-text-left table esgst-hidden">\n                                        <div class="table__rows"></div>\n                                    </div>\n                                ',l=0,c=0,u=n.length;c<u;++c){for(a=n[c],g=d.length-1;g>=0&&d[g].code!==a;--g);(o=g>=0?d[g]:r[a])&&o.member?(i='esgst-ggl-member',l+=1):esgst.ggl_m?i='esgst-hidden':(i='',l+=1),'esgst-hidden'!==i&&((h=insertHtml(t.firstElementChild.firstElementChild,'beforeEnd',`\n                                            <div class="table__row-outer-wrap ${i}">\n                                                <div class="table__row-inner-wrap">\n                                                    <div>\n                                                        <a class="table_image_avatar" href="/group/${o.code}/" style="background-image:url(http://cdn.edgecast.steamstatic.com/steamcommunity/public/images/avatars/${o.avatar}_medium.jpg)"></a>\n                                                    </div>\n                                                    <div class="table__column--width-fill">\n                                                        <a class="table__column__heading" href="/group/${o.code}/"></a>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        `).getElementsByClassName('table__column__heading')[0]).textContent=o.name)}0===l?t.innerHTML='\n                                        <i class="fa fa-exclamation-mark"></i>\n                                        <span>You are not a member of any group in this giveaway.</span>\n                                    ':(t.firstElementChild.classList.remove('esgst-hidden'),loadEndlessFeatures(t)),2===esgst.ggl_index&&t.insertAdjacentHTML('afterBegin',`<a class="esgst-ggl-heading" href="${e.url}/groups">Giveaway Groups</a>`),s.reposition()}else t.innerHTML='\n                                    <i class="fa fa-times-circle"></i>\n                                    <span>An error ocurred.</span>\n                                ',2===esgst.ggl_index&&t.insertAdjacentHTML('afterBegin',`<a class="esgst-ggl-heading" href="${e.url}/groups">Giveaway Groups</a>`),s.reposition()})}1===esgst.ggl_index&&(t.onmouseenter=function(){a&&(clearTimeout(a),a=null)})},n)})}}async function getGglGiveaways(e){let t={},s={},n=await getValues({giveaways:'{}',groups:'[]'}),i=JSON.parse(n.giveaways),a=JSON.parse(n.groups);loadGglGroups(e,0,e.length,t,s,i,a)}async function loadGglGroups(e,t,s,n,i,a,o,r){let l,c,d,g;if(t<s)if((l=e[t]).group){if(a[l.code]&&Array.isArray(a[l.code].groups))for(c=!0,d=a[l.code].groups.length-1;d>-1&&c;--d){for(g=esgst.groups.length-1;g>-1&&esgst.groups[g].code!==a[l.code].groups[d];--g);g<=-1&&(c=!1)}c?(r?r(a[l.code].groups):addGglPanel(l,a[l.code].groups,i,o),setTimeout(loadGglGroups,0,e,++t,s,n,i,a,o)):getGglGroups([],1,i,`${l.url}/groups/search?page=`,function(c){c?(n[l.code]={groups:c},r?r(c):addGglPanel(l,c,i,o),setTimeout(loadGglGroups,0,e,++t,s,n,i,a,o)):r?r(null):setTimeout(loadGglGroups,0,e,++t,s,n,i,a,o)})}else setTimeout(loadGglGroups,0,e,++t,s,n,i,a,o);else await lockAndSaveGiveaways(n),await lockAndSaveGroups(i)}function addGglPanel(e,t,s,n){var i,a,o,r,l,c,d,g;if(!e.summary.getElementsByClassName('esgst-ggl-panel')[0]){for(g=insertHtml(e.summary,'beforeEnd','\n                <div class="esgst-ggl-panel"></div>\n            '),r=0,l=0,d=t.length;l<d;++l){for(a=t[l],j=n.length-1;j>=0&&n[j].code!==a;--j);(o=j>=0?n[j]:s[a])&&o.member?(i='esgst-ggl-member',r+=1):esgst.ggl_m?i='esgst-hidden':(i='',r+=1),'esgst-hidden'!==i&&((c=insertHtml(g,'beforeEnd',`\n                        <div class="${i}">\n                            <a class="table_image_avatar" href="/group/${o.code}/"  style="background-image:url(http://cdn.edgecast.steamstatic.com/steamcommunity/public/images/avatars/${o.avatar}_medium.jpg)"></a>\n                            <a href="/group/${o.code}/"></a>\n                        </div>\n                    `).lastElementChild).textContent=o.name,esgst.ap&&getApAvatars(g))}0===r&&g.remove()}}async function getGglGroups(e,t,s,n,i){var a,o,r,l,c,d,g,u,h,m;if(l=(m=parseHtml((await request({method:'GET',url:`${n}${t}`})).responseText)).getElementsByClassName('table--summary')[0])setTimeout(i,0,null);else{for(d=0,u=(r=m.getElementsByClassName('table__row-inner-wrap')).length;d<u;++d)s[a=(g=(c=(o=r[d]).getElementsByClassName('table__column__heading')[0]).getAttribute('href').match(/group\/(.+?)\//))[1]]={avatar:o.getElementsByClassName('table_image_avatar')[0].style.backgroundImage.match(/\/avatars\/(.+)_medium/)[1],code:a,name:c.textContent},e.push(a);(h=m.getElementsByClassName('pagination__navigation')[0])&&!h.lastElementChild.classList.contains('is-selected')?setTimeout(getGglGroups,0,e,++t,s,n,i):setTimeout(i,0,e)}}async function highlightGhGroups(e){var t,s,n,i,a,o,r,l;for(l=JSON.parse(await getValue('groups','[]')),i=0,r=(n=e.querySelectorAll('.table__column__heading[href*="/group/"]')).length;i<r;++i){for(t=(s=n[i]).getAttribute('href').match(/\/group\/(.+?)\//)[1],a=l.length-1;a>=0&&l[a].code!==t;--a);a>=0&&l[a].member&&s.closest('.table__row-outer-wrap').classList.add('esgst-gh-highlight')}}async function loadGlwc(){if(esgst.whitelistPath||esgst.blacklistPath||esgst.groupPath){let e;e=esgst.whitelistPath?'?url=account/manage/whitelist':esgst.blacklistPath?'?url=account/manage/blacklist':`?url=${location.pathname.match(/\/(group\/(.+?)\/(.+?))(\/.*)?$/)[1]}/users&id=${document.querySelector('[href*="/gid/"]').getAttribute('href').match(/\d+/)[0]}`,createHeadingButton({id:'glwc',icons:['fa-folder','fa-star'],title:'Check libraries/wishlists'}).addEventListener('click',()=>{open(`/esgst/glwc${e}`)})}else if(esgst.glwcPath){let e={},t;e.context=document.body.firstElementChild.nextElementSibling.firstElementChild,e.progress=insertHtml(e.context,'beforeEnd','<div></div>'),e.overallProgress=insertHtml(e.context,'beforeEnd','<div></div>'),t=getParameters(),e.id=t.id,e.url=t.url,e.users=[],e.games={},e.id?(e.overallProgress.textContent='Preparing...',e.members=[],members=(await request({method:'GET',url:`http://steamcommunity.com/gid/${e.id}/memberslistxml?xml=1`})).responseText.match(/<steamID64>.+?<\/steamID64>/g),members.forEach(t=>{e.members.push(t.match(/<steamID64>(.+?)<\/steamID64>/)[1])}),e.overallProgress.textContent='Step 1 of 3',getGlwcUsers(e,1)):(e.overallProgress.textContent='Step 1 of 3',getGlwcUsers(e,1))}}async function getGlwcUsers(e,t){if(e.isCanceled)return;let s,n,i,a,o;for(e.progress.innerHTML=`\n            <i class="fa fa-circle-o-notch fa-spin"></i>\n            <span>Retrieving users (page ${t})...</span>\n        `,n=0,i=(s=(o=parseHtml((await request({method:'GET',url:`/${e.url}/search?page=${t}`})).responseText)).querySelectorAll('.table__row-inner-wrap:not(.is-faded)')).length;n<i;++n)e.users.push({username:s[n].getElementsByClassName('table__column__heading')[0].textContent});(a=o.getElementsByClassName('pagination__navigation')[0])&&!a.lastElementChild.classList.contains('is-selected')?setTimeout(getGlwcUsers,0,e,++t):(e.overallProgress.textContent='Step 2 of 3',getGlwcSteamIds(e,0,e.users.length))}async function getGlwcSteamIds(e,t,s){if(!e.isCanceled)if(t<s){e.progress.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Retrieving Steam ids (${t+1} of ${s})...</span>\n            `;let n=esgst.users.steamIds[e.users[t].username];n?(e.users[t].steamId=n,setTimeout(getGlwcSteamIds,0,e,++t,s)):(e.users[t].steamId=parseHtml((await request({method:'GET',url:`/user/${e.users[t].username}`})).responseText).querySelector('[href*="/profiles/"]').getAttribute('href').match(/\d+/)[0],setTimeout(getGlwcSteamIds,0,e,++t,s))}else e.overallProgress.textContent='Step 3 of 3 (this might take a while)',e.memberCount=0,getGlwcGames(e,0,e.users.length)}async function getGlwcGames(e,t,s){if(!e.isCanceled)if(t<s)if(e.progress.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Retrieving libraries/wishlists (${t+1} of ${s})...</span>\n            `,!e.id||e.members.indexOf(e.users[t].steamId)>=0){try{e.users[t].library=[];let s=JSON.parse((await request({method:'GET',url:`http://api.steampowered.com/IPlayerService/GetOwnedGames/v0001/?key=${esgst.steamApiKey}&steamid=${e.users[t].steamId}&format=json`})).responseText).response.games;s&&s.forEach(s=>{let n={id:s.appid,logo:`https://steamcdn-a.akamaihd.net/steam/apps/${s.appid}/header.jpg`,name:`${s.appid}`};e.games[n.id]||(n.libraries=[],n.wishlists=[],e.games[n.id]=n),e.games[n.id].libraries.push(t),e.users[t].library.push(n.id)})}catch(e){}e.users[t].wishlist=[];let n=(await request({method:'GET',url:`http://store.steampowered.com/wishlist/profiles/${e.users[t].steamId}`})).responseText,i=n.match(/g_rgWishlistData\s=\s(\[(.+?)\]);/);if(i){let s=n.match(/g_rgAppInfo\s=\s({(.+?)});/),a=s?JSON.parse(s[1]):null;JSON.parse(i[1]).forEach(s=>{let n=s.appid,i={id:n};a&&a[n]&&(i.logo=a[n].capsule,i.name=a[n].name),e.games[n]?i.logo&&i.name&&(e.games[n].logo=i.logo,e.games[n].name=i.name):(i.libraries=[],i.wishlists=[],e.games[n]=i),e.games[n].wishlists.push(t),e.users[t].wishlist.push(parseInt(n))})}e.memberCount+=1,setTimeout(getGlwcGames,0,e,++t,s)}else setTimeout(getGlwcGames,0,e,++t,s);else showGlwcResults(e)}function showGlwcResults(e){let t,s,n,i,a,o,r,l,c,d,g,u,h,m,p;for(n in e.context.classList.add('esgst-glwc-results'),e.context.innerHTML='\n            <div>\n                <div class="esgst-glwc-heading">Libraries</div>\n                <input placeholder="Search by game name or app id..." type="text"/>\n                <div class="table">\n                    <div class="table__heading">\n                        <div class="table__column--width-small text-center">Rank</div>\n                        <div class="table__column--width-fill">Game</div>\n                        <div class="table__column--width-small text-center">Libraries</div>\n                    </div>\n                    <div class="table__rows"></div>\n                    <div class="table__rows"></div>\n                </div>\n            </div>\n            <div>\n                <div class="esgst-glwc-heading">Wishlists</div>\n                <input placeholder="Search by game name or app id..." type="text"/>\n                <div class="table">\n                    <div class="table__heading">\n                        <div class="table__column--width-small text-center">Rank</div>\n                        <div class="table__column--width-fill">Game</div>\n                        <div class="table__column--width-small text-center">Wishlists</div>\n                    </div>\n                    <div class="table__rows"></div>\n                    <div class="table__rows"></div>\n                </div>\n            </div>\n        ',o=e.context.firstElementChild.firstElementChild.nextElementSibling,r=o.nextElementSibling.lastElementChild,l=r.previousElementSibling,h=e.context.lastElementChild.firstElementChild.nextElementSibling,m=h.nextElementSibling.lastElementChild,p=m.previousElementSibling,a=[],u=[],e.games)e.games[n].libraries.length&&a.push(e.games[n]),e.games[n].wishlists.length&&u.push(e.games[n]);if(a.length>0)for(a=a.sort((e,t)=>e.libraries.length>t.libraries.length?-1:e.libraries.length<t.libraries.length?1:0),s=0,c=a.length;s<100&&s<c;++s)t=a[s],(s<=0||t.libraries.length!==a[s-1].libraries.length)&&(i=s+1),g=[],t.libraries.forEach(t=>{d=e.users[t],g.push(`<a href="http://steamcommunity.com/profiles/${d.steamId}/games?tab=all">${d.username}</a>`)}),createTooltip(insertHtml(r,'beforeEnd',`\n                    <div class="table__row-outer-wrap">\n                        <div class="table__row-inner-wrap">\n                            <div class="table__column--width-small text-center">\n                                <span class="table__column__rank">${i}.</span>\n                            </div>\n                            <div>\n                                <div class="table_image_thumbnail" style="background-image:url(${t.logo});"></div>\n                            </div>\n                            <div class="table__column--width-fill">\n                                <p class="table__column__heading">${t.name}</p>\n                                <p>\n                                    <a class="table__column__secondary-link" href="http://store.steampowered.com/app/${t.id}" rel="nofollow" target="_blank">http://store.steampowered.com/app/${t.id}</a>\n                                </p>\n                            </div>\n                            <div class="table__column--width-small text-center">\n                                <span class="table__column__secondary-link esgst-clickable">${t.libraries.length} (${Math.round(t.libraries.length/e.memberCount*1e4)/100}%)</span>\n                            </div>\n                        </div>\n                    </div>\n                `).firstElementChild.lastElementChild.firstElementChild,g.join(', '));else r.innerHTML='To get libraries data you must have a Steam API key set in the settings menu.';for(u=u.sort((e,t)=>e.wishlists.length>t.wishlists.length?-1:e.wishlists.length<t.wishlists.length?1:0),s=0,c=u.length;s<100&&s<c;++s)t=u[s],(s<=0||t.wishlists.length!==u[s-1].wishlists.length)&&(i=s+1),g=[],t.wishlists.forEach(t=>{d=e.users[t],g.push(`<a href="http://store.steampowered.com/wishlist/profiles/${d.steamId}">${d.username}</a>`)}),createTooltip(insertHtml(m,'beforeEnd',`\n                <div class="table__row-outer-wrap">\n                    <div class="table__row-inner-wrap">\n                        <div class="table__column--width-small text-center">\n                            <span class="table__column__rank">${i}.</span>\n                        </div>\n                        <div>\n                            <div class="table_image_thumbnail" style="background-image:url(${t.logo});"></div>\n                        </div>\n                        <div class="table__column--width-fill">\n                            <p class="table__column__heading">${t.name}</p>\n                            <p>\n                                <a class="table__column__secondary-link" href="http://store.steampowered.com/app/${t.id}" rel="nofollow" target="_blank">http://store.steampowered.com/app/${t.id}</a>\n                            </p>\n                        </div>\n                        <div class="table__column--width-small text-center">\n                            <span class="table__column__secondary-link esgst-clickable">${t.wishlists.length} (${Math.round(t.wishlists.length/e.memberCount*1e4)/100}%)</span>\n                        </div>\n                    </div>\n                </div>\n            `).firstElementChild.lastElementChild.firstElementChild,g.join(', '));o.addEventListener('input',()=>{if(value=o.value.toLowerCase(),value){if(t=e.games[value])t.libraries.length?(g=[],t.libraries.forEach(t=>{d=e.users[t],g.push(`<a href="http://steamcommunity.com/profiles/${d.steamId}/games?tab=all">${d.username}</a>`)}),l.innerHTML=`\n                            <div class="table__row-outer-wrap">\n                                <div class="table__row-inner-wrap">\n                                    <div class="table__column--width-small text-center">\n                                        <span class="table__column__rank">-</span>\n                                    </div>\n                                    <div>\n                                        <div class="table_image_thumbnail" style="background-image:url(${t.logo});"></div>\n                                    </div>\n                                    <div class="table__column--width-fill">\n                                        <p class="table__column__heading">${t.name}</p>\n                                        <p>\n                                            <a class="table__column__secondary-link" href="http://store.steampowered.com/app/${t.id}" rel="nofollow" target="_blank">http://store.steampowered.com/app/${t.id}</a>\n                                        </p>\n                                    </div>\n                                    <div class="table__column--width-small text-center">\n                                        <span class="table__column__secondary-link esgst-clickable">${t.libraries.length} (${Math.round(t.libraries.length/e.memberCount*1e4)/100}%)</span>\n                                    </div>\n                                </div>\n                            </div>\n                        `,createTooltip(l.firstElementChild.firstElementChild.lastElementChild.firstElementChild,g.join(', '))):l.innerHTML='Nothing found...';else{for(l.innerHTML='',s=0,i=0,c=a.length;i<100&&s<c;++s)(t=a[s]).name.toLowerCase().match(value)&&(g=[],t.libraries.forEach(t=>{d=e.users[t],g.push(`<a href="http://steamcommunity.com/profiles/${d.steamId}/games?tab=all">${d.username}</a>`)}),createTooltip(insertHtml(l,'beforeEnd',`\n                                <div class="table__row-outer-wrap">\n                                    <div class="table__row-inner-wrap">\n                                        <div class="table__column--width-small text-center">\n                                            <span class="table__column__rank">-</span>\n                                        </div>\n                                        <div>\n                                            <div class="table_image_thumbnail" style="background-image:url(${t.logo});"></div>\n                                        </div>\n                                        <div class="table__column--width-fill">\n                                            <p class="table__column__heading">${t.name}</p>\n                                            <p>\n                                                <a class="table__column__secondary-link" href="http://store.steampowered.com/app/${t.id}" rel="nofollow" target="_blank">http://store.steampowered.com/app/${t.id}</a>\n                                            </p>\n                                        </div>\n                                        <div class="table__column--width-small text-center">\n                                            <span class="table__column__secondary-link esgst-clickable">${t.libraries.length} (${Math.round(t.libraries.length/e.memberCount*1e4)/100}%)</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            `).firstElementChild.lastElementChild.firstElementChild,g.join(', ')),i+=1);l.innerHTML||(l.innerHTML='Nothing found...')}l.classList.remove('esgst-hidden'),r.classList.add('esgst-hidden')}else r.classList.remove('esgst-hidden'),l.classList.add('esgst-hidden')}),h.addEventListener('input',()=>{if(value=h.value,value){if(t=e.games[value])t.wishlists.length?(t.wishlists.forEach(t=>{d=e.users[t],g.push(`<a href="http://store.steampowered.com/wishlist/profiles/${d.steamId}">${d.username}</a>`)}),p.innerHTML=`\n                            <div class="table__row-outer-wrap">\n                                <div class="table__row-inner-wrap">\n                                    <div class="table__column--width-small text-center">\n                                        <span class="table__column__rank">-</span>\n                                    </div>\n                                    <div>\n                                        <div class="table_image_thumbnail" style="background-image:url(${t.logo});"></div>\n                                    </div>\n                                    <div class="table__column--width-fill">\n                                        <p class="table__column__heading">${t.name}</p>\n                                        <p>\n                                            <a class="table__column__secondary-link" href="http://store.steampowered.com/app/${t.id}" rel="nofollow" target="_blank">http://store.steampowered.com/app/${t.id}</a>\n                                        </p>\n                                    </div>\n                                    <div class="table__column--width-small text-center">\n                                        <span class="table__column__secondary-link esgst-clickable">${t.wishlists.length} (${Math.round(t.wishlists.length/e.memberCount*1e4)/100}%)</span>\n                                    </div>\n                                </div>\n                            </div>\n                        `,createTooltip(p.firstElementChild.firstElementChild.lastElementChild.firstElementChild,g.join(', '))):p.innerHTML='Nothing found...';else{for(p.innerHTML='',s=0,i=0,c=u.length;i<100&&s<c;++s)(t=u[s]).name.toLowerCase().match(value)&&(g=[],t.wishlists.forEach(t=>{d=e.users[t],g.push(`<a href="http://steamcommunity.com/profiles/${d.steamId}/wishlists">${d.username}</a>`)}),createTooltip(insertHtml(p,'beforeEnd',`\n                                <div class="table__row-outer-wrap">\n                                    <div class="table__row-inner-wrap">\n                                        <div class="table__column--width-small text-center">\n                                            <span class="table__column__rank">-</span>\n                                        </div>\n                                        <div>\n                                            <div class="table_image_thumbnail" style="background-image:url(${t.logo});"></div>\n                                        </div>\n                                        <div class="table__column--width-fill">\n                                            <p class="table__column__heading">${t.name}</p>\n                                            <p>\n                                                <a class="table__column__secondary-link" href="http://store.steampowered.com/app/${t.id}" rel="nofollow" target="_blank">http://store.steampowered.com/app/${t.id}</a>\n                                            </p>\n                                        </div>\n                                        <div class="table__column--width-small text-center">\n                                            <span class="table__column__secondary-link esgst-clickable">${t.wishlists.length} (${Math.round(t.wishlists.length/e.memberCount*1e4)/100}%)</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            `).firstElementChild.lastElementChild.firstElementChild,g.join(', ')),i+=1);p.innerHTML||(p.innerHTML='Nothing found...')}p.classList.remove('esgst-hidden'),m.classList.add('esgst-hidden')}else m.classList.remove('esgst-hidden'),p.classList.add('esgst-hidden')})}function loadGm(e){let t,s;(e||esgst.giveawaysPath||esgst.createdPath||esgst.enteredPath||esgst.wonPath||esgst.userPath)&&(esgst.gmCheckboxes={},t=createHeadingButton({context:e,id:'gm',icons:['fa-gear'],isSwitch:!0,title:'Manage giveaways'}),(s=new ToggleSwitch(t.firstElementChild,'gm_enable',!0,'',!1,!1,null,esgst.gm_enable)).onEnabled=enableGm.bind(null,e),s.onDisabled=disableGm.bind(null,e),t.lastElementChild.addEventListener('click',openGmPopout.bind(null,null,{button:t,context:e})))}function enableGm(e,t){var s,n,t,i,a;for(t||(t=esgst[e?'popupGiveaways':'currentGiveaways']),i=0,a=t.length;i<a;++i)(n=t[i]).innerWrap.getElementsByClassName('esgst-gm-checkbox')[0]||((s=new Checkbox(insertHtml(n.innerWrap,'afterBegin','\n                    <div class="esgst-gm-checkbox"></div>\n                '))).onEnabled=selectGmGiveaway.bind(null,n,!0),s.onDisabled=selectGmGiveaway.bind(null,n,!1),esgst.gmCheckboxes[n.code]=s)}function selectGmGiveaway(e,t){e.gm=t}function disableGm(e,t){var s,n,t,i,a;for(esgst.gmCheckboxes={},t||(t=esgst[e?'popupGiveaways':'currentGiveaways']),i=0,a=t.length;i<a;++i)(s=(n=t[i]).innerWrap.getElementsByClassName('esgst-gm-checkbox')[0])&&s.remove(),n.gm=!1}function openGmPopout(e,t){var s,n,i,a,o;t.popout||(t.popout=new Popout('esgst-gm-popout',t.button,0,!0),(i=insertHtml(t.popout.popout,'beforeEnd','<div class="esgst-button-group"><span>Select:</span></div>')).appendChild(new ButtonSet('grey','grey','fa-circle','fa-circle-o-notch fa-spin','All','',selectSwitches.bind(null,esgst.gmCheckboxes,'check',null)).set),i.appendChild(new ButtonSet('grey','grey','fa-circle-o','fa-circle-o-notch fa-spin','None','',selectSwitches.bind(null,esgst.gmCheckboxes,'uncheck',null)).set),i.appendChild(new ButtonSet('grey','grey','fa-dot-circle-o','fa-circle-o-notch fa-spin','Inverse','',selectSwitches.bind(null,esgst.gmCheckboxes,'toggle',null)).set),(i=insertHtml(t.popout.popout,'beforeEnd','<div class="esgst-button-group"></div>')).appendChild(new ButtonSet('green','','fa-search','','Search & Replace','',openGmPopup.bind(null,e,t)).set),esgst.gb&&(i.appendChild(new ButtonSet('green','grey','fa-bookmark','fa-circle-o-notch fa-spin','Bookmark','Bookmarking...',bookmarkGmGiveaways.bind(null,e,t)).set),i.appendChild(new ButtonSet('green','grey','fa-bookmark-o','fa-circle-o-notch fa-spin','Unbookmark','Unbookmarking...',unbookmarkGmGiveaways.bind(null,e,t)).set)),esgst.gf&&esgst.gf_s&&i.appendChild(new ButtonSet('green','grey','fa-eye-slash','fa-circle-o-notch fa-spin','Hide','Hiding...',hideGmGiveaways.bind(null,e,t)).set),esgst.ttec&&i.appendChild(new ButtonSet('green','grey','fa-clock-o','fa-circle-o-notch fa-spin','Calculate','Calculating...',calculateGmGiveaways.bind(null,e,t)).set),(i=insertHtml(t.popout.popout,'beforeEnd','<div class="esgst-button-group"><span>Export to:</span></div>')).appendChild(new ButtonSet('green','grey','fa-puzzle-piece','fa-circle-o-notch fa-spin','Encrypted Giveaways','Exporting...',exportGmEncrypted.bind(null,e,t)).set),i.appendChild(new ButtonSet('green','grey','fa-globe','fa-circle-o-notch fa-spin','Links','Exporting...',exportGmLinks.bind(null,e,t)).set),i.appendChild(new ButtonSet('green','grey','fa-pencil','fa-circle-o-notch fa-spin','Custom Format','Exporting...',exportGmCustom.bind(null,e,t)).set),createTooltip(insertHtml(t.popout.popout,'beforeEnd','\n                <div class="esgst-description">\n                    Enter the custom format below. <i class="fa fa-question-circle"></i>\n                </div>\n            ').lastElementChild,'\n                <div>Delimit the line to be replaced and duplicated (in case of more than one giveaways selected) with [LINE][/LINE]. Use [TYPE] for "app" or "sub", [ID] for the app/sub id, [STEAM] for the Steam store URL, [NAME] for the game name, [CODE] for the giveaway code, [SHORT-URL] for the giveaway URL without the game name (https://www.steamgifts.com/giveaway/XXXXX/), [URL] for the full giveaway URL (https://www.steamgifts.com/giveaway/XXXXX/game-name), [POINTS] for the points and [LEVEL] for the level.</div>\n                <br/>\n                <div>[POINTS] and [LEVEL] only work if Created/Entered/Won Giveaway Details is enabled and the details have been loaded in the current page.</div>\n                <br/>\n                <div>For example, the following format would result in a table:</div>\n                <br/>\n                <div>Steam | Giveaway | Points | Level | Steam Store<br/>:-: | :-: | :-: | :-:<br/>[LINE][[NAME]]([STEAM]) | [SHORT-URL] | [POINTS]P | [LEVEL]+[/LINE]</div>\n            '),t.textArea=insertHtml(t.popout.popout,'beforeEnd','<textarea></textarea>'),esgst.cfh&&addCfhPanel(t.textArea),t.message=insertHtml(t.popout.popout,'beforeEnd','<div class="esgst-description"></div>'),t.popout.popout.appendChild(new ButtonSet('grey','grey','fa-copy','fa-circle-o-notch fa-spin','Copy','Copying...',copyGmOutput.bind(null,t)).set))}function openGmPopup(e,t,s){s(),t.popup||(t.popup=new Popup('fa-search','Search & Replace'),new ToggleSwitch(insertHtml(t.popup.description,'afterBegin','<div></div>'),'gm_useRegExp',!1,'Use <a class="esgst-bold" href="https://developer.mozilla.org/en/docs/Web/JavaScript/Guide/Regular_Expressions">regular expression</a>.',!1,!1,null,esgst.gm_useRegExp),t.replace=insertHtml(t.popup.description,'afterBegin','Replace with: <input type="text">'),t.message=insertHtml(t.popup.description,'afterBegin','<div class="esgst-description esgst-warning"></div>'),t.search=insertHtml(t.popup.description,'afterBegin','Search for: <input type="text">'),t.results=insertHtml(t.popup.scrollable,'beforeEnd','<div class="markdown"><ul></ul></div>').firstElementChild,t.popup.description.appendChild(new ButtonSet('green','red','fa-search','fa-times','Search & Replace','Cancel',startGmSearch.bind(null,e,t),cancelGmSearch.bind(null,t)).set),t.progress=insertHtml(t.popup.description,'beforeEnd','<div></div>')),t.popup.open()}function startGmSearch(e,t,s){var n,i,a;for(t.canceled=!1,t.button.classList.add('esgst-busy'),t.progress.innerHTML='',t.giveaways=[],e||(e=esgst[t.context?'popupGiveaways':'currentGiveaways']),i=0,a=e.length;i<a;++i)(n=e[i]).gm&&!n.outerWrap.classList.contains('esgst-hidden')&&t.giveaways.push(n);if(esgst.gm_useRegExp)try{parts=t.search.value.match(/^\/(.+)\/(.*)$/),t.searchValue=new RegExp(parts[1],parts[2]),t.replaceValue=t.replace.value,t.message.textContent='',searchGmGiveawaysAndReplace(t,0,t.giveaways.length,cancelGmSearch.bind(null,t,s))}catch(e){cancelGmSearch(t,s),t.message.textContent='Invalid regular expression!'}else t.searchValue=t.search.value,t.replaceValue=t.replace.value,searchGmGiveawaysAndReplace(t,0,t.giveaways.length,cancelGmSearch.bind(null,t,s))}async function searchGmGiveawaysAndReplace(e,t,s,n){var i,a,o,r;e.canceled||(t<s?(e.progress.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Searching & replacing (${t+1} of ${s})</span>\n            `,a=e.giveaways[t],(i=parseHtml((await request({method:'GET',url:a.url})).responseText).querySelector('.page__description textarea[name=description]'))&&(o=i.value.match(e.searchValue))?'success'===(r=JSON.parse((await request({data:`xsrf_token=${esgst.xsrfToken}&do=edit_giveaway_description&giveaway_id=${i.previousElementSibling.value}&description=${encodeURIComponent(i.value.replace(e.searchValue,e.replaceValue))}`,method:'POST',url:'/ajax.php'})).responseText)).type?(e.results.insertAdjacentHTML('beforeEnd',`<li>Found and replaced in <a href="${a.url}">${a.name}</a></li>`),setTimeout(searchGmGiveawaysAndReplace,0,e,++t,s,n)):(e.results.insertAdjacentHTML('beforeEnd',`<li>Found, but failed to replace, in <a href="${a.url}">${a.name}</a></li>`),setTimeout(searchGmGiveawaysAndReplace,0,e,++t,s,n)):(e.results.insertAdjacentHTML('beforeEnd',`<li>Not found in <a href="${a.url}">${a.name}</a></li>`),setTimeout(searchGmGiveawaysAndReplace,0,e,++t,s,n))):n())}function cancelGmSearch(e,t){e.canceled=!0,e.progress.innerHTML='',e.button.classList.remove('esgst-busy'),t&&t()}function exportGmEncrypted(e,t,s){var n,i,a,o;for(n=[],e||(e=esgst[t.context?'popupGiveaways':'currentGiveaways']),a=0,o=e.length;a<o;++a)(i=e[a]).gm&&!i.outerWrap.classList.contains('esgst-hidden')&&n.push(`[](ESGST-${encryptGedCode(i.code)})`);t.textArea.value=n.join(' '),s()}function exportGmLinks(e,t,s){var n,i,a,o;for(a=[],e||(e=esgst[t.context?'popupGiveaways':'currentGiveaways']),i=0,o=e.length;i<o;++i)(n=e[i]).gm&&!n.outerWrap.classList.contains('esgst-hidden')&&a.push(`[${n.name}](https://www.steamgifts.com/giveaway/${n.code}/)`);t.textArea.value=a.join('\n'),s()}function exportGmCustom(e,t,s){var n,i,a,o;for(a=[],line=t.textArea.value.match(/\[LINE\](.+)\[\/LINE\]/)[1],e||(e=esgst[t.context?'popupGiveaways':'currentGiveaways']),i=0,o=e.length;i<o;++i)(n=e[i]).gm&&!n.outerWrap.classList.contains('esgst-hidden')&&a.push(line.replace(/\[TYPE\]/g,n.type.slice(0,-1)).replace(/\[ID\]/g,n.id).replace(/\[STEAM\]/g,`http://store.steampowered.com/${n.type.slice(0,-1)}/${n.id}`).replace(/\[NAME\]/g,n.name).replace(/\[CODE\]/g,n.code).replace(/\[SHORT-URL\]/g,`https://www.steamgifts.com/giveaway/${n.code}/`).replace(/\[URL\]/g,`https://www.steamgifts.com${n.url.match(/\/giveaway\/.+/)[0]}`).replace(/\[POINTS\]/g,n.points).replace(/\[LEVEL\]/g,n.level));t.textArea.value=t.textArea.value.replace(/\[LINE\].+\[\/LINE\]/,a.join('\n')),s()}function copyGmOutput(e,t){e.textArea.select(),document.execCommand('copy'),t(),createFadeMessage(e.message,'Copied!')}async function bookmarkGmGiveaways(e,t,s){e||(e=esgst[t.context?'popupGiveaways':'currentGiveaways']);let n={};e.forEach(e=>{e.gm&&!e.outerWrap.classList.contains('esgst-hidden')&&e.gbButton&&1===e.gbButton.index&&(n[e.code]={bookmarked:!0,code:e.code,endTime:e.endTime,name:e.name,started:e.started},e.gbButton.change(e.gbButton.callbacks[0]))}),await lockAndSaveGiveaways(n),s()}async function unbookmarkGmGiveaways(e,t,s){e||(e=esgst[t.context?'popupGiveaways':'currentGiveaways']);let n={};e.forEach(e=>{e.gm&&!e.outerWrap.classList.contains('esgst-hidden')&&e.gbButton&&3===e.gbButton.index&&(n[e.code]={bookmarked:!1},e.gbButton.change(e.gbButton.callbacks[2]))}),await lockAndSaveGiveaways(n),s()}async function hideGmGiveaways(e,t,s){e||(e=esgst[t.context?'popupGiveaways':'currentGiveaways']);let n={};e.forEach(e=>{e.gm&&!e.outerWrap.classList.contains('esgst-hidden')&&(n[e.code]={code:e.code,endTime:e.endTime,hidden:!0},e.outerWrap.remove())}),await lockAndSaveGiveaways(n),s()}function calculateGmGiveaways(e,t,s){let n,i;for(e||(e=esgst[t.context?'popupGiveaways':'currentGiveaways']),i=0,e.forEach(e=>{!e.gm||e.outerWrap.classList.contains('esgst-hidden')||e.ended||(i+=e.points)}),n=60-(new Date).getMinutes();n>15;)n-=15;i>esgst.points?t.textArea.value=`You will need to wait ${getTtecTime(Math.round(100*(n+15*Math.floor((i-esgst.points)/6)))/100)} to enter all selected giveaways for a total of ${i}P.${i>400?'\n\nSince each 400P regeneration takes about 17h, you will need to return in 17h and use all your points so more can be regenerated.':''}`:t.textArea.value='You have enough points to enter all giveaways right now.',s()}function addGpButton(e,t,s){e.innerWrap.getElementsByClassName('esgst-gp-button')[0]||e.inviteOnly&&!e.url||(buttonSet=new ButtonSet('grey','grey','fa-external-link','fa-circle-o-notch fa-spin','','',openElgbPopup.bind(null,e,t,s)).set,buttonSet.classList.add('esgst-gp-button'),buttonSet.setAttribute('data-columnId','gp'),buttonSet.title=getFeatureTooltip('gp','View giveaway description/add a comment'),e.panel.appendChild(buttonSet),esgst.lockGiveawayColumns||t&&!esgst.giveawaysPath&&!esgst.userPath&&!esgst.groupPath||(buttonSet.setAttribute('draggable',!0),buttonSet.addEventListener('dragstart',setGiveawaySource.bind(null,e)),buttonSet.addEventListener('dragenter',getGiveawaySource.bind(null,e,!1)),buttonSet.addEventListener('dragend',saveGiveawaySource.bind(null,e))))}function loadGr(){esgst.newGiveawayPath&&loadGrGiveaway()}async function recreateGrGiveaway(e,t){var s,n,i,a,o,r,l;if(e.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>',esgst.createdPath){let s=await request({method:'GET',url:t.url});saveGrTemplate(e,(await getGiveaways(parseHtml(s.responseText),!1,s.finalUrl,!1,'giveaway'))[0]||t)}else saveGrTemplate(e,t)}async function saveGrTemplate(e,t){let s,n,i,a,o,r,l={delay:0,description:'',duration:t.endTime-t.startTime,gameName:t.name,groups:'',level:t.level,region:'0'};for(t.group||t.whitelist?(l.whoCanEnter='groups',t.whitelist&&(l.whitelist='1')):t.inviteOnly?l.whoCanEnter='invite_only':l.whoCanEnter='everyone',a=0,r=(n=parseHtml(JSON.parse((await request({data:`do=autocomplete_giveaway_game&page_number=1&search_query=${encodeURIComponent(t.name)}`,method:'POST',url:'/ajax.php'})).responseText).html).getElementsByClassName('table__row-outer-wrap')).length;a<r&&n[a].getAttribute('data-autocomplete-name')!==t.name;++a);if(a<r&&(l.gameId=n[a].getAttribute('data-autocomplete-id')),o=[],(0===t.entries||t.entries<t.copies)&&(s=parseHtml(JSON.parse((await request({data:`xsrf_token=${esgst.xsrfToken}&do=popup_keys&code=${t.code}`,method:'POST',url:'/ajax.php'})).responseText).html).getElementsByClassName('popup__keys__heading')))for(a=0,r=(n=(s=s[s.length-1]).nextElementSibling.nextElementSibling.children).length;a<r;++a)o.push(n[a].textContent);o.length>0?(l.gameType='key',l.keys=o.join('\n')):(l.gameType='gift',l.copies=t.copies),await setValue('grTemplate',JSON.stringify(l)),(i=JSON.parse(await getValue('giveaways')))[t.code]||(i[t.code]={}),i[t.code].recreated=!0,await setValue('giveaways',JSON.stringify(i)),e.remove(),open('/giveaways/new')}async function loadGrGiveaway(){let e=await getValue('grTemplate');e&&(await delValue('grTemplate'),applyGtsTemplate(e=JSON.parse(e)))}function loadGs(){esgst.groupsPath&&document.getElementsByClassName('table__heading')[0].insertAdjacentHTML('beforeEnd','\n            <div class="table__column--width-small text-center">Sent</div>\n            <div class="table__column--width-small text-center">Received</div>\n            <div class="table__column--width-small text-center">Gift Difference</div>\n            <div class="table__column--width-small text-center">Value Difference</div>\n            <div class="table__column--width-small text-center">Users</div>\n        ')}function getGsGroups(e){let t=e.getElementsByClassName('table__row-inner-wrap');for(let e=0,s=t.length;e<s;e++)addGsStatus(t[e])}async function addGsStatus(e){let t=parseHtml((await request({method:'GET',url:`${e.getElementsByClassName('table__column__heading')[0].getAttribute('href')}/users/search?q=${esgst.username}`})).responseText),s=t.getElementsByClassName('table__row-inner-wrap')[0];if(!s||s.getElementsByClassName('table__column__heading')[0].textContent!==esgst.username)return;let n=s.getElementsByClassName('table__column--width-small');for(let t=0,s=n.length;t<s;t++)e.appendChild(n[0]);e.insertAdjacentHTML('beforeEnd',`\n            <div class="table__column--width-small text-center">${t.getElementsByClassName('sidebar__navigation__item__count')[1].textContent}</div>\n        `)}async function openGtPopup(e,t,s){let n=new Popup('fa-tag',`Edit game tags for <span>${t}</span>:`),i=new ButtonSet('green','grey','fa-check','fa-circle-o-notch fa-spin','Save','Saving...',saveGtTags.bind(null,e,n,s));n.description.insertAdjacentHTML('beforeEnd','<div class="esgst-description">Drag the tags to move them.<br/><br/>When editing a tag color, it will also alter the color for all games with that tag (you have to refresh the page for it to take effect).</div>'),n.tags=insertHtml(n.description,'beforeEnd','<div class="esgst-gt-tags"></div>'),n.input=insertHtml(n.description,'beforeEnd','<input type="text"/>'),insertHtml(n.description,'beforeEnd','<i class="esgst-ut-existing-button esgst-clickable fa fa-list" title="Select from existing tags"></i>').addEventListener('click',showGtExistingTags.bind(null,n)),n.input.addEventListener('keydown',triggerSetOnEnter.bind(null,i)),n.input.addEventListener('input',createGtTags.bind(null,n)),n.description.insertAdjacentHTML('beforeEnd','<div class="esgst-description">Use commas to separate tags, for example: Tag1, Tag2, ...</div>'),n.description.appendChild(i.set),n.open();let a,o=JSON.parse(await getValue('games'))[s][e];if(n.input.focus(),o){let e=o.tags;if(e){n.tags.innerHTML='';for(let t=0,s=e.length;t<s;++t)createGtTag(n,e[t]);n.input.value=e.join(', ')}}}async function showGtExistingTags(e){let t,s,n,i,a,o,r,l;for(t in n=new Popup('fa-list','Select from existing tags:',!0),r={},(i=JSON.parse(await getValue('games'))).apps)(l=i.apps[t].tags)&&l.forEach(e=>{r[e]||(r[e]=0),r[e]+=1});for(t in i.subs)(l=i.subs[t].tags)&&l.forEach(e=>{r[e]||(r[e]=0),r[e]+=1});for(o in l=[],r)l.push({count:r[o],tag:o});s=insertHtml(n.scrollable,'beforeEnd','<div class="esgst-ut-existing-tags popup__keys__list"></div>'),a=[],(l=sortArrayByNumberKey(l,'count',!0)).forEach(e=>{let t,n;e=e.tag,n=insertHtml(s,'beforeEnd',`\n                <div>\n                    <span></span> ${e}\n                </div>\n            `),esgst.gt_colors[e]&&(n.style.color=esgst.gt_colors[e].color,n.style.backgroundColor=esgst.gt_colors[e].bgColor),(t=new Checkbox(n)).onEnabled=(()=>{a.push(e)}),t.onDisabled=(()=>{a.splice(a.indexOf(e),1)})}),n.description.appendChild(new ButtonSet('green','','fa-check','','Add Tags','',t=>{a.forEach(t=>{createGtTag(e,t)}),e.input.value=e.input.value?`${e.input.value}, ${a.join(', ')}`:a.join(', '),t(),n.close()}).set),n.open()}function createGtTags(e){var t,s,n;for(n=e.input.value.replace(/(,\s*)+/g,formatTags).split(', '),e.tags.innerHTML='',t=0,s=n.length;t<s;++t)createGtTag(e,n[t])}function createGtTag(e,t){var s,n,i,a,o,r,l,c,d;c=(d=(a=insertHtml(e.tags,'beforeEnd',`\n            <div class="esgst-gt-preview" draggable="true">\n                <div class="esgst-gt-tags">\n                    <span class="global__image-outer-wrap author_avatar is_icon">${t}</span>\n                </div>\n                <input class="esgst-hidden" type="text"/>\n                <input title="Set text color for this tag" type="color"/>\n                <input title="Set background color for this tag" type="color"/>\n                <i class="esgst-clickable fa fa-edit" title="Edit tag"></i>\n                <i class="esgst-clickable fa fa-trash" title="Delete tag"></i>\n                <i class="esgst-clickable fa fa-rotate-left" title="Reset tag color"></i>\n            </div>\n        `)).firstElementChild).firstElementChild,o=(r=(s=(n=(l=d.nextElementSibling).nextElementSibling).nextElementSibling).nextElementSibling).nextElementSibling,resetButton=o.nextElementSibling,(i=esgst.gt_colors[t])&&(n.value=c.style.color=i.color,s.value=c.style.backgroundColor=i.bgColor),a.addEventListener('dragstart',startGtDrag.bind(null,a,e)),a.addEventListener('dragenter',continueGtDrag.bind(null,a,e)),a.addEventListener('dragend',endGtDrag.bind(null,e)),l.addEventListener('keydown',editGtTag.bind(null,s,n,l,e,c,d)),n.addEventListener('change',saveGtColor.bind(null,n,'color','color',c)),s.addEventListener('change',saveGtColor.bind(null,s,'backgroundColor','bgColor',c)),r.addEventListener('click',showGtEdit.bind(null,l,c,d)),o.addEventListener('click',deleteGtTag.bind(null,a,e)),resetButton.addEventListener('click',resetGtColor.bind(null,s,n,c))}function startGtDrag(e,t,s){s.dataTransfer.setData('text/plain',''),t.dragged=e}function continueGtDrag(e,t){var s;s=t.dragged;do{if((s=s.previousElementSibling)&&s===e)return void t.tags.insertBefore(t.dragged,e)}while(s);t.tags.insertBefore(t.dragged,e.nextElementSibling)}function endGtDrag(e){var t,s,n,i;for(i=[],s=0,n=(t=e.tags.children).length;s<n;++s)i.push(t[s].firstElementChild.firstElementChild.textContent);e.input.value=i.join(', ')}function editGtTag(e,t,s,n,i,a,o){var r,l,c,d;'Enter'===o.key&&(a.classList.remove('esgst-hidden'),s.classList.add('esgst-hidden'),c=i.textContent,d=s.value,i.textContent=d,(r=esgst.gt_colors[d])&&(t.value=i.style.color=r.color,e.value=i.style.backgroundColor=r.bgColor),endGtDrag(n))}function saveGtColor(e,t,s,n){var i;i=n.textContent,esgst.gt_colors[i]||(esgst.gt_colors[i]={bgColor:'',color:''}),esgst.gt_colors[i][s]=n.style[t]=e.value}function resetGtColor(e,t,s){e.value='',t.value='',s.style.backgroundColor='',s.style.color='',delete esgst.gt_colors[s.textContent]}function showGtEdit(e,t,s){s.classList.add('esgst-hidden'),e.classList.remove('esgst-hidden'),e.value=t.textContent,e.focus()}function deleteGtTag(e,t){e.remove(),endGtDrag(t)}async function saveGtTags(e,t,s,n){let i=t.input.value.replace(/(,\s*)+/g,formatTags).split(', ');1!==i.length||i[0].trim()||(i='');let a=await createLock('gameLock',300),o=JSON.parse(await getValue('games'));o[s][e]||(o[s][e]={}),o[s][e].tags=i,await setValue('games',JSON.stringify(o)),a(),await setSetting('gt_colors',esgst.gt_colors),addGtTags(null,e,i,s),n(),t.close()}async function addGtTags(e,t,s,n){let i='<span class="global__image-outer-wrap author_avatar is_icon">',a='</span>',o=s.length&&s[0]?`${i}${s.join(`</span>${i}`)}</span>`:'';if(e||(e=getGames(document,!0,JSON.parse(await getValue('games')))[n][t]),e)for(let t=0,s=e.length;t<s;++t){let s,n=e[t].container.getElementsByClassName('esgst-gt-button')[0];n.classList[o?'remove':'add']('esgst-faded');let i=n.lastElementChild;i.innerHTML=o;let a=i.children;for(let e=0,t=a.length;e<t;++e)tagsBox=a[e],colors=esgst.gt_colors[tagsBox.textContent],colors&&(tagsBox.style.color=colors.color,tagsBox.style.backgroundColor=colors.bgColor)}}function loadGts(){if(!esgst.newGiveawayPath)return;let e=document.getElementsByClassName('form__rows')[0];e&&addGtsButtonSection(createHeadingButton({id:'gts',icons:['fa-file'],title:'View/apply templates'}),e)}function addGtsButtonSection(e,t){var s,n,i,a,o,r,l,c,d,g,u,h,m,p,f,v,x,w,b,y,F,_,k;t&&(gts={},i=[],v=t.lastElementChild,s=new ButtonSet('green','grey','fa-plus-circle','fa-circle-o-notch fa-spin','Create Giveaway','Creating...',async function(e){var t;t=`xsrf_token=${esgst.xsrfToken}&next_step=3&`,t+=`game_id=${document.querySelector('[name="game_id"]').value}&`,t+=`type=${document.querySelector('[name="type"]').value}&`,t+=`copies=${document.querySelector('[name="copies"]').value}&`,t+=`key_string=${document.querySelector('[name="key_string"]').value}&`,t+=`start_time=${document.querySelector('[name="start_time"]').value}&`,t+=`end_time=${document.querySelector('[name="end_time"]').value}&`,t+=`region_restricted=${document.querySelector('[name="region_restricted"]').value}&`,t+=`country_item_string=${document.querySelector('[name="country_item_string"]').value.trim()}&`,t+=`group_item_string=${document.querySelector('[name="group_item_string"]').value.trim()}&`,t+=`who_can_enter=${document.querySelector('[name="who_can_enter"]').value}&`,t+=`whitelist=${document.querySelector('.form__row--who-can-enter [name="whitelist"]').value}&`,t+=`contributor_level=${document.querySelector('[name="contributor_level"]').value}&`,t+=`description=${encodeURIComponent(document.querySelector('[name="description"]').value)}`,location.href=(await request({data:t,method:'POST',url:'/giveaways/new'})).finalUrl}),t.appendChild(s.set),e.addEventListener('click',async function(){var e,t,s,n,i,a,o,r,l,c,d,g;for((a=new Popup('fa-file','View/apply templates:',!0)).description.insertAdjacentHTML('afterBegin','\n                    <div class="esgst-description">Drag and drop templates to move them.</div>\n                '),(y=insertHtml(a.description,'beforeEnd','\n                    <div class="esgst-clickable esgst-hidden">\n                        <i class="fa fa-rotate-left"></i>\n                        <span>Undo Delete</span>\n                    </div>\n                ')).addEventListener('click',S),c=insertHtml(a.scrollable,'beforeEnd','\n                    <div class="esgst-text-left popup__keys__list"></div>\n                '),n=0,i=(r=JSON.parse(await getValue('templates','[]'))).length;n<i;++n)(o=r[n]).gameType||(o.gameType='gift'),o.whoCanEnter||(o.whoCanEnter=o.type),t=`${o.gameType}, `,o.startTime||o.endTime?(o.startTime?(d=new Date(o.startTime),o.startDate&&(t+=`${o.startDate.year}-${o.startDate.month+1}-${o.startDate.day} `),t+=`${`0${d.getHours()}`.slice(-2)}:${`0${d.getMinutes()}`.slice(-2)} to`):t+='? to',o.endTime?(d=new Date(o.endTime),o.endDate&&(t+=` ${o.endDate.year}-${o.endDate.month+1}-${o.endDate.day}`),t+=` ${`0${d.getHours()}`.slice(-2)}:${`0${d.getMinutes()}`.slice(-2)}`):t+=' ?',t+=', '):(o.startDate||o.endDate)&&(o.startDate?t+=`${o.startDate.year}-${o.startDate.month+1}-${o.startDate.day} to`:t+='? to',o.endDate?t+=` ${o.endDate.year}-${o.endDate.month+1}-${o.endDate.day}`:t=' ?',t+=', '),t+=(s=Math.floor(o.duration/36e5))>23?(e=Math.floor(s/24))>6?1===(g=Math.floor(e/7))?'1 week':`${g} weeks`:1===e?'1 day':`${e} days`:1===s?'1 hour':`${s} hours`,'0'!==o.region&&(t+=', region restricted'),'everyone'===o.whoCanEnter?t+=', public':'invite_only'===o.whoCanEnter?t+=', invite only':('1'===o.whitelist&&(t+=', whitelist'),o.groups.trim()&&(t+=', groups')),t+=`, level ${o.level}`,(l=insertHtml(c,'beforeEnd',`\n                        <div draggable="true">\n                            <div class="esgst-clickable" style="float: left;">\n                                <span class="esgst-bold">${o.name}</span>\n                            </div>\n                            <div class="esgst-clickable" style="float: right;">\n                                <i class="fa fa-trash" title="Delete template"></i>\n                            </div>\n                            <div style="clear: both;"></div>\n                            <div class="esgst-description">${t}</div>\n                        </div>\n                    `)).addEventListener('dragstart',setGtsSource.bind(null,gts,o.name,l)),l.addEventListener('dragenter',getGtsSource.bind(null,gts,l,c)),l.addEventListener('dragend',saveGtsSource.bind(null,gts)),E(a,l,o);a.open()}),u=(f=(g=(p=(x=insertHtml(v,'beforeBegin','\n                <div class="esgst-form-row">\n                    <div class="esgst-form-heading">\n                        <div class="esgst-form-heading-number">9.</div>\n                        <div class="esgst-form-heading-text">Template</div>\n                    </div>\n                    <div class="esgst-gts-section esgst-form-row-indent">\n                        <div>\n                            <span>Use precise start time.</span>\n                            <i class="fa fa-question-circle" title="For example, if you picked 12:00 pm for the start date in section 4, when you apply the template the start date will be set to the next 12:00 pm hour, so if you apply the template on January 1 11:00 pm, the start date will be set to January 1 12:00 pm, and if you apply the template on January 1 13:00 pm, the start date will be set to January 2 12:00 pm. The end date will then be set based on the time range that you picked."></i>\n                        </div>\n                        <div>\n                            <span>Use precise end time.</span>\n                            <i class="fa fa-question-circle" title="For example, if you picked 12:00 pm for the end date and a time range of 2 days in section 4, when you apply the template the end date will be set to the next 12:00 pm hour after 2 days, so if you apply the template on January 1 11:00 pm, the end date will be set to January 3 12:00 pm, and if you apply the template on January 1 13:00 pm, the end date will be set to January 4 12:00 pm. The start date will then be set based on the time range that you picked."></i>\n                        </div>\n                        <div>\n                            <span>Use precise start date.</span>\n                            <i class="fa fa-question-circle" title="With this option enabled, the template will use the exact start date that you picked in section 4. This is only useful if you are creating multiple giveaways and want all of them to begin at a specific later date, because the template is not reusable after the date has passed."></i>\n                        </div>\n                        <div>\n                            <span>Use precise end date.</span>\n                            <i class="fa fa-question-circle" title="With this option enabled, the template will use the exact end date that you picked in section 4. This is only useful if you are creating multiple giveaways and want all of them to end at a specific later date, because the template is not reusable after the date has passed."></i>\n                        </div>\n                        <div class="esgst-description">By not selecting one of the options above, the template will use the time range that you picked in section 4. For example, if the time range that you picked was 2 days, when you apply the template the start date will be set to your current date and the end date will be set to 2 days later.</div>\n                        <input class="form__input-small" type="text"/>\n                        <span class="esgst-description esgst-hidden">Saved!</span>\n                        <div class="esgst-hidden form__row__error">\n                            <i class="fa fa-exclamation-circle"></i> Please enter a name for the template.\n                        </div>\n                        <div class="esgst-description">The name of the template.</div>\n                    </div>\n                </div>\n            ').lastElementChild).firstElementChild).nextElementSibling).nextElementSibling).nextElementSibling,r=u.nextElementSibling.nextElementSibling,l=r.nextElementSibling,F=l.nextElementSibling,h=new Checkbox(p,esgst.gts_preciseStart),c=new Checkbox(g,esgst.gts_preciseEnd),m=new Checkbox(f,esgst.gts_preciseStartDate),d=new Checkbox(u,esgst.gts_preciseEndDate),p.addEventListener('click',function(){setSetting('gts_preciseStart',h.input.checked),esgst.gts_preciseStart=h.input.checked}),g.addEventListener('click',function(){setSetting('gts_preciseEnd',c.input.checked),esgst.gts_preciseEnd=c.input.checked}),f.addEventListener('click',function(){setSetting('gts_preciseStartDate',m.input.checked),esgst.gts_preciseStartDate=m.input.checked}),u.addEventListener('click',function(){setSetting('gts_preciseEndDate',d.input.checked),esgst.gts_preciseEndDate=d.input.checked}),w=new ButtonSet('green','grey','fa-check','fa-circle-o-notch fa-spin','Save Template','Saving...',async function(e){var t,s,i,g,u,p;if(r.value){F.classList.add('esgst-hidden'),u=new Date(document.querySelector('[name="start_time"]').value),b=u.getTime(),p=new Date(document.querySelector('[name="end_time"]').value),o=p.getTime(),(n=b-Date.now())<0&&(n=0),i={countries:document.querySelector('[name="country_item_string"]').value.trim(),delay:n,description:document.querySelector('[name="description"]').value,duration:o-b,gameType:document.querySelector('[name="type"]').value,groups:document.querySelector('[name="group_item_string"]').value.trim(),level:document.querySelector('[name="contributor_level"]').value,name:r.value,region:document.querySelector('[name="region_restricted"]').value,whoCanEnter:document.querySelector('[name="who_can_enter"]').value,whitelist:document.querySelector('.form__row--who-can-enter [name="whitelist"]').value},h.input.checked&&(i.startTime=b),c.input.checked&&(i.endTime=o),m.input.checked&&(i.startDate={day:u.getDate(),month:u.getMonth(),year:u.getFullYear()}),d.input.checked&&(i.endDate={day:p.getDate(),month:p.getMonth(),year:p.getFullYear()});let f=await createLock('templateLock',300);for(t=0,s=(g=JSON.parse(await getValue('templates','[]'))).length;t<s&&g[t].name!==i.name;++t);t<s?a?(g[t]=i,l.classList.remove('esgst-hidden'),setTimeout(function(){l.classList.add('esgst-hidden')},2e3)):confirm('There already exists a template with this name. Do you want to overwrite it?')&&(g[t]=i,l.classList.remove('esgst-hidden'),setTimeout(function(){l.classList.add('esgst-hidden')},2e3)):(g.push(i),l.classList.remove('esgst-hidden'),setTimeout(function(){l.classList.add('esgst-hidden')},2e3)),await setValue('templates',JSON.stringify(g)),f(),e()}else F.classList.remove('esgst-hidden'),e()}),x.appendChild(w.set),t.insertBefore(s.set,t.firstElementChild),t.insertBefore(v,t.firstElementChild),s.set.style.display='inline-block',s.set.style.margin='20px 5px',v.style.margin='20px 0',_=!0,k=!1,addEventListener('scroll',function(){scrollY<138?_||(t.insertBefore(s.set,t.firstElementChild),t.insertBefore(v,t.firstElementChild),s.set.style.margin='20px 5px',v.style.margin='20px 0',_=!0,k=!1):k||(t.appendChild(v),t.appendChild(s.set),v.style.margin='',s.set.style.margin='0 5px',k=!0,_=!1)}));function E(e,t,s){var n,o,l,c,d;n=t.firstElementChild,o=n.nextElementSibling,n.addEventListener('click',function(){applyGtsTemplate(s),r.value=s.name,a=!0,e.close()}),o.addEventListener('click',async function(){o.innerHTML='\n                    <i class="fa fa-circle-o-notch fa-spin"></i>\n                ';let e=await createLock('templateLock',300);for(d=JSON.parse(await getValue('templates','[]')),l=0,c=d.length;l<c&&d[l].name!==s.name;++l);d.splice(l,1),await setValue('templates',JSON.stringify(d)),e(),o.innerHTML='\n                    <i class="fa fa-trash"></i>\n                ',t.classList.add('esgst-hidden'),i.push({template:t,savedTemplate:s}),y.classList.remove('esgst-hidden'),a=!1})}async function S(){var e;(e=i.pop()).template.classList.remove('esgst-hidden'),e.template.parentElement.appendChild(e.template),savedTemplates=JSON.parse(await getValue('templates','[]')),savedTemplates.push(e.savedTemplate),await setValue('templates',JSON.stringify(savedTemplates)),0===i.length&&y.classList.add('esgst-hidden')}}function applyGtsTemplate(e){var t,s,n,i,a,o,r,l,c,d,g,u,h,m,p,f;if(e.gameType||(e.gameType='gift'),e.whoCanEnter||(e.whoCanEnter=e.type),n=new Date,document.querySelector(`[data-checkbox-value="${e.gameType}"]`).click(),e.edit?(document.querySelector('[name="start_time"]').value=e.startTime,document.querySelector('[name="end_time"]').value=e.endTime):(e.startTime&&e.endTime?(p=new Date(e.startTime),(m=new Date(n.getTime())).setHours(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds()),m.getTime()<n.getTime()&&m.setDate(m.getDate()+1),a=new Date(e.endTime),u=new Date(m.getTime()),i=a.getMonth()!==p.getMonth()?new Date(p.getFullYear(),p.getMonth()+1,0).getDate()-m.getDate()+a.getDate():a.getDate()-p.getDate(),u.setDate(m.getDate()+i),u.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),document.querySelector('[name="start_time"]').value=formatDate(m),document.querySelector('[name="end_time"]').value=formatDate(u)):e.startTime?(p=new Date(e.startTime),(m=new Date(n.getTime())).setHours(p.getHours(),p.getMinutes(),p.getSeconds(),p.getMilliseconds()),m.getTime()<n.getTime()&&m.setDate(m.getDate()+1),u=new Date(m.getTime()+e.duration),document.querySelector('[name="start_time"]').value=formatDate(m),document.querySelector('[name="end_time"]').value=formatDate(u)):e.endTime?(a=new Date(e.endTime),m=new Date(n.getTime()+e.delay),(u=new Date(m.getTime()+e.duration)).setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),u.getTime()<m.getTime()&&u.setDate(u.getDate()+1),document.querySelector('[name="start_time"]').value=formatDate(m),document.querySelector('[name="end_time"]').value=formatDate(u)):(m=new Date(n.getTime()+e.delay),u=new Date(n.getTime()+e.delay+e.duration),document.querySelector('[name="start_time"]').value=formatDate(m),document.querySelector('[name="end_time"]').value=formatDate(u)),e.startDate&&(m.setFullYear(e.startDate.year),m.setMonth(e.startDate.month),m.setDate(e.startDate.day),document.querySelector('[name="start_time"]').value=formatDate(m)),e.endDate&&(u.setFullYear(e.endDate.year),u.setMonth(e.endDate.month),u.setDate(e.endDate.day),document.querySelector('[name="end_time"]').value=formatDate(u))),e.region.match(/^(1|0)$/)||(e.region='0'),document.querySelector(`[data-checkbox-value="${e.region}"]`).click(),e.countries)for(d=document.querySelector('.form_list[data-input="country_item_string"]').children,s=e.countries.trim().split(/\s/),r=d.length-1;r>0;--r)l=(t=d[r]).getAttribute('data-item-id'),f=t.classList.contains('is-selected'),c=s.indexOf(l),(f&&c<0||!f&&c>=0)&&t.click();if(document.querySelector(`[data-checkbox-value="${e.whoCanEnter}"]`).click(),e.gameName&&(document.getElementsByClassName('js__autocomplete-name')[0].value=e.gameName),e.gameId&&(document.querySelector('[name="game_id"]').value=e.gameId),e.keys?document.querySelector('[name="key_string"]').value=e.keys:e.copies&&(document.querySelector('[name="copies"]').value=e.copies),'groups'===e.whoCanEnter)if(t=(d=document.querySelector('.form_list[data-input="group_item_string"]').children)[0],('1'===e.whitelist&&!t.classList.contains('is-selected')||'1'!==e.whitelist&&t.classList.contains('is-selected'))&&t.click(),e.groups)for(o=e.groups.trim().split(/\s/),r=d.length-1;r>0;--r)l=(t=d[r]).getAttribute('data-item-id'),f=t.classList.contains('is-selected'),c=o.indexOf(l),(f&&c<0||!f&&c>=0)&&t.click();else for(r=d.length-1;r>0;--r)(t=d[r]).classList.contains('is-selected')&&t.click();e.level>0?(document.getElementsByClassName('ui-slider-range')[0].style.width=`${10*e.level}%`,document.getElementsByClassName('form__level')[0].textContent=`level ${e.level}`,document.getElementsByClassName('form__input-description--no-level')[0].classList.add('is-hidden'),document.getElementsByClassName('form__input-description--level')[0].classList.remove('is-hidden')):(document.getElementsByClassName('ui-slider-range')[0].style.width='0%',document.getElementsByClassName('form__input-description--level')[0].classList.add('is-hidden'),document.getElementsByClassName('form__input-description--no-level')[0].classList.remove('is-hidden')),document.getElementsByClassName('ui-slider-handle')[0].style.left=`${10*e.level}%`,document.querySelector('[name="contributor_level"]').value=e.level,document.querySelector('[name="description"]').value=e.description}async function setGtsSource(e,t,s,n){var i,a,o;for(n.dataTransfer.setData('text/plain',''),e.source=s,i=0,a=(o=JSON.parse(await getValue('templates','[]'))).length;i<a&&o[i].name!==t;++i);i<a&&(e.sourceIndex=i)}function getGtsSource(e,t,s){var n,i;n=e.source,i=0;do{if((n=n.previousElementSibling)&&n===t)return e.sourceNewIndex=i,void s.insertBefore(e.source,t);++i}while(n);e.sourceNewIndex=i-1,s.insertBefore(e.source,t.nextElementSibling)}async function saveGtsSource(e){let t=JSON.parse(await getValue('templates','[]'));t.splice(e.sourceNewIndex,0,t.splice(e.sourceIndex,1)[0]),setValue('templates',JSON.stringify(t))}function loadGv(){if((esgst.giveawaysPath||esgst.gv_gb||esgst.gv_ged||esgst.gv_ge)&&(esgst.style.insertAdjacentText('beforeEnd',`\n                .esgst-gv-creator {\n                    margin: ${esgst.ib?10:5}px 5px 5px;\n                    width: ${esgst.ib?127:132}px;\n                }\n\n                .esgst-gv-popout .giveaway__links {\n                    display: block;\n                    height: auto;\n                    margin: 5px 5px ${esgst.ib?10:5}px;\n                    text-align: center;\n                    width: ${esgst.ib?127:132}px;\n                }\n            `),esgst.giveawaysPath)){let e,t,s,n,i,a,o,r,l;e=createHeadingButton({id:'gv',icons:['fa-th-large'],title:'Set Grid View spacing'}),o=new Popout('esgst-gv-spacing',e,0,!0),r=esgst.gv_spacing,l=(s=insertHtml(o.popout,'beforeEnd',`\n                    <div>\n                        <div></div>\n                        <div>${r}px</div>\n                    </div>\n                `)).firstElementChild,t=l.nextElementSibling,$(l).slider({slide:function(e,s){for(r=s.value,n=document.getElementsByClassName('esgst-gv-container'),i=0,a=n.length;i<a;++i)n[i].style.margin=`${r}px`;o.reposition(),t.textContent=`${r}px`,setSetting('gv_spacing',r),esgst.gv_spacing=r},max:10,value:r})}}function setGvContainer(e,t){var s;if(e.grid=!0,popup=e.outerWrap.closest('.esgst-popup-scrollable')||esgst.menuPath,popup?(e.outerWrap.parentElement.parentElement.classList.add('esgst-gv-view'),e.outerWrap.parentElement.style.display='inline-block',e.outerWrap.classList.add('esgst-gv-container'),e.outerWrap.style.margin=`${esgst.gv_spacing}px`):(e.outerWrap.parentElement.classList.add('esgst-gv-view'),e.outerWrap.classList.add('esgst-gv-container'),e.outerWrap.style.margin=`${esgst.gv_spacing}px`),e.innerWrap.classList.add('esgst-gv-box'),e.gvIcons=insertHtml(e.innerWrap,'afterBegin',`\n            <div class="esgst-gv-icons giveaway__columns">\n                <div class="esgst-gv-time" data-columnId="time" draggable="true">\n                        <span title="${e.started?'Ends':'Starts'} ${e.endTimeColumn.lastElementChild.textContent}">${getRemainingTime(e.endTime)}</span>\n                    <i class="fa fa-clock-o"></i>\n                    <span title="Created ${e.startTimeColumn.lastElementChild.previousElementSibling.textContent}">${getRemainingTime(e.startTime)}</span>\n                </div>\n            </div>\n        `),!esgst.lockGiveawayColumns){e.gvIcons.addEventListener('dragenter',getGiveawaySource.bind(null,e,!1));let t=e.gvIcons.firstElementChild;t.addEventListener('dragstart',setGiveawaySource.bind(null,e)),t.addEventListener('dragenter',getGiveawaySource.bind(null,e,!1)),t.addEventListener('dragend',saveGiveawaySource.bind(null,e))}e.inviteOnly&&e.gvIcons.appendChild(e.inviteOnly),e.regionRestricted&&e.gvIcons.appendChild(e.regionRestricted),e.group&&e.gvIcons.appendChild(e.group),e.whitelist&&e.gvIcons.appendChild(e.whitelist),e.levelColumn&&(e.levelColumn.textContent=e.levelColumn.textContent.replace(/Level\s/,''),e.gvIcons.appendChild(e.levelColumn)),e.innerWrap.insertBefore(e.image,e.gvIcons),e.summary.classList.add('esgst-gv-popout','global__image-outer-wrap'),e.summary.insertBefore(e.avatar,e.links),e.avatar.insertAdjacentHTML('afterEnd','\n            <div style="clear: both;"></div>\n        '),e.headingName.insertAdjacentHTML('afterEnd','<br>'),e.pointsContainer.insertAdjacentHTML('afterEnd','<br>'),e.endTimeColumn.classList.add('esgst-hidden'),e.startTimeColumn.classList.add('esgst-hidden'),e.entriesLink.lastElementChild.textContent=e.entriesLink.textContent.replace(/[^\d,]+/g,''),e.commentsLink.lastElementChild.textContent=e.commentsLink.textContent.replace(/[^\d,]+/g,''),(s=insertHtml(e.links,'beforeBegin','\n            <div class="esgst-gv-creator">\n                <span>by</span>\n            </div>\n        ')).appendChild(e.creatorContainer),new Popout('',e.outerWrap,100,!1,e.summary)}function addGwcChances(e,t,s){var n,i;if((e.inviteOnly&&(t&&esgst.giveawayPath||!t||e.ended)||!e.inviteOnly)&&!e.innerWrap.getElementsByClassName('esgst-gwc')[0])if(e.started){let n=insertHtml(e.panel,esgst.gv&&(t&&esgst.giveawaysPath||'gb'===s&&esgst.gv_gb||'ged'===s&&esgst.gv_ged||'ge'===s&&esgst.gv_ge)?'afterBegin':'beforeEnd',`<div class="${esgst.giveawayPath?'featured__column':''} esgst-gwc" data-columnId="gwc" title="${getFeatureTooltip('gwc','Giveaway Winning Chance')}">`);addGwcChance(n,e),esgst.lockGiveawayColumns||t&&!esgst.giveawaysPath&&!esgst.userPath&&!esgst.groupPath||(n.setAttribute('draggable',!0),n.addEventListener('dragstart',setGiveawaySource.bind(null,e)),n.addEventListener('dragenter',getGiveawaySource.bind(null,e,!1)),n.addEventListener('dragend',saveGiveawaySource.bind(null,e)))}else e.chance=100,e.chancePerPoint=Math.round(100/e.points*100)/100}function addGwcChance(e,t){let s,n,i,a,o,r,l;for(i=(i=(r=t.entered||t.ended||t.created||!esgst.gwc_e?t.entries:t.entries+1)>0?Math.round(t.copies/r*1e4)/100:100)>100?100:i<=0?.01:i,esgst.gwc_a&&!t.ended&&t.startTime&&(s=(s=r>0?Math.round(t.copies/(r/(Date.now()-t.startTime)*(t.endTime-t.startTime))*1e4)/100:100)>100?100:s<=0?.01:s),t.chance=esgst.gwc_a&&!esgst.gwc_a_b?s:i,t.chancePerPoint=Math.round(t.chance/t.points*100)/100,e.title=getFeatureTooltip('gwc',`Giveaway Winning Chance (${t.chancePerPoint}% per point)`),e.setAttribute('data-chance',t.chance),l=esgst.gwc_colors.length-1;l>-1;--l)if(o=esgst.gwc_colors[l],i>=parseFloat(o.lower)&&i<=parseFloat(o.upper)){a=o.color;break}for(l=esgst.gwc_colors.length-1;l>-1;--l)if(o=esgst.gwc_colors[l],s>=parseFloat(o.lower)&&s<=parseFloat(o.upper)){n=o.color;break}esgst.gwc_h&&(t.headingName.classList.add('esgst-gwc-highlight'),t.headingName.style.color=esgst.gwc_a&&!esgst.gwc_a_b?n:a,t.image&&(t.image.classList.add('esgst-gwc-highlight'),t.image.style.color=`${esgst.gwc_a&&!esgst.gwc_a_b?n:a}`,t.image.style.boxShadow=`${esgst.gwc_a&&!esgst.gwc_a_b?n:a} 0px 0px 0px var(--esgst-gwc-highlight-width, 3px) inset`)),esgst.enteredPath&&(e.style.display='inline-block'),e.innerHTML=`\n            ${esgst.enteredPath?'':'<i class="fa fa-area-chart"></i>'}\n            <span>${esgst.gwc_a&&s?esgst.gwc_a_b?`<span${a?` style="color: ${a}; font-weight: bold;"`:''}>${i}%</span> (<span${n?` style="color: ${n}; font-weight: bold;"`:''}>${s}%</span>)`:`<span${n?` style="color: ${n}; font-weight: bold;"`:''}>${s}%</span>`:`<span${a?` style="color: ${a}; font-weight: bold;"`:''}>${i}%</span>`}${esgst.enteredPath&&esgst.gwr?' / ':''}</span>\n        `}function addGwcrHeading(e,t){var s,n;esgst.createdPath||esgst.wonPath||!t||(s=e.getElementsByClassName('table__heading')[0])&&!s.getElementsByClassName('esgst-gwcr-heading')[0]&&(n=esgst.gwc&&esgst.gwr?'Chance / Ratio':esgst.gwc?'Chance':'Ratio',s.firstElementChild.insertAdjacentHTML('afterEnd',`<div class="table__column--width-small text-center esgst-gwcr-heading">${n}</div>`))}function addGwlLinks(e){var t,s,n,i;for(s=0,i=e.length;s<i;++s)(t=e[s]).innerWrap.getElementsByClassName('esgst-gwl')[0]||t.ended&&(n=t.url?`href="${t.url}/winners"`:'',t.entriesLink.insertAdjacentHTML('afterEnd',`\n                        <a class="esgst-gwl" ${n}>\n                            <i class="fa fa-trophy"></i>\n                            <span>${t.winners} winners</span>\n                        </a>\n                    `))}function addGwrRatios(e,t,s){var n,i;if(e.started&&(e.inviteOnly&&(t&&esgst.giveawayPath||!t||e.ended)||!e.inviteOnly)&&!e.innerWrap.getElementsByClassName('esgst-gwr')[0]){let n=insertHtml(e.panel,esgst.gv&&(t&&esgst.giveawaysPath||'gb'===s&&esgst.gv_gb||'ged'===s&&esgst.gv_ged||'ge'===s&&esgst.gv_ge)?'afterBegin':'beforeEnd',`<div class="${esgst.giveawayPath?'featured__column':''} esgst-gwr" data-columnId="gwr" title="${getFeatureTooltip('gwr','Giveaway Winning Ratio')}">`);addGwcRatio(n,e),esgst.lockGiveawayColumns||t&&!esgst.giveawaysPath&&!esgst.userPath&&!esgst.groupPath||(n.setAttribute('draggable',!0),n.addEventListener('dragstart',setGiveawaySource.bind(null,e)),n.addEventListener('dragenter',getGiveawaySource.bind(null,e,!1)),n.addEventListener('dragend',saveGiveawaySource.bind(null,e)))}}function addGwcRatio(e,t){let s,n,i,a,o,r,l;for(r=t.entered||t.ended||t.created||!esgst.gwr_e?t.entries:t.entries+1,a=Math.ceil(r/t.copies),esgst.gwr_a&&!t.ended&&t.startTime&&(n=Math.ceil(r/(Date.now()-t.startTime)*(t.endTime-t.startTime)/t.copies)),t.ratio=esgst.gwr_a&&!esgst.gwr_a_b?n:a,e.setAttribute('data-ratio',t.ratio),l=esgst.gwr_colors.length-1;l>-1;--l)if(o=esgst.gwr_colors[l],a>=parseInt(o.lower)&&a<=parseInt(o.upper)){i=o.color;break}for(l=esgst.gwr_colors.length-1;l>-1;--l)if(o=esgst.gwr_colors[l],n>=parseInt(o.lower)&&n<=parseInt(o.upper)){s=o.color;break}esgst.gwr_h&&(t.headingName.classList.add('esgst-gwr-highlight'),t.headingName.style.color=esgst.gwr_a&&!esgst.gwr_a_b?s:i,t.image&&(t.image.classList.add('esgst-gwr-highlight'),t.image.style.color=`${esgst.gwr_a&&!esgst.gwr_a_b?s:i}`,t.image.style.boxShadow=`${esgst.gwr_a&&!esgst.gwr_a_b?s:i} 0px 0px 0px var(--esgst-gwr-highlight-width, 3px)  inset`)),esgst.enteredPath&&(e.style.display='inline-block'),e.innerHTML=`\n            ${esgst.enteredPath?'':'<i class="fa fa-pie-chart"></i>'}\n            <span>${esgst.gwr_a&&n?esgst.gwr_a_b?`<span${i?` style="color: ${i}; font-weight: bold;"`:''}>${a}:1</span> (<span${s?` style="color: ${s}; font-weight: bold;"`:''}>${n}:1</span>)`:`<span${s?` style="color: ${s}; font-weight: bold;"`:''}>${n}:1</span>`:`<span${i?` style="color: ${i}; font-weight: bold;"`:''}>${a}:1</span>`}</span>\n        `}function loadHbs(){if(!location.pathname.match(/^\/stats\/personal\/community/))return;let e=document.getElementsByClassName('chart')[4],t=e.firstElementChild;t.lastElementChild.remove(),t.lastElementChild.remove();let s=t.nextElementSibling;s.textContent=s.textContent.replace(/and\sblacklists\s/,'');let n=document.createElement('script');n.innerHTML=e.previousElementSibling.textContent.replace(/,{name:\s"Blacklists".+?}/,''),document.body.appendChild(n),n.remove()}function loadHcp(){if(!esgst.giveawaysPath||!esgst.activeDiscussions)return;let e=esgst.activeDiscussions.previousElementSibling;e&&e.classList.contains('widget-container')&&(esgst.hcp_v&&!e.querySelector('.table__row-outer-wrap.is-selected')||e.classList.add('esgst-hidden'))}function loadHgebd(){if(!esgst.giveawayPath||document.getElementsByClassName('table--summary')[0])return;let e;if(e=document.getElementsByClassName('featured__giveaway__hide')[0],esgst.enterGiveawayButton&&!e){let e=esgst.enterGiveawayButton.parentElement;esgst.enterGiveawayButton&&esgst.enterGiveawayButton.remove(),e.insertAdjacentHTML('afterBegin','\n                <div class="sidebar__error is-disabled">\n                    <i class="fa fa-exclamation-circle"></i> Hidden Game\n                </div>\n            ')}}function loadHgr(){if(!location.pathname.match(/^\/account\/settings\/giveaways\/filters/))return;let e=createHeadingButton({id:'hgr',icons:['fa-eye-slash','fa-times-circle'],title:'Remove games from the list'});e.addEventListener('click',openHgrPopup.bind(null,{button:e}))}function openHgrPopup(e){e.popup?e.popup.open():(e.popup=new Popup('fa-times','Remove hidden games:'),e.removed=insertHtml(e.popup.scrollable,'beforeEnd','<div class="markdown"></div>'),new ToggleSwitch(e.popup.description,'hgr_removeOwned',!1,'Only remove owned games.',!1,!1,'If disabled, all games will be removed.',esgst.hgr_removeOwned),e.popup.description.appendChild(new ButtonSet_v2({color1:'green',color2:'grey',icon1:'fa-arrow-circle-right',icon2:'fa-times',title1:'Remove',title2:'Cancel',callback1:startHgrRemover.bind(null,e),callback2:stopHgrRemover.bind(null,e)}).set),e.progress=insertHtml(e.popup.description,'beforeEnd','<div></div>'),e.popup.open())}async function startHgrRemover(e){e.canceled=!1,e.lastPage='',e.button.classList.add('esgst-busy'),e.progress.innerHTML='\n            <i class="fa fa-circle-o-notch fa-spin"></i>\n            <span>Removing games...</span>\n        ',e.removed.innerHTML='<span class="esgst-bold">Removed Games:</span>';let t='/account/settings/giveaways/filters/search?page=',s=1,n=null;do{let i=null;if(s===esgst.currentPage)i=document;else{if(document.getElementsByClassName(`esgst-es-page-${s}`)[0]){s+=1;continue}i=parseHtml((await request({method:'GET',url:`${t}${s}`})).responseText)}e.lastPage||(e.lastPage=getLastPage(i),e.lastPage=999999999===e.lastPage?'':` of ${e.lastPage}`),e.progress.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Removing games (page ${s}${e.lastPage})...</span>\n            `;let a=i.getElementsByClassName('table__row-outer-wrap');for(let t=0,s=a.length;t<s;t++){let s=a[t],n=getGameInfo(s);if(!n)continue;let o=esgst.games[n.type][n.id];if(esgst.hgr_removeOwned&&(!o||!o.owned))continue;let r=s.getElementsByClassName('table__remove-default')[0];i===document?r.dispatchEvent(new Event('click')):request({data:`xsrf_token=${esgst.xsrfToken}&do=remove_filter&game_id=${r.parentElement.querySelector('[name="game_id"]').value}`,method:'POST',url:'/ajax.php'}),e.removed.insertAdjacentHTML('beforeEnd',`\n                    <a href="http://store.steampowered.com/${n.type.slice(0,-1)}/${n.id}">${s.getElementsByClassName('table__column__heading')[0].textContent}</a>\n                `)}s+=1,n=i.getElementsByClassName('pagination__navigation')[0]}while(!e.canceled&&n&&!n.lastElementChild.classList.contains('is-selected'));e.button.classList.remove('esgst-busy'),e.progress.innerHTML='',1===e.removed.children.length&&(e.removed.innerHTML='<span class="esgst-bold">0 games removed.</span>')}function stopHgrRemover(e){e.canceled=!0,e.button.classList.remove('esgst-busy'),e.progress.innerHTML=''}async function loadHr(){let e={messages:0,points:esgst.points,wins:0};esgst.hr=e,notifyHrChange(e),setLocalValue('hrCache',JSON.stringify(getHrCache())),startHeaderRefresher(e),esgst.hr_b||(addEventListener('focus',startHeaderRefresher.bind(null,e)),addEventListener('blur',()=>clearTimeout(e.refresher)))}function getHrDefaultSound(){return'//uQxAAB1MYI8KMM3gqqwV+AYZpBBAAEOmeT08nttJ5Mnd3zCCGXpiDk7P2IMUQz9yZNO4w8Bhe/wnsRER/dnpuDrjIhyeuTu0IOwADMISf8AKTAAAQ96xhBNnTh073uDhadkydJxNt/EMQgxAsBrjXJpnk0+yZSD2eDgMnl3zCDpmBZMmmZlmINabZd7BO2MIEMJpuTJkwcL0hjk02jxlx2j3ZNdmIPrdoJp60fwh7KACGHp2g+mIOnTCjTMCA6NJRgGfmJu1kjWIp8LtgtBXijXwh0UIgq0RLWS7rTWdNTsQakRJOgS8LwiZpaF2QlEGLRS1G+TdiB5GzlGsilxSjieMHGVCzy0aKLbhymNZPGs+ie3ZF0gsQNhpoRp1LNI6bBAgNVpCjzTtMKIaHcxZbyzFwYxyxRiZWGkDAgYYrmAzIOQZKem+Taz5PPc4yoU4Xt3i0mJ12dpJWGwAh3IEaSlDDnWTzcUitNywAMPdaY/p31QkaFPzXMsFAKB8YWSXgSC2zL0UkUM6RFHqUPOAyTihaT3o58O1NwAniZFPCR//uSxB2D1Y4K/AMU0ALqwd9AYyW4z0cMVKTUSP1NjzxKyJqAvDnKt6kmkBqoEQkZdnkrPdKVFIMbunlQN4OfHLBrgwzbejae3RwNJmFxZyjEJhsV2GgYxYHaT3y6UWBaw2kcfDFzT7ASDkpctKaFSjGtkdjThZph7J9P4g5JyiaCSJtAFDVEDzBie7mA4YhHlHEVE4JJCz9QYpZpSiZyIOyrAnxKTkJIEnYogLQhyY9A5R5wgvKYim22OubNSVbPeepwkk1GKO2Seyea7dTWlYncadKqi5NUhRsEse8zTGyQMYlUBEZdSBnrFlZ4jWi2rBSBhEQF5RUPkHYlJJ8kGtIGmstIQFBQjvLyRuJlGMPZnKXVbqShxh8H457nyVZVe1uLMakQtC4nksyURMlcI2Uk11LbYVXUKrJISKjRhy76Ec2OCQBwRB8udiILEpmT7rlLKJAhRr9lW/K5sSmJUcrmzhmDWk2Za+u8FFGrlWCiOXHEBQtsy6JplDBaT3sWWKxXS3CSSmN5Oatsqws7PKdCtkjkzF+S59ZbU62WNv1JNf/7ksQwgBcCCvwUxIAMSDqi5z9AAA+jaWfBWJyOvYjqBIyioohVnBR3WtCitx5Di69uMNNJeKRAQSuSUKcxTbcYLoUZyX1dt0Wob3sL2lOZ/UL0ZOypCRnSmQJFXTtdJElGEIoJJdNlZSajpAAAIIMIAAAAADAxAe4wjQDeMl1LjjO7gC4yAV8NMSEEDzBGQOEwJwBkMOPBVzBLwV8wW4JIMgrBHQMAcmAMgAZgHYJ6YHCAZmACBNJg6oDKAEAC2AG7JAKWRJRgGYnMh4Ay8DJgAUKjVIgM4LjE7izxOYLEwLAgtJDaxek2RQolw1L6RIBywbCJzFxAVAmJTHWTILFU003dYbWKWGiN8ZIZEPuxQOrLDs16ZJjiIKSZBidJcurc6aqMU6dalVk0TpWIsTpbIcSx8zVRuZFUz3Zab6pNE6WzYOLEPLxqfLyJ846IhKDgaPX3/XSz5ki6Rq6SLpIuky1qtdrNTZ3tX3auqtv/n0jIMm3Ay8Yaf7Xe1ZEEDBsA1cxQpRtMhhLVDFXQnowXkEcMA1AkyICJMB6AYzBaRjT/+5LEEgMZZY0WPfoAEwkxYwX9UboxqAPbMX3BaRoGGMB3ADTA6gLMwjgSSMB+AZDAbQDoKgAwjUDEAw0AFghiaOXy8TRiLUNckimgbmqi4gXygkaFwplBzGMkyZuT5XPnSsEIIBheZMbJDHma2SY6nUzJE2LepE0Kh7WgXziS2TWgcLjGCz9VqBdKz2aarl5zE8y5gmtGm291LKoCEwuArKWjbT7srv2rq+mtXUvqdtXoFxBGru/9/Ir9NAQGCPguRhaxlSajUKfGEGAgJgX4CcBgNAwHkBNMDMA1DCpyUswnROmMUsB/TCRwJswDYAKMA3AMDBKRXU7ogJsBUCzdlrljxuTzvLNDR27kDwY/d2cpt/blfMs8+fu5FIdxuxujq4WZTJw41R52e1JPSFAn01oFAnFnSNEvGMJgnTBNNk3dJCtFNOyUsO27JmBNmnpIIu56Z6RqgvME2e70jEDApSCpVum9aVlrqZA8/XQr71KZb2//qUTrlZD9af1dKgBFAKkIlYOJjzEjH3QKKYrAERgxgCmAgAEYAQHJgthRGYUk//uSxBGCFpmNIO89scM3sWWp1474obXuMpmnA2mOSCUYIwEpgGgdmDacAPAVoc3Plya0nRg2r3Uj+PGTyeetV0RiR0yNb2Cu64jw4926Np1eXE24KSiWxldU8N/h/e0d/XLojpoJpqxsjNSlhVcITNd3SDEokVMzrW61GLoJqoqRekuaqQVXo6vWmAiB1am7bNU6Dr09Ppsmv2ZtfX/1zI3UroX//6iAAARESCglmJXkHrzRmGwcGB4Jy4AA8QDWbTggfcH2bPnIDgzMFwAMIAAMcFpZYCQWHgFBQALCphr+TEf1TeAncrWK0PS9/IowOHlLyeI1R6wrG9bT9nmr39O8gq9sZFyqy6HSOgb58IEWMvitVcl7TP2yJDVkrhDtEh7pnefjXzuBml/6Q51ZBcH8Cu9f/FFexODnG04T0v3NsbXJkZGNqexwlSwr7XxTL+EyG+tE7NgxSFm4qWfdN01fcCr/AuI7JTL+OaUxcK/B/8cUTQAAAHnNtbJLKR1gHfz9egiaZBNKYtRmmp5wZKUPgAw3ET4YchRE49DitrlPpv/7ksQWgBuRZ1ms4e3jEyyqqa3TkuG5+xUlLbv4z1VzjKkbjG0w14RlhaANSKD7XgIBOkyhTaWFLjtxcduD8IC3adRTeOonlnKZbZGD3LmuHUBOKVpeLtemmiSpJNJ8OMBPEEAQA/CGEHOoJAPch5BFCZC5PM5G1jTEE9SlQ9NtEJwT7c4PNQWlkeu2S/gKxtNNLxID+Hm0u/WHPamssDyGx2PUF0CVVz+tIH3umrx3kRniP4ysiP/AcoMAwGxVWRIEzn6gQAJCbciknVjE7t72W51VWmZcgFyYKGUN5FiIAZgBxzkqQMxC5PZa7GaGKvrP7na1rvMt/NP85V/kqkVEzqBoyz5FZw0eUJkbpqtmak8OySjflHUmURyXzkuoZbWpcKbv/rLLWdWSQsGAR5wKGBq0nlZVC3Jepgz4whrUQa9N2Iap6WempRLqWW403bNBYyfe40kUVGTrb/7JjtLqBNECLZBR0g0QiGk8tE1quoyNjE1JonikViZLRNHzEzMiUsWW7FyP+xUAMAB2OAYYYsOcZlIYNgWyxCsQAGYUg2b/+5LEDAIXGbk2zuaPgy03ZUHtyji6MoAqZMJhuKOPGhVJgSMIwwMPUePZ0ZARNEKILHAVT5M6tS6/HGms5fmJS5G2WzNPGu1q/M6vunXqX5xr0ani5tn7+rfMdWrdACjZrOrpb76JsiZGIFTgHheiARMm5dHp2au2gpE6w1EHsik6iitFAvHzEwDrhyBqWjZik7IsjUuY65HkRdGZkykbBQCJOeTbeqz/6Vf26r/tt//+RxJ/qMCcFwwTkFzJ4G2MDgEUiA3RoEYHIsBUaPII5lro3GMoxQZP4WRgZAKmBGAeYcAOZhlmbmuWa8YZIPJgggniQtJgyAFBwDbNIHnI01Sihq1UjSh1NOTtFLZJ/LVSWsMiM5HqaJS6JCEQk9ec7Z/PdamWUNIUH2dYzWOP61f73mt1t0kFqKBUvOdri0bSJA66rZzL/4plOkYrWYiRDJqqdaKSkTyF3cugtpsyk1I/oLa1h9oWRY4kRwCcINev2tXZa/v/7ft///ykMJPpADAAUmBSBEYVQzJrFBFGDkASGAPFQAcwHAODB5BFMwAx//uSxBCDF9m7LM9qr4K4p6XN7tD4swVjazBNVQMcYKYwFQFR4BgwtQqjDEH/NtYgYwugAQQ4OwCN4ZR+YjMXo1qtVps6zN5BG4hVzxsdtZdc/dmplHa1p44phl9zuee7MlUAs6Qd3ro6SKNTGxqXgEAMDZArDSB7MyUK69DutGy1G5El7m6WpmqQTEQD9ZWc2Y8hu6zqTKprHSb00FJIkyF6xvO+h2pUavV//////+mW36UQSC5DABAPMHQeg0Mg2TBOAOCAG1QhcDYlBsNSfANWjMN5UQJ35FiPMIgOMUiRMbpcP1q7MfBcMKAuByJAYj0RG/g6/Yp7+HbFVYtPO08aW13TKo5p5A4WCwboE666jM0zZSxHJ5Fk7WezsnppLSKINQAHfDixGqi6XklvV1X41yu2unZUyXTYZ4HBjyS2MW/SU/UYm60LnVF4NtIOgdcuKiQCvDDSVelOsKi+z9oBzA0CbMB1oowOS1zAHB6HQMQMAQYFoNhhEARmL28+ZLaIhg/utmkkHiYG4FgQAUYYIMhirnAHjyVaEFNGf8n7Fv/7ksQgg5ptuSIvao9TOSfjhe5R8HvgGEDpfMha9DsGvJ2YiFReWV14bFe5Zq361t4qfO5FpZZtvtavucMXdbpGYYKPsgeWdRMkEHoH6jJZoZkYDUKB9LQ1y5PiyUDI+pA8taSlrZxIS4pFCSheMkl1XMVDPhq48gbJkyzoMtnJlys1TyepugkbpBbodyRtSVWyk0qaCrVb2VdmZ2s/poPqU1etX6s6wjCcC3McVlI9JyiTE/ByMHIDMwMQEAIByDgRDWmcYMB6C0yJLxzElGHMEYH4wKQlTGqCOMUdo04q33DEPErNLpU9wSTeQcMVgEmBiz5NDcFXn7qUEuSfltNlZpZDaklW9AUN6pqZfd21GYLl1+3KJJPSfW6unUs0hxlmvNrObMkVTQnjAcsEAADe/QywQ8xLQnJNjA+ZKW1RguiOkZFLmRoZFtqSkcsiBU1JLdn0nWZJFNWgpKrSUWSHmRsbrA4xReImzA3bbxKp+yjCtytFAELjAsAIMQMj84VRFDC1AVHgUC4wNBVMFwHUziwLTFaHUMOAtszSwQwEDAj/+5LEFgIUYU8kT2qOQqonJJnuzDjyYcoNhh7EInFgHcAiBDMWAh4bZKW6WjEozpE2MZxY1Fkc6M6jaWjVjFIlSSNS+gizIJoKVWmV6T2roVZ9a3RZZoXwDFBfSOSqg6WrVovMCp5meU63ZbozAnadBJ2+dYy1n1OyvOjwZsbslet1HAmyWo9slKsxiQyKF5gHg3GBuoyd5x0YRiyDAYLVmAgVmDY2na2Lmi85GtGwHgozGGgShUJjI4kTGS9jrLgzEgcjCwJjLkEAwwx4BBUiRK5qOszk4kiH7pqY2SRRUpaSSalEMMUD7sgzrRRWfsXmrrU620ndKp3dSAJ1JBNM0K1B2ahrvkcar51l1ruylmRbQdSkzta01Ocu1TVsfWxk7DqUBn3ME6VCwqOpbGH7VhqNUoX+hRkMHMKYxLmSzjUKYMNIHMwOwIgEAyCABzBRCiMj1gwxI0FQI0oYi4bxgIAcmBGBAUCRGJCNELnlmJiBGYFYNqCMwJwLBAAKuaAYlQmCaJ2pAou5c8sfe1zB4TjVG4qXTQRp+4ej0xiEG9yk//uSxDWCE/E3Hi8uc0JzoSQZ7sk49z7fX73TrQ1EPAf4i55JZozpH31qbXJR1KW5ir6qaS0M4p7exiijU9f+R7Db/2P/4V9ivuDAASmCeAMYqAWx02BBiQ7gYEEYCAAIXBSMBcD0w/UgTH8GuNy+AOXhIDheCgOmTQxGHuKmm+6GDIzmE4KmWQEjxkFADNWgain5iUXaKtRPHenct6qasdtVahmgyZcKR4mKklJOqyJkRJN1+tq9DZtyYAysiCZ1JNaCZsgkyP1HD9Wgv021uYqd0ZiYNRA5rMaMOp9pbrq5rUB2s/0KABCSQFzCZ5jggzzAwCGLgYCACApgGGhnAYxhGShiCSIc2qol6kQtGFwYnIQTg4aAsAjLlyy67xTpJGl4LekkYf62cjChaLaU44p98rKv6v4ysYTrRCydbaq1IsK+MyZvW9nkrmwRX8sd5WP9e9Y8DV3wdTfPDjKyCzsFX8ee6K+7CA7AFeCwivBAdhAh2Pp8+TFVDCFcoJwwTInBwAggAALz99pdbVSeST0IQAXhxZAhLV6zl6Wvz0seh//7ksRdgBONATBOvHHU8y/r/czrX6/pL9/hiMLmJSGDiuYKERpnJmyomPI412OzKK5MPlUyOEAwdGLiSYJCxjoAiocaMBAapWLB8mAQsIUKwgKhUZhCOMHCQxUGTEhYMTjMzSqxwUGQAeBQCg4gTXyBlmcgoBSwwZzrjCJzLPM/013DOyPwg9JBFCZbBlmiSgWEUdMkcve3J93Qjcll8kgSCZVJoCydV4GvvTLk81zLTSPQBs8SeBgaHwhFAgIFKHARogs8wNEVQcabGCLQGMoMA0EoqDjozaOQDCw9sACHuqyqMSxaiOiFZbdTdW9TMHB0v4g/0awnY5KJxgD5KZmGOGoNIoqTfRlDTKSH30vTtSLtzZ3CnQizSHNf9nbD5E4EmqXpuL425XT36mTK5DRWlsfVAAAADzcsEvimphcWBLnMMgIgAKiCmIKKpkDLDJgNT49gYUXBrkMP2jka3BREE1pvzGHWL8izmIxMvyDGmngZ5lz0F6550jiQt6+ipi70WikFNs6Kxm5sxZywtpymIElAr9rNC4QYWAOc11hqyGL/+5LENwIfZWc9rmNvQoAsJgHcwfijriBQxOVS1IlDEwFRAwC0CKT8y/NLdhl9XFx/K1a+3rmW8ccdVu2ZVRwSpioK4s6/JABsGfqHpU/1qtKV2Z2pdDTvS7NMoeH6kPfyghp/oahqGb1bK1jVlMZh7sZdmGbMaUOgZBoz+xM2EQMEoKurRQ0/0tubqY7hlyX5777EI0n1TxmyQDoaKgq///SKAMYbrqc7kwBg3EgERpMDwBMKh9N5bJMPyYM0PvNxQ1MTqQMxwMAwWFQjzFYmEOLhkTqEMna9e1adqHt4wHOLY5XQUpcfyx1D0SuUsZlsod6jf0LC61f3jzmuMlES4aZGYzhBpnSOvnvdnWW/56qqmMkW27p+taKli0k49qM4N4xRRRZFimIBM1Tf//qOkNUbgTRRzR//92ELDsNf/+/2KiAAAwJCowUn80IQQwICkQgIyAYEswZHE+CYYx2Tk1mHcnxYwu2IzUFYwXBUwWA42oE8DB4XsQudOAkS67Cx71WJxT3UAD2zK2AzSx1CrDxzrN/WEDiS9zxgXlLQKxkL//uSxC+DE4FjLE6+kRKjK+UJ7dG4JAzgkkDE+OYBpQInw+bnDJ9tVnUgRFFv5t6tBJh29lrLA00X+NUT5NaP/f/5xIsALjhxI//+sSseX///6DgQAwIwIDCUGzNNAJgwZAERoC4AACCoL4JABNE0wgxMxcDEuYmMzcNQwbzDjKuBiGACwrgHl4YBBGSDRkNA1JHp+mqR3LdmxcnKOnLIvLIY7Jr8sfC1Ju195416V14pQZaq49+glzMh4qi3mAvwM0hDfycNC+Z/sb0zhSHG6LOzIqNSpatVqhTB4fW9Mc5u7LNA31L/+pvW+pJExDoxspf/9BYroe///6YwEAMAkA8wlB+jUsDlMGYAQMASJQATAiA+MIUIszFl3zCeDuMKeAoxrg7DNkJD5oDjDUDzBkNTdceAcIaIYcAqgDVae32mq2rufaqysMiEBKWGpRPWZbbZ9aQnKaoyqa6zjuZGqI+wxQi5iPgE0AXKPHCii11VueWtSyaQQSoVsgY6ttQkRN9aDojZoqrrJQg9//X6rd5jMxCr9/1/qKBb/////6SBDv/7ksRTgBSZYyZPdouCSywl2ded+AAQEB0cgAxwNMkBZrrVhEFhg2QRgZqwUIM0rfQDqIYssCbsBCBgiCwwmOwiJ0sI8TFljPly5v1w93CepPEVa3GrM+cXm5n7KtyuC29aluTxLfX9Iidvr8czJe+sXzi/wZZLMrLdUedRdbqPEksjIi1er4a22fbbbfffMCzt/09z4jExZoAsU0WWwZaPNkvf/ooAABxgwcC0xziA/jNMxJA4MBV8QaIRg0BZwL1ZgCcxorp56kUpjjf5tYM4wAwGGE0SDVHAVwXI92hsUjEftVLGcp14+Nu2WGrYs2a/PpCn3Jmjm45/3a2MWXlFqtXpVn1ndrWtj/8/6V3NTLZas08edB5eFw/ic1iquclVtqDU6Io+Og2dCR5ySzTtNqqbPH8+oXHbdduc2mtRBRX8EBmQwFQw7xhzetDEMKkBMaBgBwBaBABAoGncUIYVBDZgTvSmMEJuYTyZpgvBTkwG4ACcCwNICASWWRABEQAz0tjfavLGrOFKotHQ6Et0kCl5fSdumKyH18ZXUoOlcrf/+5LEfgMToU8obr1vyn8sJAnmNpiCaftykY/ZRmCel1kXX6GkrWS9FSnopKNWrQWYLsGkljVO1lGtSlPrGTq//Uja7PVnB6qb1Muowd2XztqdqrreagSa2yQSIBhjtJ0qvBg2GIwBjADAkRxImT2N0jKcADVjazj0czJSszVUFTC4DDB8EDPcBA4I1jxF2nlMw5VFtcKZiYKTtGjcOy7t2+lh+uomoFJ25mQ//6l+cY6YK+/bnJiS2nCWBC/h956e9Mois9N+lJ7Oa5yWc0DIm51lOHW51TiPtv2qyWr79CJu23kACYAwUwhDDSU7NlIiwwlgWzAtAaEAB5gGAmmCWHKZ9SpZgwBOGModgaKIIRiIFamYKBgYEADxgDhBmC+EYCgJ0jxIAVWnFNxscoiaxFqOo2Z0yoPy4Zhg0sXDza2q4d388stluPujtW1ukTDh7FaEDAXO3n9bZ2/nG9AJTEPpSpREVSJSG4kih0MmO6Hp9Tvava/t29ort0ylbDC+u99Oj/+2nvRVEC8jAxAKMOIEE3PACSITQaA3AgA4iAgE//uSxKYDEdE5JG69UcKSpuOJ5iqgCScp+QZiC+bF3cc/iGYyDkcGhEYtAuYKjGYmBmXWTzVUUQf5ozYKeYfaIyyW5iqNXGgYKSmBfE0fEpehzjqKY6msm1xBDEzOAmnbfo6aAROePrMdc03a+oqCac3zq62PZm6LZKHI//8sHf8s9d4p0PRKxstCwBDtMZKoQ9QkxTEcDKMGMFswBAFDAXAFMBsS8zxFuzD+CaMNocszJw1DCdHZMiUO4wDQXDBeDBM6QRQMBVIHGgxUOvqH2dskkSXaOq1LMAQmQX2kCSm2lL7ubG5198K9qkg2ZkVmq50I19Nhjnl2am0sq9crNgFsZLpsrs7ImqkFGoDJIc6bmc+6l1K/Mm36HWtSehT3vs2rUvVUztUTh9JRNBkFxqBEMa4OIeIVuFUlIsSSd86lvU4b9COpAO/zBqDNMM9941xTXTCLCYMCwEMwEwJBgEchBaMEU9YwpQhTGXMPDj40UrTpYdEAhMZw41c9zBAELeBxeEge4Lqy57HCSQZa3tmfRExqqOk+Tbfa7jrVIegsiP/7ksTSg5GFNyBPdUXC9qbiCew18HoQKzn0eXu6oRShXXJIkIc5bULbd7eH+4h3xcbYq/r57vh823qXx8c8xX8/93W/99Nmm//aok1O8/ziDYqPpqnf5Pz13/0rQRB8wVwEbMQ3H2jfJQtEww8CUMEGARTAmwBIwGgBHMCzAVTDCSO0wEUEWMCzHYjBKANowIwAbMP1APjASgCowFEEyMWVBgTAuwAgwBMA5MArAITAHQAooACEqkn2gsRMAVAHGoySnSJF8AITIIyAPmgwU+ch0N7KeyWSq038vDFIA5I2aFWE/aqRpihJa/VzzRGlMt4raeFLvV76nzSoYDMu61tiuPy0hQlWOQSu/mtZiaRRy8ipzOVUFW3plRC1HG3eGl54Y4CajhmqhMrCJBjdadWfuv55hjj07KoeNO1Ozb/J31Nux3N271VMQU0JTAWgNQwncpNNOxEzDBxwO0wJQBaMBPAOzAKAFIwD8BUMMaFCjA0gTcwX0TsMOKAEDFJ0jb8SDIcXzE1SzfGGjCcQzAMARovRIRFRroSye5wWWNedF+L/+5LE9AMUcTcWT3FpS6c0IQX3jqkejzsQWiAzl1aGfc2dk8WkeT/0sLmLz/R9ikQvOXTFE1QNGFiJ0mTDZAZRQmRcZGtNSTKrYaAmqafdBFSupTtrQtQ7qWtWhTskpTo1GGm/n+uPcRsbL8lV/ecKzevPWbqf2EDHHkVf+bX/Z39FZV6/a+tdr/cjTQITcbZgkhcGCU7+Y3BnxgYBImASB4FAEwSBUYBgEhj5iLmBsKEYW5EpkCAbmA+HIYQIHAYDAFQPwMfAPAWhQAKMLFdgkrR1KYKFQwiZLqd1CIC1dir4ttutNqGdYM3K5Zn1lVustRM94OvuzmRdM29n5uA9JT+ipR2pnrXWnZSLoXf7JKWtVHqVdnrRrWpm11rmB2TQ0ith5wuQUFl2vKNF5ymlTEFNRTMuOTkuNVVVVVUCDBSQWQw5otbNpMEjDCmgPUwPEAyMCMAQzAXQBIwBwAMMSwB2zARwkUwKki5MJUAVTMiCDMEfzRE6TDU+jMSQzGsKg4CDF8AiYVlFGhGCgBo/M1C4EoJiICZNRrtHNo4hByTj//uSxPIDGcUTDC/1q8qOpuLN5jYwbcT9nfp1tbjQgPXrA/IS1vXcWkO0Oj+qkMdYfZbhyYv66x75v7ffo2kQ9ntqm8wcZ1qtqWtubNL5h5pfMy0QAWtq5MHaeJ+hySV22F6vwKzVdxMehIjHEXYqd9cm5VjUl2P/Pfth2gHOnBtnpnxhy39BTjkcMDsCUxUDbDqoGjMOwDgwOwFQMBoYCoHJgSARGJiG8YYQWZg3GEmLiDGYJwLRg1gMGCcCMLADmKyBoPA/oI1LIg3VeUyZgSnIgqz5ozZUoQzqlOm6yallAaotbXRntmoO3egtNi1LUa0BZrBTWsyte//np8V2rkz8E/aoVkS+fDqMTU5mViGZrWk8mt/O8h3P1/znfzyTfiO6Hg+1FdpLQj82pVVVlSHrowRA+TBSoMNIhHEwPAyhGC6IQIBwGcwMgYzCeAPMOsUIxag8DLvD0EQM5gAgMAIHIwQguTFGDAMAEAu2UAYpAt0bqnO6srQkMkjOD+COSztAqWtTiU8Tzuq+Dz6OI/UGs3ZR+1iFWqQWQSeNAYOFjf/7ksT4gxqo6wgv9esKpC1izeYOOVm6ZXq/ad/GzqO2z/fPae0bVszqEtak/TIhTO24axpCAeehiv8uZwzSRf/2ikxHmtQsz3hc38TPhKThA5cfVVbb/4lbocIDLGCTAw5hb5qcalOLFmELghRgXQCiYDuAmGAnAFpgJoC6YIOB2mADAMhgLI6kYJ2ApGCDAYhgQwCUYFUA/GBDAnhhnAImYAKAbJcGAQgBReNcw6ABpeJXumJMRknCVJywuStbRhJRFrZoSohMZP/LVCN9HRm8Y51wo0smqSTc9Ca5keRy91mxT1pjON+mJJWwpZ6x8VvNi1tYNVnbT4ebJqBDv2rDHxsrqhm3stqqv4f7mfJN15ysy81++0vyc/SIE+ZSVsjN21doZG+Ya5xz5mv7SLFqPwThyF1hCPX/OhhpzNPWdOH+LSVVUwKgABMKdCrzUCwZIwd0AvNDBIBKMxEIggDmHjqYJBp8M5HshcYxhwchTKqpMBxg36yQhtI2hBHEhUsUlJECYJULQV6HvEUcypYmERxxXKvT7yKXGGt0utP0Ner/+5LE/4MW7YMQTzB1Q6W0IQn3mnEUKiSDm+tO74wulh9p9glrnSt9X3nN8apq2bEOnv8/cD6tj61j6xbOsf41je/81t/nXhV5C6W+IUON5Y5p3+ZaLVDnckwTLhs+pnfqPJ7u6P/G9v5od97V8/33o//vskCZMB0TIxV8uzvtW4MPkQ8wQgeguByMgMGAWAKYB4nxhQA5GBKfuYIQPpgjgtkQhJgaATGBuG6Zi4Uhg7gLjoAI0A4hgw1xGvw+/ip1zqbw09brzM2opNzeDK3Zpaa69DOXFwlD91uzqzocnGPq4t7ygcLW9YB0tPMVP7/aGDCF2lZ+N3HmnojkozkIHhOWyWU7XPvHBlZAmcLQpwGnRnKg8ZKBIkJ3+ehFto5n7vDO7BjWkN3BdCruNH9TFDvqw/YF+OuwpsP0MFJCCDCtkk00tAfSMHwBgTAsQKgwGgBPMBRAZTABgAUyKuk1hRw880U9lI00KYs2xN8wDGkwpcU7eb4wfBNGYeLUHCSLAWKACpELABCxUEFMIHfqG7615CvAwIAR/CceF4fjx0g6//uSxPWDF5EDDE/x44shtKFJ5Y9JVJpOHc0d4IaQ7ST2oaHVSVY9Gp3TYAqvd2bwyaPSg1tXAGTzDzauImmNYstKrN2+n3tdfzdLst8xEq9RUsn5j5uN8RzbXxPERtrhnbqUl8e7bFMe5yvKrqvj7Q6ufmLp1Mp0d0i+66j2st0L03i96pxqiY9CvmI0nMDRAeDCygsM1R4CeMICAITApwAQIAsTAcKTEYJjEk0jNJDzRbMDlsajBY8za0mgEFpkgZhz0XZhUDhagaEIs2wR+QgBV8vwhznHNgdtgJj49mw2j6VIEwnqnTNNMqqxyQ4hDsSm4NbbxZ4G3mm0RD3UxH/F3xOF2x3HMNvir+v2fU7+Ou++F7MTcY53+++71sq/NNdx3O8wYW/WN9PgufNY0ExDVMX6f//H1rj8r1jMWsIdnDG6MAvBKzCYDTQ02oYNMGuBADAlwHEwEgAkBQAOYCGA9mEChHpgVgXgYFsLSGAdATBgJQG6YMKAZmAeAZpmGkH7XyYVDIGAIGLQYLkHAKA1AaOSkoDa6p7B3XCkcPUDO//7ksT5g9vZ6wQP9WfK1x/hQf6suZY1+C5i1jJ4nSS2kjsol8MRh56a9WqdqU/d5yVi09iHMg2EUYlsbNPCp1DoBCf0l2q/u9+04pKhoSnn+VXuZRPtZe/qKnHxNLt3FJH/bP1N1cVd3CTGOiHu+71ujJ6ifiOY5u34uH794HxELFr+OnS/dEb+eSOzJ+oGML4XcxM97DffYJMNERYwVAdwSBYAgKTBvAMMjQTYw+yqzCjNCMnQG4wOg1DHdAYBALBg+hAmMCFsJABLvFgKURF3t4m28jGi6jEZa9cBMyiV/BrTULr1sHqTxKVFMKp46fDxeW51XPtv9QtOaujHnp+v3/v6emZhqEkH3XapffnuecZiiw7md1bUqm5dSv8KkrkrxcVFq5bU585FU4c45Nl8P0LfZWlidvFJ+6GlU3z4eh8ucgUl9MltlMhU4moAJlKsYSwRJjwo9Hx+NWYrIKBloNmIwQHBSQnJVUbaUxmkhnzhoYX1BvsDBURhdNmdB+t1ubC2mxV9myxe+82Mw9JlC7zgeR9EclDcTBoIEeh4Oor/+5LE9YPbAgEGD/ENyvk7YQHmDtmmrVTQllzl0bTY9N4jm7zi1kpSulZZW/d7/But7PY/7qrm7q5c3i4nuJ+qbxHP88OqL9lXs289Ro3Nfx/t54ipt9uiZnexrLUZJIND4lBMR5OlCxXZ9FtajENCKDJgPAFsYVqTCmqriPxg9YGCYFcAeGAhgEpgBwBcYBuAimCHCKZg44S8YA8FVmCgAARiBwBhwUAwCJgABJk+D4cR6QCz04IcXkp+BqheR8GYW5DDLq3aZfUjgmcitqBJVELcDV5HQSHHJolXRbZAprHaoKRyo1FAUTijqi2tupc66ySPmvM79rZqpbKFRTaOTTavbNn2rHEXxa7K7qHnY4qH1pvYa2mdh0nl1VvOw47MLOOSfg6cqWVyflrV2KKV0elLXanmn8hoEBOxP/bkWq4wALJJorTKSyaNJ9VADCXGCMEDtcxA2hjAME1MBsIgCAfoCQKDyYBRyRiDEtmJbUmJASmPfYHJALGDYRGCxNmaoamDoFJFlx1PMTlqf7VokjZII3Puk8baWYyzGHpM+0nj//uQxPCCFc17Ds9xY8N2MWDJ/q15EWeyPWxNL0JRELgFrHwb11QHjltDAKJqU24f7n1YFtVffwnxMynonXVw8TMek+Xcvolz3UN18TTzzFNKPapafD89/0kL2u8RExdXUXQ26Ti+bXmluYR+UqlMRxuMl01DhzUGJGd3OTiUJgf4JUYVoT5mnnCBRg+wGeYFGAoGAsAEIKFoFIoY/MuYksQZrCqNCwZ9w0Tz6CQEC5wmBYxBwRvRE4YdBVIqgC/TpLWYc2svlY9E1o8AsICRoBJetI6yk68fEzEdhgTT5x6hmqjsYajRbZsFz55J9bbRYjU/UEMasfvdLHS63zxp8Me26mnqS1s7T1d+6/Ujri+n7tk9XbKtk3C192x251s7uZq9v99Rur99pVmZkcr6CvaWV38dJKGt31jZd5B6zuiHSDA3QFMw6odANwiDqzCpAJAwOkAxMCIADDAOwA0EACRCDbGAqgzZgtYbaYJmAtmB+hJoKHhTAXwJIwG4BtMGCAwAgAFdMwAgACRpfeGWNxpQ5WV04cpZCyBUklhuHZCT//uSxPCDV7m7Bi91CdsQsSDF/qy5yCFjqaFoxL6JN0JwtILS3m96JuGMaB9YSbEcR1Y+l8yY82b230TlH3q2z2oQyBzGSHJsWQKQkPnmCRMnoqwwi7HUPpjFirToVaChEU0BI0UYUxm6UqOW7bg72lE5UJHQkBPXREFVlBtqCQGhOsOTRSUb0hZHnbkZ44im5hzAluREoswCAYTA2SSMt4f8wIASgqGwoAiEAgAGhYumFBiYAoYKpY63TQwPGACYGDRmoDhAMWI0OF3R1COxw1rILID0O81LATCxM5ZMKbO2bIjuOpmpmUFiJ8+aWi2pIALnTaVzpMiXtq5ufj4kvp39W2+rj4ZVqTcccvpkNhkGi6rvfNTPr1y5txcezdW5nLjs3V8vhzrUtkIcGyOB6GyCYsRVZFQofJIQDBVAeMwyNCMNZBG/TCQQVowMQCrMA3ATjAQAHkwBsBtMAFC9jBDweQwnwI3CCCowC4PXMCUAKTAKgAwwDwBkMNzBey/BgEIAaDgEsSABnsgEcAA3LtkAAE60h9eINk6V2hJmGUiXFP/7ksT2AhuKDQIPsHcCnizi6e4sdTnBaZEazn91M5P5HjBBrH0u30R1iw2DKuZFYQ+nT2DC1f4Zp9Y+M+CZFp739IFr4xSBjfznhKpk4wmcY9TvKOTy5tNmpmX3IeRf7yYe9Ses9XznTmyjtdS0/Woa2RPQQDEI3I6Kf2kpmj275Up1Ktky0dIXSeQ80SvxDWi6tkmVCsOtuXlHVp2uSRLmfZhEAQmQmF2f+4WgGL3Hg3RoGYwFABQKCOYFwyphThNGDEUEYqYDhgdDemCCBUYCoBhgZgLmEaIgIgEVMyIEQeAIqCQbjwenaGeUKkTy+qJpbVvcaYybrmOZOY4/tDNJ3fLi/e7Bpbzd/8rltsV1QK/dzaX2Q7N3T/1q5uyr5uyInrSyEdUqVGdD5XuedrWTLfOtRmMoExF7eKuuHoQLnCdZaBwLP2mlNRUAKUiEP4xba+zxLT2MQMN0wSgTjAfAtMCIBAwZwNDCKEcMKMH8xITKjDoBSMIgScwTwJTBSApMEgA8yygIQgKQYAIRuW2rpRFyTZsgbG4fiMgJ9x2hRVP/+5LE+oNepgcAL7zVWqEw4UHmCjAzg4N07lZ8i4sF5uIztR0Zdxo1K4xjc5H2tDqXSNGzrObzVtgubqCb2Zp2Ih5wbMURoCDhOMivSTIkcjuTnZuLtqsiMxtSuTlCjJpOlCPMTkpCHBMZukgxJvVzJhKG1B1jIljHMmj0WtBnGoWsjuMnOiWKYeCY7eyYFAwsxODFouBOdxOww/A7zBVBmMBgCcwBQRjAiB5MbMRcwMAoDDLDSMUQAsAhtGHuA0YFIKpim4GKH2YCDAIAA8UyITNcZ601xHpcpzYEkFPEZqvGHBpKJ3M8pJW7JKXGvMbhukcOv8qtRXLLOrYjr7a7gxadanarMSwgeIJaxF3MRpo+MfSLQRATMTvU5opmpsGwqGKqEp3al1lE0i+Z6f1YqbcJJuhc9YCRm/KSM6wjLLnRDTSGX5ZxuyXhObs123Jz8SpKCZIKMDBAiDCfA8s0s4E4MHMAJzJcGDD4DTBcFh0DTo4WjDQKDIAbDYgXzARdDB0IjGwLxCHJ2KAZgqA4XAduaty0Y4u1scAgRAAAXIjB//uSxPICGdndBq88cYsmwGDJ7g25gFYoBgCTkMO4t1GCtMcKDwWUtZvpRMhrYiCaibpl5Ud1tTNMLXzA77obLUroVfVQ2yVxpPM7vMQU6QkxSytW3XC1NNX3FPVzxQxuVvmV7r4+J9amVue8bLjC7Cpiy0VBME0Dqc30u+HrqY8zsRgmURMC8LExxofD6GPpMT4KgwZQMTA0AkCAVwuB8YwpLxh6grmAGJIYygGoiEsMJIB4BBHmBWF+FxDh0A9B8aBVFgHW/ksNtngiBGTTc/YFEfHxi0OZoUUx6Xj1GytW3cM1gXuOwHyukD/QLzvp7kK6+bTdvpcw0cWYJXK/A+4kLIX3hVqdIiKUOZRVBBjcgYcQasIMhWgk9JexIkcZ1I/GvxCnG5AuYLfVoymWLJRZkfaEEvKEnfqvlctxB5LwOMJKeHJOGuv7ic8wtBgTDr54NY1k8wmRMDAmBlMBMDwDAKAQHw1I50wsJUxfNszeE8ylNI0CBUSHwwIQg9qAMxWAIGAoxIVAFRqDVK5iUwFTQ5Jaz0P1bjMazoIQ9LHqP//7ksTsAxchlwYP9QPLI7QgyeYOoSzw7gXLsOjxsoxljKGoAQuFHDxzq6cRcsMka7jQ+s0jihjLnfDefaOX5qcQ1NNo4+B2TFTNJUVB0XB5Raq1Wu/2a7VY+h6zENbksMa7Gs6yP66o9hqRNPJvuOESO5YwbSVDInEw7Wt1rNLdcIlyeK3CySfVjHlakfI6BgXAF2YRSMSGgRhMZgxoDUYDkAZgYBiDgxMIQ6Ms0MMTjaMBZHMWAlMUSzBzmmLYPmGqcGK6PmAYCFxBoYysG1cydyZHim/DUOUU4IwQhsBgKhYk8XP7KGrQrlknA0KjRSzX4cIeqLEzddSjvffEwoiUt7ukE2ft9Xxfc9Q/99R7TdPp3RVcVtvbStX6crPLRNVVj7n+utZta5ZaSm9ujo66vndo17enZOy6TedqnGWZpSeKZbH2i/ZJfnVADAbAGwwj0aXNGfDJjBkwHEwH4AmDAGswKBkEiYaCFgaTluI4bNPSrMBHBMgA/MTgkMQw4PbwcDCSMAQTEAAoEIjGm4wNFY44UpfjMVBdINgUmxYihcP/+5LE8YNZ+gcCD3UHyu85oMX+oLmBwgB5yJ3gUckciwNoTSg9jdroYzlzd1Uwq+8B0IcLcJLysxbNpP5Q7WptHRosZa3rerdxff3E2KI7RXEXU1EJOuvNmIfDTS3HKQfKRNTumTojOlW0kPY9ndJqaG9xHZaybV2N5nHL2fcpbzKXEW0znLo/ZDBxFSMCnUM0HV2jAnELMBRiHQ9IApEAeGYIQgYPTKQujkcXzA6FxY/jCUAjDBtTG9mjA4Mw4ByIkCYRE+m0aVOSIFAoWIoLjiTwUgGExoscHklsNMDkYEIoMEEOD3ciXy2RrHUJpnYpamoVLWiIeBbdLhaUdVUltwdVmCssUQ0urmVy8L59rA52ux1RMWKwhPjWmVo5F4P5v7HPcktVLc3vakoat9WzzE+lXCzXL3SaHa7Hy00xSNBAzSZkWh1ud6k5DORlW1psNZswN8EcMJMJwzQ0hAQwaQDNMB5ANDAMABcwFCQIJgw+aswTX4yPoI2HA4wwc8zXAow8AYxuEMD8YBjgAgOIvIIXaglnLWouxao/3xEGjsDg//uSxPIDWU4DBC/1BcsqwSBF7qB5OiWhFOQRkcLC9JJxZ4gmQ4pUxPz1AyJmkqxuOeafmUPT6elhYuaobqMkZN2OdJH1ixCULisOWt1fI4zW+ZhSbqht3Q7mkWequr6SE6iuqhxkDy7S5huXPqnWbbX+5jipx5LQv73Y3WaGoQOgcOrRbmdO7V4VVWZfodRIDAiZhIAaIaL4DemDRAFxgSIAGAgGAwBkAOMA1ATjIttjOsxwRPAgDAw2LE0xAswHCcwTUIxkXUwSBwtILDkTBVCJO+sVkLkzUiuxp9JTqGne6gCjhzA1ycQgUEbPtRBRI5QoEGyl1iGwmARZkRrndSyNSnpkmOHEuCYM5QHzSm+SIoxism7PL3NbCNqf/CiPTzYuugm9rQtVlklBasZm9aQlhmZ4Q67O9IvIiJadcyC4HAkWSKRh0Ze62MJEKiAMCgRUw/rgjlMUlMLAOwwMQazAEAeEIGimBk/UJpsHJnGagdgBgwLhq+B5gYBpiiFx6GJAGHMAg6pqmlAPW3i91n0gzp39giGInm6l0VHknGSWPP/7ksTuA9k6CQIP9QXK9cEggf6M+aUFggOHAqKYgwcI1m1yo6LocHS3Uab225V2O5qbuWXYmxAqrReiFXZom0ualZRYLU/8meDVeJkaNmyXe8eixdra3Ka2rMyXSTRI0wlJe8q5tSlHSx9Q72oydzjZQ+0sYhEu1jN25GQ6NlSOiVGkDNSi6Q+p04UyqMML4SUxtakDw7R3MTUN4xYG0wlCQCAQHBcaISwZFhcYZ0ubMCWI2sFqXMExKMCV1MOUKCoPoXjQwlAWS9+H/ylQNAKHnJAjmmHB7IiuNERxo8Vig6HiYRDWD6ZGGNTQNWWtQlWku3nSL0FJhhhMmo9XnS/rSQeTPVn2lSt8wOgmJmLl46Xqod1nq61n5c6Id1yGR5pK0Vy+VbLFkmqPhtrhPXbR7hWLdTx8wyo1vMKqMMmrQ2800yF3t745FCXQVr5EU1UwKwBRMJ1BTDSsQAQwcEAKIgS0eAfzBgAwgZjaVlTGQ4TGR2zIAKzD90DEMIDAwIyJIRtUTD4Ai5DpJUvdI5XY90XWiWcTYRkcRTBBEEffQxH/+5LE8INZkfUCL3UHywq+YEHuoHlOEccgnGB+bcysQKJQghqiFhrneDGlJeNG55ITOXHPEFHohyJBXQ65ZoJxrmVCM7DYWjotutFX1OJpLjepmRlHt1krbTbzU7vav/HcJXb3UTo4we42FRR9pfw3Pbq73d8PNXY+2kyVikqRtDBl08WiWNgUGAMHkY1tV58HptGJuGaYLwLBgSgVg4DQwOAETIuEoMPIQwLQkwCcjBbiEiyYxHhBVDQkFMKBIsoGE4oFzFKZj1umS8hqrcg65PWo9DNgkYjT24Ox0Yzhxhz3xiYZoo6TH5TzT2fOt/25fMpjWhn3I+9WM2TDtZaWZa8qWjLOGbjXWfbi5PI9olk2aNuJ7zZdd7zUdnas9+nLY1NlfTdQaikcK05LLlJWzcnWZk7blLqlbGOznZhniqV7Y9U36lE7shGPJTHH7aGmlXIwlRGjEOqfN1BJIwwA3THJIMPCUwaFCYuHP58VtkxgaAcawEegclDEh3MSpg/GHQcPxUBlq0foJCcGx7g4WCsg8wRLGMScKNQ+JTp4MOGC//uSxO8D2IYDAg/1BcsqQSAB7hkw70PgajDCVHAygzS2GOdmTdKqXI9xR9FGGwt414Z3q+XSl3mVGL6DtnTUbmTyZUE9VBAxyIeTPRKtJFpr7XgcsERvQ1Fteb+kPIYtkHpD8UtcElEGqrVuhBfCDJ4WmZomHUqJeitUNkfApVMwCMcHmBXgSBhGgjmaE8DMGDJAHZgPoBAUAOph8OA4Jmf26agCpllZnNwaYNZZooOmJRMYCWZx9kGIwSXLFhCRACF3IndrtClUbq0qA0MEgWPIhxNNls1PDjXIZphpv2Gh9Z6KSqvNIlM5tRa8heShsyNldTdnKtzNZlFncwxSqunxxlQ0K11NEQ4osVdVD2k3RaURdD2moXihhekbprm3MdW0j3GmIXcFVw0p15bCajxiaypCMUXNXeRV0OpFdDBlsNG+PTlD5qI9ljBJCdMfh/Q/4jtTFqCgMG0EUwIAEjAYDMlm0z0FxEBzOS4OqioxM5TOpPMRA8wMfz2xuL8I8BwEQGy5/aeRSxvIKzu5sJkGAWuWF/mp06GXe0pWJmWeKP/7ksTuA9fF8QIPcQOLGr9gQf4gubY3LeTDzkmop2pT5zLnkCwjTWMztamZPs3bTtt+mXMbKd3uwyX1HNrDk/V4htV58fqekW687oGIdakGuJyUbh5aXQ8pTRu52k58Wl5h92SMT29HJcpsCfB+F2W573OZGkaQxZNcLkty7vWfuVR+4pswehKTBrt6MfVQMwQw9DB4ZTA0MBAE5gGDxncvQgF0xYkgyLEYWOU0hBgMA4wsKY0yIkDBoXACASRrdyNu3F7QCQBTRGHQPHWIJggjBWlQILvPctDhBcWrHFHk2xF2w2iYNqxlDeKvkvmAhRNJLUZcIPVkNoqEHQnFOepkjCEayni9HsbT5O8UVVuLFUJpdkEa80tstEKlLlR1jJZmYumIyDGhGe7qyGJkcS5aNKSVBnC000LtFqNfIVFhkV3RJcelnHj4gfElVQyrS6Q6ajC+DVMiNyI/5S2TGJCIMIICUwSwCjAeAODAKj6qzCq0Nv+44YZjCM4A1GMOCEwqxDg5TBoAdMOAaI0y+nK0cgmllNvOvneisipynE2cKKP/+5LE8gPY4gcAD3DFyzVBYAHuoHism65KLBHX6mLTdzH5ZbvHxUKMLbl+yVbB6NI6tpeIyLbtH/d5IXEIiyVUVNe7282jKK1JbPVOR9ItdmO7AWFz5QvXY+TjnO7mpwfUQbUCWhN2q2x/WUaxrkob4QhmZaT9qkxe5Dp6YgcyyJmxUOUaY2xNlYdqNVTkdO7IQYLgGhjpoynzWREYpoJJmIVGKwiYWFxgUXnRC6Y1aZgN8nkAUYFogckhYYmKzKc7Iic6c6zWcU5ISFAenF0jK0CkBzLLWzb4pPS5SmqV9ureoXl3zt9GdsmsW900NWKa4jXr9fr3M23vMytatc/X3f7Kzf8TQS3zvjLrKKpm7Zp5v1HzTmZfr4nj4+5S2h0D79zrzh5e3Rm9vL85218ik3WgWu3h7/lkVeI1CrQZ/z11fRuNzD+RgsUQDBDD+MGulE1LUkDBNDLBAKxVAhBIFRgYAbGQbEGQwfGXNFmdwamAbeGQwrGD4DChUmSwxAYAWdFAEFAC7mqeTcciHZrtyPTX4z1laFVmnwYtRuyfXJ0S//uSxO4D2XYNAA9wx8LgQCBB7hhxUTQVY0ECDUxVhd2v0zszmtSFQXMEEej93Tm8dNaDy9uQPMPzO23r6z7eav6blxl7twdXfWW9kNaFU87S4Q0x6IU8YhyyC+ppLNpGGa1JMQL6yp7tMYjAN99Eo6G2y8WTZy4MuiKfncs0KQinl2+cy4K8tDJJAYR4Yxi7OfnWsX8YhgQ5gmgbGAwAGBgHgIBKY7xaYhoMZGSaZ2gqF0EM2gTTYGgwNKgVBwcJyNaeuYkMQhdq7P7v08/K90USqfblHLJnpWN7CURRDoL90XCqIs8O/iUsfWnUP05qSk0Xfo5uZNRno4uiDL3u6W89M+Xmm18x65ZaR5xaT/VVLZubM3Wey8yXMNThE8+vvvcF+XtWNLE8iWbchpfEq9PSFflM3Qghu47WhBvwzTHZH1pT6j2hsdu9rzLxVej9GAADCDAGMg4cY/9hGTF6AgARzgYVDA8H1FTRqjjIlNRpeDcsDzCcEAVNhEQZhGWAhHdTCGCIClXSaSS6tKhcFRrQOiyG3FRMQMnOMDwOQkEER//7ksTyg1mN9QAvdMfLGsGgSe6Y+BQNMH3byPi2Y9SBmGO7isfm9xaFHMHTwNo9XZXdqSi0+BHd2abLqaKd5mJepJWB8nNezowxhAQxLdBU6BjNpaTU2cPZ0MYWQ0qZge8a3xOMkRqQ8eZkvdZjj0pjLnVlaTVuTlWSbQbN2y0PR8UGw8dHoVElIrOxgCBkmHlGEcUB9phUBZGA2CCBAGhUAswFgPTIRETC4hRivyHbwUAH2GX0FEgwCDRMrBgjLrwS+0zOwxG8JPJLPZ2nmcoGeek5Av/T9NHl4lrHKk4pkAJRwUHQxmkeqNxJqPQ3mPPviP8jDTkkdULxmlRpayveT9bXIY+poOrZfZvXc/WS/udzvZBdGc2EC4my7vddaaXnLgq90xVJYibu1WIGrcvbJxqrto+XmhlwUR153NTSahpaGdi7bKUQYmnOFeeVT9UZBqZRbyL4DCKDpMS+K44hTrzDXCkMDoD8wJQGCyJg+gOmRwM6EAMGA+WcIQQCDhDxUKFxjNaY7GIT2nhwgiRJ7k7n2G4Yu2dTFepOwmlNKAj/+5LE74NZAfEAT3UDyy7BIAXuGTHyiqNMQLfMJhsJkTKTo61H5YGDHhKLkDm3BT/HrsuivdI3U4yfdE9jUdu3s/W2tmogs3724RcF65TW97NlHQlGV8VMWaye4cnyrQ2vrSo6KiT8vc6BK5nlfz9hnVNujuUxxHCbQhqSbP2q8qNSXTVa/uWS3M3UTT2Nhrfc0CC6NEMHQEUxqx6DzhB7MS0AYmZAcSjAABMLkg7L1jBAzNH4YPAoVQ4jEoMAJlIanUA8PDheDSHBlQEQSxE42ZJJdVzEmRG4ZRemyQOAf6SO7iEHPqsx91Npeqz4ZscvamtqrxfqLX1FzM69Y/f0t11iVsS/17jPn2a2N82fm+pT12i9+POXnw3N9P7XdyVSLtVtbpot5qb2SFs1nRkSnm/05l67RWsVc54RrHfHnZ/9vBB38VeFIFkqKkAMBII4xQ27TqjMoMOcH8wNAMDAJARMAYDAwEASyr/zH6gMNLQ50CjBACAzDCgqAh6NNHcFBRYg0CkY5ZSXc60ns2eTc5T2exDwIgPIlkEAiBbxNGof//uSxOwDWV4DAC9sy0rZwCBF7hhx7qMaBURJ7N6eW5BdQz5rZ73zZUzl1+gkamz2TcD4O6sWx64dt6WJtOMUddwHra2fT5Eruv9VkmM2HvV7hVS+bL+YPsuDO960JElF9mmeYRrM6+zhj6ZAr7SEI3ux4MRLStzGN3HnHzJZ+x1kU+zbDQcsJlGgwZw2jCkiHNGQ6wwbgqTCo+AghEI6MCjc4QpDHRXM/vMPXBg8NGMQEYLIJgU6HESCJAZqqV6vqJihGSiRYVLCay4s48WdxFkxTAgkaJzBMHrCAwmFxHE83AmACCKQ5G7ZTuK11cOxHlChZj7Io5ldT0ujFqVvg+EoUPbi4NIlqEpQvN3CsQU5j41as63PF9BwwlpEViySWeZQ0+7g10ezsmiIUecw2xcu1sa9GowvXZBsDXRZshj4XdTGc8xz7MuEGUp6qLpTdbtW0Lrj6jCHB+Ma5D08yBljEwBDMrhIxMBzDIWMXDYxG7DNKSMO2018JR5HgoghQaGK0OchJwOBaY6MLBJnCYkfQwDHESiHk4BfYujsKaGLm//7ksTxg1kyAwAvcMfLN0EgCe4gcKM7MUmRuYc/oZlvhjy+6rqdCU3JSkhsJ57mNnXLgxNlS9tuViG0a/yrOQ3aK13Re9nU9qeVjbGbBqFRqKN+FnTzNgwyZyo+41XF0dTttEvOu3Leje/Dw0bHgosnESMjvP1hG1q3dXOsvF8Snm2ouKNlkEi7LDA3BRMWxOg7liSzEEBWMEMAswEAAjBoCHgsaV0Zj4UmKOaYHCZgQdGBQWISeYeUJvpCA4SxASBiEM/OyLDk5DV/t/MWQuSQolR4pCDCRJkKCAZ7RQNMV+cZr7b3RXfCLJIblLfE7UtfvDoa2/o5OEbKHNNeUjYydamR8oTV0r3cbTtaKO3NF2+5tPdXR/dbVhqe0kkVV1j4ou8q+UzzqOUvHKjwmXLtdpblCEpnmPFR2tfr1aMNi0lMF9oGuxU+6VDLfZQojs8wDBADBMAN+wxGjdRGEwDAOyUBYZCI8ADeFoJSoFqqJXcwAZhEAgAODBQ8OjHsDCRGwrAa934n61JyHq35440JQdeFyooyMCLsjyIlBOEV7l7/+5LE7ANX7f8AD3DDyx5BYAXuGLnCNkyfTqYt6xEqur4ZmWVM1S8k3W0jeRiFW6KKUKNXrt3h0l68TTfbjV6ghjeKvGUYvWPRVh+qerrCj33cLObauHwVarx3z+Ny5IIuVlHES3SMWjrU+9NaOc8yK1DSyl+DrwCMg/ZPs/3emf7RpZTImpsAEAA3JbCiSjBgIzGt2D58szEcEAMCKPyE0MAww3BkwRAMBBCGEEDAmb0YAkdBgxHA2Hoit9e1L8gwgVXWgoQzYBxyARwYRWRKFWzR96ZxYSUY6Za1C/AxVnvbec2V/7eb7OZTHqKPMgysxqh+ho2bU9HZjAUTU778ZiRUVVtFuXNrddfWTd0iPQMc+paGgPlM0TiUGJKOme2cnRz//DcW+lFr+IbMGmnS9nT69RntpqVgDBsAWMfE5k/Mx0jFjA9M3AoDHcw8DDE4COfbc2oUBHmDQYSC6cM3BIweNDCprOymwwKAUTxIGqWb7a8p0wlpZPbe4o9/EBEIlWHJJIIjYlYg3JnVEkcsw8glC1vbeS1SZlPUT1yuYbnB//uSxO8AGGYJAC9wxcLBtGI11JokV8qtE4pcxpYmmguoxQolnnIsU0yRQhDYZb4FlMRTvfJyeL3iaOSauLyikfZOSScRNqoU5QpGjnrEZPNJobabbmoafPFXXOCJicqepVTjrbLD5YpSNjIHVEyp0+9bUkjs2mGGLk3rDUlEdrRijqUGbTIrXgxAwHQujCBf3NWk4YwWQnTBALjAEDRECRg2BRljMRk2EhhGqBiUEQkCgcohKD5gQOZkMDScslVpRZl4GSIOBS4ZBFakYRDTBvP1LVEoWEEKrtWUhDrMoqi6vaREmK8+6KrGdZm0xkGFU8SVlQU55yaLmyaxmGMyomtEio7X4OoEKMRRWe826YKOVCRCkyjOecyBbxBpT6iSLFcti7JaRjqu6T08jCsS9JFaCfkH8wTVLRBIto92RIN/vlBPwQe9MYFdAatOk7xoSEndkOSSbTBpCeMQpg031igjC8BzMXiwwYFwKEBEJzK+1MDDUxqDTPACMVl0BR0wmCAALRLYJiOA+0N0szen7oTsQuVczZiB2hkDqFqLD5h8wP/7ksT7g1vaDPwvcSODNEEfwe6YcftZk9ZoeWtWoy2GEIaPrnL5VhaTB6qMq6FZHoK1yq5wvD7sQbLl5TLmyPhepHKPsxjTCeznhXLTsmbGpJRqrNmmpCtFVOl1FnSlJ/Ynt+pyTVILMzizrHc+bEIetOULUMd9UNjNPmKspB3RNFxZjJLHyc0IZUhg0gOGNABMeVwNJQSaDlkLEkHBcLiQ4kVDIQzMqzEysBTJcFMMC1uYoTiAtsqfhLNqU6RFmSUvLJuFc2XSky25DHNe2lWsJG6buDcLlqNys0t2basYvmn4XKSHMSu2oWsGydbXIVY2ujyoI6UkpKU1k0tRtv1+S07SPJyulJPTm1UdzYd8EvbTVwThVRnTF1XW8Za0fXjLGrbSpZJJWaRxB+1eVs/FO7e90Ow1qjrtCkjl6tC9nJp5OexSVcstCOFYpOzF4daHjivRsCAJQeTC+XGNsYpcwhAaDEIpAAIBIVMKB85CyjBJgM2KMWYYWiYQp2eg4JgazEQHbnFYhmCHAM0yhyb27sjz1a0NKwhJTs2nkyc/cn7/+5LE7APYHgcAD3EDyyxAn8HuJHFirWMtetqSBnOpZqovLpZbnTbNtf3sl/NzUFFuRXJ3jEvCTQZqBHmlmwkazkk9m0ZuNbbg7EYpklzWUlWHnNp7e26Ksc9p7pt5MzkDy9Sd9YrpmySrD/p5SEvWNKOYd/vtDXM1yE1rYZj26AunIp5iJaQkwYgtTDJcQNbswEwiQgjEw1MBhACA8w2IzM1vASzMRCgeqRlBXg69iILEBbABKaS46rGO5+tJCGwLJ06FDkYB5Q3dX199cgl6Nv/SaGhar/a+QJ6xtIqKi0DILOhLKAlw1tlUxz+q+oQCw5Z96tz3lApGV1FtWOkgyGmSgTyTckp1Ock8JesPwK1C3UUS6tPjSnNVGWozUDzznwpy0DEFbb2mEBrrGo9JiUqYGsoxvokt3wlXk5CgYRp2IOx2wTVaDpwFlkS0VvUQDBsBNMXsno7cQzTENAcMFIAMDAfGCAOl0aepgiSZjVmByqMIHY2OClmDgOIuwjCtCmfG1XpN00GRerbslJn01Zadtj3pT6iXdF1YJo42iiKi//uSxOyDV9oFAC9ww4sewZ/B7hhwdA0dacbOImUPhNPazpvSCd50tZgPwo3XdRmbUWqcKPJ5pzQRpMsfIgtbhWESsir8VSjLxBDYkhcFtQlE1XEmTfExO/mynzy0ni/OonkSGJaaiY7dFVJUdSyKLWa7Xi+6dtolWemPh9MhWarLXjFDiAjWSD3KmbMBYFwxE1CzkJJMMMEFkxUDjB4JQGFUCGpamYLWQJFxEZzGEMNKgwuOVS4YhN6g0gKAG0Kzag6DKysU8IMdc0zvUY6QGaeXqY5ngwiSLenxGqbkrIn6RSLbZzpkkpR2HHLJU1DsOL5hyOQdmJFbEQ0qtEt2g1F+QXjFXZtzZ6ypNW56F3jwfJTPXYgQMQbHY0nq7otkOiTAopKO0nag6xDP9ezITebZWi3vWc8wtinghZq0eWtR1UXfznIIL1HEyaJT2zou5CEwDBFCmMFJs0yNi7jAwCDEIuFAik8AgOZ+CBiFfjgNMJgYwDFgsIAQDQKAjbYMGg+yttYIrm46sVJYZzc5yW3GWNxfHkuCOYnSksKAXYYxfP/7ksTvg1kSCP4vcMXLGUGfwe4YcEJOlFVUhk5q4SxtONtpxyaW5N8zircF15vrJoE8Ta1IXlN2PVdVPlvkqhk3JnN2Url2GmkEffkeyOT2TtnC155eKN2wkul4tTnK5zvVjLbiZW54pWMpW32Gl1e0pGCNKPO+SCSq8WK20FN2lksP3FafmiYlGa9RnqWXB8U4mpQxlmRgzg1GKIe6c3wvhhzAgmjggKNUBwkagRsN2SguwAoaMnqAF8swEJKZooMBoE2GoWlKWkJI2aIrMY3o6fRac1I9BqPJW1GFHb7StMnN1YPCbGbDyk7rpHGSfdNPImg59QRyG1/KD0RktlFkCaMUeQuanNerMmXz27+BhRo5gdviMDZkpm8HK4x4hgfFkcZMobuyydGmQWYRs3EeG3NvW3wQUh9NA72XLewiH8aSsvfkzKSzZSoeYcfKT6cfpSNKwqpmFTAnAhMQIu44WhYTC0AmMpCwggSjIQY0dEPBlDNLYygQMLNQWMIDzEAI6gVT4fSBof1qdZVHzpaq6eeXu8lF1fcpNr9PJ6K8tyr/+5DE7oNaPgz+L3EjgwXAn8HtmHHZyZeF3LXO7hetGa24nn1sq9282uafi+01tx3x7Y29bGncQydjFQ0QSy+soutye4vlE6Qk41k80nTckWfmTr3EKyTFeXpcv2zWlFi87VUw0sw4t+Rm7FMyNS24YjGkaWVia35kWUXp8N62ulOYFgVJgNOIGUUYuYBgQRIBWOADMQMAUAAADWmDUIGFeIB3oruk5IDhAVYDT0VSqyt9i1LQ0tFSY59zncJVuk1qZu0EkpK26gwxHD/DoaR1CMkpK08qEjJ9s7sJndIQdZRSZM6xpHgaa0mktZxEREakWooZ0jAGRZl4W/KTQcmm7z1IueP9hOHPGSeSC6DEd3lnUopP7CelAvNkL9QRYUHCyhgEHuNMMSOJJVB8v4k6ciCxYIfYGfRGI6SbYWYyW8yGTugzy92QURJokYvopGv0CcpuMFoHkxA0pjfBHjMLcEYxgIzA4CThMFhIzR3jApiMhlEBXkwOxRAEw4FuWHXpCNrcM0Fp8vrWYgMiHLK0eaBCT1UDIlkWwy1vssNSXhj/+5LE6oPWpgcAD2zDi0tBn4HtmThSO4hKlGc42JotAHxyqc5B/CdqJY5kVDa1HyyNIusD7qW6iylFsSUTOqIT3RcsWc1JFUYsUdWjiCd5Gm1T7MX81rpZSElPDJdLCRE9VwR07dc4kjuY6HRiQKGtKc8GuRgOB9l0fjnF05sVaG84hiY/0oLa0C4W+Vrl6QhMDIYgYqpwfhZGFqAKVgVEwB6tKYphXifmCuAaYY9mlBYpCgKjMGAgSWiE0a3F2OPlTUVSn/lvCkz7b1Xt2qtPSZSvUZiaCB88kVy74owkgbh/NJFOYWa8aUUg+IVsvpXS8TD25KvJ9WGz7tSju9zpaKepMOn50att8KRfD1lI08qkq5uUUi4KBTCpXzfeMVN7uRR7u0UkVsvaEK2dVkGXr8tmhpPPqsc5izbdJi/B07rhR3swofGIrOo7EnP0ueRxqknw+gAkAYAIORg4qqmkaS0YJoL5hQ0OhagCXx9TgbQCmBWIJJTChkeugCFpMEbynw/lalmEEAP9KC1T4ikfM0meXbBRAlbizCYWUZF70ZJ1//uSxO0DWNYM/g9ww4MXwSAJ7Zk5+RaicQz66LczUCFhEQmjZpxi1oakHMJW5Mg4fGMQSzvlI+USjUTM3O048xElktl9ayRdxU5lQo7rO10DUILuH6DZlhXQX6hBimSZVGrLOd8XMFPoEekb15sEspzKe8hboTUJTGp8+Do9Ec3xqDJYzpeIW1Jglg+GFwn+axhChg/AsmQhwKEUIzDAM9tsNdMjDZM3EDACELWwKFBgyCx20iypy1KiYDUIFjdslJtxaSD/1OFlojyzkcLQXG7ETTFaShNpY0PSTO/WvETqdNkizGVll9AqcEEzGTgKs/lQbybXZhmUusRcy/kNyW9j8k/4XCKGxtZsHTdHyt37PHst0qeNF7Oc98gjrEUTFOapy1Y6c6+7wJbf9ogGIOI0uF7M0gcY4QBSYfyaGcs3U5L9EiGsXSZWIjBRAiMUQOM6AABgEOKPP4YWo1hACddmmXEpjUOceBmFPgOihUHJgMNlkB8NwdOVShR9FOFxPBZIkmCe6HJkXtG7k0ooswrBBxIzziyaIi6klCKPLD4BpP/7ksTtAlgeBv6vbMODB8Ffwe2YcMmtEKQuK3ludCI1IUB4T1PseGXAs04NLYBHpkjSB8JC6QyjEEGQpeKYwkk0nwekx5nF8D3ZOAliufBMugyQ00KRJ3Zn0gYo84iYCXuEU168FZVqJnq8k0+PwCll8wLOQDwLbkZQIPRgs80FMLdMuJ5xxdZZc0QBZQgGgvmGEnQbYRGphEAoGQjpggQFw0ZBDEcw00mM+WBr6AjgPBQECCqdmWIUMwMt1zb9yBkTvj9YFNyHTKh3nQnDCBDQGcjwhKaiLdiXZzAKxWG7EXUqHKgFKUmh2P9ZiC6xZqZKM662z4oJv4wMf+MrPSAfmDGp6wiRkMhjEh8wg9eRkU6QXdshAHv1uoULB6BEUThX/Ai3Pp02OKMqKTMa9sDyic6mXYEim7IjRZA4cooSahrryRikgY5WgSSGfmowa0J0YTw8D6mqIAwNAdzBrT8MzEh0wQwWDDB0CgAiA0djFRsxcdMSpDPQgLHwGKAaAlyDdg9SAIBpdOaGu+BhWGpVI5TOoYswowmvhGYySA8JtjH/+5LE8gPaAgz8D2zDgyVBn4HtmHDVI1WYn537jzdz6DaatWSbEI5rCyUy7fQronSh6cjS90yiV8b6b5yVhckUpJ7k14xxHtyuK8cWRpM25NbsbmJFb82stVBUUkoX1vSKNNS9MRZQ6ku2/MV8o2QxMq9lHcIbqdbUWDWTX07lRTxuEZ5lNr2ytBWSPK1xhBsDTaSwgwOALzDXHiNssKUwlwEAxFGhZLEwkBMLSzJiwwS4CEwQHQOGVmA0KMJG366+c9etSsN7viyV1bNMFqw849YKgo6j93HdDO8CPurNejtM6zW+TgHeUxyoVNOfklSXJKV9RBGHUmJxlnu2wjVYxKotzfxyZtSxZT1FEET6OiYVmmJszsjs5VEKVb5SLGsxE+S36eaYV2ytJvJZWG0XdEtyt1TMrdfJuUayyk4gDMsq54kqNrSiqxNGIEZSMA4CwwxTJTahFuMIkCsx4EDg9SC0jWNIBERm7sHghg5oaAAIHITTPwyDwsMEGkSjHwkVEGoYqMcupNYovs2mlmYdS7wijKNP3USvSoZYbbcw5BV1//uSxOuD2TIE/i9tI1rlPmAB7ZhxSOxsNhxle2PIGTRzu5UylhRN9OnN5jmEEGqfpyVmHSQgbbpGT5OIOkcrsZrj2XKdlyTnUTdPaEhVRdP3enlV2SlWpQmlqikW1VFT6+UQd9KJHvhjJ0p0SLoFwfA0kHj0bmFHEdw1cPF1SCRISW6VUwREowG5sxIYgEByKgQn6vJXBiOLJKF5guN40XINAYSGFvRwAQcHEhSc58U5EaSFnJtWl5OrrOWWITLXmiieuUCxcpFk4HkZIfzfBR6OnA6wCpMoWTd7k5vZ+oDLTliVQYRnXJrovJJF60avGei8wsI9/suYjGHwc7OSmT4kpGIJUWi8NAepotTnGIviSR1JPZ6cLJlUcdKWRRiUT294UzY9Metn7wVc7KEMzlPMMfhptb1u2pPtbtzlbc9A4pQwWwZjEUPnOGQYgwxAPzHYMAwRL1A4GmhC6ZiIRjWomJBOYNEI0rR4DAQIGFALgJDT23MugYi0OSpiCDKolNze3XQKsRWZipgoURmFiKRqCiJ5vF4QkyRsWmMDjDovnP/7ksTwghf6Cv4PbMNLCUFgZdSZ8fv5Zk6jrt/XcjLkaOF4btlsgkownpFaU1kEi8KMo2g8kIWlItvkLz3FmcWTWn5p8l7M1WEQuoZcusyyq9c667JjM2oCch80aU2j+PLihjoV0S7pMF14UoI0apO2fmRVpI+BEREtsUyUYyo+bHOFYTkkRkDV6gcv9moSpmrs5khgPgDmGgPQbaAc5hHAJApDEgQAgKUBisETQZpUebOHglXDlFIVEwHC8PWLsPbTnDVxGdKpQyENw4hfVXfYlxCXJ8soqUMneTwqKQazZuDDDyykNgs8qINPTe8lD88GvaVRTwm7QISM9sMTpzNIWDyRDJGKQIlJrLg5bkeklpZSsRKsegkqZeoouuT1ZVzSEXY48ynwvoFNFAVNXKuZLnJUxSUKtzL+V8svJYpKJw4y9pR+0HCzT8Pfdlwv6ykpempQAwEEkwa6o38ZcwODoRgWjoSACl6YSjiFA1MDBUEiKMAhPgVlypw4Wo3NBTCc0uxHYwQTTQx0hZQHWnPHm1hOdIlzqzC6rRcwYgjTQrP/+5LE9gPbvgr6D3EjSvrAn8HtmHELtKXZA01pxhYIKqIYU6aKBmBaaOWeND/Eu6eJFWakia8PqE415WGzLcx0oxuzGx78+fOMrDRCONMa9O7m810VZRWy1F87Nl+t+ptG1h0MgY2yUxweTCiR+Y1/Mlmk1Htkm+04xzpO8lVXZSsgtUkMWRMD4GEwuT6DWpGZMH8DwxwJBQEglEg405qMgNjP7geNjCDsSI2uCgiZAFRWYsJZ2MTk0gYzGW/NVaJRdd6K3JM3F+zWhKMUkTFLsEVO36gi9kPSerCjrk1EeIdcsqVRMJOWlkdT1k0eQqyTX7a6cmxHGLSS9ocFGa1BNLWVS7yeBxQ+iyzy8JYu2xCKi80KpZ9yXhkLwumtFtFUayTZa4aeYYZnJaNRXIx2rbUXkxTEceupDwXWvCI4pHpCNMgtiPxKGI4IVmjJRRphWSFiEUcnxK9ykDADATTDLCHNpMFQIEXHnKB6RIcDO+lC44wQYvUGBRZteReATmHCAfRo9i63ZNp0IR1L7qrUYw7SJ2JvXNI48iNoJIxHqIrR//uSxO4DGBH5AE6kz8tSQZ+B7aRoHs9/mvibWIJ9OCSjB+snm6735QbvJpclOzucYnVr15KuzCHi133L41a9IU4wUyUamnyq3uooE5ooYr4wVam1JVZ0tQViOpQTMec0Xx3rGY3FvVySoUg2UIrlkF2tfO3XW61Qai+Tdd8HtyXYb2HnO5XaUczr1sXFxlFQTDBpQJNC0cYwRQQTCgov+xQiADijMzAhBpYmkCCIOFmsEoIZaBy5KRqm14qpm11FspjGGEqXvzIh2BQ6qJtdQLjDkkCkjqJRGR69JGwheWFZweQSTYPk09mxkcZNyVQrWo5aQgSiu1LE0jNt7NqoYixQhbJcKqRbg03FvGWknIDeQ7D5G4n8rKY6TUlMOViR6KE2pzO+4Ub8YJpoKbxFVzJ2sqlClJzjCLC80a67LkC7R+bcm3tIWpRx+vZadJiM04tTeT4kliyxdSDUWJI55EVIajCcUDGbkz1ZejEINzFii4K0kqDv4gaBMngKzgqyZgymCzEgoHvQmxhaEEdkwrecimWGTZtdtja64dlELJlrVv/7ksTqA1fqBv4vaSNLVEGfie2kaDVc6mDVPsy1l1dNjJzGUezQh9iGzKPchvVkHJXHKKRfnr0piB0m3dJKur0rWLbTKqTkgLCRiKZKs4tLMkyv3Ob2cxC7SNzBeWyEAzky8NtVJV3CZSMs/TDDVWuEEaXeZacvaDsWxMYZJZpgElUtEWigXZi8cpM4SWlpgfgRGH0KOb6gKRhXABhFYeKlohGBC/s1SQ1og7QoBCiZ4hEk6UOKBLR1t1NLxT2acsVMtwMnf+lFzpNGO1IiQ0hNKrkz1I5GimMPORQEH1VGzSSLIM4rGczdPehM4apleDqlLe2giQm3sGHvLNoKREy+683Sqilu3YtsmUUBBUlRALSWQxSqToAgTCSqljMI0nPt6abp9xGUSFmoC1qbqNowjXQMTe8shuCFBaTT4xeii+JgnjRlaVqNybcoUo0lNFSBxMKmTCDESOc9jkIHkElEQqoKg+YzTMfyIeYiA0CiaYDT16kBohABWWGYTFrxZQtV9EDbME/p/lGPUHrU7kXg+WQE47X0ZMh9cqVHfnR+h7j/+5LE5gPXFgj+DujDg07BX0HtJGmgOZqmqS8dJyIsvoQh+T6pM0vTi8q9IaSxONaEcXjzRmMxc6sE7VOzBhmKh/sJv0TUZSmjtdLcbFhuV8n6oo69xHpbqONMtGNRtDrF0tLJs79VE5UpUJucRpksJdzVltkY2Ia+MzJTuvmxTQqNOecwgFcw3/w3TbEwhEAEB6NxUAx0GM4FQAIhaJUVES6OAKumBDRHPq1iHVElpoLnKpLRZZZbYjro9VlAuhRTRpIycQMqvjFS0ktlG4KMI11IwlIiuqVqloP1plUq3KMNNivqZKMLQrU9CSxOkFJpShhl9WgUi2QVpdzWLLrktJPsvA6IizmI1F/tjWENJRkhucp6XtKbzrS2UnCEKQNtJJwhEwrzmrJyQF02qlztosittWfpyCS8pqykcXifVySCquCkJJMtxUalvxmaN88AAAhkAAwMALzC7IINe8L0wgQEgM1Dgxd1Dw5roBBjIUwj2FppEzSYql9KfmECHWVVMuCCUlF3QnR+5vXgobDwqEINKhfH5476E5Unm2ojfLUa//uSxOYD1cIJAA7ow0svwV+B3aRppGnrFZFiCO6UZUludaSaJnzZTchkhQ3R/NUW1C9DBRPJ4cWVTY6R5pVhA2inWIM6NOaZI5Oz7k8W88kyw2qrGKt3uaTEGPTYjsklNYNs6dvFDTOzRHXlJm4SgRdJlaC8lWLj21FtzUshS6V1BAwg5ATorlLMnrCznNJxOY3VYthDAGAKMIkec0zQ2jBfARDjiNbFSAGYLmDAhniBF+Bg0evxJghWS7Cm2lEDaUaZhD6mp8rMUjsiZheocsuhQlWdlB0EciBWNxha2wUajUZRj5/U00VxpVOW5C02lXxpnaisrGevM7B1J71kTeprI45vUuWsrx6Dvi5a6zIz6OD01ZPUWRJdtDOkl9uKSpfUo1HnIyeS59TRY12r1BTudekxii0ZQye7WpTtnJWm3kIe4h443kzFpvdFK2IXC5pI8pWB5JUAI0AAYGiYVOvMtWSLAcjIGJvtEBQBmDRIBcLwaSBhKAxgAEQ8NSjCNzG6zB8faxa1sLMMGT0Gy0y9KZAVtFOotPDQRUKyRHkAhf/7ksTvglo+DP0vaSNDCcGfxe0kaBiM6IFSwpWJnRK434449BQgIwUYqTSSOG8R0r5ZF5CiWEHOW1JDFcxoQuKIUce5M9yZnRIQiaPOKB+Pk6j0XoJx0iQeITZBr5YIXhp2nIwmMESQPBhBgqaMR0265Z8d5ij7xIh8J80k+mEzVYaGDFwieCVVo1kHwi4EsmSPQZHnVrPDMkuk0G2GCYOGLjannBSGHQFg4CmCv0tgwTE0wWCgwFE4SBQhBxA6B7xQD1t8r7R3m7zTtnf8OkLc4wxlIMBMBGJJ6nnNri0J6KpC1iC45WCAbk6Lsgs2I4DvRgoMiqClzkKY4RwaBIzhAI21Iopif9ASplRPyRlUiMQuGUGKV6Avg5RV8MHih3ZnMkscRjPhB2INeTLiGgH0Y7qQgqpLh1CHKyLVKWHiLI4OjACGgHAXmFEJIawARpg4AAD1aNDN07j0UJrxwkJlMOBVsVVTSMibWLQTSkYQ/XslF0k5zeQK7Aqw2wqgtyrjxK4s8mhMgVUWPDrBO6rim8sKmi0WGJyL3ImLqtkeGDP/+5LE64JaOgj8zqTPip1A4EXTDekELfPNyKJIek5yipmRpR52ppN1qarMpNIImk0SjCAlmrRjxWTey2/WmUiXd1C3K1WkD2yROa+LV0UIG8fJA4qorpvS8CRvYYosnjSCdIVoI6VuZWaVMI3LNQ3TOoFM97aqLsTZmqwhhVtMpm3NjNuaisegIAgkmGnWHUzNmDwcA0ajYkeiKd3oYCyMvSaAk2jSx5tCahQKHW6iwT3NknIFnKIYv7EnWsq3A/Z1pSGRxeWrr84qy10lbW589CbYw8LoTRxeaLdggEBYbI1UzkKVlD6ysmJGUmTRgjRo5Ix/NkQRXnGVzRRPYSwbtjQkSokTFWlBQoecm7GFp2g1wy2dQObaWZSaSOp3hmoHDsGU1XGTzG3c5tMJJJkDDKZo5Nszq2zYYZXnOEpr2ZaSaeTSRMS6h5owaQNmULS551ibBVizpwTZxuYwgD0xttY+LSUxHCYwIANIZ1aMwmKMECwdFj1RWMKaaqsFQ6JTZNGiBpA3NqD5XiNJJRNfGVtd49md63s28QrNnJ02mOQ2//uSxPWCGjoI/K9lI0tMwZ9B3SRotKIEDNsoWULGWov3Oi3qK+RzlFKVsvUVkvGd88gjBWlpQn2FHwNUlPFrRMkbVoXNKYulNifQuTSSYa2cGW5rS6cJanGC+stNr4TncsjtypuOlW5vb0gHG1i6qXglOEesVlGFIHK+126ivCfe3cCjaB1+K2x3okWxTLrw1dWUG5GIlAcBKYQ4ARpGgDFAWY8ZTyZynMSWAarAqlTUVErrjzRxZdI5eExaDPQzZcozY0wgmdW7hsHLI2+ESglySZailrxAzMuVoGO+leKDTiOnwUX+CUtIcgW+iU2Cae01nKggVOWmZ5k8041bGl5CeQmgZboEniyrNOUQ2Fmyt80E7r27x2cyTjPZeUy0ub7AiKREwsye0VT2o6E6/N0MUejSihG2f4oT8QuNcmtBN5ZnYh7ujg+65FIpZToETmrACQKDE+ozz9JjDUIzABFh6RDEw4MyQ0Z5hyt7iYO6pUBqUXdBBVSy7NxTQoVmECAlJ2ybrGWTEkiXWsV10FfPXy7dRmopL0krz50mfpIhhf/7ksTpg9kCCvwO4SiK6kHfwe0YaM+icMJKIyc0iYmjkyVxJJs+ZX9bU3W/LmpZtrcLruSgj1ltFfIZPQuUZZnoikzrTcljpPd05hBFlyHtLQxq46upJqNpr4/Ja5yPZNNvUpD0lFXF12OnJ1PaZTurlCWvNprOxA9cmQTSpOidODU/TLJiMYvl67k5IoqyMFQ6MPrjOMEwMJglMEJSmNDBo7CMpG4qP9ghYoPgprI+BFCJLxbkpJVeDqXPounetxXkuzspIZOR41qT0TUI6eXybKhMzzVNUpBisaZQqzmp7rYeDUYJSUkinCl1mVbuTMcjFJhhzeyjOK8YsT5MWhTDo3zLlVKIxGkUVkkmsw25aDePnOF5bCQo1eLGI9xlKR6DiKBKq3iN2ROK0rBq5yEzdKNG8J0924vunqRaaig0+xC8gVpZHBJqaFAhI21ZtOatswpIsokpMCUBYwohNTVSBaAQbokVIwtTgozYmBAmY5BGYgRYLENmckgAFAOUKDzUJiJHWPYxeD25ICfHQoiMvNlpzKs/ZldCbFGEJqUyhm7/+5LE7oNZQgz8LukjQyPBX4HcpGmghRMNRSIVwk3K4UiYbXWyC3KCPdL3RongpD0qSLWokjaXYX4ktY65i7XcoqhztxIsVbb1GO6WWhs1IU1sfStYQt6o1ixRbFJt+E6INXUNITDRITYOQJMLGCgoOJXFhqJCvK5uP2gxbcIkhHBZdHJotJkggT524LChxDSihA2myVkiu+n9toULHmSziHEICmHSmHQBGmEgCI5uJL4uGB8YBgIFxMFgAIQAdS3mTAvm+tdRBlplRrNOx4t2c4suoNS0043EX3t+DLTitJJs+h5NPSkVTqzQrCDQV0jflRJEV9WtAHkQnd4HfAUSxiZqLRnDu/ToN0OgwoY91R2NaTjqCYWNw0NRZrwagjIcUiJTHELGMkGMGcvcCJVBoHCDrCVXWA42tDB5O2yJsADvdE8SMBkwWEswZ5wzvYcwNDoKA6i2aVxiUKYcBmNrg9csiKBCGiUJFQTYPEh5QnVkWSUICU01iEmIiFLuYRpJQSIh+E5RKJuSKMzgKyhtVmKZxGiuCUBlhklQomyd7Rcj//uSxOuCWqoM+g9tI0KaQKBV0w35qJIaTaQKIBWwrFZtJZJtvWiNNAitFJPPu8TygqSsIeQn+XJY8qocER2OxEpJzSqjchlCjyDBokSPI4Il4lfWo0E+gSSPsXOa7K9qh9ijYfZxZlZyFpeLf0ZUaIT8i2psF4vVYV0kYnMRTs6ampbBp6aJckUONpSgSi6kiBBALzaS85g0DpjmzB/iSZiaBAkRVicVnggvPSFSY+FYcRCIPdwmiQcljOlVYMpRUWSVy2SBi+vT2K6bTUJVOcUTLUp9PZ3BBIV7I7WpMEJxSqfJdRc2yjTm3Oqg35XstQKksdS1CqzBeXsRkTMkGwrV4yUsqvSk9WXYyalP8SSDS8ZxMPFKKqTmbYIEU7ZvFpIsO5F0kc4NM6ofteMHroEkJjqXlNpPUOwu3FGYMrJq3Ao7FpIpLCRyGNOiynUjTcSW7potGj2KNu6JvqQVAwAGNqin95IGJIBiRBdbgKUmDxpmkEkaQx5C3RAAL60hBImNRiEVWeQSoso20YKQA5ksn79EkUTJIKxJJo1Nk8FSbP/7ksT0A9umCPgO7SNLHMGfgd0kaBNE+rN/s8qq54bUkkSJBEo5BiDEkmqyEKSr4ecDYcrllMSeTKpbk3UHLNohFvKUJH1E4Yfi1SjEkJHoWm48qCzCZMjJKapgGlEscfaaGXidqSLWtioQgm08Wb00klayB3SgoUdKayRMgZU5JRdkkxIEWIvAu2PTBwMfpDSzrmcCQoAs/mfqGCEHyAAxl4GtmslGGEjDlp7CE8a8aKH8PF1Fk0KnQ4vt/k5hndXgeRsygfMk8l5on6gI3bEzix8hBxy601Uo7BRqT0NrVrE4t3SVY9Cg7FTZlFmRK0TY2uom91qXOSs3opSlnUmrF+ssb19rZdlJAuzMwg3G2rjGbc3sUtBpHYqayqejKoFo05iakWy5uCstUvF8OGV/JZvzTYwgkgZamGq+xJ4YieSsM0ghBca7MjimpqyY8lyyqBhTJL9iGtzVEAwVCIxWec8WLww4A8HBLVc9lpG8FyjMfIrlFCISNJtoSrZ0lchvYtt3QlI6WxNeLoTR32CLn05UYnZEkRYUf0cNeoKVdiT/+5LE6ANYMgr8DujDSxtBn4XdJGgSRaojzzQIIJKJXcpeUY+kbKWpKolyRVZ+k6Z9uNPQz6bLmt62qzQVUY6gRlpLoL1KewnBOMF1kGIG1e2dd0E3lSVtEjkJTCj6JD8POLlSJBC0VprI21l27S3YodLNoUtr65HrcoX1JEiJIur1HSnLprMosd11IwlBWNfVsaOok1pwlJgKMXBqPXgzFh0JjtWht1Dl9QZa5N+TkSZt9ScFJbbMGrUUbk+OqnUNd9KSYQKRk1p8ZiGlnmTKVLNyQ2TqLrOVZUL9k1c2mCGR2fQZBO4cyhXm9m8hnWuaq7eIWNIl3z2bKxSS0U46ik7EcFWU18k3PGIZ7njMGmK3YJaTXHdZpqGRktS6rs8r9s60+Ou5qSqOPtBjZ17Mme35t+UGq6GTQ69pFySOycrIqyundrq5aaS12lG6fJHFNCvI+qoATADAOmEEQG9BzmCALJzug3eSA1wq8KzKRjJ08IuoYj7SaKoxfJ3jcyTWrkkXoWMqOZXimUUOUqykVXjRJOaorR69dVR+xR9e4KXJ//uSxOoDWRIE/C7lI0r7wJ/J3CRpObRBCz9wJWUGyxvaevSHW10bKlvZWTxqfQL3rDdqo3RxJOcjGRJqtATaRso7guQ7BUtNS7xcwJV0FzjiTmE0puQFV4Nrzehdis0LmGFZEiNRHKaCaSBuEZvyLSnZkqTLStSCb3romp9NCrCGCtBIjpEszZyMUFLndYxmHUWgbpkEy/KKYCCpiXFHo0yYVBCgrvP7SPIIQE0weF4oA4zLW7DwPrdHFV7JtZW/FNSRDSStoiPXoGFZibSUCHiyYJqLXY0GwbBUUEQWFLTmCaHHWhAZWXlSNA88kxo4zy8LOILbU6l1mvDOwmbJPZknqR89HvSXzIBiui6iqY3tesQZsWC2kBmW6VlPSNvIfobyfRY5NZE/SDlJTJ0r05jKEpApR+H4aeG72pLIcqyS0Whfc2oSo6px9PMmzMalu74hkosAIioFAqYxiwG42PEETASuN7IPMAAFHgPCgTDwHFgC2nzCwZb6vHMRQVtyi0rShFZFo/h+0/kSRhLfPSkFrazCDNRUTZ2CY6jb6NHWVP/7ksTsgBmCCvyu4SNLCT/gGcSZ+cRKjKCiZENIcc4IZ7PEhgtTZcw56Y5nECDTJomyROi7IXiZImxE2Sw2fD7SXyzixqKSMxNH1zH1FRZMmk9WgHWSw6g806Hu8sJDMKWSScqWZyaeiTyKIUaTJDkyKZJ94LjpUSIRPSQ7KO+Zy/qQsHLLvYwWUURE0dQQTtcG1cqiQAQxDPz66GMIgNYRy4AXchyTFEYiVgZyt7CDUaJCotacFXKvrJG5rihG9pqqOBmiGwomydkMhkROjo+ZI1lHo0iUVFVuYTfTimdOkjZKjiii0JSBFSyj4J0biFJGXdhB3XJoKH55RyJxIjCytYpiUUe4G5qChrO5LdZql/DB9T+NqblUjr4kTNClJLLfDLIW1aniRC450CkPPUClJRPTOghJNzXbXcpRyGr15g667zRh0kEsy++xtao/WXswLCgwekM1QOowOBdE5nLcn2BoTCYGgHwIcGhSl4EFaVU2bQqvz9lasWFetB5Coqo2NUhZNSaWbt5SPWgzxVvm20yevG2WF1qUNrYhRKsLLE3/+5LE64AYwgr8DqTPyv/BYBnEmfA1kC0/TcorYo0OrKjU2z7LC8CRJxV1NI3Tw3qEruNzpeR6DSuoYijNNIMLtGG0SSBqkS7JEk15uTUXyRthSbQErXrBY+iUKFEKBli9YMKkZrqN0joktpjBUkkqswUb0jUZOqipq4IYHpo4IBNOL+qq9U6mtNGKy6xWQ9NRdIVpIyRsMcYFgIYpG6eDB8DhtQicVr2KCUQNSpSgIRRSliSr8V2mGl31CkJG2rSDT3qJ43zyJEo6YeBeSMQOHEziziYQp6Gl4FoUzsVEKAoylSk8NGW10Dl5LSxlEzKldk1NkiWj5MXWsU0xmNI7li8MozBsowpPsLE7Kb6jtRminBDaG14oUy6o5raJllaK6O5pXBGsfVlv9tYu06oRyMSp7paotWdNAqkVxfdhsTSdQ5SMoIqe3FVpToNvuutYMMsHNdGnwvXZNa0KWoFC55h8kR00QIGEhHNrj7qHAAFkyl7MceBitQ7HKNPA9VOsaVRbekCc5jWt3vC7AoPr0VL1XmB1V0cWSufuqUhiYxOB//uSxO8DWnoK+g7hI0sSwV+F3CRoMhvg8oGVCybEAUIkKNEH8nqsYJpIGzZo+soJHZBhnWjmVytvQSlIbUQ99eGTUNoo0pJxHUrKkyaqBqDC3eFidiWKoSRNo8sLuags2WWKlFSqBjaTkrDE4NZaKcZjC0ZJPiyhjFnW9WY1WU/PWV9cxBjzjGcqeVklJt1PmqhXYQWqqyw5I4vdxWToKAEhvqRUEI7wEqmm89M12dMFDYtBG25wjVDINZZ407WZMxKRKfCjsQ08DEgQ8GJmBJDS5M0ScjZcmWdqwJHmaaTKiycPQG6RMKbycGiEXutIntqIMQYQdwqQckD10BXTBubnJOvxaje2hAsLc6YMXyEagz3VbLazmqPBiQrBRC6LZI8i7QuLmt5w/RKRv6L1L8wc4TldD0UhK/jpWiAMFgfMbW6PnyhMQwKDBLBmKqSOw6DDpceBSEuvWXvwrRSFGAobJK6FtWHgqnNJglExGOlUUAPNBQBwbgRAiMikjBBIdwPa0Q0EyJCQbGYlGGzJPQiMkSCUDNa22083EhbkzM6KCP/7ksTpAhoaBPxOsS3Kazrg5bMOOaoTsZUJSoqWUIAodD50TDQIxRkhQ23ciSdL6mtIjIYxA0ZUaMkQ2Qqtg0G3+GIRx1FVChssuH0EUZlgVEB1GWJemJ0Unj40aZTWFQXRp/qHmWZGUQmlMYC5CYVPCyrBHixQxJ6hXBsiLlR8jPMI2XIyx6cx62JWTSIVikFwtg+8UJCDCySiNBh+Tp0qIgYJ6cD3YtiDXgEkkbLxwl18Yak9cpNJdGYWkVQxBMyPqZmGlMeKSMIxQIHXqiCFED6PKAjsLRPMgWkYQjutAupIRXOQIFnFaHFSfVMhQL7xJNNAgBWvSnpFaCz3KclpdVRYNZKyiB1/HSTNJByd7llG2SRPNK7J0ZhBTJlFyJZI9a9bnnAE4Dv84SU5xJQ88cVH0KyXYThZrHKTOYk5hiHoJHikFAzIpJilwiCqOxR8cfhgeDegahWFQAVCABwpt9QBcDqOQG7jIzCwjMAA92F/oMoE7Ftb9PepJqqpPlR1KMWf4HomkZAEkKIReitKPpIxFEBlOYTqzyQ89PuciSH/+5DE+YPddgr2LukjSwBBX4HcmGlvgG6ykENUOdG3SPKGmHk+gQwiUaCRUmn7al0EpHh0UVjiRpNYM6LIHECAym2SNlgNYEmR0xgnlkPXcshRC1m3SZiVA2rymTCjkBh7iz+iCoNJZ59y8Ki0rJY1p7jmg6J/11hKZdF4mhHSHnkaASgkCwdKoM/QpIeSNjJPYs0EQ0wJBgw6ak5SKAwkAlBZ3a1IZGQKDCVAziKFAedib4VtFLKaqMT9uK6BAaBZCiRsMEJdgmmsFWGCLQ9MR0WCmlx4UjxonbIU1YkKNCdbEM5wRz9liUCkCxtx0xGEWMXRdV/QlxUXQbw5bSNrrviXXKyXFl5NQZXMQsoVNz7QPMrvtQs3cECdpfUWYgwkO4u2ULzXmojyVqtJKkZkLokojDC6E40FRLA0PNaMG2NWQoEYfZR3B15A4IZnHDp69cg3zKnuq0yrqNqBpVY22qRMkRNBJRCRGzK0NzVIKlfGJgAfSAJQJFPyaXQ4FgO08EMEwRg27uite4VblS75bdF2bryZLlqK7FNmPzI+J9r/+5LE6YNY6g78LiTPA2fBnwHdJGjMraOiT0Ky3ZtYt4L1KfN3EE9zUFFSjc5Ul7u5R+l4TVjTKHxFdoN4eTjsT3NleHlH+q7UV02zKj7aO/OSp4KPj3MYXbsnZyzN9ailty+8hRsyg6Gt2TlXhRzR3QSjoJNU3GqjGPuNcxBOLu2JCCqc05gIyFgFmFrMeIS5gYDLDvRlEAUJFgKrJokomp05Eh81iBEwy1qBulK2KhylpoiRFBMjGyATI3MgKoijxSiiwce3MwhJBDA6yZQWhJfOW1qNuB5GhbkiXRFOimntjgpVRSgsh1yNHIwouw98UaJLFYSYk0WSaVUlUiakc2LYmdcgihYrymlzmSnKak/Bshb8TyBJ4meqUVVFAlFC0Fi1QaL9OMF4rzN+mCAgSNTxRXCVY2trXxEsqm6KSCcyyKA60QIjC8mlEClrMr6fIEaxpJNcqjX2BlBAICzCdAONnkwKAlyvtKYYhxkxYEq9UCqemstTrlMgfpCUQxqbVKFooETjzYQpXFE0IWOTUEhUvEoiFABzwZhESLA4/DpI//uSxN8CVGIFAA48yItLQd9ZzCRgQQmWcqcQhQ7AVoXFmFVFmgoTxQtt1I8zOkl2k5qt2zM3ia8Ci17JAef21nXbMpW1W9VVB0MXHkjszOomUHRHkc8kicZQNNnyYSjhSnJoYdbqPZNrNsIfL6sQKYTqGzLIpIEUUno0M2miF0aVokdKDqqK7dY0hNm7NnUGpuhHWN1ha5sIV0JRAwDAAhFE08Y+uAR4VMVh6QuGkG3URBdUask5vF1u4tSrzqMrTY1zUhRfp8mDNi80g40t8bT0hx0F0juny8hLCYSKIYhpSjEk9zuhEJuz2zMtQXUHGFwKOLRL5Ai5vKSPxOGtJN4ydpJM1SCEMRnGO68dJSikq+PpkHZps+qhhkpshSkneomU98X0hxdYniSYGmc1NU05WWySVTibq7lfSduWaii5PX8t7Ojk3a33clFqACYAwAhhWl5waQBgqAKdDrwdD43FKx+SucScygp16VEb3ImCvYzX6wrWtXPvYO6wG6xqBdWxwdWSI3Dqh5xKPiApYM1R+mf9SiUxYqcN5RROEZ91iv/7ksTqghouCPxOGS8KuMGf0a4YMDjSk7yBxGtgSrI1ap35judRTdDjXFdF2upXqMJ2H1pMOnDqX+2rFXoT1Fp+uUNsoeUabvkTd7Ma46rxdLeMuqj5SYKkOzNzxIdOP8ePrHso/FeyhamtQ/PGr25YqWrWlq/0N4pq1Z8uP3EUGFrD4YPULSxu4kV0nr0Ty15fx087Auo0tPmVzqy61hURgIEQMy8YEBLtR2a6ZULWKhFGb7yZzTa45OQ7RFn9XnzJbKhOzLRJAUGL5+phPfDix9OZDUh0JiCIPrGMxs4234NQXJE3KX7NQkp4KlHUUaISTE1OEIKrLOOJQckpkmstnungwpF/qLh6KLezaZycrLlbcUl9Yi7p2+qMbr00kbOFHIoYPSQKfW39R7Jo0eXFNZE5iel3zibG4RZGZTuHi1nLc5wjeh4v46SRTNUwMCM2yzkgOgcIqSUtmn/CgQqYhcFGPRFoM23J16GI89tbtqTQisuqycNQZ1KBrSBgSRbhychRsEB9sq9rtoYnDrGWR+EJnzpKhP2wRRkPGdEo2Sr/+5LE8QJcAgr4ruGDSrTBX8HMGGkmVUKIjUQNUKmTTa3QlTS8tgyT6wbPNL4fXLY5noxaV0wGRNOIrwgRdu12yIhKXjdroulHH4RTdB+F/JsrNZCTpWVtC4VqNmDXUZsmHiZGaHzrEF5K1FZjFBk+wwiIW1Cu+R8wZxRVUgs4sdJvJgQG2F2YkTC+qMmkCM2R2w0sjeLJKDmJFIfYIoYJFY34k8GDFGAEBMXTeWaxX9beaITija2wrSzbO72ImVGmpnV1UQeIyBuem4ml3qtELJIQKhg2hWKsSXiTUugK5C5qKOqaE2q1SsE6+SDknICdqEVBQUamSSZX1tWU1IfY/VEeQRsK2cQxLEyGasWoqopqym7UktUYOTxhjTojhFqEZmJqtQQtL1bclWyMkWllzSbQDMsRNssoWqSlPESSJ7xMWJJSmavwQLlC01pzkbZqpnlUzSiAhaZTYLtEjCk4smVqcAUAZBBjZZUCnxjlBYLnucvhtHplMsGwxH3BKbnLPqmzeajRmkmjrJMiKwJe1OBdJkmtzbMsBA2j5G7UBhMo//uSxPCD2sYM+A31IYMvwd9BzCRouuRMKKN6jjyFSQqg0xJt6qHKrFW2FCLimotl5WyWtk1hgY+b9Y3wWZeqtT0EtWmrFo61az0VM3K1GIMeEJW+WsSSYjJ8y6qznsrNzjNQ6aXZoqvcZsqlttISsPORmyiu1YqKKt7BpBOOui9KKzZu7ybpQgsnso0g3DKBqSI6hQo3gBKF1TDK2OqjkMCS6XevPO2aHW6ObS09fTm0mq9zPcqs14rXB0VKOI9RowNGBZoLFcaUVXRqI7fwHJ1BEiPLT0sWRK4bVMx6m+b9tHhuJlC/Eci7cJ21OCzWo5womkVEe1RhbYzRpMlpRzoE0xxVsgP2Q706EEKlSVWBSeWnd5cAZZhcQYQ77WJzEjTgNA2g/MopCiTyZpAw0zAUuzswVOByTp5WXVMYRJVCZEitW1JbF8qzD6NSizTK1JAODCBpNJRM9mAYoaWGfJDhEJ2KRqMTSwy+lg1aSA+uMBso9ARTZTa1nTMmILPYggHESiyMKoDBqQpCg+dPk6hG1NRCRZKVTMf6TH8YQwdM9P/7ksTmA1gmBvwuaSFLC8HficSaeIpNAuommnTTazLDGmFrQrKFESJi5ELRVSajJLibE7dF5lqbDKvXRZ8meX3zJauKiSjTC5CSQJ5KptQYlOmCojUWbZKWaRRw2qcXQj7oRKYwNId0xRDyRofQoVCFSLsMRkgI9uOoGSqxGhqT+90UqTJ4ymK0Ka4qScfWg8WiuxaEkpebcg9D4E/Z3rAX/cCvhbSFkpUEYS9EqpsYGp+mKtRAPFp7WnEElrCemsBNZAkFE4BKJIUcWL0hBDNcZ8kKNNIUiEFo0IwEtGRKmGXLNqHUppkCK1NttkiRk8y4mZVigZPnXJH0fMKrJtN0nA4yjRWRk6aq1TafCclU3QOLqf0zUULZk/a0UcWl4LVKZRcpM1JxEozaGIXJGjS2rsWrA0hUIb5C0cW3EowPtpwexhPZ8gxpJa1GLx6yiGZHBqcWpr0UbRF2GInS0SgrXbmqLdGFX59B8GALXojfusydVP1i7xRTaYAnRp0pqNQPBY4c9yipIC6ezhKtSvmoE26kTI9NyipdqexYrJmbWnL/+5LE6oNZogj6LXEhCyTB30GzJfhEuzCkb7hFCVbpBsYLfILxlk2C8fKTLsRq2xJXZqJUNRPoZTgqzCNa9df/GppW5tHuQhibpJUfYnG3oV7yE17dJiDT9xYo2QbGHetTK85otmvq7UHYo+O+SB2WbFN8nphRAnrME9qCXv1VroJr4TpvrFkNlYoZKoWSSYYDL/Sy6wYGkealjCrO7Ltxx+Gz6g7eGbXi61ySbSjeNVCUrSsngRkKzZoCd6E3qap+iJwjgT2rIdZQJj2VQS6ZOJyY7xgGEIoj9PsUC6kgjbnzDoIH5YlTkUSisocJjSQaD8tFyQMSJucjJdQhV0YcYrn49YJLdE7oQTMRRPTUqiddSGVIS8wXvfGk1rJpNNZRbp4cuE2q2zGNnlm1HfcX9k35ra57zrwqvd0ZfSP7nMPJVQE003I3YkSDNjEx9Bw5G72qd5JKk5LqGQ3VEca1Bc8PYRomr1bSI5I2mQvjkpFnjgJSA2yTCI+J4tWLQQ4SpGGkZWnmtgtVGQ6WIkr1zikZhFMOixZei1nKjELYi2sB//uSxOWCFyYK/A2ZLYrIQKBltJm5GSRktFPmNhhppijDGxGrc+yjmTAz3wXnlog/Cr6bnLzM+LOI07tRHyg76jKnZ4jxHrK6saih3tEsYNrrMpVIEFfZIUaQArSgAIBpgulG6T+YBAjIW7VX+TDVgEYIU8mW2aQvDXb2fbEtOcCVgoq3jK+dKRWn8rn6fSczBJJOo1OrherSHqk/FC1J+GXVqH0Yg9CAYDhQo80QuKgRLVwwGJGHN48NEsTRfH0QS6pJwDSc6anZN8+K5TSLH1a9QVYTFG8wqEtJAZGTdDkiNVYXHq6TGjNkM3LD49pzJOta+l0pOPl46yP8Ck9s2iXRPn5JpCtPJTN1ufqDw4dUHZDODwfETZufD2vPSsfsGa2MnRGiAenV2jUpnVTqykfuTnK1lwu7GoVwz/Fo7iWn7AloZabbQjk5ho1BAcLcebxIlaQ3zs7jTXmVAACmrqRa6YCPBMOq6Hb/Mn8iU1CXpqZ40mdNhhcm0CptLsGJCWy0+rj9/3kJ5z/xt+G8UK11rjAyLs3MNdGqik5zVVrl5f/7ksT2ABRxow2spM3kB0FemcexubElvDtK6YHXWrl1qVxe0WcMQjRSsLPpAi5IQeMqiNpk32c08nU9R75S/SKT74Ordnqyi7pHJKshJkl9jUPr7pfOmSNOJRbTnK2SWOpaSBXrNpOD4+xk9K0NycXrN2aP4p+zvmUaa/hmx6iSowp1mkGGVedzIwOB7iW5RtPdsKyX5C0nroB1LcKy9z9LhmyTnzKCqCetPqq3UJTInLCyibQ24WFKj1iIE0iI6uGIRIA+wGnY8ka5AbVXMjrzZYgbPmFE4CBAbLk0Q8gpQG2A+8ViqRP3EjC5gyq/Bx4MDxdCumQEJA5FKplotuIYC0QEZODBZOALEsmiY5iOCNGGi6KbU4rhYRnlaP+ZxbGXqKisdXPIllXmYahWXatYlW1DS4yygYHUYneSHGEOGVBKjasbI9QHxIRk5MicXOpCp84jbc+i1iCqzAkH2TcknSJNIUwzFEJYEeoVy0BlBNNbC83WR2bRytdpCiusnaPETeqH0D0cWU4PQPRMKoE2CZDBaTTzQq46WfUJ/zLmiyf/+5LE6YIWigsDLbDRy33BXsHGJXEpOHKdkVYIovJXLIIrRcFGFTLaTFEd5NeTFsZLW1ThZJZRpqOKLQPkC3iTLMO1BpREbgVWmbXWfOkU5SkhE0mDNLdmDUEPWkPvSh2UK82W3PtAeTEBApS0CqhcmVdBLyatlZ6qhnU35iJCg9xlZlaSrBGKcHW2ESyqDJs2tMmOntfA01WqYx2s4oGBICvdFT5QC4hfDI9i5MgQsKEKHZiKbI0uWnApEjynPO8WafqCmkK6qyhPBI0cyCxFHFEOcaTbu8RxqZEvyFPksUWIJFZTkqZWe+1YpIyUn6LCyXYIp4PoIm3Yv5kS7FnTUFDtrWzNomJBQjJZW8ke9uLEUCN6modWi9rrdemZv7fdjdWPM3tQZoo4iYMkLK7Mk3ETa2nCS0mTiJycjeEhZUhlZQ6iYMFn7ElJVk4KtrodMTKTQJ0jIp7bVKkMw6oALwQ+YMbH4CKNEjsVohYjzh4SSe5N1L0zGJrx/LqKzxe2xGpaAhJU3GxO8aYcjQClEQsJl4iMnOidCuQNkxceQJAe//uSxOYD2GYK+g2xIwsUwV9BriQJaSjj7PsFkQg0BJjgg1PFi2KXbmQUdCUrMOaCthSFEg7podPsccFo7diGStKRhKT6CZJ8qKnwQxKglrbQCDjnSmXSZRZ0CBSQKjcYtjQ6Za3RWmKKIQiiUckWwkpikjpEopWPR6zP41IYLRHoLQht5xSZgqOcNZItatJHzJg7TXSJRUgojPDtpA9poYhHAODrTAsXXHCzysBrEZg8iko0MVFaaKKNfbYMqKjTCRNSFxc0RzaTEJfRNYpIEbMVUn0KiiNRrFFpIWmzhKWgQJk8OaxfxI5SojmYx7RFFzcaKtC3dM03S8nr/DMeKcNMCkqVRkxIdQuxWGwQXF7SyJ7TNusqyn0poFBE4siF1ll0ZhODBVGJrTQMvIy8kc17dNmipCswMEacYlItKks1HqJkGr6c6jBwf/F0lVVhWiJZKkRpWK0yY0ty2HW4kiaSYCAWY60ZWsDImIR4CQioDZ412uWWfhjHHcmOIUYKN4izJtAwllJ4dqmg9zyrFuxHMCiSrPtAxM2sOMB9CEiAPv/7ksToAlhmCvytpM/DMsFfRbYkWReixCzif9loSkXSbpEkDiwqmLSeSCBFVy3BkoxxpAayOn0xtpuVybktIBlDMTQaaMEvpSbIU5yRtCEkUaa9UiwxgSh97DHkXihistHqWdzSZSzh43m73TctBapdFG4BjLk8sMJykZsyCkgERokYrQUeiogWla3pvWcpABWA3srzsrUuZ8tr7T5Q6ZTq3I6Ph9GrWI2+TOccWKoTm6y2KS27E23WRYmQsoFHnlY00GmyBCKhCzMGD4JxQMzd0xcjgeMnZLnlrJV9aWkfVPHUjaTjrS7T3jpOgiSMI1YULJkjBxpy0B0qIRMb7JRSbCEj6fcocaUmESbzREpZAJ50szqiBSaxO61SE+zElUtfuIFMD5hALzLQWMkTcSmHWY6eIzgpUIz0BCtI6kKEIXEdTVETaKmVjpA7CHDwiJYpqtli0SUvhhi17XoDBEWpUBuwh2nnRM7lF3V1+WxtwkHxuVXcMLW5qkwxrVYJcMvtdLE/lCWbNNVOGj4qtltchldCGCl3B8NLHQ5n6i3LmaP/+5LE5oPWrgj8DaTCw0jBXwGOJCEXdM+PkNSyy6rPVqnk91qw/w715q8BssfSGaeyyJBocr1h5fXF6tuE0xcn6Wbgc9vMZULRRMfCbEdBqAywZgQm2Qri6n2gtXw7JwasxNjkkyEJzKXKOo4EMtV6i9InhaDItKMzMMmeF1/DYcZhw4ejwo6CMcMhOFFS0+LMWnGLRTLddNIwCnOoNkNVNBXow5l0SNGHERHqFmCdsheIqKwB0kNJohWueOIBUgNNxQRRk0npjloqgywQFyTtzChc085s1mgeNGykl0BGaXkshTI0ESYeP8kJE2BQomWhRUVErExEYVMNajkGRUK2o4cWnMTKKChAKUUiNFukwaSpDMlGAyrtI/MTEE0zxBGxW/jRxNnWzUK0qK14JRCJAmWXXNr2hPgmaFYUISElUdqh0wULaQsRwuRqB8jIWxEY0RqJIVkbCZQmZZKNYuXOkpKskqcTTSaEhghZYaJkfaeTtx4ATqU5EmkkhWoUwEi9OPs3R2ftXrNfXrcac19fdJ0x0yiq4ORJLTMB9LR1QgMW//uSxOkAGPIK/S0w08txQV7Bt6RZilSFQycgcrBSPIw4N1RPUUPuRbuwkCDBEsFkCRmcCNohzqL8cM0as9dVTyYJhaRVTrufFi70iYTAq5ZnSpRlvpkGYw4omoyeYACKnxZEYi+bfsuNn5liFhzBJI+g3RwcugwpUbGGxOLRkMxCQ2kRoC48QE0V3s9YTnoFBsRrrKmiAEpH9IlVNRiXiM5Y5IJi+nSIS18incr4SYfl1UJBIP3YGToxUHjDa4pFyh+PLB3rJUpEmXoRM06M1U4STo5tPQGKEuIapvmNjVEs5PqNOv8XXolJaooPViaxYOiqndUiSQDxxOeFI6NLoEJKD1aykLSpEVsLh8hpzeq545UL6F2I+HSxIuWDw5NDJYW8K5XPTZmquhdOjUnHrZdQ0ykeVLAuLJeqsLXNLl76F1zAtmJUXLSUZFR5YeVUHY7HBUjM1kKypWoABIWpkB2RmgaEnDVLju5G41UlVDXuTNJfprXaTDWGG2G4ml2mfTUGpIIMFcJzttFQIHb1yMeRr0K2B+BgWXZV1Fi+l2lJNv/7ksTdgBCpiw1KGG3DuEDegbSxeSZkKM2iAwIC4PiNuGHw9ZGoDlpUPQSToILCHYGrSYFtDZsvDF17DvdGrLU1xzLDy5T6ayRSyrfUFURh+mSxRp45E03bLWcN8FFpUy9Sl9BGSN10aotM32MWBnOfcKlI+3IIXmQTpZBZInJlsGmopkrpR3fCF93UzAIDgZyYKYAOnTiMXzA5Ayl7TI+yeVNUfwXmCCDiM2pGJLN51oVrOmappxCoSjweaEw0AIHyVALsj4iDYqC4NHDJ0VgqTCThsbSYWFRJ1JnKhqAaIGRQf18VkkBBBywqc9dtrCXW6Kq0hycHEbTuSsaKn0kRHFtP9GTTaQjD50byU8LI0m2oM4gZihogaQtNI7QOJ2HkGrjZyE5+kDMTZBgpaOLzRHVYQJmTVPkT6UeuRPaG3EDLR1CKA9qhMjhBBCDJOXcQ6w2mWaVRQFEURhHAshghEygDEAAEoCqE+YRtzDqaC1HOQ2iCRDoF6ySgreWot2+Dbazfp56pT3oYnkKNNom0Yk5NXh63XNxGEr1dv4hMraj/+5LE6gAX5gj/LSTRy1tBXxW2JFFH7FIRDHoU7zasJo6Ru9QHKh8murKqz7IXRI6neDGKdoMnRy1wimtaWrCNSCchjGU+So8mYXZZRDcorY+NKSN8minYW266rSInEB6ZW4insNURh9Ok1HKpEWGmjD4PRu0CC+y9XDGAU/nSKkOISxqt+AaaWMEp7luIT8NpDwyPky0pNL2VdXjBf4hFg/bJC0lpk6NDiHAG58htDs+WoXTw+PBCFROVImokqoRjA2ZEbFJAiJHSsykSniEugC7chSREJEOISZtEQoajjU9o76QkUVDtESIUEc4h9uBZZpcOo4lijE2pCgaWNmzxtodVeiWmqsaYGoIVInSeYOj2KikfVuAURMgusoR4sOIGg0ujeZYFSOLPGDxoFlTqyoxCVY0qWPuA5JgfVWZRkKO+TSLoYoZjsE2RS46OSFi9h9YSOwZPJsoonCorLTLOAKVSAQ0FkoDiOLTXsqlPUl1yprHWFS9yzaVQs2nONp0vZ9NIncITRsU0aZKDEmdOkKpKKW5lBShioVbznTfFRFof//uSxOWBVMYE/q0kwouLwZ7FtiW4LhhtGJShFtLqNsqshhQwvJI+SoDeck4kpaLaXjovdENx0NXr3rnGIG4rCWbKIHOInlmBy4dG9zU/iCGlrXJpfKIfS39aRvnF5BZdCFIWqkJgPDKkqkVhBhEwuR1GSQs24L+oUnxlxKBbG6pRRFBdIHo0tMqKiO1BeyU4IFAGsr8LRE+5ZjGqJrDtKEszS4pTbJxKFswhOnDsnLNtkKKImVEa0rFzRgF0yRWSARvJ2FDAtiBxsQw00tclxng+u2wOpSaOikSiyEkavTaqSxZn0w0sqSnlqsqbPwgTkBCwsTSaCzB+VCo+sofJWaRrTJzkpspJoEEW7WIjSMQChEh0GCx1ZdlRWQzyixRGmvZtK3GEnUSm3QUpQgQk5tFUSF50y2RjJoihR4UGCZunG1EbNLQtd5FaBzBlM9FAS9NaMUCiFupmjNkpD1CiofP6EAcEMjnx+bKBGxbQdcaMJEqOB/Z6wm04rbyTatHrezx89iYJzkvNUhbk2kKizSBCKiNBNJpZELtkVCJdV90ikP/7ksTnghd2CP7NJNHLTUHfAbYkWFVZM4tmQnKZJVLRZYmosigyxBSFkPXJVF+jlvthVdkTojccWjSpu1mNFSiMn+F2W2CqA3SOosNoN6saXlUdkw30yCivcpmNE2G20DAoZUQT8Y+DT8XtObkDket0lBRGzcv2mqpKy8zMCm2qusriU15nNITxwqam9NFMzalLYh9Qu8OyJbYxIFFAsWDYhL8qjmjU08zFtA0ljLSWo0GTL1WolCSUnmSVhMwndKGYlEkkK+SS9GVRXEyjXLIbIsTJ5RkKSc8/DPMsH1KkbFaEjaVVNZJNZRDjNYKBZlQwdaQkC7JiDGCCFiPcg/SsCFkwUi85HuyJBZGwjKdhFhpVmCKBk5PV1LbgwdKlKmpEgLtGCeK6No40+BXWdjsy4pgWRI8dWNnYLxaRCWVWeyidBC1GsM0StwagsRa9jFqEVqkpWbDjClVEh7FzJj4GJoiMNDwVQjLJLdJmRVpCjiqobKrICpBsRQpCCOBhljrLI1TLJGmnRKTMTRi0ESblXGYqmk8VkdQnSKtXrwEhVeD/+5LE5oFXygr8rOEgAxfBn0GmJFBnrtl5ESpG1OUcwUGoIVEA29BFlE0TJEi6ZC9GjQTVVUK05DdQgaMdar6c2hWXSXuSB1kxsNRTTeq2ygJSQUTZxQuSqyVWaRAqdOuDsiNIuqWWFaFHTCEvNCoPFjUWBYUTI1w3bKM+gbioV1GggQZBdGomx7JkkETYi1qdF1DkESBtSjRkmQ1AckEep/mNbhySzmMlmy4PShYTaZzh+iXo/CYwi4O0QpmJFpajrSiBAfhr6RaFiw0km9AlIuy2RyYAKTzOToDsqxB0m6YagQG6absmtDNYmrE0adIEGrnpbbcotkE8u0Z5PEGKNHljzoJRWofWjR+X6JtGj2B12RE5Vs7SsUKyOVz1CyVyR/abPwmn6Q6Sr7JxXpwK32DySG2LNqyQSbLssnmUZxtWBM1OUjqDUKBCdtWM05ubezF+JITbWLiNGXpFaACMyokPAh4RVlUBvxA0ReKafqK4LVKO4r3xillaVySyxSyYnBlQbPoCdjgJky1oZuJC1EQQ9AdaeoaZyTvmkjLPfJxR//uSxOqCWeYO+AftIAMHwV9VkyUwiGvkk1uyirGnruzlooKFkaoTFhSzofn+DvpVxbQVJdOafrUYSVRcEzYTdPKFGJyui5NKG0USmrFwfVoYt7Y4ya3CiqvdmrSYFiUt5sd2z1k6jbs5UzKaCJrN0zMt+ajTr8EWg1SDuWcDIeBUkWWLcRD47PiCRzocH7FqhVWFNbcr53+iMeaOLslOM7YK6ommqxSbkBdc5GkyUrloaL1D6AbrXydY2cLB+clclNj4tKKI5q+IaZwqDzApBEKOFgacIwI111YDRwjjqyiEYMi8UIno+mqzsRfDwnbSUHV2lgQTpEbRJqOFBCzSBRcogVXXMEjZEnJRAmqqmw2oIz4gclWISVxVVtQjFCBgiDCFI9GQWRMkhORn5uZxlgCC8xdJCu2sRRJCeLhUY1tW6lahpUSEM7FElBnUxAMrE5cVSoCwoDKzEUlVEAAElVfqkpGDuk2E2p6VZJBUlpx7MloqvMusd7z08Oc/sWiYQTCAIsbYHDjptKh5VAMgIJoESYEk56AKATSiT9BJk+lAQP/7ksToghWmAwDMJMnLdcFe1MMnwcJ3vkhwhwoQkEaaCoTKEoEB4yRJ4hBZ6DCgM8/Zs8FTM0Qacimhk1DWEZyWoMD3FBdxLbKayF+pRxd2wRIlGj9RnSJJU2o6Ez5DiKTh3eYhtqRWcsnSHHIxJtSEzSROhGEK8ylGYrKeaBcnbxztZZiNpKTew1yq05mvBCv+pTBFEwO9MPOAuib5Sd+6bvSvBA53GmdxvRPU2SJyQyEYIzArQKErMQ9MYc5YPU3otgJnYohgSQOIxLkzKAhLyFlCpJqkuqG4RJwqxuFuxhMIjnLRkiKA+aTkdKRKRhhEiah5AVSOhFd45WrLRrbMm24FbEcUf51A1obEWRnCZdaoDpImgpSCUM96cyBlL6TY8tvapd78FQZtQUpE6HY3OrLeNkx9LjUco0vOA240sLiAaFYpNLhgMBFAsjaTCgyjaOOlhZsVvYBENiMgRCEbGRidCIfjS8atuOieDQ9K5VgqwIh+0cL7ojpW+U7lw2W4+fohLQ0O7b62iAUw+xk4pQ7TF8uVeEIrHGojWNCSurH/+5LE6YAX2gr6pJk3mry/oGRkmqE7qJaZi3R8P164Sz9awasHTexvmCzFb1yKUlhYMz8aSywbi9GcwGxu6lKqcfpjVHhWdOb3QmjAHCxoChpx4NID4WBshJSRAqKSZgpGKMlmKRAU5YVLTEaJGdORLqEhLEuhDsZUaIiANMEALWPnwohOFZclFUw+dRBsTooikRrnEbI0jIRkydLv0RKSN0LWTtVEFlYeRBdQjFajaMy9vGFVCkVH0WexgYeTCaIrLePkom+VTFMyNxKR/K4ss4iURiYs+Dwuu+paWomkmbZyzVikwM15yUHnOmVEba/KMpsWcpHGSeTyJDDS2Im1piI1AgTPTTcprogkPaozFNQo/17MOT5ZK+5H6BnlKkbtyU4ScNcxhaRFC0mnLpLSoND0QU1IWTmYhkSZ5mFyjTsVemXVbTGEUixkxTiWLJAKQfsySkdh0XdMecWImES82BS0IhtssuGTTUFqEMVHqrHGz7hKgUTQHiEZYQqlIEdhUnxhZGKyNql0lTh3JjKMyVUYRmmiVePIw8OvT7kcVzpd//uSxPkB3bIO9ASxN8KbwR+UYxigACCjDCGoXEk60pLFKyh0UzdchVGhUtRX1ETTA5NmGlK5W4lTOpi89ZKsXGcZDXF8kEtAWCCwPDZxY750prmlxZXGloFr0LpaZiW8ycKiedOIkM4VHhsyvxxJCZcUkiGVFzR4nmr6RIWFi1RVBKq6Ma05aSrkFBbfdbNKJ62SFW7lErrh1AcJ7Q+XmvyRZDAmWHYI1BGQSQpIEEN0LWhgUQMI3yGaxzEScrNNGiiH1ijiRlBKo5MnpsyuU5w0u9/ZTWixAaQlaOzkNK4mu0gRjbDTMGT5ggElwD5wuXt+sEqjJhLYcT68qoxFc2LR2ROcQ6ZFbQuig2XSDyd2SyIF9eurBYgNNu3JFUTa+zEqnTnibaJReiBpkieICjMjGE6FNibDnanTU0Tai1LRKNWs0gfBQtIQtNxKpvC6qOBAkm6Bm4YiRIhSQossgJLvPru7hiZhql7cPyMavirCLV5G7eekooRUgbxxRJQnaDnKgwEWZmjptM+XR5RmaJPV0TROLqRZVSJFCJUqjQAo2P/7kMT1A9veDPYEpZPDE0FfAJGkiSxc/EDTkFguuUojVQzVLkJC3yVCsYbHT7g8qSLspsk1dDMsP3AuQnDbmLRGKnOw0MbtWFnmHVU+jnTiiIxAGPRPAO1CulUHG2mk2ORPkq1zSzYNtzT1JKq5PQPEXOlFos5G9989KNDkAbLUne+KaxBolHLoxmOgyCADQqEUaKaTsQNSP6INkkjUN055GRIPAibo1zdMbfhbSJ/J7tgUNiAMaQkkmkMQ3oXB6JZegklAxIwTsrPTIElvkrfsBUSoNQhdNUTvJGLLKtMMM6qhXRk8TsyQ5oXDSNppwLoUApPn6RsktiPkE6RoiRRhNSRMdMORTnFIuk46jXXhFYQyiwdw65aEE7bPJ1LLgNwWZk3UoKMzezT5sFD6qJLpddNTLVmosTspRMnouQttKYbmRmys4rzaiYXJprE6KGoGXkwebPpxViNqZNymNGERUKmRoUH+USOELZkqNCeI2nlTRIfB3Z9dU6KN7MJlriGXvvGcpKMNxIrGbX0X4qLXK1h6lX6VDw6Vn50c0JWq+v/7ksTpABfCDPzEpNXDNUFfWJYmYayY8SlCzFyNCUicqQnykhGpEXOp3WyUhyYnS64njTxbD9qmmxGG03FBXQjJ8RiWYgE6I0ZJDUS5VEPPxERCKjrjTCBEhYI0SwmJNWIRATIS0iBEyi1CzIXLlBXsyQ5Nch1pATCohOCCY22gB1RAYSHlcXESIsXDxOXVF2CY4ZRniAS8yXcblUy6yEH37KQ2bkqTnT53pvIgTeE0logRYMW2IC1MvBhyEJpdMGA2Ci5StKWJBKiLjwIMAJAYQTA7MKtnFLY1AF6RJ4RUzMBkblkUeY/QSJ3EG6IKNvNk0jQtqEpyZgGgEy5jxSbrWkXQQ1oF28cjbmfq8kglAk1tZjH4x8n4cMwmPY4JR4g1RJEPok9fqaqXxc/dqIfH6hk1I3iaqKMU1k1orM0hVNwkQKMpymcjy9xlrZXEoIiqNTTM7V1GsiRsKMmC7dUQIptswVtaBSXIK1MijqBKuoggSQc0l76x06yIE2IqmagfRswbVXJUbjIkGTgoLIiw8qiweYsXJPuyYGacGAaYosP/+5LE6YNbkgz2BLEzwtDB34RjJvhpBxJLnEkDh60gpJhrpI2tqQXItwg3wGvjLTME2id9CVrhQ4KAwoPKNah1CixkV6m0iSr2y6GonEkEKJ5GrLZQYgXFa7THNyNLqTmKMktJzoPkozE2gSYFaRYnJlb3TIgpkbT9qqKOUh9IFiPTqhNdsSTPqTJWG5RPuY1NRUQEEM20oJrdoawec5aIodowN4JMbA7E5UAALCKBtInHhQxabYnHTjCRCOt5OmRaE0SxwQH0MOhCM1qRyEDY0eJEtqUiky6Ad2ZrwXLLoURZkSkhRCSitCrN3ID0GGGVROiNSbaETDptJqMs7GV0jYRBFAgQ8mBLVxtDBR0h1UnVRORkLKqJSBjXoy58nIJvRwJVmyNUiwminRGYWVeNUQmSBVZ7FHUJ9d6JytH1MEglHGFE2zo4iUbIIeTkDAiJgyhI9FLlqUWRA6qiF8WqAlZEzCB6NHM5F7cXp4UlYeu0zqMmOGSsKTkRFG0fXLGy1kLFhSachqRjEZdEkLpqihEXKDJki5AsgkYLVzAKqGhh//uSxOeBV+oK+iSZPMszwV8UkyWoUqdWrD6gSFVEE4rk7mTRICQfVCqUhIlJuCrCxNNtvIoqi1GZGe1hmCN41A/iBNyhO0wURo11alZIueQ38RkmEDKus6+xiSUsK8wgiWVQHoQSCya5mUkKpaGMqSqJApG2Yimaa7TrIokzckKZY1nk+5sJo3mR6mQqSo5ImTSTWK1NEo1NAAACwG7TnFycYtJNSOkKGmYCtEKNatlhlY64qkgRVqBHZC2uXIGLKMmV83wUH5HkxCjHwugFShIqRCgiKE7IkXEenQCA2QOGjzrgqSEImJYeHRLwSB+Ekj6CUGhRnQe+8xh7bmqLPayZl7RckTvRghifKa9JtRRNA0WXSTcZe87UobFBHVyOCIf0ssfhT+li6Z2evUYlrDB2GI4kEc1V51EwkgRvhSk+gguhUQhokjraG3bAugcweRC5qbJhNdTJoZQbkogPAhSyjZNR6RikCJAJMIE9MmlOB5mrKiEinqDEpmgqdNzcCJlcumRIBdRxPM6PTgQkGm5nxASmBgZAVAGiQVigmDiPqP/7ksTngBi+CvqkmTxLD8EfYJMnyayp9JFWiQ6i75ucszvK4wTzhu6JWHPtLQ4OggfBhuILODmqI4QKoHPs6+ipE1BIaRs+yBzTJA0PpyTsgefIGDA3SRCQj3+TiwYzdIw6h2ccDHixwlCkEwQoHJDSIsSpCw9aLFkBikpuDiRhqZoQNDEyQGURPNAhhQQmmcfqeydKEDCL60gOCBs4UkskXiwqgZowiL5ZDeP0quYEpOSBgbH4nMB+amSw6dB20qriNkoQjpG0UbcCYaUHunM8RqxkJ5rMr5hickmOVxPosPRW6pZjNRitOR5po+Q5Ag3chbbTkVdp2RPRbmxk2WbQCNRrSJGkwfQ3DUmYJpkLBto5h1iBCw9yF6DIEhtt6GT4lEbR1pxFSEniujdRNrzFRKIHOg5yfhBs9kMcyogWXZUo2NCx57FR09EiUIiGDLmkMYJmFsXpCkrVGFpxh7pLTk0iFjZSP1aIkBmIANCtBi4erNCFGkSYMKXqyjDV3aOHFER9OQAoDp6xGmWacskxjVMIhYnMq6feZPwkyTimEjD/+5LE6QFYlgz6oyTTwxZBX2SWJsG6AjnZxKLLamybkSrtJIlUhCSkBQw9uZlRZNQgtgE2yxImMNmzDLDXUXZNIIyE9SS1NNoUkZk0cxfleQOZIzK1yWEcUSorJ4ozmro3wLyaVyytmtDwYYiMt2aLIlxRm0wiRTZiBWoYRbiOllhCk0pBOidtRabUTih9fQonInbjiSHV1ILrI0DTSEaakebshlarjZGE9UVg2VOHWyGc/R6TDyiR5EpJzJDkT5pI1x8BhTELEAxpQLKQmQkC6Jc0YmOBSSUjCFnjQgBsNJOYPwUYWIIgIJBJ1Gw6XNbbximW4olm0c9Ll0bkJMs2PJjhIzMrSCTSiSNMQE5snkyIlVEazbxAjXXRBEpTBAPmUmFC8TYoHkSBpi2CFCmPt0usqW1QggsuJY0emwTMvFaZRqIrFD0ESQZTaG0BbOSkq7QqZUEK9kjGmyrCFI+oTwLMyMSswag0HBTzTMkoaKfuoyYiibwseWnOWgDaGWgzqMGFlkivTxZxsRVisFlKPSxF7+oHhKDw5zIEig9z6tFY//uSxOoDWMYK+AMZLcs/QV8EkyfJiUE5bAVV0ZOgSGmaSOJSzFFtCaTgx4QTIKNNU1dmLKZFJGYUVC9HUzIFEbqzWkCgos2CBmOHZA9M9bM8xqtTm6rGsnhqyinmx4GaYm1mpGFqSNEr+pJlqCU08gjzrmyuvoFOwEJRJcm6OIMFBKBRRxElSdwBDpJTZ4VhUQFhwsTn0PSTagyeMtRQCjEiYZHpNLvNHEYgKxQkCSaJGcGyaZRdAiNqSQQRo0eKwTRpQ0tF5aDAoX0LzmoTFigZcYEzJR6M22jlIBA0JWEAkDAHETBGmq1qSxOuWmSqo/I6gRqrwFJg2gQkpBAUsBQNIT/FZcEueRoiUnB4lxdUTzJioqQxI6gKUpBIS2jcKXuiCbiVtOCpgXICok5DkB5C+0S8G1jb1pLguMlBKFWDhMiPCFBNEw2jBs5ImMrmTcEYLBtEX+wMKUADAiFG2MMgAHxscWQCvkikPPFSirKVO7LDtJRNooUmqSkQfNaoj1FFZOiI4MEp1gfKhkJguQDAhQoLER8G0Inm0smQikaPkP/7ksTlgdUmDPwDDM4DZ0Ge1GSluKI6s8iTE70LcDU4ONLhjSzkkCvkwyfVaL6iRzecQ8+RLdIEiexCMrpcQkwB5MLsDysiCYoXMGl2jxFAxIusaelGeq3ArSyDVyRSM2K2JHuiMdihRMMrvWJ0jhGkDiI3JkmgiRQhicYRYaETkC5DnPOxlEwpGiy59oVtk5/WyF0krNMKr2qMCh6YhPtbH20jcyjpZqU+096qAvFNBvYNb8JOrGoUgWs/dw8nYzObko8cgqRMSezaiaZTKJmsBZIGgQM9KmWvZO0JLxSCVpPBIuFECOFIlR8YQRBHSF7CHvkzylHHelJ5RxADPgymWQQfCsktAgKRrMiMqNgP2ACN8wQa9oPpI56VFMkkXmKJJkkFmRaWlYievC+ow+TEYsaskncDi+lmVVS3KLLLucX7mxQrHHWqXb0gBgIx8hCg+OJSRURnyh1A8BkTB9CS2K0YKiMfmuyorARk0yhcqmSQOFCAyUJNTZ5CbIRMNBQ6ZRisyZk5I/A8isdKTkWRmQwu2oTIlC+NiggXVo1FGQD/+5LE6oFaMgz4oxkgirJB34CTJ6iYqOqnJSjhcRFNOuoqdiwqtBFhQogttAZhB71hNizM2IoU2hVGERWWahMySpMylPSecg9gzkzpN4TJFUVDKMffcpJGDTZlmJFEmtlRluZ4gRHUlqoyiJyhcUdAYiigUxEThmA+SuInaRzd0Q88+KVYGGxJqjULVxtASbEnack0B9FIRvbI4WEwaINDVEq08uophgNTPNksRIje2jIUTWRUJUPQjB1UmTOMzMIBiTw8ZZYpsskR4fVMEZMX0/YeQHJpiteLOEjC7BtEmbDxREXWRn5jJ9VEygUFzoFCojpEmlBpLZIxSd1SMy6766DEc0l4FTEz+oE5NNLKI5CtMnRTQaTwggNigNLOf5sHy5WUW0zeSJE2yNBiMw0F5G2JMD6whMoTaO2pFDCCypkhg+KiiMlsntZzTS0MPIZNIxxo03dRVkcSdioEAAEhgnMAE4DFtycxrNtpEybOcYLI0UZIg4gHWThMVFRSOrKih7LKEKEzJ64JKJlVMkrDsKyPSx0bjR48unAkSZX0j7BA//uSxPIBWkoK+KSZIEsrwd8AkyUgQyTEw0qrsXRXGGly7yZdC0mpaSKk12iVdz5qmWTpWaDRNFjCU9mkUEeRsqzT7kiHLorCNkYgsw8gJQCmKwCpiNMDsJJukbYOaDI0INogYmBLKTMOPPgiDES5soXCZVIlIDTKMAKGjWTnDAZRxMcGTC6kBoUYdiZR6VAqTJwWTlk1RQgCiEENFESYMFBSzC9RB6oipIgDMErwmiUshokLhIgH5yh5DCdaeQVJPFMXhRMSGycXQMoUaz2S8YEh1pxpAtEu2l12FmV1CRG0CWeahEmMKJGQo2dSFWJnylJqTtQwibi5I6D1dZVmRp8ViY3AGiVNm0Q2S4qbe2jaICqiBNcqqoec9CoerSCJEbZFREsgUtd8kMOSrbGU4nmaRSBhGwIkBd9Ntc2jRrI4UwUQONLjnWYstMgUnROO0tnM6oowgQrh1cCIppIjSRS6fUMJa4BJnJOLUZA/hZG0wQmwkmdRGRhrbwVLLJKillJC5QkaQQcZ5s8iQxQJCOE0hWsTmILpIEdJkjDnn1QFfP/7ksTpgdguDPqjJNeTJEFfAJMleRoZXEGFSdVJhVE9lNvBtcQqxPLoUBK7CMQKmEbjFKFDxsgXQrLW5EQG2ZjKx3CIoXXZYKEbcEjkRWdbpA5hKUjoQnRgoyWIiehKXaQoL4yTvSYTkqSs2keM0j9tmSRCgd0l22NXYHSQkZRR1OC4nKo044aVRWimaogiu0cCxcjbxihIQrruWVVRqCNlAQtwQpem2SFY6kg1OAg3EjApgY2gUBUqRCQQOKojIMgsLahFQEMl4kizorHUSg1rBRCugxo0RiAU/ihm0z69Ea6JpOR/oESZsfsRl5JlGWRShWlsZrI4NoU1Dh1omfLZahtR6Hihsss0MkC+MwjT1eHG4J21JRCYNtkRr64Em70+HkUXPo0jJ2V1EkW5MkOWgnAjecp56llJolReZmaJaNECRCYbRwTkYJGCFYxE2zJJmKMnFBySI6tZiiA/TKowIRTwSEINihwPoWzEDhJNHk0SsOfC7k4STQFSSPRNSKLLj7RiRslLFSpyJGVQMOcmdaZWkucmkhwVtlGPJgSyY0X/+5LE6oPZOgz4AxkpwyHBXwCTJpF2uyuzBWrXitaJPyUSRKsTgRa0qXYekSEKFD0aG26kY3akolBmoF2Zo23KfGV01Ec3IXTeiXQi8PM27LlkKcgTnc+el1xHFWjakh0m2ctYXXI0+wx0B06cIEyrj6Um04wgiOScoxc/FpcREcjbkmFSx9pY0s+T3yl8XfOQKEAae1EZnR3RxCPFTjz687zbJMMandD7zh9Y/msL2FvRR43YxL4UrF5WEBzD/i4WVZSBdIZlUkHKUrRyCP5ATaRjn2osFEQmHAOmy5ZEKRk41d4o3LSkoL1A94hGKFeUyJWnASCD0geNC5KJhYTRBFcMqCZhBQEZYuw4UsUHKEIGBZpP4lZJJSEl0WSGpgqS0TKJpyyJxcKJrJ3fSINnBlpQ3BSSKolo2QoFENsHNW2MFpSwgt0lydDbVUsfJiMhZkpAgYwgIqohd6RE1IoESWMWjoZDxBNc3zjCdHtLr4dHYLGnL1ZUVcXn5YLxw6FrpdPrix86wjQtI7LMwJTKISo/BeF0RCReCxkhZ0UniM+o//uSxOeCF6YK+iMZKcsXwd9YwyeoZtd7ix008Kxbmo2hFMJiegwpUUBU6qQYYdKLaTKNCTpomnhdZk8oabKAtROQoq0bNa2QFJNUoekOCA9KnHjx5R6xoiINxVGJBQQlxCixVkfWiyYUMRtEZFm1kHIEKBdCPXRDdxbFSZIqugOtkr3MaVeoONIziGUR9CfgPWacImWIOzSTIARiqZAkRJ6gmVhmjUzqwouk+PDpbdxz6EozKRiRw4NRbyRkLjpZo8wDSBtA2oiPgqjTjZGCqKi0iEJnQyG5oR8iORSySFZ/JNmgOzdNjGo6MN4D58nOjIxegqKMIMRWiWmSHJTpRIsucAyS40wqYRJXRKrt4srVx7dCiNoO8j5/xNW9X8WmakQMNPhXlA1aizCUygVGvRLOMqjTqnBjpeCBAtE2kyOlHEnDJNi+spD7RllHeNJySUIDgwAowUeSEJLw8FCWgS8a8MmXroGpWIUCenl4oTopZt2LArBeKL9ZMmuQCnibQ8HaCxUwSCY2QCcFJg4bmicsdA0D0VxRA0FhXIGMMFYoQ//7ksTsgBomCvgksTZK20Cf2GSbISEjxxQU2mZItnABjSOAI3sIYgJhklsa1U6JFgHQMqlkKFyzaStohiwgm1FpJy4iXOuosmusjHBkRGkPSRpkopNLMpNpGUmx44ysaiVcRkrIyQDZ4iQ+NEzLKwZeYNqUi0uKidokG0iFGgaZmZtESyIzaFCmYFWzi04jYtJZV+yBJZ9dE+b05ywCgFbVxWNEJLYpcRNKu96rklUmoxlcY5JE8KtoY50mlarfcVtVZKmSxpXFXAkgDSaGiJ4VPRITwqapMUnCWpWkTEJkiZIm2cqVwxEmZInoXETKyLbIWSJoqgBJGGYTwVQalPFkyU4GSga2yFkiJkhUuhikTLhkqw0rm1K7SJipLBZFKiImEIlIkW3JpNlaebUa2tQ5LZWsmys1yqIuCJQ1iIqJVWY1rKzyGeWhqVbHrTZ2KSJNq2UlukxBTUUzLjk5LjWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr/+5LE7wAawgr2pBkhiu/AHIBgJQGqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqq'}async function createHrPlayer(e){let t=atob(e),s=new ArrayBuffer(t.length),n=new Uint8Array(s);for(let e=s.byteLength-1;e>-1;e--)n[e]=255&t.charCodeAt(e);if(!esgst.audioContext)try{esgst.audioContext=new AudioContext}catch(e){return null}return{play:playHrSound.bind(null,await esgst.audioContext.decodeAudioData(s))}}function playHrSound(e){let t=esgst.audioContext.createBufferSource();t.buffer=e,t.loop=!1,t.connect(esgst.audioContext.destination),t.start(0)}function getHrCache(){let e={mainButton:esgst.mainButton.outerHTML,inboxButton:esgst.inboxButton.outerHTML,timestamp:Date.now(),username:esgst.username};return esgst.sg&&(e.createdButton=esgst.createdButton.outerHTML,e.wonButton=esgst.wonButton.outerHTML,e.wishlist=esgst.wishlist),e}async function startHeaderRefresher(e){await refreshHeaderElements(parseHtml((await request({method:'GET',url:esgst.sg?'/giveaways/search?type=wishlist':'/'})).responseText));let t=getHrCache();setLocalValue('hrCache',JSON.stringify(t)),await refreshHeader(t,e),e.refresher=setTimeout(continueHeaderRefresher,6e4*esgst.hr_minutes,e)}async function continueHeaderRefresher(e){let t=JSON.parse(getLocalValue('hrCache'));t.username!==esgst.username||Date.now()-t.timestamp>6e4*esgst.hr_minutes?(t.timestamp=Date.now(),setLocalValue('hrCache',JSON.stringify(t)),await refreshHeaderElements(parseHtml((await request({method:'GET',url:esgst.sg?'/giveaways/search?type=wishlist':'/'})).responseText)),t=getHrCache(),setLocalValue('hrCache',JSON.stringify(t)),await refreshHeader(t,e,!0),e.refresher=setTimeout(continueHeaderRefresher,6e4*esgst.hr_minutes,e)):(esgst.wishlist=t.wishlist,await refreshHeader(t,e),setTimeout(continueHeaderRefresher,6e4*esgst.hr_minutes,e))}async function refreshHeader(e,t,s){await refreshHeaderElements(document),esgst.mainButton.outerHTML=e.mainButton,esgst.sg&&(esgst.createdButton.outerHTML=e.createdButton,esgst.wonButton.outerHTML=e.wonButton),esgst.inboxButton.outerHTML=e.inboxButton,esgst.nm&&getNmNotifications(),await refreshHeaderElements(document),esgst.qiv&&(loadQiv(),esgst.qiv.popout&&esgst.messageCount>0&&esgst.qiv_p&&(esgst.qiv.nextPage=1,esgst.qiv.popout.popout.innerHTML='',esgst.qiv.markReadButton=null,addQivMarkReadButton(),esgst.qiv.comments=insertHtml(esgst.qiv.popout.popout,'beforeEnd','<div class="esgst-qiv-comments"></div>'),scrollQivPopout(!0))),esgst.hr&&notifyHrChange(t,s),esgst.lpv&&setLpvStyle()}async function refreshHeaderElements(e){let t=e.querySelector('.nav__right-container, .header_inner_wrap nav');if(esgst.mainButton=t.querySelector('.nav__button--is-dropdown, .nav_btn[href^="/user/"]'),esgst.sg){if(esgst.pointsContainer=esgst.mainButton.firstElementChild,esgst.points=parseInt(esgst.pointsContainer.textContent.replace(/,/g,'').match(/\d+/)[0]),esgst.ttpcc&&esgst.points<400){let e=60-(new Date).getMinutes();for(;e>15;)e-=15;esgst.pointsContainer.title=getFeatureTooltip('ttpcc',`${getTtecTime(Math.round(100*(e+15*Math.floor((400-esgst.points)/6)))/100)} to 400P`)}if(esgst.levelContainer=esgst.mainButton.lastElementChild,esgst.level=parseInt(esgst.levelContainer.textContent.match(/\d+/)[0]),esgst.createdButton=t.getElementsByClassName('fa-gift')[0],esgst.createdButton&&(esgst.createdButton=esgst.createdButton.closest('.nav__button-container')),esgst.wonButton=t.getElementsByClassName('fa-trophy')[0],esgst.wonButton){esgst.wonButton=esgst.wonButton.closest('.nav__button-container');let e=esgst.wonButton.getElementsByClassName('nav__notification')[0];e&&e.textContent!==getLocalValue('wonCount')&&getWonGames(e.textContent)}if(esgst.hr_g&&e!==document){esgst.wishlist=0,esgst.wishlistNew=0;let s=JSON.parse(getLocalValue('hrWishlistCache','[]')),n=[],i=Date.now(),a=await getGiveaways(e,!1,null,!0);for(let e=a.length-1;e>-1;e--){let t=a[e];n.push(t.code),!(t&&t.level<=esgst.level)||t.pinned||t.entered||esgst.giveaways[t.code]&&(esgst.giveaways[t.code].visited||esgst.giveaways[t.code].hidden)||esgst.hr_w_h&&!(t.endTime-i<36e5*esgst.hr_w_hours)||(esgst.wishlist+=1,s.indexOf(t.code)<0&&(s.push(t.code),esgst.wishlistNew+=1))}for(let e=s.length-1;e>-1;e--)n.indexOf(s[e])<0&&s.splice(e,1);setLocalValue('hrWishlistCache',JSON.stringify(s)),esgst.inboxButton=t.getElementsByClassName('fa-envelope')[0],esgst.inboxButton&&(esgst.inboxButton=esgst.inboxButton.closest('.nav__button-container, .nav_btn_container'),esgst.messageCountContainer=esgst.inboxButton.querySelector('.nav__notification, .message_count')),esgst.messageCount=esgst.messageCountContainer?esgst.messageCountContainer.textContent:''}else esgst.inboxButton=t.getElementsByClassName('fa-envelope')[0],esgst.inboxButton&&(esgst.inboxButton=esgst.inboxButton.closest('.nav__button-container, .nav_btn_container'),esgst.messageCountContainer=esgst.inboxButton.querySelector('.nav__notification, .message_count')),esgst.messageCount=esgst.messageCountContainer?esgst.messageCountContainer.textContent:''}else esgst.inboxButton=t.getElementsByClassName('fa-envelope')[0],esgst.inboxButton&&(esgst.inboxButton=esgst.inboxButton.closest('.nav__button-container, .nav_btn_container'),esgst.messageCountContainer=esgst.inboxButton.querySelector('.nav__notification, .message_count')),esgst.messageCount=esgst.messageCountContainer?esgst.messageCountContainer.textContent:''}function notifyHrChange(e,t){let s,n,i,a,o,r,l,c,d;(r=esgst.messageCount)!==e.messageCount?((o=r-e.messageCount)<0&&(o=0),e.messageCount=r):o=0,r>0&&esgst.hr_m?(s=document.createElement('canvas'),a=document.createElement('img'),s.width=16,s.height=16,n=s.getContext('2d'),a.crossOrigin='esgst',a.onload=(()=>{n.drawImage(a,0,0),n.fillStyle='#e9202a',n.fillRect(8,6,8,10),n.fillStyle='#fff',n.font='bold 10px Arial',n.textAlign='left',r>9&&(r='+'),n.fillText(r,9,14),esgst.favicon.href=s.toDataURL('image/png')}),a.src=esgst.menuPath?esgst.icon:esgst[`${esgst.name}Icon`]):esgst.favicon.href=esgst.menuPath?esgst.icon:esgst[`${esgst.name}Icon`],esgst.sg&&(e.points!==esgst.points&&(e.points=esgst.points,updateElgbButtons(e.points),esgst.points>=400&&(c=!0)),d='',delivered=esgst.wonButton.getElementsByClassName('fade_infinite')[0],delivered?e.delivered?i=!1:(i=!0,e.delivered=!0):e.delivered=i=!1,esgst.hr_g&&delivered&&(d+='ð '),esgst.hr_w&&esgst.wishlist&&(d+='â¤ '),esgst.hr_p&&(d+=`(${esgst.points}P) `),d+=esgst.originalTitle,document.title!==d&&(document.title=d)),t&&(l={msg:'',inbox:!1,wishlist:!1,won:!1},c&&esgst.hr_fp&&(l.msg+=`You have ${esgst.points}P.\n\n`,l.points=!0),o&&esgst.hr_m&&esgst.hr_m_n&&(l.msg+=`You have ${o} new messages.\n\n`,l.inbox=!0),i&&esgst.hr_g&&esgst.hr_g_n&&(l.msg+='You have new gifts delivered.\n\n',l.won=!0),esgst.wishlistNew&&esgst.hr_w&&esgst.hr_w_n&&(esgst.hr_w_h?l.msg+=`You have ${esgst.wishlistNew} new wishlist giveaways ending in ${esgst.hr_w_hours} hours.`:l.msg+=`You have ${esgst.wishlistNew} new wishlist giveaways.`,l.wishlist=!0),l.msg&&showNotification(l))}async function showNotification(e){let t;if(console.log(e),'granted'!==await Notification.requestPermission())return;if(e.points&&esgst.hr_fp_s||e.inbox&&esgst.hr_m_n_s||e.wishlist&&esgst.hr_w_n_s||e.won&&esgst.hr_g_n_s)try{if(!esgst.audioContext){esgst.audioContext=new AudioContext;let e=[];['hr_fp_s','hr_g_n_s','hr_m_n_s','hr_w_n_s'].forEach(t=>{esgst[t]?e.push(createHrPlayer(esgst.settings[`${t}_sound`]||getHrDefaultSound())):e.push(null)}),[esgst.hr.pointsPlayer,esgst.hr.wonPlayer,esgst.hr.inboxPlayer,esgst.hr.wishlistPlayer]=await Promise.all(e)}e.points&&esgst.hr.pointsPlayer&&esgst.hr.pointsPlayer.play(),e.inbox&&esgst.hr.inboxPlayer&&esgst.hr.inboxPlayer.play(),e.wishlist&&esgst.hr.wishlistPlayer&&esgst.hr.wishlistPlayer.play(),e.won&&esgst.hr.wonPlayer&&esgst.hr.wonPlayer.play()}catch(t){console.log(t),e.msg+='\n\nAn error happened when trying to play the sound.'}let s=new Notification('ESGST Notification',{body:e.msg,icon:'https://dl.dropboxusercontent.com/s/lr3t3bxrxfxylqe/esgstIcon.ico?raw=1',requireInteraction:esgst.hr_c,tag:e.msg});s.onclick=(()=>{'extension'===esgst.type&&esgst.hr_a?chrome.runtime.sendMessage({action:'tabs',any:esgst.hr_a_a,inbox_sg:esgst.sg&&e.inbox,inbox_st:esgst.st&&e.inbox,refresh:esgst.hr_a_r,wishlist:e.wishlist,won:e.won}):(e.inbox&&open('/messages'),e.wishlist&&open('/giveaways/search?type=wishlist'),e.won&&open('/giveaways/won')),s.close()})}function addIbBorders(e){var t,s,n;for(s=0,n=(t=e.querySelectorAll('.giveaway_image_avatar, .featured_giveaway_image_avatar, :not(.esgst-ggl-panel) .table_image_avatar')).length;s<n;++s)t[s].classList.add('esgst-ib-user');for(s=0,n=(t=e.querySelectorAll('.giveaway_image_thumbnail, .giveaway_image_thumbnail_missing, .table_image_thumbnail, .table_image_thumbnail_missing')).length;s<n;++s)t[s].classList.add('esgst-ib-game')}async function getItadiInfo(e){var t,s,e,n,i;t=esgst.games[e.type][e.id],i=getItadiPlain(e.name),t&&t.itadi&&(esgst.itadi_h&&void 0!==t.itadi.historical||!esgst.itadi_h)&&Date.now()-t.itadi.lastCheck<864e5?addItadiInfo(t.itadi,i):(n=insertHtml(esgst.sidebar,'beforeEnd','\n                <h3 class="sidebar__heading">\n                    <i class="fa fa-circle-o-notch fa-spin"></i> Loading IsThereAnyDeal info...\n                </h3>\n            '),loadItadiInfo(e,await request({method:'GET',queue:!0,url:`https://isthereanydeal.com/ajax/game/info?plain=${i}`}),n,i,esgst.itadi_h?await request({method:'GET',queue:!0,url:`https://isthereanydeal.com/ajax/game/price?plain=${i}`}):null))}async function loadItadiInfo(e,t,s,n,i){var a,o,r,l,c,d,g,u,h,m,p,f,v,x,w,b,y,F,_,k,E;if(u=[],(y=(d=(w=parseHtml(t.responseText)).getElementsByClassName('new')).length)>0){for(x=0;x<y;++x)c=d[x],u.push({price:c.textContent,source:c.closest('.row').firstElementChild.firstElementChild.textContent});u.sort(function(e,t){return(e=parseFloat(e.price.replace(/(\$|\Â£|\â¬)/,'')))<(t=parseFloat(t.price.replace(/(\$|\Â£|\â¬)/,'')))?-1:e>t?1:0}),o=u[0]}else o=null;if(esgst.itadi_h&&i)if((y=(f=(k=parseHtml(i.responseText)).getElementsByTagName('th')).length)>0){for(h=!1,x=0;x<y&&!h;++x)'Lowest price'===(p=f[x]).textContent&&(h=!0,v={date:(_=p.parentElement).getElementsByClassName('date')[0].textContent,price:_.getElementsByClassName('primary')[0].textContent,source:_.getElementsByClassName('shopTitle')[0].textContent});h||(v=null)}else v=null;else v=null;if(a=[],(y=(l=w.getElementsByClassName('bundle-head')).length)>0){for(x=0;x<y;++x)'bundle'===(E=(r=l[x]).firstElementChild).textContent&&(F=(g=E.nextElementSibling).nextElementSibling.firstElementChild,a.push({date:g.textContent.replace(/expired\s/,''),id:F.getAttribute('href').match(/\d+/)[0],name:F.textContent}));a.length||(a=null)}else a=null;b={bundles:a,current:o,historical:v,lastCheck:Date.now()};let S=await createLock('gameLock',300);(m=JSON.parse(await getValue('games')))[e.type][e.id]||(m[e.type][e.id]={}),m[e.type][e.id].itadi=b,await setValue('games',JSON.stringify(m)),S(),s.remove(),addItadiInfo(b,n)}function addItadiInfo(e,t){var s,n,i,a,o,r,l,c,d;if(a=`\n            <h3 class="sidebar__heading">Best Current Deal</h3>\n            <ul class="sidebar__navigation">\n                ${o=e.current?`\n                <li class="sidebar__navigation__item">\n                    <a class="sidebar__navigation__item__link" href="https://isthereanydeal.com/#/page:game/info?plain=${t}">\n                        <div class="sidebar__navigation__item__name">${e.current.source}</div>\n                        <div class="sidebar__navigation__item__underline"></div>\n                        <div class="sidebar__navigation__item__count">${e.current.price}</div>\n                    </a>\n                </li>\n            `:'There are no current deals for this game.'}\n            </ul>\n        `,r=esgst.itadi_h?`\n                <h3 class="sidebar__heading">Historical Lowest Price</h3>\n                <ul class="sidebar__navigation">\n                    ${l=e.historical?`\n                    <li class="sidebar__navigation__item">\n                        <a class="sidebar__navigation__item__link" href="https://isthereanydeal.com/#/page:game/price?plain=${t}">\n                            <div class="sidebar__navigation__item__name">${e.historical.source}</div>\n                            <div class="sidebar__navigation__item__underline"></div>\n                            <div class="sidebar__navigation__item__count">${e.historical.price} (${e.historical.date})</div>\n                        </a>\n                    </li>\n                `:'There is no price history for this game.'}\n                </ul>\n            `:'',e.bundles)for(i='',c=0,d=e.bundles.length;c<d;++c)i+=`\n                    <li class="sidebar__navigation__item">\n                        <a class="sidebar__navigation__item__link" href="https://isthereanydeal.com/specials/#/filter:id/${(s=e.bundles[c]).id}">\n                            <div class="sidebar__navigation__item__name">${s.name}</div>\n                            <div class="sidebar__navigation__item__underline"></div>\n                            <div class="sidebar__navigation__item__count">${s.date}</div>\n                        </a>\n                    </li>\n                `;else i='This game has never been in a bundle.';n=`\n            <h3 class="sidebar__heading">Bundles</h3>\n            <ul class="sidebar__navigation">\n                ${i}\n            </ul>\n        `,esgst.sidebar.insertAdjacentHTML('beforeEnd',`\n            ${a}${r}${n}\n        `)}function getItadiPlain(e){var t;return t=['0','i','ii','iii','iv','v','vi','vii','viii','ix'],e.toLowerCase().replace(/\sthe|the\s/g,'').replace(/\s/g,'').replace(/\d/g,function(e){return t[e]}).replace(/\&/g,'and').replace(/\+/g,'plus').replace(/[^\d\w]/g,'')}async function getIwhUsers(e){let[t,s]=esgst.winnersPath?[setIWHObserver,'table__gift-not-sent']:[highlightIWHWinner,'comments__entity'],n=JSON.parse(await getValue('winners','{}')),i=e.getElementsByClassName(s);for(let e=0,s=i.length;e<s;++e)t(i[e],n)}function setIWHObserver(e){var t,s;t=location.pathname.match(/\/giveaway\/(.+?)\//)[1],s=e.closest('.table__row-inner-wrap').getElementsByClassName('table__column__heading')[0].querySelector('a[href*="/user/"]').textContent,e.addEventListener('click',async function(){var e;(e=JSON.parse(await getValue('winners','{}')))[t]||(e[t]=[]),e[t].indexOf(s)<0&&e[t].push(s),setValue('winners',JSON.stringify(e))})}function highlightIWHWinner(e,t){var s,n,i,a,o,r;if((s=e.firstElementChild.firstElementChild.getAttribute('href').match(/\/giveaway\/(.+?)\//))&&t[n=s[1]])for(a=0,o=(i=e.nextElementSibling.children).length;a<o;++a)r=(e=i[a].getElementsByClassName('comment__username')[0]).textContent,t[n].indexOf(r)>=0&&e.insertAdjacentHTML('afterEnd',`<i class="fa fa-trophy esgst-iwh-icon" title="${getFeatureTooltip('iwh','This is the winner or one of the winners of this giveaway')}"></i>`)}function loadLpl(){esgst.paginationNavigation&&(esgst.discussionPath?addLplDiscussionLink():esgst.userPath?addLplUserLink():esgst.groupPath&&addLplGroupLink())}function getLastPage(e,t,s,n,i,a,o,r){var l,c,d,g,u,h,m,p;return g=e.getElementsByClassName('pagination')[0],h=e.getElementsByClassName('pagination__results')[0],999999999===(d=(u=e.getElementsByClassName('pagination__navigation')[0])?(l=u.lastElementChild).textContent.match(/Last/)?parseInt(l.getAttribute('data-page-number')):t&&esgst.discussionPath||s?g?Math.ceil(parseInt(g.firstElementChild.lastElementChild.textContent.replace(/,/g,''))/25):999999999:t&&esgst.userPath||n?t&&location.pathname.match(/\/giveaways\/won/)||i?Math.ceil(parseInt(e.querySelector('.featured__table__row__right a[href*="/giveaways/won"]').textContent.replace(/,/g,''))/25):Math.ceil(parseInt(e.getElementsByClassName('sidebar__navigation__item__count')[0].textContent.replace(/,/g,''))/25):t&&esgst.groupPath||a?t&&location.pathname.match(/\/users/)||o?Math.ceil(parseInt(e.getElementsByClassName('sidebar__navigation__item__count')[1].textContent.replace(/,/g,''))/25):t&&esgst.groupWishlistPath||r?999999999:Math.ceil(parseInt(e.getElementsByClassName('sidebar__navigation__item__count')[0].textContent.replace(/,/g,''))/25):999999999:999999999)&&h&&(c=h.firstElementChild)&&(m=c.nextElementSibling)&&(p=m.nextElementSibling)&&!p.textContent.match(/Giveaway\sFilters/)&&(d=Math.ceil(parseInt(p.textContent.replace(/,/g,''))/parseInt(m.textContent.replace(/,/g,'')))),d}function addLplDiscussionLink(){var e,t;t=`${location.pathname.replace('/search','')}/search?page=${esgst.lastPage}`,esgst.lastPageLink=`\n            <a data-page-number="${esgst.lastPage}" href="${t}">\n                <span>Last</span>\n                <i class="fa fa-angle-double-right"></i>\n            </a>\n        `,(e=esgst.paginationNavigation.lastElementChild).classList.contains('is-selected')||e.textContent.match(/Last/)||esgst.paginationNavigation.insertAdjacentHTML('beforeEnd',esgst.lastPageLink)}function addLplUserLink(){var e,t,s,n;n=location.pathname.match(/^\/user\/(.+?)(\/.*?)?$/)[1],s=location.pathname.match(/\/giveaways\/won/)?`/user/${n}/giveaways/won/search?page=${esgst.lastPage}`:`/user/${n}/search?page=${esgst.lastPage}`,esgst.lastPageLink=`\n            <a data-page-number="${esgst.lastPage}" href="${s}">\n                <span>Last</span>\n                <i class="fa fa-angle-double-right"></i>\n            </a>\n        `,e=esgst.paginationNavigation.lastElementChild,esgst.currentPage===esgst.lastPage||e.classList.contains('is-selected')||e.textContent.match(/Last/)||esgst.paginationNavigation.insertAdjacentHTML('beforeEnd',esgst.lastPageLink)}function addLplGroupLink(){var e,t,s,n;e=location.pathname.match(/^\/group\/(.+?\/.+?)(\/.*?)?$/)[1],n=location.pathname.match(/\/users/)?`/group/${e}/users/search?page=${esgst.lastPage}`:esgst.groupWishlistPath?`/group/${e}/wishlist/search?page=${esgst.lastPage}`:`/group/${e}/search?page=${esgst.lastPage}`,esgst.lastPageLink=`\n            <a data-page-number="${esgst.lastPage}" href="${n}">\n                <span>Last</span>\n                <i class="fa fa-angle-double-right"></i>\n            </a>\n        `,t=esgst.paginationNavigation.lastElementChild,esgst.currentPage===esgst.lastPage||t.classList.contains('is-selected')||t.textContent.match(/Last/)||esgst.paginationNavigation.insertAdjacentHTML('beforeEnd',esgst.lastPageLink)}function loadLpv(){esgst.hr||setLpvStyle()}async function getLpvCv(){let e=esgst.users.users[esgst.steamId];if(!e)return 0;let t=e.giveaways;if(!t)return 0;let s={cache:JSON.parse(getLocalValue('lpvCache',`{"games": {"apps":{},"subs":{}},"giveaways": [],"timestamp": ${Date.now()}}`)),cv:0},n=Date.now();n-s.cache.timestamp>6048e5&&(s.cache={games:{apps:{},subs:{}},giveaways:[],timestamp:Date.now()});let i=[];return['apps','subs'].forEach(e=>{let a=t.sent[e];for(let t in a){let o=0,r=0,l=0;a[t].forEach(e=>{let t=esgst.giveaways[e];t&&(l=t.points,n<t.endTime||s.cache.giveaways.indexOf(e)>-1?(o+=t.copies,s.cache.giveaways.indexOf(e)<0&&s.cache.giveaways.push(e)):(t.entries>=5||!t.inviteOnly&&!t.group&&!t.whitelist)&&(Array.isArray(t.winners)?t.winners.forEach(e=>{'Received'===e.status&&(r+=1)}):t.winners>0&&(r+=Math.min(t.entries,t.winners))))}),i.push(getLpvValue(s,t,o,r,e,l))}}),await Promise.all(i),setLocalValue('lpvCache',JSON.stringify(s.cache)),s.cv}async function getLpvValue(e,t,s,n,i,a){if(s<=0)return;if(!e.cache.games[i][t]){try{let e=JSON.parse((await request({method:'GET',url:`http://store.steampowered.com/api/${'apps'===i?'appdetails?appids':'packagedetails?packageids'}=${t}&cc=us&filters=price,price_overview`})).responseText)[t].data;a=Math.ceil((e.price_overview||e.price).initial/100)}catch(e){}e.cache.games[i][t]=a}a=e.cache.games[i][t]||a;let o=esgst.games.apps[t];if(o&&(o.noCV?a=0:o.reducedCV&&(a*=.15)),n>5||n+s>5){for(let e=n-5;e>0;e--)a*=.9;for(let t=s;t>0;t--)a*=.9,e.cv+=a}else e.cv+=a*s}async function setLpvStyle(){let e=esgst.levelContainer.getAttribute('title').match(/(\d+)\.(\d+)/),t=parseInt(e[1]);if(10===t)return;let s=parseInt(e[2]),n=parseInt(1.86*s),i=`${n}px`,a=`${Math.max(0,n-157)}px`,o=await getLpvCv(),r='0',l='0';o>0&&(s=parseInt(Math.round(100*(s+Math.round(100*o)/100/[.01,25,50,100,150,250,500,1e3,1e3,2e3][t]*100))/100),r=`${n=1.86*Math.min(100,s)}px`,l=`${Math.max(0,n-157)}px`,esgst.levelContainer.title=getFeatureTooltip('lpv',`${esgst.levelContainer.getAttribute('title')} (${Math.min(10,Math.round(100*(t+s/100))/100)})`)),esgst.lpvStyle||(esgst.lpvStyle=insertHtml(document.head,'beforeEnd','<style id="esgst-lpv-style"></style>')),esgst.lpvStyle.innerHTML=`\n            .esgst-lpv-container {\n                background-image: linear-gradient(to right, var(--esgst-lpv-bar, #609f60) ${i}, var(--esgst-lpv-bar-projected, rgba(96, 159, 96, 0.5)) ${i}, var(--esgst-lpv-bar-projected, rgba(96, 159, 96, 0.5)) ${r}, transparent ${i}), var(--esgst-lpv-button, linear-gradient(#8a92a1 0px, #757e8f 8px, #4e5666 100%)) !important;\n            }\n            .esgst-lpv-container .nav__button--is-dropdown:hover {\n                background-image: linear-gradient(to right, var(--esgst-lpv-bar-hover, #6dac6d) ${i}, var(--esgst-lpv-bar-hover-projected, rgba(122, 185, 122, 0.5)) ${i}, var(--esgst-lpv-bar-hover-projected, rgba(122, 185, 122, 0.5)) ${r}, transparent ${i}), var(--esgst-lpv-button-hover, linear-gradient(#9ba2b0 0px, #8c94a3 8px, #596070 100%)) !important;\n            }\n            .esgst-lpv-container .nav__button--is-dropdown-arrow:hover {\n                background-image: linear-gradient(to right, var(--esgst-lpv-bar-hover, #6dac6d) ${a}, var(--esgst-lpv-bar-hover-projected, rgba(122, 185, 122, 0.5)) ${a}, var(--esgst-lpv-bar-hover-projected, rgba(122, 185, 122, 0.5)) ${l}, transparent ${a}), var(--esgst-lpv-button-hover, linear-gradient(#9ba2b0 0px, #8c94a3 8px, #596070 100%)) !important;\n            }\n            .esgst-lpv-container .nav__button--is-dropdown-arrow.is-selected {\n                background-image: linear-gradient(to right, var(--esgst-lpv-bar, #609f60) ${a}, var(--esgst-lpv-bar-projected, rgba(96, 159, 96, 0.5)) ${a}, var(--esgst-lpv-bar-projected, rgba(96, 159, 96, 0.5)) ${l}, transparent ${a}), var(--esgst-lpv-arrow, linear-gradient(#4e525f 0px, #434857 5px, #2b2e3a 100%)) !important;\n            }\n            .esgst-lpv-container.is-selected .nav__button--is-dropdown {\n                background-image: linear-gradient(to right, var(--esgst-lpv-bar-hover, #6dac6d) ${i}, var(--esgst-lpv-bar-hover-projected, rgba(122, 185, 122, 0.5)) ${i}, var(--esgst-lpv-bar-hover-projected, rgba(122, 185, 122, 0.5)) ${r}, transparent ${i}), var(--esgst-lpv-button-selected, linear-gradient(#d0d5de 0px, #c9cdd7 5px, #9097a6 100%)) !important;\n            }\n            .esgst-lpv-container.is-selected .nav__button--is-dropdown-arrow {\n                background-image: linear-gradient(to right, var(--esgst-lpv-bar-hover, #6dac6d) ${a}, var(--esgst-lpv-bar-hover-projected, rgba(122, 185, 122, 0.5)) ${a}, var(--esgst-lpv-bar-hover-projected, rgba(122, 185, 122, 0.5)) ${l}, transparent ${a}), var(--esgst-lpv-button-selected, linear-gradient(#d0d5de 0px, #c9cdd7 5px, #9097a6 100%)) !important;\n            }\n            .esgst-lpv-container.is-selected .nav__button--is-dropdown:hover {\n                background-image: linear-gradient(to right, var(--esgst-lpv-bar-selected, #7ab97a) ${i}, var(--esgst-lpv-bar-selected-projected, rgba(147, 210, 147, 0.5)) ${i}, var(--esgst-lpv-bar-selected-projected, rgba(147, 210, 147, 0.5)) ${r}, transparent ${i}), var(--esgst-lpv-button-selected-hover, linear-gradient(#f0f1f5 0px, #d1d4de 100%)) !important;\n            }\n            .esgst-lpv-container.is-selected .nav__button--is-dropdown-arrow:hover:not(.is-selected) {\n                background-image: linear-gradient(to right, var(--esgst-lpv-bar-selected, #7ab97a) ${a}, var(--esgst-lpv-bar-selected-projected, rgba(147, 210, 147, 0.5)) ${a}, var(--esgst-lpv-bar-selected-projected, rgba(147, 210, 147, 0.5)) ${l}, transparent ${a}), var(--esgst-lpv-button-selected-hover, linear-gradient(#f0f1f5 0px, #d1d4de 100%)) !important;\n            }\n            .esgst-lpv-container.is-selected .nav__button--is-dropdown-arrow.is-selected {\n                background-image: linear-gradient(to right, var(--esgst-lpv-bar-selected, #7ab97a) ${a}, var(--esgst-lpv-bar-selected-projected, rgba(147, 210, 147, 0.5)) ${a}, var(--esgst-lpv-bar-selected-projected, rgba(147, 210, 147, 0.5)) ${l}, transparent ${a}), var(--esgst-lpv-arrow-selected, linear-gradient(#4e525f 0px, #434857 5px, #2b2e3a 100%)) !important;\n            }\n        `,esgst.mainButton.parentElement.classList.add('esgst-lpv-container')}function calculateLucValue(e){var t,s,n,i,a;(t=parseInt(e.level))<10&&(s=(a=[0,.01,25.01,50.01,100.01,250.01,500.01,1000.01,2000.01,3000.01,5000.01])[t],n=a[t+1],i=Math.round(100*(n-(s+(n-s)*(e.level-t))))/100,e.levelRowRight.insertAdjacentHTML('beforeEnd',`<span class="esgst-luc-value" title="${getFeatureTooltip('luc')}">(~$${i} real CV to level ${t+1})</span>`))}async function loadMgc(){esgst.newGiveawayPath&&addMgcSection(),esgst.newDiscussionPath?(getLocalValue('mgcAttach_step1')||getLocalValue('mgcAttach_step2'))&&(delLocalValue('mgcAttach_step1'),delLocalValue('mgcAttach_step2'),addMgcCreateAndAttachButton()):esgst.editDiscussionPath?getLocalValue('mgcAttach_step4')&&editMgcDiscussion():esgst.discussionPath&&(getLocalValue('mgcAttach_step2')?(delLocalValue('mgcAttach_step2'),setLocalValue('mgcAttach_step3',location.pathname.match(/\/discussion\/(.+?)\//)[1]),await request({data:`xsrf_token=${esgst.xsrfToken}&do=close_discussion`,method:'POST',url:location.href}),close()):getLocalValue('mgcAttach_step4')?document.querySelector('form[action="/discussions/edit"]').submit():getLocalValue('mgcAttach_step5')?(delLocalValue('mgcAttach_step5'),await request({data:`xsrf_token=${esgst.xsrfToken}&do=reopen_discussion`,method:'POST',url:location.href}),setLocalValue('mgcAttach_step6',!0),location.reload()):getLocalValue('mgcAttach_step6')&&(delLocalValue('mgcAttach_step6'),new Popup('fa-check','Train created with success! You can close this now.',!0).open()))}function addMgcSection(){var e,t,s,n,i,a,o,r,l,c,d,g,u,h,m,p;if(u=document.getElementsByClassName('form__rows')[0]){d={countries:document.querySelector('[name="country_item_string"]'),gameId:document.querySelector('[name="game_id"]'),gameType:document.querySelector('[name="type"]'),copies:document.querySelector('[name="copies"]'),keys:document.querySelector('[name="key_string"]'),startTime:document.querySelector('[name="start_time"]'),endTime:document.querySelector('[name="end_time"]'),region:document.querySelector('[name="region_restricted"]'),whoCanEnter:document.querySelector('[name="who_can_enter"]'),whitelist:document.querySelector('.form__row--who-can-enter [name="whitelist"]'),groups:document.querySelector('[name="group_item_string"]'),level:document.querySelector('[name="contributor_level"]'),description:document.querySelector('[name="description"]'),datas:[],values:[],created:[],countryNames:{},groupNames:{}};let f=document.querySelector('[data-input="country_item_string"]').querySelectorAll('[data-item-id]');for(let e=0,t=f.length;e<t;e++){let t=f[e];d.countryNames[t.getAttribute('data-item-id')]=t.getAttribute('data-name')}for(let e=0,t=(f=document.querySelector('[data-input="group_item_string"]').querySelectorAll('[data-item-id]')).length;e<t;e++){let t=f[e];d.groupNames[t.getAttribute('data-item-id')]=t.getAttribute('data-name')}d.gameName=d.gameId.nextElementSibling,n=(i=(h=insertHtml(u,'afterBegin',`\n                <div class="esgst-form-row" title="${getFeatureTooltip('mgc')}">\n                    <div class="esgst-form-heading">\n                        <div class="esgst-form-heading-number">0.</div>\n                        <div class="esgst-form-heading-text">\n                            Create Multiple Giveaways <i class="fa fa-question-circle" title="How To Use\n\n1. If you want to create a train, enable 'Create train', otherwise go to step 3.\n2. If you want to attach a discussion to the train, click 'Attach' and follow the steps.\n3. Fill the details of the giveaway (you can use Giveaway Templates for this).\n4. If you are creating a train, you must generate next/previous links by clicking 'Generate' and following the steps, otherwise go to the next step.\n5. If you want to add a counter to the giveaways, click 'Generate' and follow the steps.\n6. You can either add each giveaway at a time, by typing the game name, filling the copies/keys fields and clicking 'Add', or all giveaways at the same time, by clicking 'Import' and following the steps.\n7. If you want to play with the order of the giveaways you can use 'Shuffle' to change their order.\n8. When you have added all the giveaways and are ready to create them, click 'Create' and wait until the process is done."></i>\n                        </div>\n                    </div>\n                    <div class="esgst-gm-section esgst-form-row-indent">\n                        <div>\n                            <div></div>\n                            <div class="esgst-hidden">\n                                <div></div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `).lastElementChild).firstElementChild).lastElementChild,esgst.mgc_createTrain&&n.classList.remove('esgst-hidden'),(a=new ToggleSwitch(i.firstElementChild,'mgc_createTrain',!1,'Create train.',!1,!1,null,esgst.mgc_createTrain)).dependencies.push(n),new ToggleSwitch(n.firstElementChild,'mgc_removeLinks',!1,'Remove previous/next links from the first/last wagons.',!1,!1,'Disabling this keeps the links as plain text.',esgst.mgc_removeLinks);let v=new ButtonSet('green','grey','fa-gear','fa-circle-o-notch fa-spin','Generate','Generating...',generateMgcFormat);d.editButton=new ButtonSet('green','grey','fa-edit','fa-circle-o-notch fa-spin','Edit','Editing...',getMgcValues.bind(null,!0,d)),d.editButton.set.classList.add('esgst-hidden'),e=new ButtonSet('green','grey','fa-plus-circle','fa-circle-o-notch fa-spin','Add','Adding...',getMgcValues.bind(null,!1,d)),c=new ButtonSet('green','grey','fa-arrow-circle-up','fa-circle-o-notch fa-spin','Import','Importing...',importMgcGiveaways.bind(null,d)),l=new ButtonSet('green','grey','fa-arrow-circle-down','fa-circle-o-notch fa-spin','Export','Exporting...',exportMgcGiveaways.bind(null,d)),m=new ButtonSet('green','grey','fa-random','fa-circle-o-notch fa-spin','Shuffle','Shuffling...',shuffleMgcGiveaways.bind(null,d)),r=new ButtonSet('green','grey','fa-trash','fa-circle-o-notch fa-spin','Empty','Emptying...',emptyMgcGiveaways.bind(null,d)),t=new ButtonSet('green','grey','fa-paperclip','fa-circle-o-notch fa-spin','Attach','Attaching...',attachMgcDiscussion.bind(null,d)),a.dependencies.push(t.set),esgst.mgc_createTrain||t.set.classList.add('esgst-hidden'),p=new ButtonSet('green','grey','fa-eye','fa-circle-o-notch fa-spin','View Results','Opening...',viewMgcResults.bind(null,d)),s=new ButtonSet('green','grey','fa-arrow-circle-right','fa-circle-o-notch fa-spin','Create','Creating...',createMgcGiveaways.bind(null,d,p)),p.set.classList.add('esgst-hidden'),h.appendChild(v.set),h.appendChild(d.editButton.set),h.appendChild(e.set),h.appendChild(c.set),h.appendChild(l.set),h.appendChild(m.set),h.appendChild(r.set),h.appendChild(t.set),h.appendChild(s.set),h.appendChild(p.set),d.discussionPanel=insertHtml(h,'beforeEnd','\n                <div class="esgst-hidden">\n                    <span class="esgst-bold">Discussion Attached:</span> <a></a> <i class="esgst-clickable fa fa-times" title="Detach discussion"></i>\n                </div>\n            '),(o=d.discussionPanel.lastElementChild).addEventListener('click',detachMgcDiscussion.bind(null,d)),d.discussionLink=o.previousElementSibling,new ToggleSwitch(d.discussionPanel,'mgc_bumpLast',!1,'Only insert the bump link in the last wagon.',!1,!1,'If disabled, the bump link will appear on all wagons.',esgst.mgc_bumpLast),d.giveaways=insertHtml(h,'beforeEnd','\n                <div class="pinned-giveaways__outer-wrap">\n                    <div class="pinned-giveaways__inner-wrap"></div>\n                    <i class="fa fa-trash" title="Drag a giveaway here to remove it"></i>\n                    <div class="esgst-description">To edit a giveaway, click on it and a "Edit" button will appear. Then make your alterations and click "Edit".</div>\n                    <div class="esgst-description">Giveaways successfully created will turn green, giveaways successfully connected will be strikethrough (for train creations) and giveaways that were not successfully created will turn red.</div>\n                </div>\n            ').firstElementChild,(g=d.giveaways.nextElementSibling).addEventListener('dragenter',removeMgcGiveaway.bind(null,d)),JSON.parse(getLocalValue('mgcCache','[]')).forEach(e=>{addMgcGiveaway(!1,d,e)})}}function generateMgcFormat(e){e();let t=new Popup('fa-gear','Generate formats:');t.description.insertAdjacentHTML('afterBegin','<div class="esgst-description">1. Generate the format you want by editing the input fields (the text outside of the blue box is what the result will look like).<br>2. Copy the text inside of the blue box (you can use the copy icon for that).<br>3. Paste it in the giveaway description (section 8 in this page), wherever you want it to appear.</div>');let s={};t.scrollable.insertAdjacentHTML('beforeEnd','<div class="esgst-bold">Next/previous links</div>'),s.previousPrefix=insertHtml(t.scrollable,'beforeEnd','<input class="esgst-mgc-input" placeholder="â " type="text">'),s.previous=insertHtml(t.scrollable,'beforeEnd','<input class="esgst-mgc-input" placeholder="Previous" type="text">'),s.previousSuffix=insertHtml(t.scrollable,'beforeEnd','<input class="esgst-mgc-input" placeholder=" â" type="text">'),s.separator=insertHtml(t.scrollable,'beforeEnd','<input class="esgst-mgc-input" placeholder=" | " type="text">'),s.nextPrefix=insertHtml(t.scrollable,'beforeEnd','<input class="esgst-mgc-input" placeholder="â " type="text">'),s.next=insertHtml(t.scrollable,'beforeEnd','<input class="esgst-mgc-input" placeholder="Next" type="text">'),s.nextSuffix=insertHtml(t.scrollable,'beforeEnd','<input class="esgst-mgc-input" placeholder=" â" type="text">');let n=insertHtml(t.scrollable,'beforeEnd','\n            <div class="esgst-mgc-preview esgst-text-left markdown">\n                <div>\n                    <p>â <a href="#">Previous</a> â | â <a href="#">Next</a> â </p>\n                </div>\n                <br>\n                <pre><code>[ESGST-P]â [P]Previous[/P] â[/ESGST-P] | [ESGST-N]â [N]Next[/N] â[/ESGST-N]</code></pre>\n                <i class="esgst-clickable fa fa-copy"></i>\n            </div>\n        '),i=n.firstElementChild,a=n.lastElementChild,o=a.previousElementSibling.firstElementChild;a.addEventListener('click',()=>{copyValue(a,o.textContent)}),t.scrollable.insertAdjacentHTML('beforeEnd','<div class="esgst-bold">Counter</div>'),s.counter=insertHtml(t.scrollable,'beforeEnd','<input class="esgst-mgc-input" placeholder=" of " type="text">');let r=insertHtml(t.scrollable,'beforeEnd','\n            <div class="esgst-mgc-preview esgst-text-left markdown">\n                <div>\n                    <p>1 of 10</p>\n                </div>\n                <br>\n                <pre><code>[ESGST-C] of [/ESGST-C]</code></pre>\n                <i class="esgst-clickable fa fa-copy"></i>\n            </div>\n        '),l=r.firstElementChild,c=r.lastElementChild,d=c.previousElementSibling.firstElementChild;c.addEventListener('click',()=>{copyValue(c,d.textContent)}),t.scrollable.insertAdjacentHTML('beforeEnd','<div class="esgst-bold">Bump link (for attached discussions)</div>'),s.bump=insertHtml(t.scrollable,'beforeEnd','<input class="esgst-mgc-input" placeholder="Bump" type="text">');let g=insertHtml(t.scrollable,'beforeEnd','\n            <div class="esgst-mgc-preview esgst-text-left markdown">\n                <div>\n                    <p><a href="#">Bump</a></p>\n                </div>\n                <br>\n                <pre><code>[ESGST-B]Bump[/ESGST-B]</code></pre>\n                <i class="esgst-clickable fa fa-copy"></i>\n            </div>\n        '),u=g.firstElementChild,h,m=g.lastElementChild.previousElementSibling.firstElementChild;t.scrollable.insertAdjacentHTML('beforeEnd','<div class="esgst-bold">First train wagon link (for attached discussions)</div>'),s.train=insertHtml(t.scrollable,'beforeEnd','<input class="esgst-mgc-input" placeholder="Choo choo!" type="text">');let p=insertHtml(t.scrollable,'beforeEnd','\n            <div class="esgst-mgc-preview esgst-text-left markdown">\n                <div>\n                    <p><a href="#">Choo choo!</a></p>\n                </div>\n                <br>\n                <pre><code>[ESGST-T]Choo choo![/ESGST-T]</code></pre>\n                <i class="esgst-clickable fa fa-copy"></i>\n            </div>\n        '),f=p.firstElementChild,v=p.lastElementChild,x=v.previousElementSibling.firstElementChild;v.addEventListener('click',()=>{copyValue(v,x.textContent)});for(let e in s){let t=s[e];t.addEventListener('input',()=>{if('counter'===e)d.textContent=`[ESGST-C]${t.value}[/ESGST-C]`,l.innerHTML=parseMarkdown(`1${t.value}10`);else if('bump'===e)m.textContent=`[ESGST-B]${t.value}[/ESGST-B]`,u.innerHTML=parseMarkdown(`[${t.value}](#)`);else if('train'===e)x.textContent=`[ESGST-B]${t.value}[/ESGST-B]`,f.innerHTML=parseMarkdown(`[${t.value}](#)`);else{let e='',t='';s.previousPrefix.value||s.previousSuffix.value?(t+=`[ESGST-P]${s.previousPrefix.value}[P]${s.previous.value}[/P]${s.previousSuffix.value}[/ESGST-P]`,e+=`${s.previousPrefix.value}[${s.previous.value}](#)${s.previousSuffix.value}`):(t+=`[ESGST-P]${s.previous.value}[/ESGST-P]`,e+=`[${s.previous.value}](#)`),s.separator.value&&(t+=s.separator.value,e+=s.separator.value),s.nextPrefix.value||s.nextSuffix.value?(t+=`[ESGST-N]${s.nextPrefix.value}[N]${s.next.value}[/N]${s.nextSuffix.value}[/ESGST-N]`,e+=`${s.nextPrefix.value}[${s.next.value}](#)${s.nextSuffix.value}`):(t+=`[ESGST-N]${s.next.value}[/ESGST-N]`,e+=`[${s.next.value}](#)`),o.textContent=t,i.innerHTML=parseMarkdown(e)}t.style.width=`${t.value.length+75}px`})}t.open()}function getMgcValues(e,t,s){var n,i;(i={gameId:t.gameId.value,gameType:t.gameType.value,copies:t.copies.value,keys:t.keys.value}).gameId&&('gift'===i.gameType&&parseInt(i.copies)>0||'key'===i.gameType&&i.keys)?(esgst.busy=!0,i.countries=t.countries.value.trim(),i.gameName=t.gameName.value,i.startTime=t.startTime.value,i.endTime=t.endTime.value,i.region=t.region.value,i.whoCanEnter=t.whoCanEnter.value,i.whitelist=t.whitelist.value,i.groups=t.groups.value.trim(),i.level=t.level.value,i.description=t.description.value,i.steam=getGameInfo(document.querySelector(`[data-autocomplete-id="${i.gameId}"]`)),esgst.mgc_createTrain&&t.description.value.match(/\[ESGST-P\]|\[ESGST-N\]/)||!esgst.mgc_createTrain?t.discussion&&t.description.value.match(/\[ESGST-B\]/)||!t.discussion?(addMgcGiveaway(e,t,i),updateMgcCache(t),t.copies.value='1',t.keys.value=''):createAlert('The bump link format is missing from the description.'):createAlert('The next/previous links format is missing from the description.')):createAlert('You must first fill the details of the giveaway.'),s()}function addMgcGiveaway(e,t,s){var n,i;i=`${s.gameName.replace(/"/g,'&quot;')}\n`,'gift'===s.gameType?i+=`Gift\n${s.copies} Copies\n`:i+=`Keys\n${s.keys}\n`,i+=`\n${s.startTime} - ${s.endTime}\n`,'1'===s.region&&(i+='Region Restricted\n'),'everyone'===s.whoCanEnter?i+='Public\n':'invite_only'===s.whoCanEnter?i+='Invite Only\n':('1'===s.whitelist&&(i+='Whitelist\n'),s.groups.trim()&&(i+='Groups\n')),i+=`Level ${s.level}\n\n${s.description}`,n=`xsrf_token=${esgst.xsrfToken}&next_step=3&game_id=${s.gameId}&type=${s.gameType}&copies=${s.copies}&key_string=${s.keys}&start_time=${s.startTime}&end_time=${s.endTime}&region_restricted=${s.region}&country_item_string=${s.countries}&who_can_enter=${s.whoCanEnter}&whitelist=${s.whitelist}&group_item_string=${s.groups}&contributor_level=${s.level}&description=${encodeURIComponent(s.description)}`,e?(t.datas[t.editPos]=n,t.values[t.editPos]=s,t.giveaways.children[t.editPos].title=i,t.editButton.set.classList.add('esgst-hidden')):(t.datas.push(n),t.values.push(s),setMgcGiveaway(insertHtml(t.giveaways,'beforeEnd',`\n                <div class="esgst-gm-giveaway" draggable="true" title="${i}">${t.datas.length}</div>\n            `),t))}function setMgcGiveaway(e,t){e.addEventListener('click',setMgcValues.bind(null,e,t)),e.addEventListener('dragstart',setMgcSource.bind(null,e,t)),e.addEventListener('dragenter',getMgcSource.bind(null,e,t))}function setMgcValues(e,t){var s,n;s=parseInt(e.textContent)-1,n=t.values[s],t.countries.value=n.countries,t.gameId.value=n.gameId,t.gameType.value=n.gameType,t.copies.value=n.copies,t.keys.value=n.keys,t.gameName.value=n.gameName,t.startTime.value=n.startTime,t.endTime.value=n.endTime,t.region.value=n.region,t.whoCanEnter.value=n.whoCanEnter,t.whitelist.value=n.whitelist,t.groups.value=n.groups,t.level.value=n.level,t.description.value=n.description,n.edit=!0,applyGtsTemplate(n),t.editPos=s,t.editButton.set.classList.remove('esgst-hidden')}function setMgcSource(e,t,s){t.source=e,s.dataTransfer.setData('text/plain','')}function getMgcSource(e,t){var s;s=t.source;do{if((s=s.previousElementSibling)&&s===e)return t.giveaways.insertBefore(t.source,e),void updateMgcCache(t)}while(s);t.giveaways.insertBefore(t.source,e.nextElementSibling),updateMgcCache(t)}function importMgcGiveaways(e,t){var s,n,i,a,o;t(),(n=new Popup('fa-arrow-up','Import Giveaways',!0)).popup.classList.add('esgst-popup-large'),n.description.insertAdjacentHTML('afterBegin','\n            <div class="esgst-description">\n                Insert the keys below. <i class="fa fa-question-circle"></i>\n            </div>\n        '),createTooltip(n.description.firstElementChild.lastElementChild,`\n            <div>Before importing, make sure you have filled the details of the giveaway (start/end times, regions, who can enter, whitelist, groups, level and description) or applied a template (with ${getFeatureNumber('gts').number} Giveaway Templates). You can also specify separate details for each giveaway using the parameters below:</div>\n            <ul>\n                <li><span class="esgst-bold">[countries="..."]</span> (Replace "..." with the ids of the countries that the giveaway must be restricted to, separated by a comma followed by a space. The ids must be exactly how they appear in the country selection list. For example, "BR, US".)</li>\n                <li><span class="esgst-bold">[startTime="..."]</span> (Replace "..." with the date that the giveaway must start, in the format "Mon D, YYYY H:MM xm". For example, "Jan 15, 2018 12:00 am". For the names of the months, use "Jan", "Feb", "Mar", "Apr", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov" and "Dec". For single-digit days/hours, do not put a 0 at the beginning. For example, use "Jan 1" instead of "Jan 01" and "9:00 am" instead of "09:00 am".)</li>\n                <li><span class="esgst-bold">[endTime="..."]</span> (Replace "..." with the date that the giveaway must end, in the same format as the start time.)</li>\n                <li><span class="esgst-bold">[whoCanEnter="..."]</span> (Replace "..." with either: "everyone", if the giveaway must be public; "invite_only", if the giveaway must be private; or "groups", if the giveaway must be restricted to groups/whitelist.)</li>\n                <li><span class="esgst-bold">[groups="..."]</span> (Replace "..." with the names of the groups that the giveaway must be restricted to, separated by a comma followed by a space. The names must be exactly how they appear on the group selection list. Use "My Whitelist" to include your whitelist in the groups. For example, "My Whitelist, Playing Appreciated, S.Gifts" or "My Whitelist".)</li>\n                <li><span class="esgst-bold">[level="..."]</span> (Replace "..." with the level that the giveaway must be restricted to. For example, "5".)</li>\n                <li><span class="esgst-bold">[description="..."]</span> (Replace "..." with the description that the giveaway must have. Use "\\n" to represent a new line. For example, "The winner will be added on Steam for the delivery.\\n\\nPlease be patient.".)</li>\n            </ul>\n            <div>Put each giveaway in a separate line, using one of the formats below:</div>\n            <ul>\n                <li>Gift giveaways for 1 copy.</li>\n                <ul>\n                    <li><span class="esgst-bold">Game Name</span></li>\n                    <li><span class="esgst-bold">Game Name https://store.steampowered.com/xxx/XXXXX</span></li>\n                    <li><span class="esgst-bold">https://store.steampowered.com/xxx/XXXXX</span></li>\n                </ul>\n                <li>Gift giveaways for more than 1 copy. Replace the X with the number of copies.</li>\n                <ul>\n                    <li><span class="esgst-bold">Game Name (X Copies)</span></li>\n                    <li><span class="esgst-bold">Game Name https://store.steampowered.com/xxx/XXXXX (X Copies)</span></li>\n                    <li><span class="esgst-bold">https://store.steampowered.com/xxx/XXXXX (X Copies)</span></li>\n                </ul>\n                <li>Key giveaways. Gift links are also acceptable, so instead of "XXXXX-XXXXX-XXXXX" you can have "https://www.humblebundle.com/?gift=XxXXxxXXxXxxxXxx". For a link to be recognized it must start with either "http" or "https".</li>\n                <ul>\n                    <li><span class="esgst-bold">Game Name XXXXX-XXXXX-XXXXX</span></li>\n                    <li><span class="esgst-bold">Game Name https://store.steampowered.com/xxx/XXXXX XXXXX-XXXXX-XXXXX</span></li>\n                    <li><span class="esgst-bold">https://store.steampowered.com/xxx/XXXXX XXXXX-XXXXX-XXXXX</span></li>\n                    <li><span class="esgst-bold">XXXXX-XXXXX-XXXXX Game Name</span></li>\n                    <li><span class="esgst-bold">XXXXX-XXXXX-XXXXX Game Name https://store.steampowered.com/xxx/XXXXX</span></li>\n                    <li><span class="esgst-bold">XXXXX-XXXXX-XXXXX https://store.steampowered.com/xxx/XXXXX</span></li>\n                </ul>\n            </ul>\n            <div>By using the format that includes the link to the Steam store page of the game (https://store.steampowered.com/xxx/XXXXX), you make sure that if there are multiple games with the same name there will be a 100% match. If you do not use that format and there are multiple games with the same name, a popup will appear for you to decide which game should be used.</div>\n            <br>\n            <div>Here's an example:</div>\n            <br>\n            <div class="esgst-bold">Portal</div>\n            <div class="esgst-bold">Portal XXXXX-XXXXX-XXXXX</div>\n            <div class="esgst-bold">YYYYY-YYYYY-YYYYY Portal</div>\n            <div class="esgst-bold">Portal https://store.steampowered.com/app/400 (2 Copies)</div>\n            <div class="esgst-bold">https://store.steampowered.com/app/400 ZZZZZ-ZZZZZ-ZZZZZ</div>\n            <br>\n            <div>This example will create the 5 following giveaways if the option "Group adjacent keys for the same game." is disabled:</div>\n            <br>\n            <div>1 Portal giveaway for 1 gift copy.</div>\n            <div>1 Portal giveaway for 1 key (XXXXX-XXXXX-XXXXX).</div>\n            <div>1 Portal giveaway for 1 key (YYYYY-YYYYY-YYYYY).</div>\n            <div>1 Portal giveaway for 2 gift copies.</div>\n            <div>1 Portal giveaway for 1 key (ZZZZZ-ZZZZZ-ZZZZZ).</div>\n            <br>\n            <div>If the option "Group adjacent keys for the same game." is enabled, however, only 4 giveaways will be created, because the keys in the 2nd and 3rd giveaways are for the same game (Portal) and are adjacent (next to each other), so they will be grouped together in the same giveaway. Note that the key in the 5th giveaway is not adjacent, because the 4th giveaway is separating it from the others. So with the option enabled the 4 following giveaways will be created:</div>\n            <br>\n            <div>1 Portal giveaway for 1 gift copy.</div>\n            <div>1 Portal giveaway for 2 keys (XXXXX-XXXXX-XXXXX and YYYYY-YYYYY-YYYYY).</div>\n            <div>1 Portal giveaway for 2 gift copies.</div>\n            <div>1 Portal giveaway for 1 key (ZZZZZ-ZZZZZ-ZZZZZ).</div>\n            <br>\n            <div>And here's an example using separate details for each giveaway:</div>\n            <br>\n            <div class="esgst-bold">Portal [countries="BR, US"] [level="5"]</div>\n            <div class="esgst-bold">Portal XXXXX-XXXXX-XXXXX [whoCanEnter="groups"] [groups="Playing Appreciated"]</div>\n            <div class="esgst-bold">YYYYY-YYYYY-YYYYY Portal [whoCanEnter="groups"] [groups="My Whitelist"]</div>\n            <div class="esgst-bold">Portal (2 Copies) [startTime="Apr 1, 2018 9:00 am"] [endTime="Apr 11, 2018 15:00 pm"] [whoCanEnter="invite_only"]</div>\n            <div class="esgst-bold">Portal ZZZZZ-ZZZZZ-ZZZZZ [level="8"] [description="Appreciation for high level users.\\n\\nEnjoy!"]</div>\n            <br>\n            <div>Note that any missing parameters will be copied from the details that you have filled for the giveaway in the SteamGifts page. So, for example, if you have selected Everyone for Who Can Enter, the 1st and 5th giveaways will be public, because [whoCanEnter="..."] was not specified for them, so that detail will be copied over from the SteamGifts page.</div>\n            <br>\n            <div>Imported giveaways will not be automatically created, you still have to review them by clicking on the 'Create' button.</div>\n            <br>\n        `),new ToggleSwitch(n.description,'mgc_groupKeys',!1,'Group adjacent keys for the same game.',!1,!1,'',esgst.mgc_groupKeys),o=insertHtml(n.scrollable,'beforeEnd','\n            <textarea></textarea>\n        '),i={bar:(a=insertHtml(n.description,'beforeEnd','\n            <div>\n                <div class="esgst-progress-bar"></div>\n                <div>\n                    <span>0</span> of <span>0</span> giveaways imported.\n                </div>\n            </div>\n        ')).firstElementChild},s=a.lastElementChild,i.current=s.firstElementChild,i.total=i.current.nextElementSibling,n.description.appendChild(new ButtonSet('green','grey','fa-arrow-circle-up','fa-circle-o-notch fa-spin','Import','Importing...',getMgcGiveaways.bind(null,e,n,i,o)).set),n.open(focusMgcTextArea.bind(null,o)),o.style.height=`${.9*innerHeight-(n.popup.offsetHeight-n.scrollable.offsetHeight)-25}px`,o.style.overflow='auto',o.addEventListener('paste',resizeMgcTextArea.bind(null,n,o))}function resizeMgcTextArea(e,t){var s,n;n=t.value,s=setInterval(function(){n!==t.value&&(clearInterval(s),t.style.height=`${.9*innerHeight-(e.popup.offsetHeight-e.scrollable.offsetHeight)-25}px`,t.style.overflow='auto')},250)}function getMgcGiveaways(e,t,s,n,a){var o,r,l,c,d;if(esgst.mgc_createTrain&&e.description.value.match(/\[ESGST-P\]|\[ESGST-N\]/)||!esgst.mgc_createTrain)if(e.discussion&&e.description.value.match(/\[ESGST-B\]/)||!e.discussion){for(esgst.busy=!0,o=[],r=n.value.trim().split(/\n/),i=0,c=r.length;i<c;++i)line=r[i].trim(),line&&o.push(line);n.value=o.join('\n'),c=o.length,$(s.bar).progressbar('instance')?(l=$(s.bar).progressbar('option','max'),(d=$(s.bar).progressbar('option','value'))+c!==l&&($(s.bar).progressbar({max:d+c,value:d}),s.total.textContent=d+c)):($(s.bar).progressbar({max:c}),s.total.textContent=c),importMgcGiveaway(o,0,e,c,t,s,n,()=>{updateMgcCache(e),t.close()},a)}else createAlert('The bump link format is missing from the description.'),a();else createAlert('The next/previous links format is missing from the description.'),a()}async function importMgcGiveaway(e,t,s,n,i,a,o,r,l){var c,d,g,u,h,m,p,f,v,x,w;if(t<n){let x=e[t].match(/\[countries="(.+?)"\]/),b=e[t].match(/\[startTime="(.+?)"\]/),y=e[t].match(/\[endTime="(.+?)"\]/),F=e[t].match(/\[whoCanEnter="(.+?)"\]/),_=e[t].match(/\[groups="(.+?)"\]/),k=e[t].match(/\[level="(.+?)"\]/),E=e[t].match(/\[description="(.+?)"\]/);if(x){let e=x[1].split(/,\s/);x='',e.forEach(e=>{let t=document.querySelector('[data-input="country_item_string"]').querySelector(`[data-name$="${e}"]`);t&&(x+=`${t.getAttribute('data-item-id')} `)})}let S='';if(_){let e=_[1].split(/,\s/);_='',e.forEach(e=>{if('My Whitelist'===e)return void(S='1');let t=document.querySelector('[data-input="group_item_string"]').querySelector(`[data-name$="${e}"]`);t&&(_+=`${t.getAttribute('data-item-id')} `)})}let C=e[t].match(/https?:\/\/.*?store\.steampowered\.com\/(app|sub)\/(\d+)/),A=null;if(C&&(A={id:C[2],type:`${C[1]}s`}),e[t]=e[t].replace(/\[(.+?)="(.+?)"\]/g,'').replace(/https?:\/\/.*?store\.steampowered\.com(.*?\s|.*)/,'[ESGST] ').trim(),(p=e[t].match(/^(([\d\w]{5}(-[\d\w]{5}){2,}\s?|https?:\/\/.+?\s?)+)\s(.+)$/))?(h=!0,m=1,v=4):(p=e[t].match(/^(.+?)\s(([\d\w]{5}(-[\d\w]{5}){2,}\s?|https?:\/\/.+?\s?)+)$/))?(h=!0,m=2,v=1):(p=e[t].match(/^(.+?)(\s\((\d+?)\sCopies\))?$/))&&(h=!1,v=1),p){if(f=p[v].replace(/\[ESGST\]/,'').trim().toLowerCase(),w={countries:(x||s.countries.value).trim(),startTime:b&&b[1]||s.startTime.value,endTime:y&&y[1]||s.endTime.value,region:x?'1':s.region.value,whoCanEnter:F&&F[1]||s.whoCanEnter.value,whitelist:S||s.whitelist.value,groups:(_||s.groups.value).trim(),level:k&&k[1]||s.level.value,description:E?E[1].replace(/\\n/g,'\n'):s.description.value},h?(w.gameType='key',w.keys=p[m].replace(/\s/g,'\n')):(w.gameType='gift',c=p[3],w.copies=c||'1'),u=1,esgst.mgc_groupKeys&&h)do{if(d=!1,g=e[t+1]){let e=g.match(/https?:\/\/.*?store\.steampowered\.com\/(app|sub)\/(\d+)/),s=null;e&&(s={id:e[2],type:`${e[1]}s`}),(p=(g=g.replace(/\[(.+?)="(.+?)"\]/g,'').replace(/https?:\/\/.*?store\.steampowered\.com(.*?\s|.*)/,'[ESGST] ').trim()).match(/^(([\d\w]{5}(-[\d\w]{5}){2,}\s?|https?:\/\/.+?\s?)+)\s(.+)$/))?(h=!0,m=1,v=4):(p=g.match(/^(.+?)\s(([\d\w]{5}(-[\d\w]{5}){2,}\s?|https?:\/\/.+?\s?)+)$/))?(h=!0,m=2,v=1):h=!1,p&&h&&(p[v].replace(/\[ESGST\]/,'').trim().toLowerCase()===f||s&&A&&s.type===A.type&&s.id===A.id)&&(d=!0,w.keys+=`\n${p[m].replace(/\s/g,'\n')}`,++t,++u)}}while(d);getMgcGiveaway(e,t,u,s,n,f,i,a,A,o,w,r,l,await request({data:`do=autocomplete_giveaway_game&page_number=1&search_query=${encodeURIComponent(A&&A.id||f)}`,method:'POST',url:'/ajax.php'}))}else createAlert('The next giveaway is not in the right format. Please correct it and click on "Import" again to continue importing.'),l()}else r()}function getMgcGiveaway(e,t,s,n,i,a,o,r,l,c,d,g,u,h){let m,p,f,v,x,w,b,y,F,_,k;for(w=null,F=[],y=0,_=(x=parseHtml(JSON.parse(h.responseText).html).getElementsByClassName('table__row-outer-wrap')).length;y<_;y++)if((v=x[y]).getAttribute('data-autocomplete-name').toLowerCase()===a)if(l){if(b=getGameInfo(v),l.type===b.type&&l.id===b.id){w=v;break}}else F.push(v);else if(l&&(b=getGameInfo(v),l.type===b.type&&l.id===b.id)){w=v;break}if(w||1!==F.length||(w=F[0]),w){d.gameName=w.getAttribute('data-autocomplete-name'),d.gameId=w.getAttribute('data-autocomplete-id'),d.steam=getGameInfo(w),addMgcGiveaway(!1,n,d),k=$(r.bar).progressbar('option','value')+s,$(r.bar).progressbar('option','value',k),r.current.textContent=k;do{c.value=c.value.replace(/^(.+?)\n/,''),s-=1}while(s>0);setTimeout(importMgcGiveaway,0,e,++t,n,i,o,r,c,g,u)}else F.length>0?(p=new Popup_v2({icon:'fa-exclamation',isTemp:!0,title:`There are ${F.length} matches for ${a}. Please select the correct match.`,addScrollable:'left'}),f=p.getScrollable(),F.forEach(a=>{let l=insertHtml(f,'beforeEnd',a.outerHTML);l.classList.remove('is-clickable'),(m=new ButtonSet_v2({color1:'green',color2:'',icon1:'fa-arrow-circle-right',icon2:'',title1:'Select',title2:'',callback1:()=>{p.close(),d.gameName=l.getAttribute('data-autocomplete-name'),d.gameId=l.getAttribute('data-autocomplete-id'),d.steam=getGameInfo(l),addMgcGiveaway(!1,n,d),k=$(r.bar).progressbar('option','value')+s,$(r.bar).progressbar('option','value',k),r.current.textContent=k;do{c.value=c.value.replace(/^(.+?)\n/,''),s-=1}while(s>0);setTimeout(importMgcGiveaway,0,e,++t,n,i,o,r,c,g,u)}})).set.style.position='absolute',m.set.style.right='50px',l.insertBefore(m.set,l.firstElementChild)}),p.onClose=u,p.open()):(createAlert(`${a} was not found! Please correct the title of the game and click on "Import" again to continue importing (it must be exactly like on Steam).`),u())}function focusMgcTextArea(e){e.focus()}function exportMgcGiveaways(e,t){var s,n,i,a,o,r,l,c,d;t(),l=new Popup('fa-arrow-down','Export'),new ToggleSwitch(l.description,'mgc_reversePosition',!1,'Export keys in reverse position (before the name of the game).',!1,!1,'',esgst.mgc_reversePosition),l.description.appendChild(new ButtonSet('green','','fa-arrow-down','','Export','',function(t){for(n='',i=0,o=e.giveaways.children.length;i<o;++i)if('Gift'===(d=e.giveaways.children[i].title.split(/\n/))[1])parseInt(d[2].match(/\d+/)[0])>1?n+=`${d[0]} (${d[2]})\r\n`:n+=`${d[0]}\r\n`;else for(a=2;d[a];++a)esgst.mgc_reversePosition?n+=`${d[a]} ${d[0]}\r\n`:n+=`${d[0]} ${d[a]}\r\n`;(s=document.createElement('a')).download='giveaways.txt',c=URL.createObjectURL(new Blob([n])),s.href=c,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(c),t()}).set),l.open()}function emptyMgcGiveaways(e,t){confirm('Are you sure you want to empty the creator?')&&(delLocalValue('mgcCache'),esgst.busy=!1,e.datas=[],e.values=[],e.created=[],e.giveaways.innerHTML='',e.copies.value='1',e.keys.value=''),t()}function createMgcGiveaways(e,t,s){if(!e.datas.length)return createAlert('There are no giveaways in the queue. Click on the "Add" button to add a giveaway to the queue.'),void s();let n=new Popup('fa-arrow-circle-right','ESGST will create the giveaways below. Are you sure you want to continue?'),i=insertHtml(n.scrollable,'beforeEnd','\n            <div class="table esgst-mgc-table">\n                <div class="table__heading">\n                    <div class="table__column--width-small">No.</div>\n                    <div class="table__column--width-fill">Game</div>\n                    <div class="table__column--width-small">Copies/Keys</div>\n                    <div class="table__column--width-small">Start Time</div>\n                    <div class="table__column--width-small">End Time</div>\n                    <div class="table__column--width-small">Region Restricted</div>\n                    <div class="table__column--width-small">Who Can Enter</div>\n                    <div class="table__column--width-small">Level</div>\n                    <div class="table__column--width-small">Description</div>\n                </div>\n                <div class="table__rows"></div>\n            </div>\n        ').lastElementChild;for(let t=0,s=e.giveaways.children.length;t<s;t++){let s=e.values[parseInt(e.giveaways.children[t].textContent)-1],n='No';'1'===s.region&&(n='Yes (',s.countries.split(/\s/).forEach(t=>{n+=`${e.countryNames[t].match(/.+\s(.+)$/)[1]}, `}),n=`${n.slice(0,-2)})`);let a='Everyone';'invite_only'===s.whoCanEnter?a='Invite Only':'groups'===s.whoCanEnter&&(a='Groups (','1'===s.whitelist&&(a+='Whitelist, '),s.groups&&s.groups.split(/\s/).forEach(t=>{a+=`${e.groupNames[t]}, `}),a=`${a.slice(0,-2)})`),i.insertAdjacentHTML('beforeEnd',`\n                <div class="table__row-outer-wrap">\n                    <div class="table__row-inner-wrap">\n                        <div class="table__column--width-small">${t+1}</div>\n                        <div class="table__column--width-fill">\n                        ${s.steam?`\n                            <a class="table__column__secondary-link" href="https://store.steampowered.com/${s.steam.type.slice(0,-1)}/${s.steam.id}">${s.gameName}</a>\n                        `:`\n                            <span>${s.gameName}</span>\n                        `}\n                        </div>\n                        <div class="table__column--width-small">${s.keys?s.keys.replace(/\n/g,'<br>'):`${s.copies} Copies`}</div>\n                        <div class="table__column--width-small">${s.startTime}</div>\n                        <div class="table__column--width-small">${s.endTime}</div>\n                        <div class="table__column--width-small">${n}</div>\n                        <div class="table__column--width-small">${a}</div>\n                        <div class="table__column--width-small">${s.level}</div>\n                        <div class="table__column--width-small" title="${s.description.replace(/"/g,'&quot;')}">${s.description.length>100?`${s.description.slice(0,100)}...`:s.description}</div>\n                    </div>\n                </div>\n            `)}n.description.appendChild(new ButtonSet_v2({color1:'green',color2:'',icon1:'fa-check',icon2:'',title1:'Yes',title2:'',callback1:createMgcGiveaways_2.bind(null,e,t,n,s)}).set),n.description.appendChild(new ButtonSet_v2({color1:'red',color2:'',icon1:'fa-times',icon2:'',title1:'No',title2:'',callback1:n.close.bind(n)}).set),n.onClose=(()=>{n.isOpen&&s()}),n.open()}function createMgcGiveaways_2(e,t,s,n){s.onClose=null,s.close(),esgst.mgc_createTrain&&e.description.value.match(/\[ESGST-P\]|\[ESGST-N\]/)||!esgst.mgc_createTrain?e.discussion&&e.description.value.match(/\[ESGST-B\]/)||!e.discussion?(e.copies.value='1',e.keys.value='',t.set.classList.add('esgst-hidden'),e.saveGiveaways={},createMgcGiveaway(0,e,e.giveaways.children.length,esgst.cewgd||esgst.gc&&esgst.gc_gi||esgst.lpv||esgst.rcvc?saveMgcGiveaways.bind(null,e,completeMgcCreation.bind(null,e,t,n)):completeMgcCreation.bind(null,e,t,n))):(createAlert('The bump link format is missing from the description.'),n()):(createAlert('The next/previous links format is missing from the description.'),n())}async function createMgcGiveaway(e,t,s,n){var i,a;e<s?t.giveaways.children[e].classList.contains('success')?setTimeout(createMgcGiveaway,0,++e,t,s,n):(i=parseInt(t.giveaways.children[e].textContent)-1)>0&&t.datas[i].replace(/key_string=(.*?)&/,'').replace(/copies=(.*?)&/,'')===t.datas[i-1].replace(/key_string=(.*?)&/,'').replace(/copies=(.*?)&/,'')?((a=new Popup('fa-circle-o-notch fa-spin','Waiting 2 minutes to create another identical giveaway...',!0)).open(),setTimeout(async()=>{a.close(),console.log(t.datas[i]),checkMgcCreation(e,t,s,n,await request({data:t.datas[i].replace(/start_time=(.+?)&/,correctMgcTime),method:'POST',url:'/giveaways/new'}))},12e4)):(console.log(t.datas[i]),checkMgcCreation(e,t,s,n,await request({data:t.datas[i].replace(/start_time=(.+?)&/,correctMgcTime),method:'POST',url:'/giveaways/new'}))):esgst.mgc_createTrain?createMgcTrain(0,t,t.created.length,n):n()}function correctMgcTime(e,t){return new Date(t).getTime()<Date.now()?`start_time=${formatDate(new Date)}&`:e}async function checkMgcCreation(e,t,s,n,i){var a,o,r,l,c,d;if(r=t.giveaways.children[e],console.log(i.finalUrl),i.finalUrl.match(/\/giveaways\/new/)){for(r.classList.add('error'),o='Errors:\n',l=0,c=(a=parseHtml(i.responseText).getElementsByClassName('form__row__error')).length;l<c;++l)o+=`${a[l].textContent}\n`;o+='\n',r.title=`${o}${r.title}`,setTimeout(createMgcGiveaway,0,++e,t,s,n)}else r.classList.add('success'),d=parseHtml(i.responseText),t.created.push({giveaway:r,html:buildGiveaway(d,i.finalUrl).html,url:i.finalUrl}),esgst.cewgd||esgst.gc&&esgst.gc_gi||esgst.lpv||esgst.rcvc?((r=(await getGiveaways(d,!1,i.finalUrl))[0])&&(t.saveGiveaways[r.code]=r),setTimeout(createMgcGiveaway,0,++e,t,s,n)):setTimeout(createMgcGiveaway,0,++e,t,s,n)}async function saveMgcGiveaways(e,t){var s={steamId:esgst.steamId,username:esgst.username},n;savedUser=await getUser(null,s);var i=null;if(savedUser&&(i=savedUser.giveaways),!i&&(i={sent:{apps:{},subs:{}},won:{apps:{},subs:{}},sentTimestamp:0,wonTimestamp:0},savedUser&&(n=savedUser.ugd))){if(n.sent){for(var a in n.sent.apps){i.sent.apps[a]=[];for(var o=0,r=n.sent.apps[a].length;o<r;++o)e.saveGiveaways[n.sent.apps[a][o].code]=n.sent.apps[a][o],i.sent.apps[a].push(n.sent.apps[a][o].code)}for(var a in n.sent.subs){i.sent.subs[a]=[];for(var o=0,r=n.sent.subs[a].length;o<r;++o)e.saveGiveaways[n.sent.subs[a][o].code]=n.sent.subs[a][o],i.sent.subs[a].push(n.sent.subs[a][o].code)}i.sentTimestamp=n.sentTimestamp}if(n.won){for(var a in n.won.apps){i.won.apps[a]=[];for(var o=0,r=n.won.apps[a].length;o<r;++o)e.saveGiveaways[n.won.apps[a][o].code]=n.won.apps[a][o],i.won.apps[a].push(n.won.apps[a][o].code)}for(var a in n.won.subs){i.won.subs[a]=[];for(var o=0,r=n.won.subs[a].length;o<r;++o)e.saveGiveaways[n.won.subs[a][o].code]=n.won.subs[a][o],i.won.subs[a].push(n.won.subs[a][o].code)}i.wonTimestamp=n.wonTimestamp}}for(a in e.saveGiveaways){var l=e.saveGiveaways[a];i.sent[l.gameType][l.gameSteamId]||(i.sent[l.gameType][l.gameSteamId]=[]),i.sent[l.gameType][l.gameSteamId].indexOf(l.code)<0&&i.sent[l.gameType][l.gameSteamId].push(l.code)}s.values={giveaways:i},await lockAndSaveGiveaways(e.saveGiveaways),await saveUser(null,null,s),t()}async function createMgcTrain(e,t,s,n){if(e>=s||s-1==0)n();else{let i=parseHtml((await request({method:'GET',url:t.created[e].url})).responseText),a=i.querySelector('[name="giveaway_id"]').value,o=i.querySelector('[name="description"]').value,r=null;0===e?(t.firstWagon=t.created[e].url,r=getMgcNext):r=e===s-1?getMgcPrevious:getMgcBoth,o=(o=(o=o.replace(/\[ESGST-P\](.+?)\[\/ESGST-P\](.+?)\[ESGST-N\](.+?)\[\/ESGST-N\]/g,r.bind(null,e,t,!1))).replace(/\[ESGST-P\](.+?)\[\/ESGST-P\]|\[ESGST-N\](.+?)\[\/ESGST-N\]/g,r.bind(null,e,t,!0))).replace(/\[ESGST-C\](.+?)\[\/ESGST-C\]/g,getMgcCounter.bind(null,e,s)),o=!t.discussion||esgst.mgc_bumpLast&&e!==s-1?o.replace(/\[ESGST-B\](.+?)\[\/ESGST-B\]/g,''):o.replace(/\[ESGST-B\](.+?)\[\/ESGST-B\]/g,`[$1](/discussion/${t.discussion}/)`),await request({data:`xsrf_token=${esgst.xsrfToken}&do=edit_giveaway_description&giveaway_id=${a}&description=${encodeURIComponent(o.trim())}`,method:'POST',url:'/ajax.php'}),t.created[e].giveaway.classList.add('connected'),setTimeout(createMgcTrain,0,e+1,t,s,n)}}function getMgcNext(e,t,s,n,i,a,o){var r,l,c,d;return s&&a||!s?((r=(s?a:o).match(/(.*?)\[N\](.+?)\[\/N\](.*?)$/))?(c=r[1],l=r[2],d=r[3]):(c='',l=s?a:o,d=''),esgst.mgc_removeLinks||s?`${c}[${l}](${t.created[e+1].url})${d}`:`${i}${a}${c}[${l}](${t.created[e+1].url})${d}`):''}function getMgcPrevious(e,t,s,n,i,a,o){var r,l,c,d;return s&&i||!s?((r=i.match(/(.*?)\[P\](.+?)\[\/P\](.*?)$/))?(c=r[1],l=r[2],d=r[3]):(c='',l=i,d=''),esgst.mgc_removeLinks||s?`${c}[${l}](${t.created[e-1].url})${d}`:`${c}[${l}](${t.created[e-1].url})${d}${a}${o}`):''}function getMgcBoth(e,t,s,n,i,a,o){var r,l,c,d,g,u,h;return s?i?getMgcPrevious(e,t,!0,n,i):getMgcNext(e,t,!0,n,null,a):((r=i.match(/(.*?)\[P\](.+?)\[\/P\](.*?)$/))?(u=r[1],g=r[2],h=r[3]):(u='',g=i,h=''),(r=o.match(/(.*?)\[N\](.+?)\[\/N\](.*?)$/))?(c=r[1],l=r[2],d=r[3]):(c='',l=o,d=''),`${u}[${g}](${t.created[e-1].url})${h}${a}${c}[${l}](${t.created[e+1].url})${d}`)}function getMgcCounter(e,t,s,n){return`${e+1}${n}${t}`}function completeMgcCreation(e,t,s){e.discussion?(e.created.length&&(delLocalValue('mgcCache'),setLocalValue('mgcAttach_step4',e.firstWagon),open(`/discussion/${e.discussion}/`),t.set.classList.remove('esgst-hidden')),s()):(e.created.length&&(delLocalValue('mgcCache'),t.set.classList.remove('esgst-hidden')),s())}function shuffleMgcGiveaways(e,t){if(!e.datas.length)return createAlert('There are no giveaways in the queue. Click on the "Add" button to add a giveaway to the queue.'),void t();let s;for(s=e.giveaways.children.length;s>-1;--s)e.giveaways.appendChild(e.giveaways.children[Math.random()*s|0]);updateMgcCache(e),t()}function updateMgcCache(e){let t,s,n;for(t=[],s=0,n=e.giveaways.children.length;s<n;++s)t.push(e.values[parseInt(e.giveaways.children[s].textContent)-1]);setLocalValue('mgcCache',JSON.stringify(t))}function attachMgcDiscussion(e,t){var s,n;t(),(n=new Popup('fa-comments','Attach discussion:')).description.insertAdjacentHTML('afterBegin','\n            <div class="esgst-description">\n                <div>You can attach an existing or a new discussion. To attach an existing discussion, simply enter its code below and click "Attach Existing". To attach a new discussion, simply click "Attach New".</div>\n                <br/>\n                <div>Use [ESGST-B][/ESGST-B] to delimit the bump link in the description of the giveaway, for example: ### [ESGST-B]Bump[/ESGST-B]</div>\n                <br/>\n                <div>Use [ESGST-T][/ESGST-T] to delimit the train link in the description of the discussion (this link will lead to the first giveaway of the train), for example: ### [ESGST-T]Choo choo![/ESGST-T]</div>\n                <br/>\n                <div>When the discussion page opens in your browser at the end of the train creation, wait until it has completely finished altering it (you will get a popup when this happens).</div>\n            </div>\n        '),s=insertHtml(n.description,'beforeEnd','<input placeholder="XXXXX" type="text"/>'),n.description.appendChild(new ButtonSet('green','grey','fa-paperclip','fa-circle-o-notch fa-spin','Attach Existing','Attaching...',attachExistingMgcDiscussion.bind(null,s,e,n)).set),n.description.appendChild(new ButtonSet('green','grey','fa-paperclip','fa-circle-o-notch fa-spin','Attach New','Attaching...',attachNewMgcDiscussion.bind(null,e,n)).set),n.open()}function attachExistingMgcDiscussion(e,t,s,n){t.discussion=e.value,t.discussionPanel.classList.remove('esgst-hidden'),t.discussionLink.href=`/discussion/${t.discussion}/`,t.discussionLink.textContent=t.discussion,n(),s.close()}function attachNewMgcDiscussion(e,t,s){var n;setLocalValue('mgcAttach_step1',!0),n=open('/discussions/new'),setTimeout(checkMgcAttached,100,e,t,n,s)}function checkMgcAttached(e,t,s,n){s.closed?(e.discussion=getLocalValue('mgcAttach_step3'),delLocalValue('mgcAttach_step3'),e.discussionPanel.classList.remove('esgst-hidden'),e.discussionLink.href=`/discussion/${e.discussion}/`,e.discussionLink.textContent=e.discussion,n(),t.close()):setTimeout(checkMgcAttached,100,e,t,s,n)}function addMgcCreateAndAttachButton(){var e;(e=document.getElementsByClassName('form__rows')[0]).appendChild(new ButtonSet('green','grey','fa-check','fa-circle-o-notch fa-spin','Create & Attach','Creating & attaching...',createAndAttachMgcDiscussion.bind(null,e)).set)}function createAndAttachMgcDiscussion(e){setLocalValue('mgcAttach_step2',!0),e.parentElement.submit()}function editMgcDiscussion(){description=document.querySelector('[name=description]'),description.value=description.value.replace(/\[ESGST-T\](.+?)\[\/ESGST-T\]/g,`[$1](${getLocalValue('mgcAttach_step4')})`),delLocalValue('mgcAttach_step4'),setLocalValue('mgcAttach_step5',!0),document.getElementsByClassName('js__submit-form')[0].click()}function detachMgcDiscussion(e){e.discussion=null,e.discussionPanel.classList.add('esgst-hidden')}async function viewMgcResults(e,t){var s,n,i,a,o,r,l;for(o=new Popup('fa-eye','Results'),n='',i=0,a=e.created.length;i<a;++i)n+=e.created[i].html;o.scrollable.insertAdjacentHTML('beforeEnd',`\n            <div class="popup__keys__list">\n                ${n}\n            </div>\n        `);let c=await getGiveaways(o.scrollable);esgst.gm&&(esgst.gmCheckboxes={},(s=insertHtml(o.scrollable,'afterBegin',`\n                <div class="esgst-page-heading">\n                    <div class="esgst-heading-button" title="${getFeatureTooltip('gm','Manage giveaways')}">\n                        <span></span>\n                        <i class="fa fa-gear"></i>\n                    </div>\n                </div>\n            `).firstElementChild).lastElementChild.addEventListener('click',openGmPopout.bind(null,c,{button:s})),(r=new ToggleSwitch(s.firstElementChild,'gm_enable',!0,'',!1,!1,null,esgst.gm_enable)).onEnabled=enableGm.bind(null,null,c),r.onDisabled=disableGm.bind(null,null,c),esgst.gm_enable&&enableGm(null,c)),o.open(),t()}function removeMgcGiveaway(e){confirm('Are you sure you want to remove this giveaway?')&&(e.source.remove(),e.source=null,updateMgcCache(e))}function loadMpp(){if(!esgst.discussionPath)return;let e=createHeadingButton({id:'mpp',icons:['fa-home'],title:'Open the main post'}),t=document.createElement('div'),s,n;t.className='page__outer-wrap';do{(s=esgst.mainPageHeading.previousElementSibling)&&t.insertBefore(s,t.firstElementChild)}while(s);if(esgst.mainPageHeading.parentElement.insertBefore(t,esgst.mainPageHeading),esgst.mpp_r){let e=JSON.parse(esgst.storage.discussions)[location.pathname.match(/^\/discussion\/(.+?)\//)[1]];e&&e.readComments&&e.readComments['']?(n=!0,scrollTo(0,0),goToComment(esgst.originalHash)):n=!1}else n=!0,scrollTo(0,0),goToComment(esgst.originalHash);t.classList.add(n?'esgst-mpp-hidden':'esgst-mpp-visible'),e.addEventListener('click',function(){n||(t.classList.remove('esgst-mpp-visible'),t.classList.add('esgst-mpp-hidden'));let e=new Popup(null,null,!1,!1,t);t.classList.add('esgst-mpp-popup'),e.open(),e.onClose=function(){t.classList.remove('esgst-mpp-popup'),n||(t.classList.remove('esgst-mpp-hidden'),t.classList.add('esgst-mpp-visible'),t.removeAttribute('style'),esgst.mainPageHeading.parentElement.insertBefore(t,esgst.mainPageHeading))}})}function loadMps(){esgst.discussionPath&&esgst.paginationNavigation&&document.referrer.match(new RegExp(`/discussion/${[location.pathname.match(/^\/discussion\/(.+?)\//)[1]]}/`))&&goToComment('',esgst.pagination.previousElementSibling.firstElementChild.firstElementChild)}function getMrRfiButtons(e,t){for(var s=e.getElementsByClassName(esgst.sg?'comment__actions':'action_list'),n=0,i=s.length;n<i;++n)addMRButton(s[n],t)}function addMRButton(e,t){var s,n,i,a;(s={Context:e,Comment:e.closest(esgst.sg?'.comment':'.comment_outer')}).Comment&&(n=s.Comment.closest(esgst.sg?'.comment':'.comment_outer'),s.Container=s.Comment.getElementsByClassName(esgst.sg?'comment__summary':'comment_inner')[0],s.Timestamp=s.Context.firstElementChild,i=s.Context.getElementsByClassName(esgst.sg?'js__comment-reply':'js_comment_reply')[0],a=(a=s.Context.querySelectorAll('[href*="/go/comment/"]'))[a.length-1],(i||!t||esgst.inboxPath)&&(i?(i.remove(),s.ParentID=n.getAttribute(esgst.sg?'data-comment-id':'data-id'),t&&!esgst.inboxPath||(s.URL=a.getAttribute('href')),s.url=a.getAttribute('href')):(s.url=s.URL=a.getAttribute('href'),s.Comment.insertAdjacentHTML('beforeEnd','<div class="comment__children comment_children"></div>')),esgst.sg?s.TradeCode='':(t&&!esgst.inboxPath&&(s.TradeCode=location.pathname.match(/^\/trade\/(.+?)\//)[1]),s.Username=s.Comment.getElementsByClassName('author_name')[0].textContent),s.Timestamp.insertAdjacentHTML('afterEnd','<a class="comment__actions__button esgst-mr-reply">Reply</a>'),s.Timestamp.nextElementSibling.addEventListener('click',function(){s.Box?s.Description.focus():addMRBox(s)})),s.Children=s.Comment.getElementsByClassName(esgst.sg?'comment__children':'comment_children')[0],setMREdit(s),setMrDelete(s),setMrUndelete(s))}function addMRBox(e){var t;t=esgst.username,e.Children.insertAdjacentHTML('afterBegin',`\n            <div class="comment reply_form MRBox">\n            ${esgst.sg?`\n                <div class="comment__child">\n                    <a href="/user/${t}" class="global__image-outer-wrap global__image-outer-wrap--avatar-small">\n                        <div class="global__image-inner-wrap" style="background-image: url(${esgst.avatar});"></div>\n                    </a>\n                    <div class="comment__summary">\n                        <div class="comment__author">\n                            <div class="comment__username">\n                                <a href="/user/${t}">${t}</a>\n                            </div>\n                        </div>\n                        <div class="comment__display-state">\n                            <div class="comment__description">\n            `:''}\n                                <input name="trade_code" type="hidden" value="${e.TradeCode}">\n                                <input name="parent_id" type="hidden" value="${e.ParentID}">\n                                <textarea class="esgst-mr-description" name="description"${esgst.sg?'':` placeholder="Write a reply to ${e.Username}..."`}></textarea>\n                                <div class="align-button-container btn_actions">\n                                    <div></div>\n                                    <div class="comment__cancel-button btn_cancel esgst-mr-cancel">\n                                        <span>Cancel</span>\n                                    </div>\n                                </div>\n            ${esgst.sg?'\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ':''}\n            </div>\n        `),e.Box=e.Children.firstElementChild,e.Description=e.Box.getElementsByClassName('esgst-mr-description')[0],e.Cancel=e.Box.getElementsByClassName('esgst-mr-cancel')[0],esgst.cfh&&addCfhPanel(e.Description),e.Description.focus(),addDEDButton(e.Box,e.URL,async function(t,s,n){var i,a,o;esgst.sg?t?(a=parseHtml(s.responseText).getElementById(t).closest('.comment'),esgst.rfi&&esgst.rfi_s&&await saveRfiReply(t,a.outerHTML,e.url),addRMLLink(e.Container,[a]),await loadEndlessFeatures(a),e.Box.remove(),e.Box=null,e.Children.appendChild(a),location.hash=t):n.innerHTML='\n                        <i class="fa fa-times"></i>\n                        <span>Failed!</span>\n                    ':t?(a=parseHtml(JSON.parse(s.responseText).html).getElementById(t),esgst.rfi&&esgst.rfi_s&&await saveRfiReply(t,a.outerHTML,e.url),addRMLLink(e.Container,[a]),await loadEndlessFeatures(a),e.Box.remove(),e.Box=null,e.Children.appendChild(a),location.hash=t):n.innerHTML='\n                        <i class="fa fa-times"></i>\n                        <span>Failed!</span>\n                    '}),e.Cancel.addEventListener('click',function(){e.Box.remove(),e.Box=null})}function setMREdit(e){var t,s,n,i,a,o;e.Edit=e.Context.getElementsByClassName(esgst.sg?'js__comment-edit':'js_comment_edit')[0],e.Edit&&(e.Edit.insertAdjacentHTML('afterEnd','<a class="comment__actions__button esgst-mr-edit">Edit</a>'),e.Edit=e.Edit.nextElementSibling,e.Edit.previousElementSibling.remove(),t=e.Comment.getElementsByClassName(esgst.sg?'comment__display-state':'comment_body_default')[0],(n=(s=e.Comment.getElementsByClassName(esgst.sg?'comment__edit-state':'edit_form')[0]).querySelector('.js__comment-edit-save, .js_submit, .EditSave')).insertAdjacentHTML('afterEnd','\n                <a class="comment__submit-button btn_action white EditSave">\n                    <i class="fa fa-edit"></i>\n                    <span>Edit</span>\n                </a>\n            '),(n=n.nextElementSibling).previousElementSibling.remove(),i=s.querySelector('[name="comment_id"]').value,a=esgst.sg?s.querySelector('[name="allow_replies"]').value:'',o=s.querySelector('[name="description"]'),e.Edit.addEventListener('click',function(){var n;esgst.sg?(t.classList.add('is-hidden'),e.Context.classList.add('is-hidden')):e.Container.classList.add('is_hidden'),s.classList.remove(esgst.sg?'is-hidden':'is_hidden'),n=o.value,o.focus(),o.value='',o.value=n}),n.addEventListener('click',async function(){var n,r;if('success'===(n=JSON.parse((await request({data:`xsrf_token=${esgst.xsrfToken}&do=comment_edit&comment_id=${i}&allow_replies=${a}&description=${encodeURIComponent(o.value)}`,method:'POST',url:'/ajax.php'})).responseText)).type||n.success){if(r=parseHtml(n[esgst.sg?'comment':'html']),esgst.rfi&&esgst.rfi_s){var l=e.Comment.cloneNode(!0);esgst.sg?l.innerHTML=`\n                                <div class="ajax comment__child">${r.body.innerHTML}</div>\n                                <div class="comment__children"></div>\n                            `:l.innerHTML=`\n                                ${r.body.innerHTML}\n                                <div class="comment_children"></div>\n                            `,await saveRfiReply(e.url.match(/\/comment\/(.+)/)[1],l.outerHTML,null,!0)}t.innerHTML=r.getElementsByClassName(esgst.sg?'comment__display-state':'comment_body_default')[0].innerHTML,s.classList.add(esgst.sg?'is-hidden':'is_hidden'),e.Timestamp.innerHTML=r.getElementsByClassName(esgst.sg?'comment__actions':'action_list')[0].firstElementChild.innerHTML,esgst.at&&getTimestamps(e.Timestamp),esgst.ged&&await esgst.addGedIcons([{actions:e.Container.getElementsByClassName(esgst.sg?'comment__actions':'action_list')[0],displayState:t,comment:e.Container,id:e.url.match(/\/comment\/(.+)/)[1]}]),esgst.sg?(t.classList.remove('is-hidden'),e.Context.classList.remove('is-hidden')):e.Container.classList.remove('is_hidden')}}))}function setMrDelete(e){var t,s,n;e.delete=e.Context.getElementsByClassName(esgst.sg?'js__comment-delete':'js_comment_delete')[0],e.delete&&(esgst.sg?(t=e.delete.parentElement.querySelector('[name="allow_replies"]').value,n=e.delete.parentElement.querySelector('[name="comment_id"]').value,s=`xsrf_token=${esgst.xsrfToken}&do=comment_delete&allow_replies=${t}&comment_id=${n}`):s=e.delete.getAttribute('data-form'),e.delete.insertAdjacentHTML('afterEnd','<a class="comment__actions__button esgst-mr-delete">Delete</a>'),e.delete=e.delete.nextElementSibling,e.delete.previousElementSibling.remove(),e.delete.addEventListener('click',async()=>{editMrReply(e,await request({data:s,method:'POST',url:'/ajax.php'}))}))}function setMrUndelete(e){var t,s,n;e.undelete=e.Context.getElementsByClassName(esgst.sg?'js__comment-undelete':'js_comment_undelete')[0],e.undelete&&(esgst.sg?(t=e.undelete.parentElement.querySelector('[name="allow_replies"]').value,n=e.undelete.parentElement.querySelector('[name="comment_id"]').value,s=`xsrf_token=${esgst.xsrfToken}&do=comment_undelete&allow_replies=${t}&comment_id=${n}`):s=e.undelete.getAttribute('data-form'),e.undelete.insertAdjacentHTML('afterEnd','<a class="comment__actions__button esgst-mr-undelete">Undelete</a>'),e.undelete=e.undelete.nextElementSibling,e.undelete.previousElementSibling.remove(),e.undelete.addEventListener('click',async()=>{editMrReply(e,await request({data:s,method:'POST',url:'/ajax.php'}))}))}async function editMrReply(e,t){var s,n;if('success'===(n=JSON.parse(t.responseText)).type||n.success){if(s=parseHtml(n[esgst.sg?'comment':'html']),esgst.sg?e.Container.innerHTML=s.getElementsByClassName('comment__summary')[0].innerHTML:e.Container.innerHTML=s.getElementsByClassName('comment_inner')[0].innerHTML,esgst.rfi&&esgst.rfi_s){var i=e.Comment.cloneNode(!0);esgst.sg?i.innerHTML=`\n                        <div class="ajax comment__child">${s.body.innerHTML}</div>\n                        <div class="comment__children"></div>\n                    `:i.innerHTML=`\n                        ${s.body.innerHTML}\n                        <div class="comment_children"></div>\n                    `,await saveRfiReply(e.url.match(/\/comment\/(.+)/)[1],i.outerHTML,null,!0)}await loadEndlessFeatures(e.Container)}}function loadMt(){if(esgst.mainPageHeading){let e,t;(esgst.ut||esgst.wbc)&&(esgst.mtUserButton=createHeadingButton({featureId:'mt',id:'mtUsers',icons:['fa-user'],isSwitch:!0,title:'Manage users'}),e={button:esgst.mtUserButton,type:'user'},(t=new ToggleSwitch(esgst.mtUserButton.firstElementChild,null,!0,'')).onEnabled=enableMt.bind(null,e),t.onDisabled=disableMt.bind(null,e),esgst.mtUserButton.addEventListener('click',openMtPopout.bind(null,e))),esgst.gt&&(esgst.mtGameButton=createHeadingButton({featureId:'mt',id:'mtGames',icons:['fa-gamepad','fa-tags'],isSwitch:!0,title:'Multi-tag games'}),e={button:esgst.mtGameButton,type:'game'},(t=new ToggleSwitch(esgst.mtGameButton.firstElementChild,null,!0,'')).onEnabled=enableMt.bind(null,e),t.onDisabled=disableMt.bind(null,e),esgst.mtGameButton.addEventListener('click',openMtPopout.bind(null,e)))}}function enableMt(e,t){var s,n,i;if('user'===e.type)for(i in e.users={},e.userCheckboxes=[],esgst.mtUsers=e.selectedUsers=[],t||(t=esgst.currentUsers),t)t[i].elements.forEach(t=>{(n=t.parentElement).classList.contains('esgst-hidden')||(n.classList.contains('comment__username')&&(t=n),(s=new Checkbox(insertHtml(t,'beforeBegin','\n                            <span class="esgst-mt-checkbox"></span>\n                        '))).onEnabled=addMtUser.bind(null,i,e),s.onDisabled=removeMtUser.bind(null,i,e),e.users[i]||(e.users[i]={checkboxes:[]}),e.users[i].checkboxes.push(s),e.userCheckboxes.push(s))});else{for(i in e.games={apps:{},subs:{}},e.gameCheckboxes=[],e.selectedGames={apps:[],subs:[]},t||(t=esgst.currentGames),t.apps)t.apps[i].forEach(t=>{t.heading.classList.contains('esgst-hidden')||((s=new Checkbox(insertHtml(t.heading,'afterBegin','\n                            <span class="esgst-mt-checkbox"></span>\n                        '))).onEnabled=addMtGame.bind(null,i,e,'apps'),s.onDisabled=removeMtGame.bind(null,i,e,'apps'),e.games.apps[i]||(e.games.apps[i]={checkboxes:[]}),e.games.apps[i].checkboxes.push(s),e.gameCheckboxes.push(s))});for(i in t.subs)t.subs[i].forEach(t=>{t.heading.classList.contains('esgst-hidden')||((s=new Checkbox(insertHtml(t.heading,'afterBegin','\n                            <span class="esgst-mt-checkbox"></span>\n                        '))).onEnabled=addMtGame.bind(null,i,e,'subs'),s.onDisabled=removeMtGame.bind(null,i,e,'subs'),e.games.subs[i]||(e.games.subs[i]={checkboxes:[]}),e.games.subs[i].checkboxes.push(s),e.gameCheckboxes.push(s))})}e.popout||openMtPopout(e)}function addMtUser(e,t){var s;t.selectedUsers.indexOf(e)<0&&(t.selectedUsers.push(e),t.users[e].checkboxes.forEach(e=>{e.check()}),s=parseInt(t.count.textContent)+1,t.count.textContent=s,s>1&&t.tagButton&&t.tagButton.classList.remove('esgst-hidden'))}function removeMtUser(e,t){var s,n;(n=t.selectedUsers.indexOf(e))>=0&&(t.selectedUsers.splice(n,1),t.users[e].checkboxes.forEach(e=>{e.uncheck()}),s=parseInt(t.count.textContent)-1,t.count.textContent=s,s<=1&&t.tagButton&&t.tagButton.classList.add('esgst-hidden'))}function addMtGame(e,t,s){var n;t.selectedGames[s].indexOf(e)<0&&(t.selectedGames[s].push(e),t.games[s][e].checkboxes.forEach(e=>{e.check()}),n=parseInt(t.count.textContent)+1,t.count.textContent=n,n>1&&t.tagButton&&t.tagButton.classList.remove('esgst-hidden'))}function removeMtGame(e,t,s){var n,i;(i=t.selectedGames[s].indexOf(e))>=0&&(t.selectedGames[s].splice(i,1),t.games[s][e].checkboxes.forEach(e=>{e.uncheck()}),n=parseInt(t.count.textContent)-1,t.count.textContent=n,n<=1&&t.tagButton&&t.tagButton.classList.add('esgst-hidden'))}function disableMt(e){e[`${e.type}Checkboxes`].forEach(e=>{e.checkbox.parentElement.remove()}),e.count.textContent=0,e.tagButton&&e.tagButton.classList.add('esgst-hidden')}function openMtPopout(e){e.popout||(e.popout=new Popout('esgst-mt-popout',e.button,0,!0),group=insertHtml(e.popout.popout,'beforeEnd','<div class="esgst-button-group"><span>Select:</span></div>'),group.appendChild(new ButtonSet('grey','grey','fa-circle','fa-circle-o-notch fa-spin','All','',selectMtCheckboxes.bind(null,e,'check')).set),group.appendChild(new ButtonSet('grey','grey','fa-circle-o','fa-circle-o-notch fa-spin','None','',selectMtCheckboxes.bind(null,e,'uncheck')).set),group.appendChild(new ButtonSet('grey','grey','fa-dot-circle-o','fa-circle-o-notch fa-spin','Inverse','',selectMtCheckboxes.bind(null,e,'toggle')).set),('user'!==e.type||esgst.ut)&&(e.tagButton=new ButtonSet('green','','fa-tags','','Multi-Tag','',openMtPopup.bind(null,e)).set,e.tagButton.classList.add('esgst-hidden'),e.popout.popout.appendChild(e.tagButton)),e.count=insertHtml(e.popout.popout,'beforeEnd','\n                <div><span>0</span> selected.</div>\n            ').firstElementChild)}function selectMtCheckboxes(e,t,s){s(),selectSwitches(e[`${e.type}Checkboxes`],t,null)}async function openMtPopup(e,t){if(t(),popup=new Popup('fa-tags',`Multi-tag <span>${e.count.textContent}</span> ${e.type}s:`),set=new ButtonSet('green','grey','fa-check','fa-circle-o-notch fa-spin','Save','Saving...',saveMtTags.bind(null,e,popup)),popup.description.insertAdjacentHTML('beforeEnd','<div class="esgst-description">Drag the tags to move them.<br/><br/>When editing a tag color, it will also alter the color for all users/games with that tag (you have to refresh the page for it to take effect).<br/><br/>[*] means that there are tags that are not shared between all users/games. If you delete the [*] tag, those individual tags will be deleted.</div>'),popup.tags=insertHtml(popup.description,'beforeEnd',`<div class="esgst-${'user'===e.type?'ut':'gt'}-tags"></div>`),popup.input=insertHtml(popup.description,'beforeEnd','<input type="text"/>'),popup.input.addEventListener('keydown',triggerSetOnEnter.bind(null,set)),'user'===e.type?popup.input.addEventListener('input',createUtTags.bind(null,popup)):popup.input.addEventListener('input',createGtTags.bind(null,popup)),popup.description.insertAdjacentHTML('beforeEnd','<div class="esgst-description">Use commas to separate tags, for example: Tag1, Tag2, ...</div>'),popup.description.appendChild(set.set),popup.open(),e.tags=[],'user'===e.type){let t=JSON.parse(await getValue('users'));for(let s=0,n=e.selectedUsers.length;s<n;s++){let n=e.selectedUsers[s],i=await getUser(t,{username:n});if(i){let t=i.tags;t?(e.users[n].tags=t,t.forEach(t=>{e.tags.indexOf(t)<0&&e.tags.push(t)})):e.users[n].tags=[]}else e.users[n].tags=[]}let s=!1;e.selectedUsers.forEach(t=>{e.users[t].tags.forEach(n=>{e.selectedUsers.forEach(i=>{if(i===t||e.users[i].tags.indexOf(n)>=0)return;let a=e.tags.indexOf(n);a>=0&&e.tags.splice(a,1),s=!0})})}),s&&e.tags.push('[*]'),e.tags.forEach(e=>{createUtTag(popup,e)}),popup.input.value=e.tags.join(', ')}else{let t=JSON.parse(await getValue('games'));e.selectedGames.apps.forEach(s=>{let n=t.apps[s];if(n){let t=n.tags;t?(e.games.apps[s].tags=t,t.forEach(t=>{e.tags.indexOf(t)<0&&e.tags.push(t)})):e.games.apps[s].tags=[]}else e.games.apps[s].tags=[]}),e.selectedGames.subs.forEach(s=>{let n=t.subs[s];if(n){let t=n.tags;t?(e.games.subs[s].tags=t,t.forEach(t=>{e.tags.indexOf(t)<0&&e.tags.push(t)})):e.games.subs[s].tags=[]}else e.games.subs[s].tags=[]});let s=!1;e.selectedGames.apps.forEach(t=>{e.games.apps[t].tags.forEach(n=>{e.selectedGames.apps.forEach(i=>{if(i===t||e.games.apps[i].tags.indexOf(n)>=0)return;let a=e.tags.indexOf(n);a>=0&&e.tags.splice(a,1),s=!0}),e.selectedGames.subs.forEach(i=>{if(i===t||e.games.subs[i].tags.indexOf(n)>=0)return;let a=e.tags.indexOf(n);a>=0&&e.tags.splice(a,1),s=!0})})}),e.selectedGames.subs.forEach(t=>{e.games.subs[t].tags.forEach(n=>{e.selectedGames.apps.forEach(i=>{if(i===t||e.games.apps[i].tags.indexOf(n)>=0)return;let a=e.tags.indexOf(n);a>=0&&e.tags.splice(a,1),s=!0}),e.selectedGames.subs.forEach(i=>{if(i===t||e.games.subs[i].tags.indexOf(n)>=0)return;let a=e.tags.indexOf(n);a>=0&&e.tags.splice(a,1),s=!0})})}),s&&e.tags.push('[*]'),e.tags.forEach(e=>{createGtTag(popup,e)}),popup.input.value=e.tags.join(', ')}}async function saveMtTags(e,t,s){var n,i,a,o,r;'user'===e.type?(r=[],o=t.input.value.replace(/(,\s*)+/g,formatTags),e.selectedUsers.forEach(t=>{for(e.tags.forEach(s=>{(a=e.users[t].tags.indexOf(s))>=0&&e.users[t].tags.splice(a,1)}),e.users[t].tags.length>0?e.users[t].tags=o.replace(/\[\*\]/,e.users[t].tags.join(', ')).split(/,\s/):e.users[t].tags=o.replace(/\[\*\]|,\s\[\*\]/,'').split(/,\s/),i=e.users[t].tags.length-1;i>=0;--i)e.users[t].tags[i]||e.users[t].tags.splice(i,1);r.push({username:t,values:{tags:Array.from(new Set(e.users[t].tags))}})}),await saveUsers(r),completeMtSave(e,t,s)):(n={apps:{},subs:{}},o=t.input.value.replace(/(,\s*)+/g,formatTags),e.selectedGames.apps.forEach(t=>{for(e.tags.forEach(s=>{(a=e.games.apps[t].tags.indexOf(s))>=0&&e.games.apps[t].tags.splice(a,1)}),e.games.apps[t].tags.length>0?e.games.apps[t].tags=o.replace(/\[\*\]/,e.games.apps[t].tags.join(', ')).split(/,\s/):e.games.apps[t].tags=o.replace(/\[\*\]|,\s\[\*\]/,'').split(/,\s/),i=e.games.apps[t].tags.length-1;i>=0;--i)e.games.apps[t].tags[i]||e.games.apps[t].tags.splice(i,1);n.apps[t]={tags:Array.from(new Set(e.games.apps[t].tags))}}),e.selectedGames.subs.forEach(t=>{for(e.tags.forEach(s=>{(a=e.games.subs[t].tags.indexOf(s))>=0&&e.games.subs[t].tags.splice(a,1)}),e.games.subs[t].tags.length>0?e.games.subs[t].tags=o.replace(/\[\*\]/,e.games.subs[t].tags.join(', ')).split(/,\s/):e.games.subs[t].tags=o.replace(/\[\*\]|,\s\[\*\]/,'').split(/,\s/),i=e.games.subs[t].tags.length-1;i>=0;--i)e.games.subs[t].tags[i]||e.games.subs[t].tags.splice(i,1);n.subs[t]={tags:Array.from(new Set(e.games.subs[t].tags))}}),await lockAndSaveGames(n),completeMtSave(e,t,s))}function completeMtSave(e,t,s){'user'===e.type?(setSetting('ut_colors',esgst.ut_colors),e.selectedUsers.forEach(t=>{addUtTags(t,e.users[t].tags)})):(setSetting('gt_colors',esgst.gt_colors),e.selectedGames.apps.forEach(t=>{addGtTags(null,t,e.games.apps[t].tags,'apps')}),e.selectedGames.subs.forEach(t=>{addGtTags(null,t,e.games.subs[t].tags,'subs')})),s(),t.close()}function loadNamwc(){esgst.winnersPath&&setNamwcPopup.call({button:createHeadingButton({id:'namwc',icons:['fa-trophy','fa-question-circle'],title:'Check for not activated/multiple wins'})})}function setNamwcPopup(){this.popup=new Popup(this.isMenu?'fa-cog':'fa-question',this.isMenu?'Manage Not Activated / Multiple Wins Checker caches:':`Check for ${this.user?`${this.user.username}'s `:''} not activated / multiple wins:`),this.isMenu||(insertHtml(this.popup.scrollable,'beforeBegin','<div></div>').appendChild(createOptions([{check:!0,description:'Only check for not activated wins.',exclusions:['namwc_checkMultiple'],id:'namwc_checkNotActivated',tooltip:'If enabled, multiple wins will not be checked (faster).'},{check:!0,description:'Only check for multiple wins.',exclusions:['namwc_checkNotActivated'],id:'namwc_checkMultiple',tooltip:'If enabled, not activated wins will not be checked (faster).'}])),this.popup.scrollable.insertAdjacentHTML('beforeBegin','<div class="esgst-description">If a user is highlighted, that means that they have been either checked for the first time or updated.</div>'),this.popup.description.insertBefore(new ButtonSet_v2({color1:'green',color2:'grey',icon1:'fa-question-circle',icon2:'fa-times-circle',title1:'Check',title2:'Cancel',callback1:startNamwcProcess.bind(this),callback2:stopNamwcProcess.bind(this)}).set,this.popup.scrollable)),this.popup.progress=insertHtml(this.popup.scrollable,'beforeBegin','<div></div>'),this.popup.overallProgress=insertHtml(this.popup.scrollable,'beforeBegin','<div></div>'),this.popup.results=insertHtml(this.popup.scrollable,'beforeEnd','<div></div>'),createResults(this.popup.results,this.popup,[{Icon:'<i class="fa fa-check-circle esgst-positive"></i> ',Description:'Users with 0 not activated wins',Key:'activated'},{Icon:'<i class="fa fa-check-circle esgst-positive"></i> ',Description:'Users with 0 multiple wins',Key:'notMultiple'},{Icon:'<i class="fa fa-times-circle esgst-negative"></i> ',Description:'Users with not activated wins',Key:'notActivated'},{Icon:'<i class="fa fa-times-circle esgst-negative"></i> ',Description:'Users with multiple wins',Key:'multiple'},{Icon:'<i class="fa fa-question-circle"></i> ',Description:'Users who cannot be checked for not activated wins either because they have a private profile or SteamCommunity is down',Key:'unknown'}]),this.button.addEventListener('click',this.popup.open.bind(this.popup,this.isMenu?startNamwcProcess.bind(this):null))}async function startNamwcProcess(){this.isCanceled=!1,this.button.classList.add('esgst-busy'),this.popup.progress.innerHTML=this.popup.overallProgress.innerHTML='',this.popup.activated.classList.add('esgst-hidden'),this.popup.notMultiple.classList.add('esgst-hidden'),this.popup.notActivated.classList.add('esgst-hidden'),this.popup.multiple.classList.add('esgst-hidden'),this.popup.unknown.classList.add('esgst-hidden'),this.popup.activatedCount.textContent=this.popup.notMultipleCount.textContent=this.popup.notActivatedCount.textContent=this.popup.multipleCount.textContent=this.popup.unknownCount.textContent='0',this.popup.activatedUsers.innerHTML=this.popup.notMultipleUsers.textContent=this.popup.notActivatedUsers.innerHTML=this.popup.multipleUsers.innerHTML=this.popup.unknownUsers.innerHTML='';let e=[];if(this.isMenu){let t=JSON.parse(await getValue('users'));for(let s in t.users){let n=t.users[s];n.namwc&&n.namwc.results&&e.push(n.username)}}else if(this.user)e.push(this.user.username);else for(let t in esgst.currentUsers)if(t!==esgst.username){if(e.length>25)break;e.push(t)}if(0===e.length)return;let t=[],s={activated:{},notMultiple:{},notActivated:{},multiple:{},unknown:{}};for(let n=0,i=(e=sortArray(e)).length;!this.isCanceled&&n<i;n++){this.popup.progress.innerHTML='',this.popup.overallProgress.textContent=`${n} of ${i} users checked...`;let a=this.user||{username:e[n]},o=await getUser(null,a);a.values={namwc:o&&o.namwc};let r=!1;if(!this.isMenu){let e=a.values.namwc&&a.values.namwc.results;if(a.values.namwc||(a.values.namwc={lastCheck:0,results:{}}),Date.now()-a.values.namwc.lastCheck>6048e5&&(esgst.namwc_checkNotActivated?await checkNamwcNotActivated.call(this,a):esgst.namwc_checkMultiple?await checkNamwcMultiple.call(this,a):(await checkNamwcNotActivated.call(this,a),await checkNamwcMultiple.call(this,a))),e){for(let t in e)if((Array.isArray(e[t])&&e[t].length||!Array.isArray(e[t])&&e[t])!==(Array.isArray(a.values.namwc.results[t])&&a.values.namwc.results[t].length||!Array.isArray(a.values.namwc.results[t])&&a.values.namwc.results[t])){r=!0;break}}else r=!0}let l=[];for(let e in a.values.namwc.results){let t=Array.isArray(a.values.namwc.results[e])&&a.values.namwc.results[e].length||!Array.isArray(a.values.namwc.results[e])&&a.values.namwc.results[e];if(!t)continue;this.popup[e].classList.remove('esgst-hidden');let s=this.popup[`${e}Count`];s.textContent=parseInt(s.textContent)+1,l[e]=insertHtml(this.popup[`${e}Users`],'beforeEnd',`\n                    <a ${r?'class="esgst-bold esgst-italic" ':''}href="http://www.sgtools.info/${e.match(/multiple/i)?'multiple':'nonactivated'}/${a.username}" target="_blank">${a.username}${e.match(/^(notActivated|multiple)$/)?` (${t})`:''}</a>\n                `)}this.isMenu||(await saveUser(null,null,a),t.push(a.steamId),s[a.steamId]=l),this.popup.overallProgress.textContent=`${n+1} of ${i} users checked...`}if(this.isCanceled)return;if(!esgst.ust||this.isMenu)return this.button.classList.remove('esgst-busy'),void(this.popup.progress.innerHTML='');this.popup.progress.textContent='Checking suspensions...',e=[];let n=JSON.parse(await getValue('users')),i=JSON.parse((await request({method:'GET',url:`https://script.google.com/macros/s/AKfycbwdKNormCJs-hEKV0GVwawgWj1a26oVtPylgmxOOvNk1Gf17A/exec?steamIds=${t.join(',')}`})).responseText).suspensions;for(let t in i){let a=i[t],o={steamId:t};if(o.values={namwc:(await getUser(n,o)).namwc},o.values.namwc.suspension=a,e.push(o),Array.isArray(o.values.namwc.results.notActivated)){let e,n;for(e=0,n=o.values.namwc.results.notActivated.length;e<n&&o.values.namwc.results.notActivated[e]<=a;e++);e>0?s[t].notActivated.insertAdjacentHTML('beforeEnd',` <span title="${getFeatureTooltip('ust',`This user already served suspension for ${e} of their not activated wins (until ${getTimestamp(a/1e3,!0,!0)})`)}">[-${e}]</span>`):s[t].activated&&s[t].activated.insertAdjacentHTML('beforeEnd',` <span title="${getFeatureTooltip('ust',`This user already served suspension for not activated wins until ${getTimestamp(a/1e3,!0,!0)}`)}">[x]</span>`)}if(Array.isArray(o.values.namwc.results.multiple)){let e,n;for(e=0,n=o.values.namwc.results.multiple.length;e<n&&o.values.namwc.results.multiple[e]<=a;e++);e>0?s[t].multiple.insertAdjacentHTML('beforeEnd',` <span title="${getFeatureTooltip('ust',`This user already served suspension for ${e} of their multiple wins (until ${getTimestamp(a/1e3,!0,!0)})`)}">[-${e}]</span>`):s[t].notMultiple&&s[t].notMultiple.insertAdjacentHTML('beforeEnd',` <span title="${getFeatureTooltip('ust',`This user already served suspension for multiple wins until ${getTimestamp(a/1e3,!0,!0)}`)}">[x]</span>`)}}await saveUsers(e),this.button.classList.remove('esgst-busy'),this.popup.progress.innerHTML=''}function stopNamwcProcess(){this.button.classList.remove('esgst-busy'),this.popup.progress.innerHTML='',this.isCanceled=!0}async function checkNamwcNotActivated(e){if(this.isCanceled)return;this.popup.progress&&(this.popup.progress.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Retrieving ${e.username}'s not activated wins...</span>\n            `);let t=(await request({method:'GET',queue:!0,url:`http://www.sgtools.info/nonactivated/${e.username}`})).responseText;if(t.match(/has a private profile/))e.values.namwc.results.activated=0,e.values.namwc.results.notActivated=[],e.values.namwc.results.unknown=1;else{e.values.namwc.results.notActivated=[];let s=parseHtml(t).getElementsByClassName('notActivatedGame'),n=s.length;for(let t=0;t<n;++t)e.values.namwc.results.notActivated.push(new Date(s[t].textContent.match(/\((\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}:\d{2})\)/)[1]).getTime());e.values.namwc.results.activated=0===n?1:0,e.values.namwc.results.unknown=0}e.values.namwc.lastCheck=Date.now()}async function checkNamwcMultiple(e){if(this.isCanceled)return;this.popup.progress&&(this.popup.progress.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Retrieving ${e.username}'s multiple wins...</span>\n            `),e.values.namwc.results.multiple=[];let t=parseHtml((await request({method:'GET',queue:!0,url:`http://www.sgtools.info/multiple/${e.username}`})).responseText).getElementsByClassName('multiplewins'),s=t.length;for(let n=0;n<s;++n)e.values.namwc.results.multiple.push(new Date(t[n].textContent.match(/and\s(\d{4}-\d{2}-\d{2}\s\d{2}:\d{2}:\d{2})\)/)[1]).getTime());e.values.namwc.results.notMultiple=0===s?1:0,e.values.namwc.lastCheck=Date.now()}function loadNm(){esgst.hr||getNmNotifications()}async function getNmNotifications(){if(esgst.sg){let e=parseHtml((await request({method:'GET',url:'https://www.steamtrades.com'})).responseText).getElementsByClassName('message_count')[0];if(!e)return void(esgst.altInboxButton&&esgst.altInboxButton.classList.add('esgst-hidden'));esgst.altInboxButton?(esgst.altInboxButton.classList.remove('esgst-hidden'),esgst.altMessageCount.textContent=e.textContent):(esgst.altInboxButton=insertHtml(esgst.inboxButton,'afterEnd',`\n                    <div class="nav__button-container nav__button-container--notification nav__button-container--active">\n                        <a class="nav__button" href="https://www.steamtrades.com/messages" title="${getFeatureTooltip('nm','SteamTrades Messages')}">\n                            <i class="fa fa-envelope esgst-nm-icon"></i>\n                            <div class="nav__notification">${e.textContent}</div>\n                        </a>\n                    </div>\n                `),esgst.altMessageCount=esgst.altInboxButton.firstElementChild.lastElementChild)}else{let e=parseHtml((await request({method:'GET',url:'https://www.steamgifts.com'})).responseText).getElementsByClassName('nav__notification')[0];if(!e)return void(esgst.altInboxButton&&esgst.altInboxButton.classList.add('esgst-hidden'));esgst.altInboxButton?(esgst.altInboxButton.classList.remove('esgst-hidden'),esgst.altMessageCount.textContent=e.textContent):(esgst.altInboxButton=insertHtml(esgst.inboxButton,'afterEnd',`\n                    <div class="nav_btn_container" title="${getFeatureTooltip('nm')}">\n                        <a class="nav_btn" href="https://www.steamgifts.com/messages">\n                            <i class="fa fa-envelope esgst-nm-icon"></i>\n                            <span>Messages <span class="message_count">${e.textContent}</span></span>\n                        </a>\n                    </div>\n                `),esgst.altMessageCount=esgst.altInboxButton.firstElementChild.lastElementChild.lastElementChild)}}function loadNpth(){var e,t,s,n,i,a,o,r;if(esgst.giveawayCommentsPath&&(e=document.getElementsByClassName('page__description')[0])){for(i=(s=e.querySelectorAll('[href*="/giveaway/"]')).length,n=0;n<i&&(!o||!a);++n)r=(t=s[n]).textContent.toLowerCase(),!o&&r.match(/back|last|less|prev|<|â/)?o=t:!a&&r.match(/forw|more|next|>|â/)&&(a=t);o&&a||(i>1?(o=s[0],a=s[1]):a=s[0]),(o||a)&&document.addEventListener('keydown',loadNpthGiveaway.bind(null,a,o))}}function loadNpthGiveaway(e,t,s){var n;s.target.closest('input, textarea')||(s.key===esgst.npth_previousKey?t?s.ctrlKey?open(t.getAttribute('href')):location.href=t.getAttribute('href'):(n=document.referrer).match(/\/giveaway\//)&&(e&&n!==e.getAttribute('href')||!e)?s.ctrlKey?open(n):location.href=n:createAlert('No previous link found.'):s.key===esgst.npth_nextKey&&(e?s.ctrlKey?open(e.getAttribute('href')):location.href=e.getAttribute('href'):createAlert('No next link found.')))}function addNrfButton(e,t){var s;(s={N:e.notSent}).N>0&&(s.I=0,s.Multiple=[],e.sentRowLeft.insertAdjacentHTML('beforeEnd',`\n                <span class="esgst-nrf-button">\n                    <i class="fa fa-times-circle" title="${getFeatureTooltip('nrf','Find not received giveaways')}"></i>\n                </span>\n            `),setNRFPopup(s,e.sentRowLeft.lastElementChild,e))}function setNRFPopup(e,t,s){var n;(n=new Popup('fa-times',`Find ${s.username}'s not received giveaways:`)).Options=insertHtml(n.description,'beforeEnd','<div></div>'),n.Options.appendChild(createOptions([{check:!0,description:'Also search inside giveaways with multiple copies.',id:'nrf_searchMultiple',tooltip:'If disabled, only giveaways with visible not received copies will be found (faster).'}])),n.Options.insertAdjacentHTML('afterEnd','<div class="esgst-description">If you\'re blacklisted / not whitelisted / not a member of the same Steam groups, not all giveaways will be found.'),n.description.appendChild(new ButtonSet('green','grey','fa-search','fa-times-circle','Find','Cancel',function(n){t.classList.add('esgst-busy'),setNRFSearch(e,s,function(){e.Progress.innerHTML='',t.classList.remove('esgst-busy'),n()})},function(){clearInterval(e.Request),clearInterval(e.Save),e.Canceled=!0,setTimeout(function(){e.Progress.innerHTML=''},500),t.classList.remove('esgst-busy')}).set),e.Progress=insertHtml(n.description,'beforeEnd','<div></div>'),e.OverallProgress=insertHtml(n.description,'beforeEnd','<div></div>'),e.Results=insertHtml(n.scrollable,'beforeEnd','<div></div>'),e.popup=n,t.addEventListener('click',function(){n.open()})}async function setNRFSearch(e,t,s){e.Progress.innerHTML=e.OverallProgress.innerHTML=e.Results.innerHTML='',e.Canceled=!1;var n={steamId:t.steamId,id:t.id,username:t.username},i;savedUser=await getUser(null,n),savedUser&&(i=savedUser.nrf),i||(i={lastCheck:0,found:0,total:0,results:''}),Date.now()-i.lastCheck>6048e5?searchNRFUser(e,n.username,1,0,`/user/${n.username}/search?page=`,async function(){i.lastCheck=Date.now(),i.found=e.I,i.total=e.N,i.results=e.Results.innerHTML,n.values={nrf:i},await saveUser(null,null,n),await loadEndlessFeatures(e.Results),e.Progress.innerHTML='',s()}):(e.Results.innerHTML=i.results,e.OverallProgress.innerHTML=`${i.found} of ${i.total} not received giveaways found...`,await loadEndlessFeatures(e.Results),s())}async function searchNRFUser(e,t,s,n,i,a,o){var r,l,c,d,g;if(!e.Canceled)if(o){for(2===s&&(e.lastPage=getLastPage(o,!1,!1,!0),e.lastPage=999999999===e.lastPage?'':` of ${e.lastPage}`),e.Progress.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Searching ${t}'s giveaways (page ${s-1}${e.lastPage})...</span>\n            `,l=0,c=(r=o.querySelectorAll('div.giveaway__column--negative')).length;l<c;++l)e.I+=r[l].querySelectorAll('a[href*="/user/"]').length,e.Results.appendChild(r[l].closest('.giveaway__row-outer-wrap').cloneNode(!0));if(e.OverallProgress.innerHTML=`${e.I} of ${e.N} not received giveaways found...`,e.I<e.N){if(esgst.nrf_searchMultiple)for(l=0,c=(r=o.getElementsByClassName('giveaway__heading__thin')).length;l<c;++l)(d=r[l].textContent.match(/\((.+) Copies\)/))&&parseInt(d[1])>3&&e.Multiple.push(r[l].closest('.giveaway__row-outer-wrap').cloneNode(!0));(g=o.getElementsByClassName('pagination__navigation')[0])&&!g.lastElementChild.classList.contains('is-selected')?setTimeout(searchNRFUser,0,e,t,s,n,i,a):esgst.nrf_searchMultiple&&e.Multiple.length?setTimeout(searchNRFMultiple,0,e,0,e.Multiple.length,a):a()}else a()}else e.Canceled||setTimeout(searchNRFUser,0,e,t,++s,n,i,a,parseHtml((await request({method:'GET',queue:!0,url:i+s})).responseText))}function searchNRFMultiple(e,t,s,n){e.Canceled||(e.Progress.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Searching inside giveaways with multiple copies (${t+1} of ${s})...</span>\n            `,t<s?searchNRFGiveaway(e,`${e.Multiple[t].getElementsByClassName('giveaway__heading__name')[0].getAttribute('href')}/winners/search?page=`,1,function(i){i&&e.Results.appendChild(e.Multiple[t].cloneNode(!0)),e.I<e.N?setTimeout(searchNRFMultiple,0,e,++t,s,n):n()}):n())}async function searchNRFGiveaway(e,t,s,n){if(!e.Canceled){var i,a,o,r,l,c;for(o=0,r=(a=(i=parseHtml((await request({method:'GET',queue:!0,url:t+s})).responseText)).getElementsByClassName('table__column--width-small')).length;o<r&&!(a[o].textContent.match(/Not Received/)&&(l=!0,++e.I,e.OverallProgress.innerHTML=`${e.I} of ${e.N} not received giveaways found...`,e.I>=e.N));++o);c=i.getElementsByClassName('pagination__navigation')[0],e.I<e.N&&c&&!c.lastElementChild.classList.contains('is-selected')?setTimeout(searchNRFGiveaway,0,e,t,++s,n):n(l)}}async function loadOadd(e,t){var s,n,i,a,o,r,l,c,d,g,u,h,m,p,f;u=parseHtml((await request({method:'GET',url:'/discussions'})).responseText),h=parseHtml((await request({method:'GET',url:'/discussions/deals'})).responseText),esgst.activeDiscussions.classList.add('esgst-oadd'),esgst.activeDiscussions.innerHTML='\n            <div>\n                <div class="page__heading">\n                    <div class="esgst-heading-button" title="Switch to Deals">\n                        <i class="fa fa-retweet"></i>\n                    </div>\n                    <div class="page__heading__breadcrumbs">\n                        <a href="/discussions">Active Discussions</a>\n                    </div>\n                    <a class="page__heading__button page__heading__button--green" href="/discussions">\n                        More<i class="fa fa-angle-right"></i>\n                    </a>\n                </div>\n                <div class="table">\n                    <div class="table__heading">\n                        <div class="table__column--width-fill">Summary</div>\n                        <div class="table__column--width-small text-center">Comments</div>\n                        <div class="table__column--width-medium text-right">Last Post</div>\n                    </div>\n                    <div class="table__rows"></div>\n                </div>\n            </div>\n            <div class="esgst-hidden">\n                <div class="page__heading">\n                    <div class="esgst-heading-button" title="Switch to Discussions">\n                        <i class="fa fa-retweet"></i>\n                    </div>\n                    <div class="page__heading__breadcrumbs">\n                        <a href="/discussions/deals">Active Deals</a>\n                    </div>\n                    <a class="page__heading__button page__heading__button--green" href="/discussions/deals">\n                        More<i class="fa fa-angle-right"></i>\n                    </a>\n                </div>\n                <div class="table">\n                    <div class="table__heading">\n                        <div class="table__column--width-fill">Summary</div>\n                        <div class="table__column--width-small text-center">Comments</div>\n                        <div class="table__column--width-medium text-right">Last Post</div>\n                    </div>\n                    <div class="table__rows"></div>\n                </div>\n            </div>\n        ',a=esgst.activeDiscussions.firstElementChild,s=a.nextElementSibling,r=a.firstElementChild.firstElementChild,o=a.lastElementChild.lastElementChild,i=s.firstElementChild.firstElementChild,n=s.lastElementChild.lastElementChild;let v=null;if(esgst.df){let e=esgst.df_preset;if(e){let t=JSON.parse(esgst.storage.dfPresets),s;for(s=t.length-1;s>-1&&t[s].name!==e;s--);s>-1&&(v=t[s])}}f=JSON.parse(await getValue('discussions','{}'));let x=await getDiscussions(u,!0,f);for(esgst.oadd_d||(m=[],x.forEach(e=>{'Deals'!==e.category&&m.push(e)}),x=m),c=0,d=x.length-1;c<5&&d>-1;d--)v&&filterDfDiscussion(v,x[d])||(o.appendChild(x[d].outerWrap),c+=1);for(c=0,d=(x=await getDiscussions(h,!0,f)).length-1;c<5&&d>-1;d--)v&&filterDfDiscussion(v,x[d])||(n.appendChild(x[d].outerWrap),c+=1);r.addEventListener('click',function(){a.classList.add('esgst-hidden'),s.classList.remove('esgst-hidden')}),i.addEventListener('click',function(){a.classList.remove('esgst-hidden'),s.classList.add('esgst-hidden')}),esgst.adots?loadAdots(e):esgst.radb&&addRadbButtons(),e?(await loadEndlessFeatures(esgst.activeDiscussions),t&&t()):t&&t()}function setOchgbButton(e,t){let s=e.innerWrap.querySelector('.giveaway__hide, .featured__giveaway__hide');if(!s)return;let n=s.classList.contains('fa-eye');esgst.giveawayPath&&t&&(s=s.parentElement),e.fade=fadeOchgbGiveaway.bind(null,e,t),e.unfade=unfadeOchgbGiveaway.bind(null,e,t),e.ochgbButton=new Button(s,'afterEnd',{callbacks:[hideOchgbGiveaway.bind(null,e,t),null,unhideOchgbGiveaway.bind(null,e,t),null],className:`esgst-ochgb ${esgst.giveawayPath&&t?'':'giveaway__icon'}`,icons:['fa-eye-slash esgst-clickable','fa-circle-o-notch fa-spin','fa-eye esgst-clickable','fa-circle-o-notch fa-spin'],index:n?2:0,titles:['Hide all giveaways for this game','Hiding giveaways...','Unhide all giveaways for this game','Unhiding giveaways...']}),s.remove()}function fadeOchgbGiveaway(e,t){(esgst.giveawayPath&&!t||!esgst.giveawayPath)&&e.innerWrap.classList.add('esgst-faded')}function unfadeOchgbGiveaway(e,t){(esgst.giveawayPath&&!t||!esgst.giveawayPath)&&e.innerWrap.classList.remove('esgst-faded')}async function hideOchgbGiveaway(e,t){return await request({data:`xsrf_token=${esgst.xsrfToken}&do=hide_giveaways_by_game_id&game_id=${e.gameId}`,method:'POST',url:'/ajax.php'}),completeOchgbProcess(e,'fade',t),!0}async function unhideOchgbGiveaway(e,t){return await request({data:`xsrf_token=${esgst.xsrfToken}&do=remove_filter&game_id=${e.gameId}`,method:'POST',url:'/ajax.php'}),completeOchgbProcess(e,'unfade',t),!0}function completeOchgbProcess(e,t,s){if(s&&esgst.giveawayPath)return;let n=s?'currentGiveaways':'popupGiveaways';if(esgst.ochgb_f)for(let s=0,i=esgst[n].length;s<i;s++)esgst[n][s].gameId===e.gameId&&(esgst[n][s][t](),esgst[n][s]!==e&&esgst[n][s].ochgbButton&&(esgst[n][s].ochgbButton.index='fade'===t?2:0,esgst[n][s].ochgbButton.change()));else for(let t=0,s=esgst[n].length;t<s;t++)esgst[n][t].gameId===e.gameId&&esgst[n][t].outerWrap.remove()}function loadPgb(){var e,t,s;function n(){e.classList.toggle('pinned-giveaways__inner-wrap--minimized'),s.classList.toggle('fa-angle-down'),s.classList.toggle('fa-angle-up')}esgst.pinnedGiveawaysButton=document.getElementsByClassName('pinned-giveaways__button')[0],esgst.pinnedGiveawaysButton&&((e=esgst.pinnedGiveawaysButton.previousElementSibling).classList.add('esgst-pgb-container'),esgst.pinnedGiveawaysButton.remove(),t='\n                <div class="esgst-pgb-button">\n                    <i class="esgst-pgb-icon fa fa-angle-down"></i>\n                </div>\n            ',e.insertAdjacentHTML('afterEnd',t),esgst.pinnedGiveawaysButton=e.nextElementSibling,s=esgst.pinnedGiveawaysButton.firstElementChild,esgst.pinnedGiveawaysButton.addEventListener('click',n))}async function changePmStatus(e,t){let s=await createLock('commentLock',300),n=JSON.parse(await getValue('discussions'));return n[e]||(n[e]={readComments:{}}),'off'===t?delete n[e].status:n[e].status=t,n[e].lastUsed=Date.now(),await setValue('discussions',JSON.stringify(n)),s(),!0}function loadPnot(){esgst.paginationNavigation&&esgst.mainPageHeading&&(esgst.st&&esgst.paginationNavigation.classList.add('page_heading_btn'),esgst.paginationNavigation.title=getFeatureTooltip('pnot'),esgst.mainPageHeading.appendChild(esgst.paginationNavigation))}function loadQgs(){let e=insertHtml(document.getElementsByClassName('nav__left-container')[0],'afterBegin',`\n            <div class="esgst-qgs-container" title="${getFeatureTooltip('qgs')}">\n                <input class="esgst-qgs-input" placeholder="Search..." type="text">\n                <i class="fa fa-search"></i>\n            </div>\n        `);e.addEventListener('mouseenter',expandQgsContainer),e.addEventListener('mouseleave',collapseQgsContainer),e.firstElementChild.addEventListener('keypress',triggerQgsSearch),addAgsPanel(e,!0),esgst.qgs_h&&esgst.giveawaysPath&&document.getElementsByClassName('sidebar__search-container')[0].remove()}function expandQgsContainer(e){e.currentTarget.classList.add('esgst-qgs-container-expanded')}function collapseQgsContainer(e){e.relatedTarget.closest('.esgst-popout')||e.currentTarget.classList.remove('esgst-qgs-container-expanded')}function triggerQgsSearch(e){'Enter'===e.key&&(e.preventDefault(),location.href=`/giveaways/search?q=${encodeURIComponent(e.currentTarget.value)}`)}function loadQiv(e){esgst.inboxButton&&(e&&(esgst.qiv={nextPage:1},esgst.qiv_p&&(esgst.qiv.popout=new Popout('esgst-qiv-popout',null,1e3),esgst.messageCount>0&&addQivMarkReadButton(),esgst.qiv.comments=insertHtml(esgst.qiv.popout.popout,'beforeEnd','<div class="esgst-qiv-comments"></div>'),esgst.qiv.comments.addEventListener('scroll',scrollQivPopout.bind(null,!1)),scrollQivPopout(!0))),esgst.inboxButton.addEventListener('mouseenter',openQivPopout),esgst.inboxButton.addEventListener('mouseleave',e=>{esgst.qiv.timeout&&(clearTimeout(esgst.qiv.timeout),esgst.qiv.timeout=null),esgst.qiv.exitTimeout=setTimeout(()=>{esgst.qiv.popout&&!esgst.qiv.popout.popout.contains(e.relatedTarget)&&esgst.qiv.popout.close()},1e3)}))}function openQivPopout(){esgst.qiv.timeout=setTimeout(()=>{esgst.qiv.popout?(esgst.qiv.popout.open(esgst.inboxButton),esgst.messageCount>0&&!esgst.qiv_p&&(esgst.qiv.nextPage=1,esgst.qiv.popout.popout.innerHTML='',esgst.qiv.markReadButton=null,addQivMarkReadButton(),esgst.qiv.comments=insertHtml(esgst.qiv.popout.popout,'beforeEnd','<div class="esgst-qiv-comments"></div>'),scrollQivPopout(!0))):(esgst.qiv.popout=new Popout('esgst-qiv-popout',null,1e3),esgst.qiv.popout.open(esgst.inboxButton),esgst.messageCount>0&&addQivMarkReadButton(),esgst.qiv.comments=insertHtml(esgst.qiv.popout.popout,'beforeEnd','<div class="esgst-qiv-comments"></div>'),esgst.qiv.comments.addEventListener('scroll',scrollQivPopout.bind(null,!1)),scrollQivPopout(!0)),esgst.qiv.popout.popout.onmouseenter=(()=>{esgst.qiv.exitTimeout&&(clearTimeout(esgst.qiv.exitTimeout),esgst.qiv.exitTimeout=null)})},1e3)}async function scrollQivPopout(e){if((e||esgst.qiv.comments.scrollTop+esgst.qiv.comments.offsetHeight>=esgst.qiv.comments.scrollHeight)&&!esgst.qiv.busy){esgst.qiv.busy=!0;let e=insertHtml(esgst.qiv.popout.popout,'beforeEnd','<span><i class="fa fa-circle-o-notch fa-spin"></i> Loading...</span>'),t=parseHtml((await request({method:'GET',url:`/messages/search?page=${esgst.qiv.nextPage}`})).responseText).querySelector('.page__heading, .page_heading').nextElementSibling;e.remove(),esgst.qiv.comments.appendChild(t),t.setAttribute('data-esgst-qiv',!0),await loadEndlessFeatures(t),esgst.qiv.popout.isOpen&&esgst.qiv.popout.reposition(),esgst.qiv.busy=!1,esgst.qiv.nextPage+=1}}function addQivMarkReadButton(){let e,t,s;esgst.qiv.markReadButton||(esgst.sg?(esgst.qiv.markReadButton=insertHtml(esgst.qiv.popout.popout,'afterBegin','\n                <div class="sidebar__action-button">\n                    <i class="fa fa-check-circle"></i> Mark as Read\n                </div>\n            '),t='read_messages',s='/messages'):(esgst.qiv.markReadButton=insertHtml(esgst.qiv.popout.popout,'afterBegin','\n                <a class="page_heading_btn green">\n                    <i class="fa fa-check-square-o"></i>\n                    <span>Mark as Read</span>\n                </a>\n            '),t='mark_as_read',s='/ajax.php'),esgst.qiv.markReadButton.addEventListener('click',async()=>{await request({data:`xsrf_token=${esgst.xsrfToken}&do=${t}`,method:'POST',url:s}),esgst.qiv.markReadButton.remove(),esgst.qiv.markReadButton=null;let e=esgst.qiv.comments.querySelectorAll('.comment__envelope');for(let t=e.length-1;t>-1;t--)e[t].remove();esgst.inboxButton.classList.remove('nav__button-container--active'),esgst.messageCountContainer.remove(),esgst.messageCount=0,esgst.hr&&notifyHrChange(esgst.hr)}))}function addRadbButtons(){let e,t;for(t=(e=esgst.activeDiscussions.querySelectorAll('.homepage_heading, .esgst-heading-button')).length-1;t>-1;--t)insertHtml(e[t],'beforeBegin',`\n                <div class="esgst-radb-button${esgst.oadd?'':' homepage_heading'}" title="${getFeatureTooltip('radb','Refresh active discussions/deals')}">\n                    <i class="fa fa-refresh"></i>\n                </div>\n            `).addEventListener('click',e=>{let t=e.currentTarget.firstElementChild;t.classList.add('fa-spin'),esgst.oadd?loadOadd(!0,()=>{t.classList.remove('fa-spin')}):checkMissingDiscussions(!0,()=>{t.classList.remove('fa-spin')})})}function loadRbot(){let e=esgst.mainPageHeadingBackground||esgst.mainPageHeading;if(!esgst.replyBox){if(esgst.st&&esgst.userPath){let t=document.getElementsByClassName('notification yellow')[0];if(!t)return;e.parentElement.insertBefore(t,e.nextElementSibling)}return}let t=insertHtml(e,'afterEnd','\n            <div class="esgst-rbot"></div>\n        ');t.appendChild(esgst.replyBox);let s=t.getElementsByClassName(esgst.cancelButtonClass)[0];s&&s.addEventListener('click',setTimeout.bind(null,t.appendChild.bind(t,esgst.replyBox),0))}function loadRbp(){if(!esgst.replyBox)return;let e=createHeadingButton({id:'rbp',icons:['fa-comment'],title:'Add a comment'}),t=new Popup('fa-comment','Add a comment:');t.textArea=insertHtml(t.scrollable,'beforeEnd','\n            <textarea name="description"></textarea>\n        '),t.description.appendChild(new ButtonSet('green','grey','fa-check','fa-circle-o-notch fa-spin','Save','Saving...',function(e){t.progress.innerHTML='',saveComment(esgst.sg?'':document.querySelector('[name="trade_code"]').value,'',t.textArea.value,esgst.sg?location.href.match(/(.+?)(#.+?)?$/)[1]:'/ajax.php',t.progress,e)}).set),t.progress=insertHtml(t.description,'beforeEnd','<div></div>'),e.addEventListener('click',t.open.bind(t,t.textArea.focus.bind(t.textArea)))}async function loadRcvc(){if(esgst.newGiveawayPath){var e=document.getElementsByClassName('table--summary')[0],t;if(e){var s=await getValue('rcvcGame');if(s){var n=s.type,i=s.id,a,o,r=document.getElementsByClassName('featured__heading__small'),l=r.length>1?parseInt(r[0].textContent.match(/\d+/)[0]):1;try{var c=JSON.parse((await request({method:'GET',url:`http://store.steampowered.com/api/${'apps'===n?'appdetails?appids':'packagedetails?packageids'}=${i}&cc=us&filters=price,price_overview`})).responseText)[i].data,d=Math.ceil((c.price_overview||c.price).initial/100),g,u;(g=JSON.parse(await getValue('games')))[n][i]&&(g[n][i].noCV?d=0:g[n][i].reducedCV&&(d*=.15)),u={Username:esgst.username,SteamID64:esgst.steamId};var h,m=JSON.parse(await getValue('users')).users[u.SteamID64],p=0,f=Date.now(),v;if(m&&m.giveaways&&m.giveaways.sent&&m.giveaways.sent[n][i]){var x=m.giveaways.sent[n][i];for(a=0,o=x.length;a<o;++a){var w=esgst.giveaways[x[a]];w&&(w.entries>=5||!w.inviteOnly&&!w.group&&!w.whitelist?Array.isArray(w.winners)?w.winners.length>0?w.winners.forEach(e=>{'Received'===e.status&&(p+=1)}):f<w.endTime&&(p+=w.copies):w.winners>0&&(p+=Math.min(w.entries,w.winners)):f<w.endTime&&(p+=w.copies))}if(p>5)for(a=0,o=p-5;a<o;++a)d*=.9}if(l>1){var b=l+p;if(b>5)for(v=(l-(o=b-5))*d,a=0;a<o;++a)v+=d*=.9;else v=d*l}else v=p+1>5?.9*d:d;var y=`\n                            <div class="table__row-outer-wrap">\n                                <div class="table__row-inner-wrap">\n                                    <div class="table__column--width-medium table__column--align-top">\n                                        <span class="esgst-bold">Real CV</span>\n                                    </div>\n                                    <div class="table__column--width-fill">You should get ~$${v=Math.round(100*v)/100} real CV for this giveaway.</div>\n                                </div>\n                            </div>\n                        `;e.insertAdjacentHTML('beforeEnd',y)}catch(e){}(t=document.getElementsByClassName('js__submit-form')[0]).addEventListener('click',function(){delValue('rcvcGame')})}}else{t=document.getElementsByClassName('js__submit-form')[0];var F=document.querySelector('[name="game_id"]');t.addEventListener('click',function(){var e=F.value,t,s=getGameInfo(document.querySelector(`[data-autocomplete-id="${e}"]`));setValue('rcvcGame',{type:s.type,id:s.id})})}}}async function saveRfiReply(e,t,s,n){var i,a,o,r;if(s&&(o=s.match(/\/comment\/(.+)/)[1]),r=JSON.parse(await getValue(`${esgst.name}RfiCache`,'{}')),n)for(key in r){for(i=0,a=r[key].length;i<a&&r[key][i].id!==e;++i);i<a&&(r[key][i].reply=t,r[key][i].timestamp=Date.now())}else r[o]||(r[o]=[]),r[o].push({id:e,reply:t,timestamp:Date.now()});await setValue(`${esgst.name}RfiCache`,JSON.stringify(r))}async function getRfiReplies(e,t){var s,n,i,a,o,r,l,c,d,g;for(o=[],g=JSON.parse(await getValue(`${esgst.name}RfiCache`,'{}')),i=0,c=e.length;i<c;++i)if((a=(n=e[i]).id)&&g[a]){for(s=n.comment.closest('.comment, .comment_outer').querySelector('.comment__children, .comment_children'),r=0,d=g[a].length;r<d;++r)insertHtml(s,'beforeEnd',g[a][r].reply).querySelector('[data-timestamp]').textContent=getTimeSince(g[a][r].timestamp);s.setAttribute('data-rfi',!0),await loadEndlessFeatures(s),s.removeAttribute('data-rfi')}for(l in g){for(i=0,c=g[l].length;i<c;++i)Date.now()-g[l][i].timestamp>6048e5&&(g[l].splice(i,1),i-=1,c-=1);g[l].length||delete g[l]}await setValue(`${esgst.name}RfiCache`,JSON.stringify(g))}function addRmlLinks(e){for(var t=e.getElementsByClassName(esgst.sg?'comment__children':'comment_children'),s=0,n=t.length;s<n;++s){var i=t[s].children;i.length&&addRMLLink(esgst.sg?t[s].parentElement.getElementsByClassName('comment__summary')[0]:t[s].parentElement,i)}}function addRMLLink(e,t){var s,n,i,a,o;for(s=e.getElementsByClassName(esgst.sg?'comment__username':'author_name')[0].textContent.trim(),n=e.id,i=0,a=t.length;i<a;++i)(o=(e=t[i].getElementsByClassName(esgst.sg?'comment__actions':'action_list')[0]).getElementsByClassName('esgst-rml-link')[0])?o.textContent=`@${s}`:e.insertAdjacentHTML('beforeEnd',`<a class="comment__actions__button esgst-rml-link" href="#${n}">@${s}</a>`)}function openRrbp(e){var t,s,n;t=new Popup('fa-comment','Add a comment:'),n=insertHtml(t.scrollable,'beforeEnd','<textarea></textarea>'),esgst.cfh&&addCfhPanel(n),t.description.appendChild(new ButtonSet('green','grey','fa-check','fa-circle-o-notch fa-spin','Save','Saving...',function(i){s.innerHTML='',saveComment('','',n.value,e.url,s,i,function(){t.close()})}).set),s=insertHtml(t.description,'beforeEnd','<div></div>'),t.open(function(){n.focus()})}function addRwscvlLinks(e,t){var s,n;n=`http://www.sgtools.info/won/${e.username}`,s=`http://www.sgtools.info/sent/${e.username}`,esgst.rwscvl_r&&(n+='/newestfirst',s+='/newestfirst'),e.wonRowLeft.innerHTML=`\n            <a class="esgst-rwscvl-link" href="${n}" target="_blank" title="${getFeatureTooltip('rwscvl')}">Gifts Won</a>\n        `,e.sentRowLeft.innerHTML=`\n            <a class="esgst-rwscvl-link" href="${s}" target="_blank" title="${getFeatureTooltip('rwscvl')}">Gifts Sent</a>\n        `}function addSalObservers(e){var t,s,n;for(s=0,n=(t=e.getElementsByClassName('view_key_btn')).length;s<n;++s)addSalObserver(t[s])}function addSalObserver(e){var t,s,n,i;t=e.closest('.table__row-outer-wrap'),e.addEventListener('click',function(){n=setInterval(function(){t.contains(e)||(clearInterval(n),esgst.sal&&(s=t.querySelector('[data-clipboard-text]'),(i=s.getAttribute('data-clipboard-text').match(/^[\d\w]{5}(-[\d\w]{5}){2,}$/))&&addSalLink(s,i[0])),esgst.ef&&hideEfElements(t))},100)})}function addSalLinks(e){var t,s,n,i,a;for(t=0,a=(n=e.querySelectorAll('[data-clipboard-text]')).length;t<a;++t)(i=(s=n[t]).getAttribute('data-clipboard-text').match(/^[\d\w]{5}(-[\d\w]{5}){2,}$/))&&addSalLink(s,i[0])}function addSalLink(e,t){var s,n;if(e.nextElementSibling&&!e.nextElementSibling.classList.contains('esgst-sal')||!e.nextElementSibling)switch(s=insertHtml(e,'afterEnd','\n                <span></span>\n            '),esgst.sal_index){case 0:insertHtml(s,'beforeEnd',`\n                        <span class="esgst-sal esgst-clickable" title="${getFeatureTooltip('sal','Activate on Steam (client)')}">\n                            <i class="fa fa-steam"></i>\n                        </span>\n                    `).addEventListener('click',function(){(n=insertHtml(document.body,'beforeEnd','\n                            <textarea></textarea>\n                        ')).value=t,n.select(),document.execCommand('copy'),n.remove(),location.href='steam://open/activateproduct'});break;case 1:s.insertAdjacentHTML('beforeEnd',`\n                        <a class="esgst-sal esgst-clickable" href="https://store.steampowered.com/account/registerkey?key=${t}" target="_blank" title="${getFeatureTooltip('sal','Activate on Steam (browser)')}">\n                            <i class="fa fa-globe"></i>\n                        </a>\n                    `);break;case 2:insertHtml(s,'beforeEnd',`\n                        <span class="esgst-sal esgst-clickable" title="${getFeatureTooltip('sal','Activate on Steam (client)')}">\n                            <i class="fa fa-steam"></i>\n                        </span>\n                        <a class="esgst-sal esgst-clickable" href="https://store.steampowered.com/account/registerkey?key=${t}" target="_blank" title="${getFeatureTooltip('sal','Activate on Steam (browser)')}">\n                            <i class="fa fa-globe"></i>\n                        </a>\n                    `).previousElementSibling.addEventListener('click',function(){(n=insertHtml(document.body,'beforeEnd','\n                            <textarea></textarea>\n                        ')).value=t,n.select(),document.execCommand('copy'),n.remove(),location.href='steam://open/activateproduct'})}}function loadSgac(){if(!esgst.newGiveawayPath)return;let e,t,s,n,i,a,o,r,l;if(document.getElementsByClassName('form__rows')[0])for(l=JSON.parse(esgst.storage.stickiedCountries),r=(t=document.querySelector('.form_list[data-input="country_item_string"]')).firstElementChild,i=0,o=(n=t.children).length;i<o;++i)a=(s=n[i]).getAttribute('data-item-id'),l.indexOf(a)>=0&&(s===r&&(r=r.nextElementSibling),t.insertBefore(s,r)),new Button(s,'afterBegin',{callbacks:[stickySgacCountry.bind(null,t,s,a,r),null,unstickySgacCountry.bind(null,t,s,a,r),null],className:'esgst-sgac-button',icons:['fa-thumb-tack esgst-clickable esgst-faded','fa-circle-o-notch fa-spin','fa-thumb-tack esgst-clickable','fa-circle-o-notch fa-spin'],index:l.indexOf(a)>=0?2:0,titles:['Sticky country','Stickying...','Unsticky country','Unstickying...']})}async function stickySgacCountry(e,t,s,n,i){i.stopPropagation(),e&&(t===n&&(n=n.nextElementSibling),e.insertBefore(t,n));let a=JSON.parse(await getValue('stickiedCountries','[]'));return a.indexOf(s)<0&&(a.push(s),await setValue('stickiedCountries',JSON.stringify(a))),!0}async function unstickySgacCountry(e,t,s,n,i){i.stopPropagation(),e&&(e.insertBefore(t,n),n=n.previousElementSibling);let a=JSON.parse(await getValue('stickiedCountries','[]')),o=a.indexOf(s);return o>=0&&(a.splice(o,1),await setValue('stickiedCountries',JSON.stringify(a))),!0}function addSgcButton(e){e.username!==esgst.username&&(e.sgcButton=insertHtml(e.heading,'beforeEnd',`\n            <a class="esgst-sgc-button" title="${getFeatureTooltip('sgc','Check shared groups')}">\n                <i class="fa fa-users"></i>\n            </a>\n        `),e.sgcButton.addEventListener('click',openSgcPopup.bind(null,e)))}async function openSgcPopup(e){e.sgcPopup?e.sgcPopup.open():(e.sgcPopup=new Popup('fa-users','Shared Groups'),e.sgcProgress=insertHtml(e.sgcPopup.description,'beforeEnd','\n                <div>\n                    <i class="fa fa-circle-o-notch fa-spin"></i>\n                    <span>Checking shared groups...</span>\n                </div>\n            '),e.sgcResults=insertHtml(e.sgcPopup.scrollable,'beforeEnd','\n                <div class="esgst-sgc-results esgst-glwc-results esgst-text-left">\n                    <div>\n                        <div class="esgst-glwc-heading">Public</div>\n                        <div class="table esgst-hidden">\n                            <div class="table__heading">\n                                <div class="table__column--width-fill">Group</div>\n                            </div>\n                            <div class="table__rows"></div>\n                        </div>\n                    </div>\n                    <div>\n                        <div class="esgst-glwc-heading">Private</div>\n                        <div class="table esgst-hidden">\n                            <div class="table__heading">\n                                <div class="table__column--width-fill">Group</div>\n                            </div>\n                            <div class="table__rows"></div>\n                        </div>\n                    </div>\n                </div>\n            '),e.sgcPublic=e.sgcResults.firstElementChild.lastElementChild,e.sgcPublicResults=e.sgcPublic.lastElementChild,e.sgcPrivate=e.sgcResults.lastElementChild.lastElementChild,e.sgcPrivateResults=e.sgcPrivate.lastElementChild,e.sgcPopup.open(),loadSgcGroups(e,await request({method:'GET',url:`http://steamcommunity.com/profiles/${e.steamId}/groups`})))}async function loadSgcGroups(e,t){var s,n,i,a,o,r,l,c,d,g,u,h,m;for(g=[],d=[],m=JSON.parse(await getValue('groups','[]')),a=0,o=(i=(u=parseHtml(t.responseText)).getElementsByClassName('groupBlock')).length;a<o;++a){for(c=(n=i[a]).getElementsByClassName('linkTitle')[0].textContent,s=n.getElementsByClassName('playerAvatar')[0].firstElementChild.firstElementChild.getAttribute('src'),j=m.length-1;j>=0&&m[j].name!==c;--j);j>=0&&m[j].member&&(n.getElementsByClassName('pubGroup')[0]?g:d).push({name:c,html:`\n                        <div class="table__row-outer-wrap">\n                            <div class="table__row-inner-wrap">\n                                <div>\n                                    <a class="table_image_avatar" href="/group/${m[j].code}/" style="background-image:url(${s})"></a>\n                                </div>\n                                <div class="table__column--width-fill">\n                                    <a class="table__column__heading" href="/group/${m[j].code}/"></a>\n                                </div>\n                            </div>\n                        </div>\n                    `})}if(r=g.length,l=d.length,r>0||l>0){if(r>0)for(g=sortArrayByKey(g,'name'),e.sgcPublic.classList.remove('esgst-hidden'),a=0;a<r;++a)insertHtml(e.sgcPublicResults,'beforeEnd',g[a].html).getElementsByClassName('table__column__heading')[0].textContent=g[a].name;else e.sgcPublic.outerHTML='\n                    <div>No shared public groups found.</div>\n                ';if(l>0)for(d=sortArrayByKey(d,'name'),e.sgcPrivate.classList.remove('esgst-hidden'),a=0;a<l;++a)insertHtml(e.sgcPrivateResults,'beforeEnd',d[a].html).getElementsByClassName('table__column__heading')[0].textContent=d[a].name;else e.sgcPrivate.outerHTML='\n                    <div>No shared private groups found.</div>\n                ';e.sgcProgress.remove(),e.sgcProgress=null}else e.sgcProgress.innerHTML='No shared groups found.';loadEndlessFeatures(e.sgcResults)}function loadSgg(){esgst.newGiveawayPath&&!document.getElementsByClassName('table--summary')[0]&&setSggGiveawayGroups()}function setSggGiveawayGroups(){var e,t,s,n,i,a,o,r,l,c,d,g;for(c=JSON.parse(esgst.storage.groups),d=(s=document.querySelector('.form_list[data-input="group_item_string"]')).firstElementChild.nextElementSibling,a=1,l=(i=s.children).length;a<l;++a){for(o=(n=i[a]).getAttribute('data-item-id'),e=n.firstElementChild.style.backgroundImage,t=null,g=!1,r=c.length-1;r>=0;--r)if(e.match(c[r].avatar)){t=c[r].code,c[r].stickied&&(g=!0);break}t&&(g&&(n===d&&(d=d.nextElementSibling),s.insertBefore(n,d)),new Button(n,'afterBegin',{callbacks:[stickySggGroup.bind(null,t,s,n,o,d),null,unstickySggGroup.bind(null,t,s,n,o,d),null],className:'esgst-sgg-button',icons:['fa-thumb-tack esgst-clickable esgst-faded','fa-circle-o-notch fa-spin','fa-thumb-tack esgst-clickable','fa-circle-o-notch fa-spin'],index:g?2:0,titles:['Sticky group','Stickying...','Unsticky group','Unstickying...']}))}}async function setSggGroups(e){let t=JSON.parse(await getValue('groups','[]')),s=e.getElementsByClassName('table__row-inner-wrap');for(let e=0,n=s.length;e<n;e++){let n=s[e],i=n.getElementsByClassName('table_image_avatar')[0].style.backgroundImage,a=!1,o=null;for(let e=t.length-1;e>=0;e--)if(i.match(t[e].avatar)){o=t[e].code,t[e].stickied&&(a=!0);break}o&&new Button(n,'afterBegin',{callbacks:[stickySggGroup.bind(null,o,null,n,null,null),null,unstickySggGroup.bind(null,o,null,n,null,null),null],className:'esgst-sgg-button',icons:['fa-thumb-tack esgst-clickable esgst-faded','fa-circle-o-notch fa-spin','fa-thumb-tack esgst-clickable','fa-circle-o-notch fa-spin'],index:a?2:0,titles:['Sticky group','Stickying...','Unsticky group','Unstickying...']})}}async function stickySggGroup(e,t,s,n,i,a){a.stopPropagation(),t&&(s===i&&(i=i.nextElementSibling),t.insertBefore(s,i));let o={};return o[e]={stickied:!0},n&&(o[e].id=n),await lockAndSaveGroups(o),!0}async function unstickySggGroup(e,t,s,n,i,a){a.stopPropagation(),t&&(t.insertBefore(s,i),i=i.previousElementSibling);let o={};return o[e]={stickied:!1},n&&(o[e].id=n),await lockAndSaveGroups(o),!0}function addSgpbButton(e){var t;(t=insertHtml(e.steamButtonContainer,'beforeEnd',`\n            <div class="esgst-sgpb-container" title="${getFeatureTooltip('sgpb')}">\n                <a class="esgst-sgpb-button" href="https://www.steamgifts.com/go/user/${e.steamId}" rel="nofollow" target="_blank">\n                    <i class="fa">\n                        <img src="${esgst.sgIcon}">\n                    </i>\n                    <span>Visit SteamGifts Profile</span>\n                </a>\n            </div>\n        `)).insertBefore(e.steamButton,t.firstElementChild)}function loadSk(){let e={};esgst.sk_cp&&(e[esgst.sk_closePopups]=(e=>{if(!e.target.tagName.match(/^(INPUT|TEXTAREA)$/)){let t=document.querySelectorAll('.b-close, .esgst-popup-close'),s;for(s=t.length-1;s>-1;--s)t[s].click();e.preventDefault()}})),esgst.sk_sb&&(e[esgst.sk_searchBox]=(e=>{if(!e.target.tagName.match(/^(INPUT|TEXTAREA)$/)){let t=document.getElementsByClassName('sidebar__search-input')[0];t&&(t.focus(),e.preventDefault())}})),esgst.sk_fp&&(e[esgst.sk_firstPage]=(e=>{!e.target.tagName.match(/^(INPUT|TEXTAREA)$/)&&esgst.paginationNavigation&&esgst.currentPage>1&&(location.href=`${esgst.searchUrl}1`,e.preventDefault())})),esgst.sk_pp&&(e[esgst.sk_previousPage]=(e=>{!e.target.tagName.match(/^(INPUT|TEXTAREA)$/)&&esgst.paginationNavigation&&esgst.currentPage>1&&(location.href=`${esgst.searchUrl}${esgst.currentPage-1}`,e.preventDefault())})),esgst.sk_np&&(e[esgst.sk_nextPage]=(e=>{!e.target.tagName.match(/^(INPUT|TEXTAREA)$/)&&esgst.paginationNavigation&&esgst.currentPage<esgst.lastPage&&(location.href=`${esgst.searchUrl}${esgst.currentPage+1}`,e.preventDefault())})),esgst.sk_lp&&(e[esgst.sk_lastPage]=(e=>{!e.target.tagName.match(/^(INPUT|TEXTAREA)$/)&&esgst.paginationNavigation&&esgst.currentPage<esgst.lastPage&&999999999!==esgst.lastPage&&(location.href=`${esgst.searchUrl}${esgst.lastPage}`,e.preventDefault())})),esgst.sk_tf&&(e[esgst.sk_toggleFilters]=(e=>{if(!e.target.tagName.match(/^(INPUT|TEXTAREA)$/)){let t=document.querySelector('.esgst-gf-toggle-switch');t&&(t.click(),e.preventDefault())}})),esgst.sk_hg&&(e[esgst.sk_hideGame]=(e=>{if(!e.target.tagName.match(/^(INPUT|TEXTAREA)$/)&&esgst.giveawayPath){let t=document.getElementsByClassName('popup--hide-games')[0].style.display&&'none'!==document.getElementsByClassName('popup--hide-games')[0].style.display&&document.getElementsByClassName('js__submit-hide-games')[0]||document.querySelector('.esgst-ochgb, .giveaway__hide, .featured__giveaway__hide');t&&((t.classList.contains('esgst-ochgb')?t.firstElementChild:t).click(),e.preventDefault())}})),esgst.sk_hga&&(e[esgst.sk_hideGiveaway]=(e=>{if(!e.target.tagName.match(/^(INPUT|TEXTAREA)$/)&&esgst.giveawayPath){let t=document.querySelector('.esgst-gf-hide-button, .esgst-gf-unhide-button');t&&(t.firstElementChild.click(),e.preventDefault())}})),esgst.sk_ge&&(e[esgst.sk_giveawayEntry]=(e=>{!e.target.tagName.match(/^(INPUT|TEXTAREA)$/)&&esgst.enterGiveawayButton&&(esgst.enterGiveawayButton.classList.contains('is-hidden')?esgst.leaveGiveawayButton.click():esgst.enterGiveawayButton.click(),e.preventDefault())})),esgst.sk_c&&(e[esgst.sk_creator]=(e=>{if(e.target.tagName.match(/^(INPUT|TEXTAREA)$/)){let t=e.target.value,s=e.target.selectionEnd,n=document.querySelector('.featured__column--width-fill.text-right a, .comment__username, .author_name');if(n){let i=s+(n=n.textContent).length;e.target.value=`${t.slice(0,e.target.selectionStart)}${n}${t.slice(s)}`,e.target.setSelectionRange(i,i),e.target.focus(),e.preventDefault()}}})),esgst.sk_rb&&(e[esgst.sk_replyBox]=(e=>{!e.target.tagName.match(/^(INPUT|TEXTAREA)$/)&&esgst.replyBox&&(esgst.replyBox.getElementsByTagName('textarea')[0].focus(),e.preventDefault())})),esgst.sk_ru&&(e[esgst.sk_replyUser]=(e=>{if('TEXTAREA'===e.target.tagName){let t=e.target.value,s=e.target.selectionEnd,n=e.target.closest('.comment__children, .comment_children');if(n=n&&n.closest('.comment, .comment_outer').querySelector('.comment__username, .author_name')||document.querySelector('.featured__column--width-fill.text-right a, .comment__username, .author_name')){let i=s+(n=n.textContent).length;e.target.value=`${t.slice(0,e.target.selectionStart)}${n}${t.slice(s)}`,e.target.setSelectionRange(i,i),e.target.focus(),e.preventDefault()}}})),esgst.sk_sr&&(e[esgst.sk_submitReply]=(e=>{if('TEXTAREA'===e.target.tagName){let t=e.target.closest('.comment, .reply_form, .esgst-popup');if(t){let s=t.querySelector('.esgst-button-set >:first-child, .js_submit');s&&(s.click(),e.preventDefault())}}})),Object.keys(e).length>0&&document.addEventListener('keydown',t=>{t.stopPropagation();let s='';t.ctrlKey?s+='ctrlKey + ':t.shiftKey?s+='shiftKey + ':t.altKey&&(s+='altKey + '),s+=t.key.toLowerCase(),e[s]&&e[s](t)})}function loadSks(){if(!esgst.createdPath)return;let e=createHeadingButton({id:'sks',icons:['fa-key','fa-search'],title:'Search keys'});e.addEventListener('click',openSksPopup.bind(null,{button:e}))}function openSksPopup(e){if(e.popup)return void e.popup.open();e.popup=new Popup('fa-key','Search for keys:'),e.textArea=insertHtml(e.popup.scrollable,'beforeEnd','\n            <div class="esgst-description">Insert the keys below, one per line.</div>\n            <textarea></textarea>\n        '),new ToggleSwitch(e.popup.description,'sks_exportKeys',!1,'Export all keys ever sent.',!1,!1,'This will search all your giveaways and export a file with all keys ever sent. You don\'t need to enter any keys if this option is enabled.',esgst.sks_exportKeys);let t=new ToggleSwitch(e.popup.description,'sks_searchCurrent',!1,'Only search the current page.',!1,!1,null,esgst.sks_searchCurrent),s=new ToggleSwitch(e.popup.description,'sks_limitDate',!1,`Limit search by date, from <input class="esgst-switch-input esgst-switch-input-large" type="date" value="${esgst.sks_minDate}"> to <input class="esgst-switch-input esgst-switch-input-large" type="date" value="${esgst.sks_maxDate}">.`,!1,!1,null,esgst.sks_limitDate).name.firstElementChild,n=s.nextElementSibling,i=new ToggleSwitch(e.popup.description,'sks_limitPages',!1,`Limit search by pages, from <input class="esgst-switch-input esgst-switch-input-large" type="number" value="${esgst.sks_minPage}"> to <input class="esgst-switch-input esgst-switch-input-large" type="number" value="${esgst.sks_maxPage}">.`,!1,!1,null,esgst.sks_limitPages),a=i.name.firstElementChild,o=a.nextElementSibling;t.exclusions.push(i.container),i.exclusions.push(t.container),esgst.sks_searchCurrent?i.container.classList.add('esgst-hidden'):esgst.sks_limitPages&&t.container.classList.add('esgst-hidden'),observeChange(s,'sks_minDate'),observeChange(n,'sks_maxDate'),observeNumChange(a,'sks_minPage'),observeNumChange(o,'sks_maxPage'),e.results=insertHtml(e.popup.scrollable,'beforeEnd','<div></div>'),e.popup.description.appendChild(new ButtonSet_v2({color1:'green',color2:'grey',icon1:'fa-search',icon2:'fa-times',title1:'Search',title2:'Cancel',callback1:searchSksGiveaways.bind(null,e),callback2:cancelSksSearch.bind(null,e)}).set),e.progress=insertHtml(e.popup.description,'beforeEnd','<div></div>'),e.overallProgress=insertHtml(e.popup.description,'beforeEnd','<div></div>'),e.popup.open()}async function searchSksGiveaways(e){e.button.classList.add('esgst-busy'),e.canceled=!1,e.count=0,e.giveaways={},e.allKeys=[],e.keys=[],e.progress.innerHTML='',e.overallProgress.innerHTML='',e.results.innerHTML='';let t=e.textArea.value.trim().split(/\n/),s=t.length;if(!esgst.sks_exportKeys&&s<1)return;for(let n=0;n<s;n++){let s=t[n].trim();s&&(e.keys.push(s),e.count+=1)}e.textArea.value=e.keys.join('\n');let[n,i]=esgst.sks_limitPages?[esgst.sks_minPage,esgst.sks_maxPage+1]:esgst.sks_searchCurrent?[esgst.currentPage,esgst.currentPage+1]:[esgst.currentPage,null],[a,o]=esgst.sks_limitDate?[new Date(esgst.sks_minDate).getTime()-1,new Date(esgst.sks_maxDate).getTime()+1]:[null,null],r=null,l=!1,c=!1;do{let t=null;if(l=!1,n===esgst.currentPage)t=document,e.lastPage=getLastPage(t),e.lastPage=i?` of ${i-1}`:999999999===e.lastPage?'':` of ${e.lastPage}`;else{if(document.getElementsByClassName(`esgst-es-page-${n}`)[0]){l=!0;continue}t=parseHtml((await request({method:'GET',url:`/giveaways/created/search?page=${n}`})).responseText),e.lastPage||(e.lastPage=getLastPage(t),e.lastPage=i?` of ${i-1}`:999999999===e.lastPage?'':` of ${e.lastPage}`)}e.overallProgress.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Searching for ${e.count} keys (page ${n}${e.lastPage})...</span>\n            `;let s=t.getElementsByClassName('trigger-popup--keys');for(let t=0,n=s.length;!e.canceled&&t<n;t++){e.progress.innerHTML=`\n                    <i class="fa fa-circle-o-notch fa-spin"></i>\n                    <span>Retrieving keys (${t+1} of ${n})...</span>\n                `;let i=s[t],r=1e3*parseInt(i.closest('.table__row-inner-wrap').querySelector('[data-timestamp]').getAttribute('data-timestamp'));if(a&&o){if(r>o){l=!0;continue}if(r<a){c=!0;continue}}let d={active:Date.now()<r,code:i.parentElement.querySelector('[name=code]').value,name:i.getAttribute('data-name')},g=parseHtml(JSON.parse((await request({data:`xsrf_token=${esgst.xsrfToken}&do=popup_keys&code=${d.code}`,method:'POST',url:'/ajax.php'})).responseText).html).getElementsByClassName('popup__keys__heading')[0];if(!g||'Assigned'!==g.textContent&&!d.active)continue;let u=g.nextElementSibling.nextElementSibling.children;for(let t=u.length-1;!e.canceled&&t>-1;t--){let s=u[t].textContent;e.keys.indexOf(s)>-1&&(e.giveaways[s]=d,e.count-=1),esgst.sks_exportKeys&&e.allKeys.push(`${d.active?'[UNASSIGNED] ':''}${s} ${d.name} https://www.steamgifts.com/giveaway/${d.code}/`)}}n+=1,r=e.count>0||esgst.sks_exportKeys?t.getElementsByClassName('pagination__navigation')[0]:null}while(!e.canceled&&!c&&(!i||n<i)&&(l||r&&!r.lastElementChild.classList.contains('is-selected')));if(e.canceled)return;let d=[],g=[];for(let t=0,s=e.keys.length;t<s;t++){let s=e.keys[t],n=e.giveaways[s];n?d.push(`<li>${n.active?'[UNASSIGNED] ':''}${s} (<a href="/giveaway/${n.code}/">${n.name}</a>)</li>`):g.push(`<li>${s}</li>`)}if([{array:d,name:'Found'},{array:g,name:'Did not find'}].forEach(t=>{let s=t.array.length;s<1||e.results.insertAdjacentHTML('beforeEnd',`\n                <div class="markdown">\n                    <div>\n                        <span class="esgst-bold">${t.name} ${s} keys:</span>\n                    </div>\n                    <ul>\n                        ${t.array.join('')}\n                    </ul>\n                </div>\n            `)}),esgst.sks_exportKeys){let t=document.createElement('a');t.download=`esgst_sks_keys_${(new Date).toISOString()}.txt`;let s=URL.createObjectURL(new Blob([e.allKeys.join('\r\n')]));t.href=s,document.body.appendChild(t),t.click(),t.remove(),URL.revokeObjectURL(s)}e.progress.innerHTML='',e.overallProgress.innerHTML='',e.button.classList.remove('esgst-busy')}function cancelSksSearch(e){e.canceled=!0,e.button.classList.remove('esgst-busy'),e.progress.innerHTML='',e.overallProgress.innerHTML=''}function loadSmgb(){let e,t;for(t=(e=document.querySelectorAll('.sidebar__search-container .fa-search, .esgst-qgs-container .fa-search')).length-1;t>-1;--t){let s,n;s=e[t],n=s.previousElementSibling,s.classList.add('esgst-clickable'),s.addEventListener('click',e=>{let t=n.value.trim();t&&(location.href=`${esgst.searchUrl.replace(/page=/,'')}q=${t}`)})}}function loadStbb(){let e,t,s;switch(esgst.stbb_index){case 0:e=insertHtml(document.body,'beforeEnd',`\n                    <div class="esgst-stbb-button esgst-stbb-button-fixed" title="${getFeatureTooltip('stbb','Scroll to bottom')}">\n                        <i class="fa fa-chevron-down"></i>\n                    </div>\n                `),addEventListener('scroll',()=>{document.documentElement.offsetHeight-innerHeight>=scrollY+100?e.classList.remove('esgst-hidden'):e.classList.add('esgst-hidden')});break;case 1:(e=createHeadingButton({id:'stbb',icons:['fa-chevron-down'],title:'Scroll to bottom'})).classList.add('esgst-stbb-button');break;case 2:e=insertHtml(esgst.footer.firstElementChild.lastElementChild,'beforeEnd',`\n                    <${esgst.sg?'div':'li'} class="esgst-stbb-button" title="${getFeatureTooltip('stbb','Scroll to bottom')}">\n                        <i class="fa fa-chevron-down"></i>\n                    </${esgst.sg?'div':'li'}>\n                `)}e.addEventListener('click',()=>animateScroll(document.documentElement.offsetHeight))}function setStoLinks(e){var t,s,n;for(s=0,n=(t=e.querySelectorAll('[target="_blank"]')).length;s<n;++s)t[s].removeAttribute('target')}function addStpbButton(e){var t,s;t=insertHtml(e.steamButtonContainer.firstElementChild,'beforeEnd',`\n            <a class="esgst-stpb-button" href="https://www.steamtrades.com/user/${e.steamId}" rel="nofollow" target="_blank" title="${getFeatureTooltip('stpb')}">\n                <i class="fa fa-fw">\n                    <img src="${esgst.stIcon}">\n                </i>\n            </a>\n        `),(s=e.steamButtonContainer.getElementsByClassName('js-tooltip')[0])&&(t.addEventListener('mouseenter',showStpbTooltip.bind(null,t,s)),t.addEventListener('mouseleave',hideStpbTooltip.bind(null,t)))}function showStpbTooltip(e,t){t.textContent='Visit SteamTrades Profile',setSiblingsOpacity(e,'0.2')}function hideStpbTooltip(e){setSiblingsOpacity(e,'1')}function loadSttb(){let e,t,s;switch(esgst.sttb_index){case 0:(e=insertHtml(document.body,'beforeEnd',`\n                    <div class="esgst-sttb-button esgst-sttb-button-fixed" title="${getFeatureTooltip('sttb','Scroll to top')}">\n                        <i class="fa fa-chevron-up"></i>\n                    </div>\n                `)).classList.add('esgst-hidden'),addEventListener('scroll',()=>{scrollY>100?e.classList.remove('esgst-hidden'):e.classList.add('esgst-hidden')});break;case 1:(e=createHeadingButton({id:'sttb',icons:['fa-chevron-up'],title:'Scroll to top'})).classList.add('esgst-sttb-button');break;case 2:e=insertHtml(esgst.footer.firstElementChild.lastElementChild,'beforeEnd',`\n                    <${esgst.sg?'div':'li'} class="esgst-sttb-button" title="${getFeatureTooltip('sttb','Scroll to top')}">\n                        <i class="fa fa-chevron-up"></i>\n                    </${esgst.sg?'div':'li'}>\n                `)}e.addEventListener('click',animateScroll.bind(null,0))}function addSwrRatio(e){var t,s,n,i,a,o;t=e.wonCount>0?Math.round(e.sentCount/e.wonCount*100)/100:0,s=e.wonFull>0?Math.round(e.sentFull/e.wonFull*100)/100:0,n=e.wonReduced>0?Math.round(e.sentReduced/e.wonReduced*100)/100:0,i=e.wonZero>0?Math.round(e.sentZero/e.wonZero*100)/100:0,a=e.wonCV>0?Math.round(e.sentCV/e.wonCV*100)/100:0;var r={rows:[{columns:[{name:'Ratio'},{color:'#8f96a6',name:t}],icon:[{class:'fa-pie-chart',color:'#77899a'}]},{columns:[{color:'#8f96a6',name:'Full Value'},{color:'#8f96a6',name:s}],indent:'80px'},{columns:[{color:'#8f96a6',name:'Reduced Value'},{color:'#8f96a6',name:n}],indent:'80px'},{columns:[{color:'#8f96a6',name:'No Value'},{color:'#8f96a6',name:i}],indent:'80px;'}]},l={rows:[{columns:[{name:'Real Value'},{color:'#8f96a6',name:`$${o=e.realWonCV>0?Math.round(e.realSentCV/e.realWonCV*100)/100:0}`}],icon:[{class:'fa-dollar',color:'#84cfda'}]}]};e.sentRow.insertAdjacentHTML('afterEnd',`\n            <div class="esgst-swr-ratio featured__table__row" title="${getFeatureTooltip('swr')}">\n                <div class="featured__table__row__left">Ratio</div>\n                <div class="featured__table__row__right">\n                    <span data-ui-tooltip='${JSON.stringify(r)}'>${t}</span>\n                    (<span data-ui-tooltip='${JSON.stringify(l)}'>$${a}</span>)\n                </div>\n            </div>\n        `)}function loadTb(){if(location.href.match(new RegExp(`\\/trades\\/search\\?user=${esgst.steamId}`))){let e=createHeadingButton({id:'tb',icons:['fa-chevron-circle-up'],title:'Bump trades'});e.addEventListener('click',getTbTrades.bind(null,e,document)),esgst.tb_a&&setTbAutoBump(e)}else esgst.tb_a&&setTbAutoBump()}function getTbTrades(e,t,s){var n,i,a;e&&(e.innerHTML='\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n            '),(a=(n=t.querySelectorAll('.row_inner_wrap:not(.is_faded)')).length)>0?bumpTbTrades(e,n,0,a,s):e&&(e.innerHTML='\n                <i class="fa fa-chevron-circle-up"></i>\n            ')}async function bumpTbTrades(e,t,s,n,i){s<n?(await request({data:`xsrf_token=${esgst.xsrfToken}&do=trade_bump&code=${t[s].querySelector('[href*="/trade/"]').getAttribute('href').match(/\/trade\/(.+?)\//)[1]}`,method:'POST',url:'https://www.steamtrades.com/ajax.php'}),bumpTbTrades(e,t,++s,n,i)):(e&&(e.innerHTML='\n                    <i class="fa fa-chevron-circle-up"></i>\n                '),i?i():location.reload())}async function setTbAutoBump(e){let t=Date.now(),s=t-await getValue('lastBump',0);s>36e5?(await setValue('lastBump',t),autoBumpTbTrades(e)):setTimeout(setTbAutoBump,36e5-s,e)}async function autoBumpTbTrades(e){location.href.match(new RegExp(`\\/trades\\/search\\?user=${esgst.steamId}`))?getTbTrades(e,document):getTbTrades(null,parseHtml((await request({method:'GET',queue:!0,url:`https://www.steamtrades.com/trades/search?user=${esgst.steamId}`})).responseText),setTimeout.bind(null,setTbAutoBump,39e5,e))}function getTsTables(e,t,s,n){var i,a,o;for(i=0,a=(o=e.querySelectorAll('.table, table')).length;i<a;++i)setTsTable(o[i]);n||esgst.us||sortTsTables()}function sortTsTables(){var e,t;for(e=esgst.tsTables.length-1;e>-1;--e)(t=esgst.tsTables[e]).columnName&&sortContent(getTsArray(t.columnName,t.columnIndex,t.table),`${t.key}_${t.name}`)}function setTsTable(e){var t,s,i,s,a,o,r;if(a=e.querySelector('.table__heading, .header, thead'))for(r={columnName:'',key:'sortIndex',name:'asc',table:e},esgst.tsTables.push(r),s=a.querySelectorAll('.table__column--width-fill, .table__column--width-medium, .table__column--width-small, .column_flex, .column_medium, .column_small, th'),o=0,n=s.length;o<n;++o)column=s[o],(i=column.textContent.trim()).match(/^(Keys|Key|Not\sReceived|Remove)$/)||esgst.wonPath&&i.match(/^Received$/)||column.getElementsByClassName('esgst-ts-button')[0]||addTsDescButton(t=insertHtml(column,'beforeEnd','\n                        <span class="esgst-ts-button esgst-clickable"></span>\n                    '),i,o,e,r)}function addTsAscButton(e,t,s,n,i){e.innerHTML=`\n            <i class="fa fa-sort-desc" title="${getFeatureTooltip('ts','Currently sorted descending. Click to sort ascending.')}"></i>\n        `,e.firstElementChild.addEventListener('click',sortTsTable.bind(null,e,t,s,'asc',n,i))}function addTsDescButton(e,t,s,n,i){e.innerHTML=`\n            <i class="fa fa-sort" title="${getFeatureTooltip('ts','Currently sorted by default. Click to sort descending.')}"></i>\n        `,e.firstElementChild.addEventListener('click',sortTsTable.bind(null,e,t,s,'desc',n,i))}function addTsDefButton(e,t,s,n,i){e.innerHTML=`\n            <i class="fa fa-sort-asc" title="${getFeatureTooltip('ts','Currently sorted ascending. Click to sort by default.')}"></i>\n        `,e.firstElementChild.addEventListener('click',sortTsTable.bind(null,e,t,s,'def',n,i))}function sortTsTable(e,t,s,n,i,a){a.columnName=t,a.columnIndex=s,a.key='def'===n?'sortIndex':'value',a.name=n,'desc'===n?(sortContent(getTsArray(t,s,i),`value_${n}`),addTsAscButton(e,t,s,i,a)):'asc'===n?(sortContent(getTsArray(t,s,i),`value_${n}`),addTsDefButton(e,t,s,i,a)):(sortContent(getTsArray(t,s,i),'sortIndex_asc'),addTsDescButton(e,t,s,i,a))}function getTsArray(e,t,s){var n,i,a,o,r,l,c,d,g;n=[];let u=!1;for(o=0,l=(d=s.querySelectorAll('.table__row-outer-wrap, .row_outer_wrap, tbody tr')).length;o<l;++o){if(g=(i=(c=d[o]).querySelectorAll('.table__column--width-fill, .table__column--width-medium, .table__column--width-small, .column_flex, .column_medium, .column_small, td')[t])&&i.textContent.trim(),a={outerWrap:c},c.hasAttribute('data-sort-index')?a.sortIndex=parseInt(c.getAttribute('data-sort-index')):(a.sortIndex=o,c.setAttribute('data-sort-index',o)),g.length>0||'Trending'===e)if(i.hasAttribute('data-sort-value'))a.value=parseFloat(i.getAttribute('data-sort-value'));else switch(e){case'Trending':a.value=i.getElementsByClassName('fa-caret-up').length-i.getElementsByClassName('fa-caret-down').length;break;case'Added':case'Date Entered':case'Last Online':case'Last Post':case'Last Update':a.value=g.match(/Online\sNow/)?Date.now():1e3*parseInt(i.querySelector('[data-timestamp]').getAttribute('data-timestamp'));break;case'Game':case'Giveaway':case'Group':case'Received':case'Sent':case'Status':case'Summary':case'Type':case'User':case'Winner(s)':a.value=g;break;default:g.match(/\d+\.\d+/)?(a.value=parseFloat(g.replace(/\$/g,'')),isNaN(a.value)?a.value=g:u=!0):(r=g.replace(/,/g,'').match(/\d+/))?(a.value=parseFloat(r[0]),u=!0):a.value=g}else a.value=0;n.push(a)}if(u)for(let e=n.length-1;e>-1;e--){let t=n[e];'string'==typeof t.value&&(t.value=0)}return n}function calculateTtecTime(e,t,s){let n,i;if(!t||!esgst.createdPath&&!esgst.enteredPath&&!esgst.wonPath&&!esgst.newGiveawayPath){for(n=60-(new Date).getMinutes();n>15;)n-=15;e.forEach(e=>{!e.ended&&!e.entered&&e.points>esgst.points?(e.ttec||(e.ttec=insertHtml(e.panel,esgst.gv&&(t&&esgst.giveawaysPath||'gb'===s&&esgst.gv_gb||'ged'===s&&esgst.gv_ged||'ge'===s&&esgst.gv_ge)?'beforeEnd':'afterBegin',`<div class="${esgst.giveawayPath?'featured__column':''} esgst-ttec" data-columnId="ttec" title="${getFeatureTooltip('ttec','Time to wait until you have enough points to enter this giveaway')}"></div>`),esgst.lockGiveawayColumns||t&&!esgst.giveawaysPath&&!esgst.userPath&&!esgst.groupPath||(e.ttec.setAttribute('draggable',!0),e.ttec.addEventListener('dragstart',setGiveawaySource.bind(null,e)),e.ttec.addEventListener('dragenter',getGiveawaySource.bind(null,e,!1)),e.ttec.addEventListener('dragend',saveGiveawaySource.bind(null,e)))),e.ttec.classList.remove('esgst-hidden'),e.ttec.innerHTML=`\n                        <i class="fa fa-clock-o"></i> ${getTtecTime(Math.round(100*(n+15*Math.floor((e.points-esgst.points)/6)))/100)}\n                    `):e.ttec&&e.ttec.classList.add('esgst-hidden')})}}function getTtecTime(e){let t,s,n;return s=Math.round(e/60*10)/10,Math.floor(s)>0?(t=Math.round(e/60/24*10)/10,Math.floor(t)>0?(n=Math.round(t/60/24/7*10)/10,Math.floor(n)>0?`${n}w`:`${t}d`):`${s}h`):`${e}m`}function addUgbButton(e,t){let s=e.innerWrap.querySelector('.giveaway__hide, .featured__giveaway__hide');s||t&&!esgst.giveawaysPath&&!esgst.giveawayPath||(s=esgst.giveawayPath&&t?insertHtml(e.headingName.parentElement,'beforeEnd',`\n                    <a>\n                        <i class="fa fa-eye giveaway__hide" title="${getFeatureTooltip('ugb','Unhide all giveaways for this game')}"></i>\n                    </a>\n                `):insertHtml(e.headingName.parentElement,'beforeEnd',`\n                    <i class="fa fa-eye giveaway__hide giveaway__icon" title="${getFeatureTooltip('ugb','Unhide all giveaways for this game')}"></i>\n                `)).addEventListener('click',unhideGame.bind(null,s,e.gameId,e.name))}function removeUegFade(e){var t,s,n;for(s=0,n=(t=e.getElementsByClassName('giveaway__row-inner-wrap is-faded')).length;s<n;++s)t[s].classList.add('esgst-ueg')}function addUfButton(e,t){var s;e.username!==esgst.username&&(e.ufButton=insertHtml(e.heading,'beforeEnd',`\n                <a class="esgst-uf-button" title="${getFeatureTooltip('uf','Edit user filters')}">\n                    <i class="fa"></i>\n                </a>\n            `),e.ufIcon=e.ufButton.firstElementChild,t?(e.ufValues=t.uf,e.ufValues&&(e.ufValues.giveaways||e.ufValues.discussions||e.ufValues.posts)?e.ufIcon.classList.add('fa-eye-slash'):(e.ufIcon.classList.add('fa-eye'),e.ufValues={giveaways:!1,discussions:!1,posts:!1})):(e.ufIcon.classList.add('fa-eye'),e.ufValues={giveaways:!1,discussions:!1,posts:!1}),e.ufButton.addEventListener('click',openUfPopup.bind(null,e)))}function openUfPopup(e){var t,s;e.ufPopup=new Popup('fa-eye',`Apply user filters for <span>${e.name}</span>:`,!0),e.ufOptions=insertHtml(e.ufPopup.description,'beforeEnd','<div></div>'),e.ufGiveawaysOption=new ToggleSwitch(e.ufOptions,null,!1,'Filter this user\'s giveaways.',!1,!1,'Hides the user\'s giveaways from the main pages.',e.ufValues.giveaways),e.ufDiscussionsOption=new ToggleSwitch(e.ufOptions,null,!1,'Filter this user\'s discussions.',!1,!1,'Hides the user\'s discussions from the main pages.',e.ufValues.discussions),e.ufPostsOption=new ToggleSwitch(e.ufOptions,null,!1,'Filter this user\'s posts.',!1,!1,'Hides the user\'s posts everywhere.',e.ufValues.posts),s=new ButtonSet_v2({color1:'green',color2:'grey',icon1:'fa-check',icon2:'fa-circle-o-notch fa-spin',title1:'Save Settings',title2:'Saving...',callback1:saveUfSettings.bind(null,e,!1)}),t=new ButtonSet_v2({color1:'green',color2:'grey',icon1:'fa-rotate-left',icon2:'fa-circle-o-notch fa-spin',title1:'Reset Settings',title2:'Resetting...',callback1:saveUfSettings.bind(null,e,!0)}),s.dependencies.push(t.set),t.dependencies.push(s.set),e.ufPopup.description.appendChild(s.set),e.ufPopup.description.appendChild(t.set),e.ufPopup.open()}async function saveUfSettings(e,t){var s,n;t?(s=null,e.ufGiveawaysOption.input.checked=!1,e.ufDiscussionsOption.input.checked=!1,e.ufPostsOption.input.checked=!1,e.ufValues={giveaways:!1,discussions:!1,posts:!1}):e.ufValues={giveaways:e.ufGiveawaysOption.input.checked,discussions:e.ufDiscussionsOption.input.checked,posts:e.ufPostsOption.input.checked},n={steamId:e.steamId,id:e.id,username:e.username,values:{uf:e.ufValues}},e.ufValues&&(e.ufValues.giveaways||e.ufValues.discussions||e.ufValues.posts)?(e.ufIcon.classList.remove('fa-eye'),e.ufIcon.classList.add('fa-eye-slash')):(e.ufIcon.classList.remove('fa-eye-slash'),e.ufIcon.classList.add('fa-eye')),await saveUser(null,null,n),e.ufPopup.close()}function updateUfCount(e,t){var s;s=e.getElementsByClassName('esgst-uf-count')[0],e=e.firstElementChild,t||(t=0),s?s.innerHTML=`\n                (<span class="esgst-bold">${parseInt(s.firstElementChild.textContent)+1+t}</span> filtered by User Filters)\n            `:e.insertAdjacentHTML('beforeEnd',`\n                <span class="esgst-uf-count">\n                    (<span class="esgst-bold">${1+t}</span> filtered by User Filters)\n                </span>\n            `)}function addUgdButtons(e){var t={steamId:e.steamId,id:e.id,username:e.username};addUgdButton(e.wonRowLeft,'won',t),addUgdButton(e.sentRowLeft,'sent',t)}function addUgdButton(e,t,s){var n,i,a;n={key:t},e.insertAdjacentHTML('beforeEnd',`\n            <span class="esgst-ugd-button" title="${getFeatureTooltip('ugd',`Get ${n.key} giveaways data`)}">\n                <i class="fa fa-bar-chart"></i>\n            </span>\n        `),i=e.lastElementChild,insertHtml((a=new Popup('fa-bar-chart',`Get ${s.username}'s ${n.key} giveaways data:`)).description,'beforeEnd','<div></div>').appendChild(createOptions([{check:'won'===n.key,dependencies:['ugd_getAchievements'],description:'Get playtime stats.',id:'ugd_getPlaytime',tooltip:'Get playtime stats for each won game by this user (requires a Steam API Key inserted into the settings menu - does not check DLCs/packages).'},{check:'won'===n.key,description:'Get achievements stats.',id:'ugd_getAchievements',tooltip:'Get achievements stats for each won game by this user (slower - does not check DLCs/packages).'},{check:!0,description:'Clear cache.',id:'ugd_clearCache',tooltip:'If enabled, the cache will be cleared and all giveaways will be retrieved again (slower).'}])),a.description.appendChild(new ButtonSet('green','grey','fa-bar-chart','fa-times-circle','Get Data','Cancel',async function(e){var t,o;if(n.canceled=!1,i.classList.add('esgst-busy'),savedUser=await getUser(null,s),savedUser&&(o=savedUser.giveaways),!o&&(o={sent:{apps:{},subs:{}},won:{apps:{},subs:{}},sentTimestamp:0,wonTimestamp:0},savedUser&&(t=savedUser.ugd))){var r={};if(t.sent){for(var l in t.sent.apps){o.sent.apps[l]=[];for(var c=0,d=t.sent.apps[l].length;c<d;++c)r[t.sent.apps[l][c].code]=t.sent.apps[l][c],o.sent.apps[l].push(t.sent.apps[l][c].code)}for(var l in t.sent.subs){o.sent.subs[l]=[];for(var c=0,d=t.sent.subs[l].length;c<d;++c)r[t.sent.subs[l][c].code]=t.sent.subs[l][c],o.sent.subs[l].push(t.sent.subs[l][c].code)}o.sentTimestamp=t.sentTimestamp}if(t.won){for(var l in t.won.apps){o.won.apps[l]=[];for(var c=0,d=t.won.apps[l].length;c<d;++c)r[t.won.apps[l][c].code]=t.won.apps[l][c],o.won.apps[l].push(t.won.apps[l][c].code)}for(var l in t.won.subs){o.won.subs[l]=[];for(var c=0,d=t.won.subs[l].length;c<d;++c)r[t.won.subs[l][c].code]=t.won.subs[l][c],o.won.subs[l].push(t.won.subs[l][c].code)}o.wonTimestamp=t.wonTimestamp}Object.keys(r).length>0&&await lockAndSaveGiveaways(r)}esgst.ugd_clearCache&&(o[n.key]=null),o.sent||(o.sent={apps:{},subs:{}},o.sentTimestamp=0),o.won||(o.won={apps:{},subs:{}},o.wonTimestamp=0),'sent'===n.key&&s.username===esgst.username&&'7.13.0'!==o.version&&(o.sent={apps:{},subs:{}},o.sentTimestamp=0,o.version='7.13.0');var g=location.pathname.match(new RegExp(`^/user/${s.username}${'won'===n.key?'/giveaways/won':''}`)),u=location.href.match(/page=(\d+)/),h,m,p,f,v,x;u=g?u?parseInt(u[1]):1:0,n.giveaways={},s.values={giveaways:await getUgdGiveaways(n,o,1,s.username),ugd:null},await saveUser(null,null,s),i.classList.remove('esgst-busy'),h=o[n.key],m={Everyone:[0,0,0,0,0,0,0,0,0,0,0],Invite:[0,0,0,0,0,0,0,0,0,0,0],Group:[0,0,0,0,0,0,0,0,0,0,0],Whitelist:[0,0,0,0,0,0,0,0,0,0,0],Group_Whitelist:[0,0,0,0,0,0,0,0,0,0,0],Region:[0,0,0,0,0,0,0,0,0,0,0],Region_Invite:[0,0,0,0,0,0,0,0,0,0,0],Region_Group:[0,0,0,0,0,0,0,0,0,0,0],Region_Whitelist:[0,0,0,0,0,0,0,0,0,0,0],Region_Group_Whitelist:[0,0,0,0,0,0,0,0,0,0,0]},p={Everyone:0,Invite:0,Group:0,Whitelist:0,Group_Whitelist:0,Region:0,Region_Invite:0,Region_Group:0,Region_Whitelist:0,Region_Group_Whitelist:0},x=[0,0,0,0,0,0,0,0,0,0,0],v=0,f={},n.progress.textContent='Calculating stats...',countUgdGiveaways(f,h.apps,x,0,'won'===n.key?'creators':'apps',m,p,n,function(t,i){countUgdGiveaways(f,h.subs,t,i,'won'===n.key?'creators':'subs',m,p,n,async function(t,i){var o,r,l,d,g;for(o in n.HTML='\n                        <div class="esgst-ugd-table table">\n                            <div class="table__heading">\n                                <div class="table__column--width-small text-center">Type</div>\n                                <div class="table__column--width-small text-center">Level 0</div>\n                                <div class="table__column--width-small text-center">Level 1</div>\n                                <div class="table__column--width-small text-center">Level 2</div>\n                                <div class="table__column--width-small text-center">Level 3</div>\n                                <div class="table__column--width-small text-center">Level 4</div>\n                                <div class="table__column--width-small text-center">Level 5</div>\n                                <div class="table__column--width-small text-center">Level 6</div>\n                                <div class="table__column--width-small text-center">Level 7</div>\n                                <div class="table__column--width-small text-center">Level 8</div>\n                                <div class="table__column--width-small text-center">Level 9</div>\n                                <div class="table__column--width-small text-center">Level 10</div>\n                                <div class="table__column--width-small text-center">Total</div>\n                            </div>\n                            <div class="table__rows">\n                    ',m){for(n.HTML+=`\n                                <div class="table__row-outer-wrap">\n                                    <div class="table__row-inner-wrap">\n                                            <div class="table__column--width-small text-center">${o.replace(/_/g,' + ')}</div>\n                        `,r=0;r<=10;++r)d=m[o][r],n.HTML+=`\n                                        <div class="table__column--width-small text-center${d?'':' is-faded'}">${d}</div>\n                            `;d=Math.round(p[o]/i*1e4)/100,n.HTML+=`\n                                        <div class="table__column--width-small text-center${d?'':' is-faded'}">${p[o]} (${d}%)</div>\n                                    </div>\n                                </div>\n                        `}for(n.HTML+='\n                                <div class="table__row-outer-wrap">\n                                    <div class="table__row-inner-wrap">\n                                        <div class="table__column--width-small text-center">Total</div>\n                    ',r=0;r<=10;++r)d=Math.round(t[r]/i*1e4)/100,n.HTML+=`\n                                        <div class="table__column--width-small text-center${d?'':' is-faded'}">${t[r]} (${d}%)</div>\n                        `;for(Key in n.HTML+=`\n                                        <div class="table__column--width-small text-center${i?'':' is-faded'}">${i}</div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    `,g=[],f.apps){for(r=0,l=g.length;r<l&&f.apps[Key].frequency<=g[r].frequency;++r);g.splice(r,0,f.apps[Key])}for(Key in f.subs){for(r=0,l=g.length;r<l&&f.subs[Key].frequency<=g[r].frequency;++r);g.splice(r,0,f.subs[Key])}for(Key in f.creators){for(r=0,l=g.length;r<l&&f.creators[Key].frequency<=g[r].frequency;++r);g.splice(r,0,f.creators[Key])}if(n.ordered=g,'won'===n.key&&esgst.ugd_getPlaytime&&esgst.steamApiKey){n.progress.textContent='Retrieving game stats...',n.HTML+=`\n                            <div class="esgst-ugd-table table">\n                                <div class="table__heading">\n                                    <div class="table__column--width-fill">Game</div>\n                                    <div class="table__column--width-small text-center">Playtime (Last 2 Weeks)</div>\n                                    <div class="table__column--width-small text-center">Playtime (Forever)</div>\n                                    ${esgst.ugd_getAchievements?'<div class="table__column--width-small text-center">Achievements</div>':''}\n                                    <div class="table__column--width-small text-center">Gifter</div>\n                                </div>\n                                <div class="table__rows">\n                        `;let t,i=JSON.parse((await request({method:'GET',url:`https://api.steampowered.com/IPlayerService/GetOwnedGames/v0001/?key=${esgst.steamApiKey}&steamid=${s.steamId}&format=json`})).responseText).response.games,o;for(o in t=new CompletionCheck(Object.keys(h.apps).length+Object.keys(h.subs).length,completeUgd.bind(null,a,n,e),()=>{n.progress.textContent=`Retrieving game stats (${t.count} of ${t.total})...`}),n.total=t.total,n.playedCount=0,n.achievementsCount=0,n.achievementsTotal=0,h.apps){for(c=i.length-1;c>=0&&i[c].appid!==parseInt(o);--c);let e='string'==typeof h.apps[o][0]?esgst.giveaways[h.apps[o][0]]:h.apps[o][0];if(c>=0){let a=i[c],o=a.playtime_2weeks,r=a.playtime_forever;if(r>0&&(n.playedCount+=1),o=o&&o>0?o>60?`${Math.round(o/60*100)/100}h`:`${o}m`:'0',r=r>0?r>60?`${Math.round(r/60*100)/100}h`:`${r}m`:'0',esgst.ugd_getAchievements){let i=JSON.parse((await request({method:'GET',url:`http://api.steampowered.com/ISteamUserStats/GetPlayerAchievements/v0001/?appid=${a.appid}&key=${esgst.steamApiKey}&steamid=${s.steamId}`})).responseText).playerstats,l,c=0,d=0;i.success&&i.achievements?(i.achievements.forEach(e=>{e.achieved&&(c+=1),d+=1}),c>0&&(n.achievementsCount+=1),n.achievementsTotal+=1,l=`${c}/${d} (${Math.round(c/d*1e4)/100}%)`):l='0/0',n.HTML+=`\n                                        <div class="table__row-outer-wrap">\n                                            <div class="table__row-inner-wrap">\n                                                <div class="table__column--width-fill">${e.gameName}</div>\n                                                <div class="table__column--width-small text-center" data-sort-value="${a.playtime_2weeks||0}">${o}</div>\n                                                <div class="table__column--width-small text-center" data-sort-value="${a.playtime_forever}">${r}</div>\n                                                <div class="table__column--width-small text-center" data-sort-value="${Math.round(c/d*1e4)/100}">${l}</div>\n                                                <div class="table__column--width-small text-center"><a class="table__column__secondary-link" href="/user/${e.creator}">${e.creator}</a></div>\n                                            </div>\n                                        </div>\n                                    `,t.count+=1}else n.HTML+=`\n                                        <div class="table__row-outer-wrap">\n                                            <div class="table__row-inner-wrap">\n                                                <div class="table__column--width-fill">${e.gameName}</div>\n                                                <div class="table__column--width-small text-center" data-sort-value="${a.playtime_2weeks||0}">${o}</div>\n                                                <div class="table__column--width-small text-center" data-sort-value="${a.playtime_forever}">${r}</div>\n                                                <div class="table__column--width-small text-center"><a class="table__column__secondary-link" href="/user/${e.creator}">${e.creator}</a></div>\n                                            </div>\n                                        </div>\n                                    `,t.count+=1}else n.HTML+=`\n                                    <div class="table__row-outer-wrap">\n                                        <div class="table__row-inner-wrap">\n                                            <div class="table__column--width-fill">${e.gameName}</div>\n                                            <div class="table__column--width-small text-center">0</div>\n                                            <div class="table__column--width-small text-center">0</div>\n                                            ${esgst.ugd_getAchievements?'<div class="table__column--width-small text-center">0/0</div>':''}\n                                            <div class="table__column--width-small text-center"><a class="table__column__secondary-link" href="/user/${e.creator}">${e.creator}</a></div>\n                                        </div>\n                                    </div>\n                                `,t.count+=1}for(o in h.subs){let e='string'==typeof h.subs[o][0]?esgst.giveaways[h.subs[o][0]]:h.subs[o][0];n.HTML+=`\n                                <div class="table__row-outer-wrap">\n                                    <div class="table__row-inner-wrap">\n                                        <div class="table__column--width-fill">${e.gameName}</div>\n                                        <div class="table__column--width-small text-center">0</div>\n                                        <div class="table__column--width-small text-center">0</div>\n                                        ${esgst.ugd_getAchievements?'<div class="table__column--width-small text-center">0/0</div>':''}\n                                        <div class="table__column--width-small text-center"><a class="table__column__secondary-link" href="/user/${e.creator}">${e.creator}</a></div>\n                                    </div>\n                                </div>\n                            `,t.count+=1}}else completeUgd(a,n,e)})})},function(){clearInterval(n.Request),clearInterval(n.Save),n.canceled=!0,setTimeout(function(){n.progress.innerHTML=n.OverallProgress=''},500),i.classList.remove('esgst-busy')}).set),n.progress=insertHtml(a.description,'beforeEnd','<div></div>'),n.OverallProgress=insertHtml(a.description,'beforeEnd','<div></div>'),a.Results=insertHtml(a.scrollable,'beforeEnd','<div class="esgst-text-left"></div>'),n.popup=a,i.addEventListener('click',function(){a.open()})}async function completeUgd(e,t,s){let n;for(n in'won'===t.key&&esgst.ugd_getPlaytime&&esgst.steamApiKey&&(t.HTML+=`\n                    </div>\n                </div>\n                <div class="esgst-bold">${t.playedCount} out of ${t.total} games with more than 0 hours playtime (${Math.round(t.playedCount/t.total*1e4)/100}%)</div>\n                ${esgst.ugd_getAchievements?`<div class="esgst-bold">${t.achievementsCount} out of ${t.achievementsTotal} games with more than 0 achievements (${Math.round(t.achievementsCount/t.achievementsTotal*1e4)/100}%)</div>`:''}\n                <br/>\n            `),t.HTML+=`\n            <div class="esgst-text-center markdown">\n                <div class="esgst-bold">${'sent'===t.key?'Most given away:':'Most won from:'}</div>\n                <ol>\n        `,t.ordered)t.HTML+=`\n                    <li>${t.ordered[n].name} - <span class="esgst-bold">${t.ordered[n].frequency}</span></li>\n            `;t.HTML+='\n                </ol>\n            </div>\n        ',e.Results.innerHTML=t.HTML,t.progress.innerHTML='',await loadEndlessFeatures(e.Results),s()}async function countUgdGiveaways(e,t,s,n,i,a,o,r,l){var c,d,g,u,h,m,p,f,v,x,w=JSON.parse(await getValue('giveaways'));for(c in t)for(d=0,g=t[c].length;d<g;++d)(u='string'==typeof t[c][d]?w[t[c][d]]:t[c][d])&&u.entries>0&&(h=u.inviteOnly,m=u.group,p=u.whitelist,f=u.regionRestricted,v=u.level,x='sent'===r.key?u.copies:1,h?f?(a.Region_Invite[v]+=x,o.Region_Invite+=x):(a.Invite[v]+=x,o.Invite+=x):m?f?(a.Region_Group[v]+=x,o.Region_Group+=x):p?f?(a.Region_Group_Whitelist[v]+=x,o.Region_Group_Whitelist+=x):(a.Group_Whitelist[v]+=x,o.Group_Whitelist+=x):(a.Group[v]+=x,o.Group+=x):p?f?(a.Region_Whitelist[v]+=x,o.Region_Whitelist+=x):(a.Whitelist[v]+=x,o.Whitelist+=x):f?(a.Region[v]+=x,o.Region+=x):(a.Everyone[v]+=x,o.Everyone+=x),s[v]+=x,n+=x,'sent'===r.key?(e[i]||(e[i]={}),e[i][c]||(e[i][c]={name:u.gameName,frequency:0}),e[i][c].frequency+=x):(e[i]||(e[i]={}),e[i][u.creator]||(e[i][u.creator]={name:u.creator,frequency:0}),++e[i][u.creator].frequency));l(s,n)}async function getUgdGiveaways(e,t,s,n){let i=!1,a=null,o=[];do{let r=parseHtml((await request({method:'GET',url:`/user/${n}${'won'===e.key?'/giveaways/won':''}/search?page=${s}`})).responseText);e.progress&&(1===s&&(e.lastPage=getLastPage(r,!1,!1,!0,'won'===e.key),e.lastPage=999999999===e.lastPage?'':` of ${e.lastPage}`),e.progress.innerHTML=`\n                    <i class="fa fa-circle-o-notch fa-spin"></i>\n                    <span>Retrieving giveaways (page ${s}${e.lastPage})...</span>\n                `);let l=Date.now(),c=r.getElementsByClassName('giveaway__row-outer-wrap');for(let s=0,a=c.length;s<a;s++){let a=(await getGiveawayInfo(c[s],document,n,e.key)).data;if(!(a.endTime>=l)){if(e.timestamp||(e.timestamp=a.endTime),a.endTime<=t[`${e.key}Timestamp`]){i=!0;break}a.gameSteamId&&(t[e.key][a.gameType][a.gameSteamId]||(t[e.key][a.gameType][a.gameSteamId]=[]),a.code?(t[e.key][a.gameType][a.gameSteamId].push(a.code),e.giveaways[a.code]=a):t[e.key][a.gameType][a.gameSteamId].push(a),o.push(a))}}s+=1,a=r.getElementsByClassName('pagination__navigation')[0]}while(!e.canceled&&!i&&a&&!a.lastElementChild.classList.contains('is-selected'));if('sent'===e.key&&n===esgst.username){for(let s in t.sent.apps)t.sent.apps[s].forEach(t=>{let s='string'==typeof t?esgst.giveaways[t]:t,n;if(s&&Array.isArray(s.winners)){for(n=s.winners.length-1;n>-1;n--){let e=s.winners[n];if('Received'!==e.status&&'Not Received'!==e.status)break}n>-1&&(s.code&&(e.giveaways[s.code]=s),o.push(s))}});for(let s in t.sent.subs)t.sent.subs[s].forEach(t=>{let s='string'==typeof t?esgst.giveaways[t]:t,n;if(s&&Array.isArray(s.winners)){for(n=s.winners.length-1;n>-1;n--){let e=s.winners[n];if('Received'!==e.status&&'Not Received'!==e.status)break}n>-1&&(s.code&&(e.giveaways[s.code]=s),o.push(s))}});let s=JSON.parse(getLocalValue('lpvCache',`{"games": {"apps":{},"subs":{}},"giveaways": [],"timestamp": ${Date.now()}}`));s.giveaways=[];for(let t=0,n=o.length;t<n;t++){let n=o[t];if(!n.code)continue;n.winners=[];let i=1,a=`/giveaway/${n.code}/_/winners/search?page=`,r;do{let e=await request({method:'GET',url:`${a}${i}`}),t=parseHtml(e.responseText);if(t.getElementsByClassName('table--summary')[0])break;let s=t.getElementsByClassName('table__row-inner-wrap');for(let e=0,t=s.length;e<t;e++){let t=s[e];n.winners.push({status:t.lastElementChild.textContent.trim(),username:t.firstElementChild.nextElementSibling.firstElementChild.textContent.trim()})}1===i&&(a=`${e.finalUrl}/search?page=`),i+=1,r=t.getElementsByClassName('pagination__navigation')[0]}while(!e.canceled&&r&&!r.lastElementChild.classList.contains('is-selected'));let l=0;n.winners.forEach(e=>{'Received'!==e.status&&(l+=1)}),l>0&&s.giveaways.push(n.code)}setLocalValue('lpvCache',JSON.stringify(s))}return t[`${e.key}Timestamp`]=e.timestamp,await lockAndSaveGiveaways(e.giveaways),t}function loadUgs(){if(esgst.createdPath){let e=createHeadingButton({id:'ugs',icons:['fa-gift','fa-send'],title:'Send unsent gifts'});e.addEventListener('click',openUgsPopup.bind(null,{button:e}))}else esgst.newTicketPath&&document.getElementsByClassName('form__submit-button')[0].addEventListener('click',saveUgsReroll.bind(null,document.querySelector('[name="category_id"]'),document.querySelector('[name="reroll_winner_id"]')))}async function saveUgsReroll(e,t){var s;'1'===e.value&&(id=t.value,id&&(s=JSON.parse(await getValue('rerolls'))).indexOf(id)<0&&(s.push(id),setValue('rerolls',JSON.stringify(s))))}function openUgsPopup(e){var t,s;e.popup||(e.popup=new Popup('fa-gift','Send unsent gifts:'),new ToggleSwitch(e.popup.description,'ugs_checkRules',!1,'Do not send if the winner has any not activated/multiple wins.',!1,!1,'The winners will be checked in real time.',esgst.ugs_checkRules),t=new ToggleSwitch(e.popup.description,'ugs_checkMember',!1,'Do not send if the winner is no longer a member of at least one of the groups for group giveaways.',!1,!1,'The winners will be checked in real time.',esgst.ugs_checkMember),s=new ToggleSwitch(e.popup.description,'ugs_checkDifference',!1,`Do not send if the winner has a gift difference lower than <input class="esgst-ugs-difference" step="0.1" type="number" value="${esgst.ugs_difference}"/>.`,!1,!1,'The winners will be checked in real time.',esgst.ugs_checkDifference),new ToggleSwitch(e.popup.description,'ugs_checkWhitelist',!1,'Do not send if the winner is not on your whitelist.',!1,!1,'You must sync your whitelist through the settings menu. Whitelisted winners get a pass for broken rules, so if this option is enabled and the winner is whitelisted, the gift will be sent regardless of whether or not the first option is enabled.',esgst.ugs_checkWhitelist),new ToggleSwitch(e.popup.description,'ugs_checkBlacklist',!1,'Do not send if the winner on your blacklist.',!1,!1,'You must sync your blacklist through the settings menu. If the winner is blacklisted, but is a member of one of the groups, the gift will be sent anyway.',esgst.ugs_checkBlacklist),esgst.ugs_checkMember||s.container.classList.add('esgst-hidden'),s.name.firstElementChild.addEventListener('change',setUgsDifference),t.dependencies.push(s.container),e.results=insertHtml(e.popup.scrollable,'beforeEnd','\n                <div class="esgst-hidden markdown">\n                    <ul>\n                        <li>\n                            <span class="esgst-bold">Successfully sent gifts to <span>0</span> winners:</span> <span></span>\n                        </li>\n                        <li>\n                            <span class="esgst-bold">Failed to send gifts to <span>0</span> winners (check the tooltips to find out the cause of the failures):</span> <span></span>\n                        </li>\n                    </ul>\n                </div>\n            '),e.sent=e.results.firstElementChild.firstElementChild,e.sentCount=e.sent.firstElementChild.firstElementChild,e.sentGifts=e.sent.lastElementChild,e.unsent=e.sent.nextElementSibling,e.unsentCount=e.unsent.firstElementChild.firstElementChild,e.unsentGifts=e.unsent.lastElementChild,e.popup.description.appendChild(new ButtonSet_v2({color1:'green',color2:'red',icon1:'fa-send',icon2:'fa-times-circle',title1:'Send',title2:'Cancel',callback1:startUgsSender.bind(null,e),callback2:cancelUgsSender.bind(null,e)}).set),e.progress=insertHtml(e.popup.description,'beforeEnd','<div></div>'),e.overallProgress=insertHtml(e.popup.description,'beforeEnd','<div></div>'),e.popup.description.appendChild(e.popup.scrollable)),e.popup.open()}function setUgsDifference(e){setSetting('ugs_difference',e.currentTarget.value)}async function startUgsSender(e){e.isCanceled=!1,e.giveaways=[],e.groups={},e.button.classList.add('esgst-busy'),e.results.classList.add('esgst-hidden'),e.sent.classList.add('esgst-hidden'),e.unsent.classList.add('esgst-hidden'),e.sentGifts.innerHTML=e.unsentGifts.innerHTML='',e.sentCount.textContent=e.unsentCount.textContent='0',e.progress.innerHTML=e.overallProgress.textContent='';let t=esgst.createdButton.getElementsByClassName('nav__notification')[0];if(!t)return e.button.classList.remove('esgst-busy'),void(e.progress.innerHTML='You do not have any unsent gifts.');e.count=parseInt(t.textContent);let s=[],n=1,i=null,a=!1;do{let t=null;if(a=!1,n===esgst.currentPage)t=document;else{if(document.getElementsByClassName(`esgst-es-page-${n}}`)[0]){a=!0;continue}t=parseHtml((await request({method:'GET',url:`/giveaways/created/search?page=${n}`})).responseText)}1===n&&(e.lastPage=getLastPage(t),e.lastPage=999999999===e.lastPage?'':` of ${e.lastPage}`),e.progress.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Searching for unsent gifts (page ${n}${e.lastPage})...</span>\n            `,e.continue=!1;let o=t.getElementsByClassName('table__row-outer-wrap');for(let t=0,n=o.length;t<n;t++){let n=o[t],i=n.getElementsByClassName('fa icon-red fa-warning')[0];if(i){let t=n.getElementsByClassName('table__column__heading')[0],a=t.getAttribute('href');s.push({code:a.match(/\/giveaway\/(.+?)\//)[1],context:i,name:t.firstChild.textContent.trim().match(/(.+?)(\s\(.+\sCopies\))?$/)[1],url:a}),e.continue=!0,e.count-=1}}i=t.getElementsByClassName('pagination__navigation')[0],n+=1}while(!e.isCanceled&&(e.count>0||e.continue)&&(a||i&&!i.lastElementChild.classList.contains('is-selected')));for(let t=0,n=s.length;!e.isCanceled&&t<n;t++){e.overallProgress.textContent=`${t} of ${n} giveaways checked...`;let i=s[t];e.giveaways[i.code]={code:i.code,context:i.context,name:i.name,url:i.url,winners:[]};let a=1,o=null;do{let t=parseHtml((await request({method:'GET',url:`${i.url}/winners/search?page=${a}`})).responseText);1===a&&(e.lastWinnersPage=getLastPage(t),e.lastWinnersPage=999999999===e.lastWinnersPage?'':` of ${e.lastWinnersPage}`),e.progress.innerHTML=`\n                    <i class="fa fa-circle-o-notch fa-spin"></i>\n                    <span>Retrieving winners (page ${a}${e.lastWinnersPage})...</span>\n                `;let s=t.getElementsByClassName('table__row-outer-wrap');for(let t=0,n=s.length;t<n;t++){let n=s[t];n.querySelector('.table__gift-not-sent:not(.is-hidden)')&&(e.giveaways[i.code].winners.push({username:n.getElementsByClassName('table__column__heading')[0].textContent,values:{},winnerId:n.querySelector('[name="winner_id"]').value}),e.count-=1)}e.giveaways[i.code].group||(e.giveaways[i.code].group=t.getElementsByClassName('featured__column--group')[0]),e.giveaways[i.code].whitelist||(e.giveaways[i.code].whitelist=t.getElementsByClassName('featured__column--whitelist')[0]),o=t.getElementsByClassName('pagination__navigation')[0],a+=1}while(!e.isCanceled&&o&&!o.lastElementChild.classList.contains('is-selected'));if(esgst.ugs_checkMember&&e.giveaways[i.code].group){e.giveaways[i.code].groups=[];let t=1,s=null;do{let n=parseHtml((await request({method:'GET',url:`${i.url}/groups/search?page=${t}`})).responseText);1===t&&(e.lastGroupsPage=getLastPage(n),e.lastGroupsPage=999999999===e.lastGroupsPage?'':` of ${e.lastGroupsPage}`),e.progress.innerHTML=`\n                        <i class="fa fa-circle-o-notch fa-spin"></i>\n                        <span>Retrieving groups (page ${t}${e.lastGroupsPage})...</span>\n                    `;let a=n.getElementsByClassName('table__row-outer-wrap');for(let t=0,s=a.length;t<s;t++){let s=a[t],n=s.getElementsByClassName('table__column__heading')[0],o=n.getAttribute('href').match(/\/group\/(.+?)\/(.+)/);e.giveaways[i.code].groups.push({avatar:s.getElementsByClassName('table_image_avatar')[0].style.backgroundImage.match(/\/avatars\/(.+)_medium/)[1],code:o[1],name:n.textContent,urlName:o[2]})}s=n.getElementsByClassName('pagination__navigation')[0],t+=1}while(!e.isCanceled&&s&&!s.lastElementChild.classList.contains('is-selected'))}}if(e.isCanceled)return;let o=Object.keys(e.giveaways),r=o.length;if(r>0){e.rerolls=JSON.parse(esgst.storage.rerolls),e.sentWinners={},e.winners={},e.results.classList.remove('esgst-hidden');for(let t=0;!e.isCanceled&&t<r;t++){e.overallProgress.textContent=`${t} of ${r} giveaways checked...`;let s=e.giveaways[o[t]];for(let t=0,n=s.winners.length;t<n;t++){let n=s.winners[t],i=await getUser(esgst.users,n);if(e.rerolls.indexOf(n.winnerId)>-1)n.error=`${n.username} is currently being rerolled.`;else{if(esgst.ugs_checkRules){e.progress.innerHTML=`\n                                <i class="fa fa-circle-o-notch fa-spin"></i>\n                                <span>Checking if ${n.username} has not activated/multiple wins...</span>\n                            `,n.values.namwc={lastCheck:Date.now(),results:{}},await checkNamwcNotActivated.call(e,n),await checkNamwcMultiple.call(e,n);let t=Array.isArray(n.values.namwc.results.notActivated)?n.values.namwc.results.notActivated.length:n.values.namwc.results.notActivated,s=Array.isArray(n.values.namwc.results.multiple)?n.values.namwc.results.multiple.length:n.values.namwc.results.multiple;t&&s?n.error=`${n.username} has ${t} not activated wins and ${s} multiple wins.`:t?n.error=`${n.username} has ${t} not activated wins.`:s&&(n.error=`${n.username} has ${s} multiple wins.`)}if(esgst.ugs_checkMember&&s.group&&!n.error){e.progress.innerHTML=`\n                                <i class="fa fa-circle-o-notch fa-spin"></i>\n                                <span>Checking if ${n.username} is a member of one of the groups...</span>\n                            `,await getSteamId(null,!1,esgst.users,n);let t=!1;for(let i=0,a=s.groups.length;i<a;i++){let a=s.groups[i],o=a.code;if(!e.groups[o]){let t;for(t=esgst.groups.length-1;t>-1&&esgst.groups[t].code!==o;t--);for(t<0&&(esgst.groups.push({avatar:a.avatar,code:o,name:a.name}),t=esgst.groups.length-1),esgst.groups[t].steamId||(esgst.groups[t].steamId=parseHtml((await request({method:'GET',url:`/group/${o}/`})).responseText).getElementsByClassName('sidebar__shortcut-inner-wrap')[0].firstElementChild.getAttribute('href').match(/\d+/)[0]),e.groups[o]=(await request({method:'GET',url:`http://steamcommunity.com/gid/${esgst.groups[t].steamId}/memberslistxml?xml=1`})).responseText.match(/<steamID64>.+?<\/steamID64>/g),t=e.groups[o].length-1;t>-1;t--)e.groups[o][t]=e.groups[o][t].match(/<steamID64>(.+?)<\/steamID64>/)[1]}if(e.groups[o].indexOf(n.steamId)<0)continue;if(!esgst.ugs_checkDifference){t=!0;break}e.progress.innerHTML=`\n                                    <i class="fa fa-circle-o-notch fa-spin"></i>\n                                    <span>Checking if ${n.username} has a gift difference higher than the one set...</span>\n                                `;let r=parseHtml((await request({method:'GET',url:`/group/${o}/${a.urlName}/users/search?q=${n.username}`})).responseText).getElementsByClassName('table__row-outer-wrap')[0];if(r&&r.getElementsByClassName('table__column__heading')[0].textContent===n.username){let e=parseFloat(r.getElementsByClassName('table__column--width-small')[2].textContent);if(e>=esgst.ugs_difference){t=!0;break}n.error=`${n.username} has a ${e} gift difference.`;break}}n.error||t||(n.error=`${n.username} is not a member of one of the groups.`)}esgst.ugs_checkWhitelist&&(n.error=i&&i.whitelisted?null:`${n.username} is not whitelisted.`),esgst.ugs_checkBlacklist&&i&&i.blacklisted&&!n.error&&(n.error=`${n.username} is blacklisted.`)}e.winners[n.username]||(e.winners[n.username]=[]),e.winners[n.username].indexOf(s.name)<0?n.error?(e.unsent.classList.remove('esgst-hidden'),e.unsentCount.textContent=parseInt(e.unsentCount.textContent)+1,e.unsentGifts.insertAdjacentHTML('beforeEnd',`\n                                <span>\n                                    <a href="/user/${n.username}">${n.username}</a> (<a href="${s.url}/winners">${s.name}</a>)\n                                    <i class="fa fa-question-circle" title="${n.error}"></i>\n                                </span>\n                            `)):e.isCanceled||(await request({data:`xsrf_token=${esgst.xsrfToken}&do=sent_feedback&action=1&winner_id=${n.winnerId}`,method:'POST',url:'/ajax.php'}),e.sentWinners[s.code]||(e.sentWinners[s.code]=[]),e.sent.classList.remove('esgst-hidden'),e.sentWinners[s.code].push(n.username),e.sentCount.textContent=parseInt(e.sentCount.textContent)+1,e.sentGifts.insertAdjacentHTML('beforeEnd',`\n                                <span>\n                                    <a href="/user/${n.username}">${n.username}</a> (<a href="${s.url}/winners">${s.name}</a>)\n                                </span>\n                            `),e.winners[n.username].push(s.name),document.body.contains(s.context)&&(s.context.className='fa fa-check-circle icon-green',s.context.nextElementSibling.textContent='Sent')):(e.unsent.classList.remove('esgst-hidden'),e.unsentCount.textContent=parseInt(e.unsentCount.textContent)+1,e.unsentGifts.insertAdjacentHTML('beforeEnd',`\n                            <span>\n                                <a href="/user/${n.username}">${n.username}</a> (<a href="${s.url}/winners">${s.name}</a>)\n                                <i class="fa fa-question-circle" title="${n.username} already won ${s.name} from another giveaway of yours"></i>\n                            </span>\n                        `))}}let t=JSON.parse(await getValue('winners','{}'));for(let s in e.sentWinners){t[s]||(t[s]=[]);for(let n=0,i=e.sentWinners[s].length;n<i;n++)t[s].push(e.sentWinners[s][n])}let s=[];for(let t in e.giveaways)for(let n=0,i=e.giveaways[t].winners.length;n<i;n++)s.push(e.giveaways[t].winners[n]);e.progress.innerHTML='\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Saving data...</span>\n            ',e.overallProgress.textContent='',await Promise.all([setValue('winners',JSON.stringify(t)),saveUsers(s),setValue('groups',JSON.stringify(esgst.groups))]),e.button.classList.remove('esgst-busy'),e.progress.innerHTML=''}else e.button.classList.remove('esgst-busy'),e.progress.innerHTML='You do not have any unsent gifts.'}function cancelUgsSender(e){e.isCanceled=!0,e.button.classList.remove('esgst-busy'),e.progress.innerHTML='',e.overallProgress.textContent=''}function addUhContainer(e){var t,s,n,i;i=(s=(t=(n=insertHtml(e.heading,'beforeEnd',`\n            <div class="esgst-uh-container">\n                <a class="esgst-uh-button" title="${getFeatureTooltip('uh','View username history')}">\n                    <i class="fa fa-caret-down"></i>\n                </a>\n                <div class="esgst-uh-box esgst-hidden">\n                    <div class="esgst-uh-title">\n                        <span>Username History</span>\n                        <a href="https://goo.gl/C2wjUh" target="_blank" title="Expand the database">\n                            <i class="fa fa-expand"></i>\n                        </a>\n                    </div>\n                    <ul class="esgst-uh-list"></ul>\n                </div>\n            </div>\n        `)).firstElementChild).nextElementSibling).lastElementChild,t.addEventListener('click',toggleUhBox.bind(null,s,e,i)),document.addEventListener('click',closeUhBox.bind(null,s,n))}async function toggleUhBox(e,t,s){e.classList.toggle('esgst-hidden'),s.innerHTML||(s.innerHTML='\n                <div>\n                    <i class="fa fa-circle-o-notch fa-spin"></i>\n                    <span>Loading username history...</span>\n                </div>\n            ',s.innerHTML=`<li>${JSON.parse((await request({method:'GET',url:`https://script.google.com/macros/s/AKfycbzvOuHG913mRIXOsqHIeAuQUkLYyxTHOZim5n8iP-k80iza6g0/exec?Action=1&SteamID64=${t.steamId}&Username=${t.username}`})).responseText).Usernames.join('</li><li>')}</li>`)}function closeUhBox(e,t,s){e.classList.contains('esgst-hidden')||t.contains(s.target)||e.classList.add('esgst-hidden')}function addUnButton(e,t){var s,n,i;esgst.sg?(n='beforeEnd',esgst.un_p&&((i=e.steamButtonContainer.getElementsByClassName('sidebar__shortcut__whitelist')[0])&&i.addEventListener('click',openUnPopup.bind(null,e)),(s=e.steamButtonContainer.getElementsByClassName('sidebar__shortcut__blacklist')[0])&&s.addEventListener('click',openUnPopup.bind(null,e)))):n='afterBegin',e.unButton=insertHtml(e.heading,n,`\n            <a class="esgst-un-button" title="${getFeatureTooltip('un','Edit user notes')}">\n                <i class="fa"></i>\n            </a>\n        `),e.unIcon=e.unButton.firstElementChild,t&&t.notes?e.unIcon.classList.add('fa-sticky-note'):e.unIcon.classList.add('fa-sticky-note-o'),e.unButton.addEventListener('click',openUnPopup.bind(null,e))}function openUnPopup(e){var t;e.unPopup=new Popup('fa-sticky-note',`Edit user notes for <span>${e.name}</span>:`,!0),e.unTextArea=insertHtml(e.unPopup.scrollable,'beforeEnd','\n            <textarea></textarea>\n        '),t=new ButtonSet_v2({color1:'green',color2:'grey',icon1:'fa-check',icon2:'fa-circle-o-notch fa-spin',title1:'Save',title2:'Saving...',callback1:saveUnNotes.bind(null,e)}),e.unTextArea.addEventListener('keydown',e=>{e.ctrlKey&&'Enter'===e.key&&t.trigger()}),e.unPopup.description.appendChild(t.set),e.unPopup.open(getUnNotes.bind(null,e))}async function saveUnNotes(e){let t=e.unTextArea.value.trim(),s={steamId:e.steamId,id:e.id,username:e.username,values:{notes:t}};t?(e.unIcon.classList.remove('fa-sticky-note-o'),e.unIcon.classList.add('fa-sticky-note')):(e.unIcon.classList.remove('fa-sticky-note'),e.unIcon.classList.add('fa-sticky-note-o')),await saveUser(null,null,s),e.unPopup.close()}async function getUnNotes(e){e.unTextArea.focus();let t,s=JSON.parse(await getValue('users')).users[e.steamId];if(s){let t=s.notes;t&&(e.unTextArea.value=t)}}async function getUsUsers(e,t){if(!t&&!e.closest('.esgst-wbs-popup'))return;e!==document&&t||e.getElementsByClassName('table__heading')[0].firstElementChild.insertAdjacentHTML('afterEnd','\n                <div class="table__column--width-small text-center">Last Online</div>\n                <div class="table__column--width-small text-center">Gifts Won</div>\n                <div class="table__column--width-small text-center">Gifts Sent</div>\n                <div class="table__column--width-small text-center">Ratio</div>\n                <div class="table__column--width-small text-center">Contributor Level</div>\n            ');let s={},n=e.getElementsByClassName('table__row-inner-wrap');for(let e=0,i=n.length;e<i;++e){let i=n[e];s[i.getElementsByClassName('table__column__heading')[0].textContent]=t&&i.firstElementChild.nextElementSibling||i.firstElementChild}let i=[];for(let e in s){let t=request({method:'GET',url:`/user/${e}`});t.then(loadUsStats.bind(null,s[e],e)),i.push(t)}Promise.all(i).then(sortTsTables)}function loadUsStats(e,t,s){var n,i,a,o,r,l;for(a=[],l={},o=0,r=(i=parseHtml(s.responseText).getElementsByClassName('featured__table__row__left')).length;o<r;++o)switch((n=i[o]).textContent){case'Last Online':a.push(`\n                        <div class="table__column--width-small text-center">${n.nextElementSibling.innerHTML}</div>\n                    `);break;case'Gifts Won':l.wonRow=n.parentElement,l.wonRowLeft=n,l.wonRowRight=n.nextElementSibling,rows=JSON.parse(l.wonRowRight.firstElementChild.firstElementChild.getAttribute('data-ui-tooltip')).rows,l.wonCount=parseInt(rows[0].columns[1].name.replace(/,/g,'')),l.wonFull=parseInt(rows[1].columns[1].name.replace(/,/g,'')),l.wonReduced=parseInt(rows[2].columns[1].name.replace(/,/g,'')),l.wonZero=parseInt(rows[3].columns[1].name.replace(/,/g,'')),cvrow=l.wonRowRight.firstElementChild.lastElementChild,rows=JSON.parse(cvrow.getAttribute('data-ui-tooltip')).rows,l.wonCV=parseFloat(cvrow.textContent.replace(/\$|,/g,'')),l.realWonCV=parseFloat(rows[0].columns[1].name.replace(/\$|,/g,'')),n.nextElementSibling.firstElementChild.firstElementChild.firstElementChild.removeAttribute('style'),a.push(`\n                        <div class="table__column--width-small text-center">${n.nextElementSibling.innerHTML}</div>\n                    `);break;case'Gifts Sent':l.sentRow=n.parentElement,l.sentRowLeft=n,l.sentRowRight=n.nextElementSibling,rows=JSON.parse(l.sentRowRight.firstElementChild.firstElementChild.getAttribute('data-ui-tooltip')).rows,l.sentCount=parseInt(rows[0].columns[1].name.replace(/,/g,'')),l.sentFull=parseInt(rows[1].columns[1].name.replace(/,/g,'')),l.sentReduced=parseInt(rows[2].columns[1].name.replace(/,/g,'')),l.sentZero=parseInt(rows[3].columns[1].name.replace(/,/g,'')),l.notSent=parseInt(rows[5].columns[1].name.replace(/,/g,'')),cvrow=l.sentRowRight.firstElementChild.lastElementChild,rows=JSON.parse(cvrow.getAttribute('data-ui-tooltip')).rows,l.sentCV=parseFloat(cvrow.textContent.replace(/\$|,/g,'')),l.realSentCV=parseFloat(rows[0].columns[1].name.replace(/\$|,/g,'')),n.nextElementSibling.firstElementChild.firstElementChild.firstElementChild.removeAttribute('style'),a.push(`\n                        <div class="table__column--width-small text-center">${n.nextElementSibling.innerHTML}</div>\n                    `);break;case'Contributor Level':addSwrRatio(l),a.push(`\n                        <div class="table__column--width-small text-center">${l.sentRow.nextElementSibling.lastElementChild.innerHTML}</div>\n                    `),a.push(`\n                        <div class="table__column--width-small text-center">${parseFloat(JSON.parse(n.nextElementSibling.firstElementChild.getAttribute('data-ui-tooltip')).rows[0].columns[1].name)}</div>\n                    `)}e.insertAdjacentHTML('afterEnd',a.join(''))}function loadUst(){if(esgst.ticketsPath)esgst.ustButton=createHeadingButton({id:'ust',icons:['fa-paper-plane'],title:'Send selected tickets to the User Suspension Tracker database'}),esgst.ustButton.addEventListener('click',sendUstTickets);else if(esgst.ticketPath&&document.getElementsByClassName('table__column--width-fill')[1].textContent.trim().match(/Did\sNot\sActivate\sPrevious\sWins\sThis\sMonth|Other|Multiple\sWins\sfor\sthe\sSame\sGame|Not\sActivating\sWon\sGift/)){let e,t;e=location.pathname.match(/\/ticket\/(.+?)\//)[1],(t=JSON.parse(esgst.storage.tickets))[e]&&t[e].sent||(esgst.ustButton=insertHtml(document.getElementsByClassName('page__heading')[0].lastElementChild,'beforeBegin',`\n                    <div class="esgst-heading-button" title="${getFeatureTooltip('ust','Send ticket to the User Suspension Tracker database')}">\n                        <i class="fa fa-paper-plane"></i>\n                    </div>\n                `),esgst.ustButton.addEventListener('click',sendUstTicket))}}async function sendUstTickets(e){esgst.ustButton.removeEventListener('click',sendUstTickets),esgst.ustButton.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>';let t=Object.keys(esgst.ustCheckboxes).length,s=0,n=[],i={data:''};for(let e in esgst.ustCheckboxes)n.push(checkUstTicket(e,i));await Promise.all(n);let a=JSON.parse((await request({data:i.data.slice(0,-1),method:'POST',url:'https://script.google.com/macros/s/AKfycbwdKNormCJs-hEKV0GVwawgWj1a26oVtPylgmxOOvNk1Gf17A/exec'})).responseText).error,o=JSON.parse(await getValue('tickets'));for(let e in esgst.ustCheckboxes)a.indexOf(e)<0?(o[e]||(o[e]={readComments:{}}),o[e].sent=1,esgst.numUstTickets-=1,esgst.ustCheckboxes[e].remove(),delete esgst.ustCheckboxes[e]):s+=1;await setValue('tickets',JSON.stringify(o)),t===esgst.numUstTickets?esgst.ustButton.remove():(esgst.ustButton.innerHTML='<i class="fa fa-paper-plane"></i>',esgst.ustButton.addEventListener('click',sendUstTickets)),esgst.ustCheckboxes=[],new Popup('',`${t-s} out of ${t} tickets sent! They will be analyzed and, if accepted, added to the database in 48 hours at most.${s>0?' Try sending the tickets that failed again later.':''}`,!0).open()}async function checkUstTicket(e,t){let s=parseHtml((await request({method:'GET',url:`/support/ticket/${e}/`})).responseText);s.getElementsByClassName('table__column--width-fill')[1].textContent.trim().match(/Did\sNot\sActivate\sPrevious\sWins\sThis\sMonth|Other|Multiple\sWins\sfor\sthe\sSame\sGame|Not\sActivating\sWon\sGift/)&&(t.data+=`${e}=${encodeURIComponent(s.getElementsByClassName('sidebar')[0].nextElementSibling.innerHTML.replace(/\n|\r|\r\n|\s{2,}/g,'').trim())}&`)}async function sendUstTicket(e){let t=location.href.match(/\/ticket\/(.+?)\//)[1],s;if(esgst.ustButton.removeEventListener('click',sendUstTicket),esgst.ustButton.innerHTML='<i class="fa fa-circle-o-notch fa-spin"></i>',0===JSON.parse((await request({data:`${t}=${encodeURIComponent(parseHtml((await request({method:'GET',url:location.href})).responseText).getElementsByClassName('sidebar')[0].nextElementSibling.innerHTML.replace(/\n|\r|\r\n|\s{2,}/g,'').trim())}`,method:'POST',url:'https://script.google.com/macros/s/AKfycbwdKNormCJs-hEKV0GVwawgWj1a26oVtPylgmxOOvNk1Gf17A/exec'})).responseText).error.length){let e=JSON.parse(await getValue('tickets'));e[t]||(e[t]={readComments:{}}),e[t].sent=1,await setValue('tickets',JSON.stringify(e)),esgst.ustButton.remove(),new Popup('','Ticket sent! It will be analyzed and, if accepted, added to the database in 48 hours at most.',!0).open()}else esgst.ustButton.innerHTML='<i class="fa fa-paper-plane"></i>',esgst.ustButton.addEventListener('click',sendUstTicket),new Popup('','An error ocurred. Please try again later.',!0).open()}function addUstCheckbox(e,t){if(!t.getElementsByClassName('esgst-ust-checkbox')[0]){t.classList.add('esgst-relative');let s=new Checkbox(t);s.checkbox.classList.add('esgst-ust-checkbox'),esgst.ustTickets[e]=s,s.onEnabled=(t=>{if(t)if(t.ctrlKey)for(let e in esgst.ustTickets)esgst.ustTickets[e].check();else if(t.altKey){s.toggle();for(let e in esgst.ustTickets)esgst.ustTickets[e].toggle()}esgst.ustCheckboxes[e]=s.checkbox}),s.onDisabled=(t=>{if(t)if(t.ctrlKey)for(let e in esgst.ustTickets)esgst.ustTickets[e].uncheck();else if(t.altKey){s.toggle();for(let e in esgst.ustTickets)esgst.ustTickets[e].toggle()}delete esgst.ustCheckboxes[e]}),esgst.numUstTickets+=1}}function addUtButton(e,t,s,n){var i;(i=e.parentElement).classList.contains('comment__username')&&(e=i),insertHtml(e,'afterEnd',`\n            <a class="esgst-ut-button esgst-faded" title="${getFeatureTooltip('ut','Edit user tags')}">\n                <i class="fa fa-tag"></i>\n                <span class="esgst-ut-tags"></span>\n            </a>\n        `).addEventListener('click',openUtPopup.bind(null,t,s,n))}function openUtPopup(e,t,s){var n,i;user={steamId:t,username:s},n=new Popup('fa-tag',`Edit user tags for <span>${e}</span>:`),i=new ButtonSet('green','grey','fa-check','fa-circle-o-notch fa-spin','Save','Saving...',saveUtTags.bind(null,e,n,user)),n.description.insertAdjacentHTML('beforeEnd','<div class="esgst-description">Drag the tags to move them.<br/><br/>When editing a tag color, it will also alter the color for all users with that tag (you have to refresh the page for it to take effect).</div>'),n.tags=insertHtml(n.description,'beforeEnd','<div class="esgst-ut-tags"></div>'),n.input=insertHtml(n.description,'beforeEnd','<input type="text"/>'),insertHtml(n.description,'beforeEnd','<i class="esgst-ut-existing-button esgst-clickable fa fa-list" title="Select from existing tags"></i>').addEventListener('click',showUtExistingTags.bind(null,n)),n.input.addEventListener('keydown',triggerSetOnEnter.bind(null,i)),n.input.addEventListener('input',createUtTags.bind(null,n)),n.description.insertAdjacentHTML('beforeEnd','<div class="esgst-description">Use commas to separate tags, for example: Tag1, Tag2, ...</div>'),n.description.appendChild(i.set),n.open(loadUtTags.bind(null,n,user))}async function showUtExistingTags(e){let t,s,n,i,a,o,r,l;for(t in n=new Popup('fa-list','Select from existing tags:',!0),r={},i=JSON.parse(await getValue('users')).users)(l=i[t].tags)&&l.forEach(e=>{r[e]||(r[e]=0),r[e]+=1});for(o in l=[],r)l.push({count:r[o],tag:o});s=insertHtml(n.scrollable,'beforeEnd','<div class="esgst-ut-existing-tags popup__keys__list"></div>'),a=[],(l=sortArrayByNumberKey(l,'count',!0)).forEach(e=>{let t,n;e=e.tag,n=insertHtml(s,'beforeEnd',`\n                <div>\n                    <span></span> ${e}\n                </div>\n            `),esgst.ut_colors[e]&&(n.style.color=esgst.ut_colors[e].color,n.style.backgroundColor=esgst.ut_colors[e].bgColor),(t=new Checkbox(n)).onEnabled=(()=>{a.push(e)}),t.onDisabled=(()=>{a.splice(a.indexOf(e),1)})}),n.description.appendChild(new ButtonSet('green','','fa-check','','Add Tags','',t=>{a.forEach(t=>{createUtTag(e,t)}),e.input.value=e.input.value?`${e.input.value}, ${a.join(', ')}`:a.join(', '),t(),n.close()}).set),n.open()}function createUtTags(e){var t,s,n;for(n=e.input.value.replace(/(,\s*)+/g,formatTags).split(', '),e.tags.innerHTML='',t=0,s=n.length;t<s;++t)createUtTag(e,n[t])}function createUtTag(e,t){var s,n,i,a,o,r,l,c,d,g;d=(g=(a=insertHtml(e.tags,'beforeEnd',`\n            <div class="esgst-ut-preview" draggable="true">\n                <div class="esgst-ut-tags">\n                    <span class="global__image-outer-wrap author_avatar is_icon">${t}</span>\n                </div>\n                <input class="esgst-hidden" type="text"/>\n                <input title="Set text color for this tag" type="color"/>\n                <input title="Set background color for this tag" type="color"/>\n                <i class="esgst-clickable fa fa-edit" title="Edit tag"></i>\n                <i class="esgst-clickable fa fa-trash" title="Delete tag"></i>\n                <i class="esgst-clickable fa fa-rotate-left" title="Reset tag color"></i>\n            </div>\n        `)).firstElementChild).firstElementChild,c=(o=(r=(s=(n=(l=g.nextElementSibling).nextElementSibling).nextElementSibling).nextElementSibling).nextElementSibling).nextElementSibling,(i=esgst.ut_colors[t])&&(n.value=d.style.color=i.color,s.value=d.style.backgroundColor=i.bgColor),a.addEventListener('dragstart',startUtDrag.bind(null,a,e)),a.addEventListener('dragenter',continueUtDrag.bind(null,a,e)),a.addEventListener('dragend',endUtDrag.bind(null,e)),l.addEventListener('keydown',editUtTag.bind(null,s,n,l,e,d,g)),n.addEventListener('change',saveUtColor.bind(null,n,'color','color',d)),s.addEventListener('change',saveUtColor.bind(null,s,'backgroundColor','bgColor',d)),r.addEventListener('click',showUtEdit.bind(null,l,d,g)),o.addEventListener('click',deleteUtTag.bind(null,a,e)),c.addEventListener('click',resetUtColor.bind(null,s,n,d))}function startUtDrag(e,t,s){s.dataTransfer.setData('text/plain',''),t.dragged=e}function continueUtDrag(e,t){var s;s=t.dragged;do{if((s=s.previousElementSibling)&&s===e)return void t.tags.insertBefore(t.dragged,e)}while(s);t.tags.insertBefore(t.dragged,e.nextElementSibling)}function endUtDrag(e){var t,s,n,i;for(i=[],s=0,n=(t=e.tags.children).length;s<n;++s)i.push(t[s].firstElementChild.firstElementChild.textContent);e.input.value=i.join(', ')}function editUtTag(e,t,s,n,i,a,o){var r,l,c,d;'Enter'===o.key&&(a.classList.remove('esgst-hidden'),s.classList.add('esgst-hidden'),c=i.textContent,d=s.value,i.textContent=d,(r=esgst.ut_colors[d])&&(t.value=i.style.color=r.color,e.value=i.style.backgroundColor=r.bgColor),endUtDrag(n))}function saveUtColor(e,t,s,n){var i;i=n.textContent,esgst.ut_colors[i]||(esgst.ut_colors[i]={bgColor:'',color:''}),esgst.ut_colors[i][s]=n.style[t]=e.value}function resetUtColor(e,t,s){e.value='',t.value='',s.style.backgroundColor='',s.style.color='',delete esgst.ut_colors[s.textContent]}function showUtEdit(e,t,s){s.classList.add('esgst-hidden'),e.classList.remove('esgst-hidden'),e.value=t.textContent,e.focus()}function deleteUtTag(e,t){e.remove(),endUtDrag(t)}async function saveUtTags(e,t,s,n){var i;1!==(i=t.input.value.replace(/(,\s*)+/g,formatTags).split(', ')).length||i[0].trim()||(i=''),s.values={tags:i},await saveUser(null,null,s),completeUtSave(e,t,i,n)}async function completeUtSave(e,t,s,n){await setSetting('ut_colors',esgst.ut_colors),addUtTags(e,s),n(),t.close()}async function loadUtTags(e,t){var s,n,i,a;if(i=await getUser(null,t),e.input.focus(),i&&(a=i.tags)){for(e.tags.innerHTML='',s=0,n=a.length;s<n;++s)createUtTag(e,a[s]);e.input.value=a.join(', ')}}function addUtTags(e,t){var s,n,i,a,o,r,l,c,d,g,u,h,m;for(r=esgst.currentUsers[e].elements,g='<span class="global__image-outer-wrap author_avatar is_icon">',u='</span>',l=t.length&&t[0]?`${g}${t.join(`</span>${g}`)}</span>`:'',c=0,d=r.length;c<d;++c)if(a=(o=r[c]).parentElement)for(a.classList.contains('comment__username')&&(o=a),s=o.parentElement.getElementsByClassName('esgst-ut-button')[0],l?s.classList.remove('esgst-faded'):s.classList.add('esgst-faded'),(m=s.lastElementChild).innerHTML=l,n=m.children,j=0,numTags=n.length;j<numTags;++j)h=n[j],(i=esgst.ut_colors[h.textContent])&&(h.style.color=i.color,h.style.backgroundColor=i.bgColor)}function getVaiImages(e){let t=e.querySelectorAll('.comment__toggle-attached, .view_attached');for(let e=0,s=t.length;e<s;e++){let s,n=t[e].nextElementSibling.firstElementChild,i=n.getAttribute('src');i&&esgst.vai_gifv&&(i=i.replace(/\.gifv/,'.gif'),n.setAttribute('src',i)),n.classList.remove('is_hidden','is-hidden')}}function loadWbc(){if(!esgst.mainPageHeading)return;let[e,t]=esgst.wbc_b?[['fa-heart','fa-ban','fa-question-circle'],'Check for whitelists/blacklists']:[['fa-heart','fa-question-circle'],'Check for whitelists'];esgst.wbcButton=createHeadingButton({id:'wbc',icons:e,title:t}),addWBCButton(!0,esgst.wbcButton)}function addWBCButton(e,t){var s,n,i,a,o,r;if(r={Update:!e,B:esgst.wbc_b,Username:esgst.username},a=new Popup(r.Update?'fa-cog':'fa-question',r.Update?'Manage Whitelist/Blacklist Checker caches:':`Check for whitelists${r.B?'/blacklists':''}:`),location.pathname.match(new RegExp(`^/user/(?!${r.Username})`))&&(r.User={Username:document.getElementsByClassName('featured__heading__medium')[0].textContent,ID:document.querySelector('[name="child_user_id"]').value,SteamID64:document.querySelector('a[href*="/profiles/"]').href.match(/\d+/)[0]}),a.Options=insertHtml(a.description,'beforeEnd','<div></div>'),r.User&&(i=new ToggleSwitch(a.Options,'wbc_checkSingle',!1,`Only check ${r.User?r.User.Username:'current user'}.`,!1,!1,'If disabled, all users in the current page will be checked.',esgst.wbc_checkSingle)),checkSelectedSwitch=new ToggleSwitch(a.Options,'wbc_checkSelected',!1,'Only check selected.',!1,!1,'To check only selected users in the page, enable the user selector at the left side of the Whitelist/Blacklist Checker button (same selector used for Multi-Tags) and select the users. Then come back here, enable this option if you haven\'t done so already and check.',esgst.wbc_checkSelected),r.B&&new ToggleSwitch(a.Options,'wbc_checkWhitelist',!1,'Also check whitelist.',!1,!1,'If disabled, a blacklist-only check will be performed (faster).',esgst.wbc_checkWhitelist),!r.Update&&!location.pathname.match(/^\/(discussions|users|archive)/)){s=new ToggleSwitch(a.Options,'wbc_checkAll',!1,'Check all pages.',!1,!1,'If disabled, only the current page will be checked.',esgst.wbc_checkAll);let e=(n=new ToggleSwitch(a.Options,'wbc_checkPages',!1,`Check only pages from <input class="esgst-switch-input" type="number" value="${esgst.wbc_minPage}"> to <input class="esgst-switch-input" type="number" value="${esgst.wbc_maxPage}">.`,!1,!1,null,esgst.wbc_checkPages)).name.firstElementChild,t=e.nextElementSibling,i=getLastPage(document,!0);999999999!==i&&t.setAttribute('max',i),observeNumChange(e,'wbc_minPage'),observeNumChange(t,'wbc_maxPage')}new ToggleSwitch(a.Options,'wbc_returnWhitelists',!1,'Return whitelists.',!1,!1,'If enabled, everyone who has whitelisted you will be whitelisted back.',esgst.wbc_returnWhitelists),r.B&&new ToggleSwitch(a.Options,'wbc_returnBlacklists',!1,'Return blacklists.',!1,!1,'If enabled, everyone who has blacklisted you will be blacklisted back.',esgst.wbc_returnBlacklists),new ToggleSwitch(a.Options,'wbc_checkNew',!1,`Only check users who have not whitelisted ${r.B?'/blacklisted':''} you.`,!1,!1,`If enabled, everyone who has whitelisted ${r.B?'/blacklisted':''} you will be ignored (might lead to outdated data if someone who had whitelisted ${r.B?'/blacklisted':''} you in the past removed you from those lists).`,esgst.wbc_checkNew),new ToggleSwitch(a.Options,'wbc_skipUsers',!1,`Skip users after <input class="esgst-ugs-difference" type="number" value="${esgst.wbc_pages}"/> pages.`,!1,!1,'If enabled, when a user check passes the number of pages specified, the user will be skipped.',esgst.wbc_skipUsers).name.firstElementChild.addEventListener('change',e=>{setSetting('wbc_pages',e.currentTarget.value),esgst.wbc_pages=e.currentTarget.value}),new ToggleSwitch(a.Options,'wbc_clearCache',!1,'Clear caches.',!1,!1,'If enabled, the caches of all checked users will be cleared (slower).',esgst.wbc_clearCache),(i||s||n)&&(i&&(s&&i.exclusions.push(s.container),n&&i.exclusions.push(n.container),i.exclusions.push(checkSelectedSwitch.container),checkSelectedSwitch.exclusions.push(i.container),esgst.wbc_checkSingle?(s&&s.container.classList.add('esgst-hidden'),n&&n.container.classList.add('esgst-hidden'),checkSelectedSwitch.container.classList.add('esgst-hidden')):esgst.wbc_checkSelected&&i.container.classList.add('esgst-hidden')),s&&(i&&s.exclusions.push(i.container),n&&s.exclusions.push(n.container),checkSelectedSwitch.exclusions.push(s.container),s.exclusions.push(checkSelectedSwitch.container),esgst.wbc_checkAll?(i&&i.container.classList.add('esgst-hidden'),n&&n.container.classList.add('esgst-hidden'),checkSelectedSwitch.container.classList.add('esgst-hidden')):esgst.wbc_checkSelected&&s.container.classList.add('esgst-hidden')),n&&(i&&n.exclusions.push(i.container),s&&n.exclusions.push(s.container),checkSelectedSwitch.exclusions.push(n.container),n.exclusions.push(checkSelectedSwitch.container),esgst.wbc_checkPages?(i&&i.container.classList.add('esgst-hidden'),s&&s.container.classList.add('esgst-hidden'),checkSelectedSwitch.container.classList.add('esgst-hidden')):esgst.wbc_checkSelected&&n.container.classList.add('esgst-hidden'))),a.Options.insertAdjacentHTML('afterEnd','<div class="esgst-description">If an user is highlighted, that means they have been either checked for the first time or updated.</div>'),a.description.appendChild(new ButtonSet('green','grey',r.Update?'fa-refresh':'fa-question-circle','fa-times-circle',r.Update?'Update':'Check','Cancel',function(e){r.ShowResults=!1,t.classList.add('esgst-busy'),setWBCCheck(r,o,function(){o.innerHTML='',t.classList.remove('esgst-busy'),e()})},function(){clearInterval(r.Request),clearInterval(r.Save),r.Canceled=!0,setTimeout(function(){r.Progress.innerHTML=''},500),t.classList.remove('esgst-busy')}).set),o=insertHtml(a.description,'beforeEnd','<div></div>'),r.Progress=insertHtml(a.description,'beforeEnd','<div></div>'),r.OverallProgress=insertHtml(a.description,'beforeEnd','<div></div>'),a.Results=insertHtml(a.scrollable,'beforeEnd','<div></div>'),createResults(a.Results,r,[{Icon:'<i class="fa fa-heart esgst-whitelist"></i> ',Description:'You are whitelisted by',Key:'whitelisted'},{Icon:'<i class="fa fa-ban esgst-blacklist"></i> ',Description:'You are blacklisted by',Key:'blacklisted'},{Icon:'<i class="fa fa-check-circle"></i> ',Description:r.B?'You are neither whitelisted nor blacklisted by':'You are not whitelisted by',Key:'none'},{Icon:'<i class="fa fa-question-circle"></i> ',Description:'You are not blacklisted and there is not enough information to know if you are whitelisted by',Key:'notBlacklisted'},{Icon:'<i class="fa fa-question-circle"></i> ',Description:`There is not enough information to know if you are whitelisted${r.B?' or blacklisted':''} by`,Key:'unknown'},{Icon:'<i class="fa fa-forward"></i> ',Description:'Skipped users',Key:'skipped'}]),t.addEventListener('click',function(){r.popup=a,a.open(function(){r.Update&&(r.ShowResults=!0,setWBCCheck(r,o))})})}async function setWBCCheck(e,t,s){var n,i,a,o;if(e.Progress.innerHTML=e.OverallProgress.innerHTML='',e.whitelisted.classList.add('esgst-hidden'),e.blacklisted.classList.add('esgst-hidden'),e.none.classList.add('esgst-hidden'),e.notBlacklisted.classList.add('esgst-hidden'),e.unknown.classList.add('esgst-hidden'),e.skipped.classList.add('esgst-hidden'),e.whitelistedCount.textContent=e.blacklistedCount.textContent=e.noneCount.textContent=e.notBlacklistedCount.textContent=e.unknownCount.textContent=e.skippedCount.textContent='0',e.whitelistedUsers.innerHTML=e.blacklistedUsers.innerHTML=e.noneUsers.innerHTML=e.notBlacklistedUsers.innerHTML=e.unknownUsers.innerHTML=e.skippedUsers.innerHTML='',e.Users=[],e.Canceled=!1,e.Update){for(i in(n=JSON.parse(await getValue('users'))).users)n.users[i].wbc&&n.users[i].wbc.result&&e.Users.push(n.users[i].username);if(e.Users=sortArray(e.Users),e.ShowResults)for(i=0,a=e.Users.length;i<a;++i){var r={steamId:n.steamIds[e.Users[i]],id:n.users[n.steamIds[e.Users[i]]].id,username:e.Users[i]};setWBCResult(e,r,n.users[n.steamIds[e.Users[i]]].wbc,n.users[n.steamIds[e.Users[i]]].notes,n.users[n.steamIds[e.Users[i]]].whitelisted,n.users[n.steamIds[e.Users[i]]].blacklisted,!1)}else t.appendChild(new ButtonSet('green','','fa-forward','','Skip User','',t=>{t(),e.manualSkip=!0}).set),checkWBCUsers(e,0,e.Users.length,s)}else if(e.User&&esgst.wbc_checkSingle)e.Users.push(e.User.Username),checkWBCUsers(e,0,1,s);else{if(esgst.wbc_checkSelected)e.Users=Array.from(esgst.mtUsers);else if(!esgst.wbc_checkPages)for(o in esgst.currentUsers)o!=e.Username&&e.Users.push(o);!esgst.wbc_checkAll&&!esgst.wbc_checkPages||(!e.User||esgst.wbc_checkSingle)&&e.User||e.Update||location.pathname.match(/^\/(discussions|users|archive)/)?(t.appendChild(new ButtonSet('green','','fa-forward','','Skip User','',t=>{t(),e.manualSkip=!0}).set),e.Users=sortArray(e.Users),checkWBCUsers(e,0,e.Users.length,s)):(e.lastPage=esgst.wbc_checkPages?`of ${esgst.wbc_maxPage}`:'',getWBCUsers(e,esgst.wbc_checkPages?esgst.wbc_minPage:1,esgst.currentPage,esgst.searchUrl,function(){t.appendChild(new ButtonSet('green','','fa-forward','','Skip User','',t=>{t(),e.manualSkip=!0}).set),e.Users=sortArray(e.Users),checkWBCUsers(e,0,e.Users.length,s)}))}}function skipWbcUser(e,t){e.manualSkip=!1,e.skipped.classList.remove('esgst-hidden'),e.skippedCount.textContent=parseInt(e.skippedCount.textContent)+1,e.skippedUsers.insertAdjacentHTML('beforeEnd',`<a href="/user/${t}">${t}</a>`)}async function checkWBCUsers(e,t,s,n){var i,a;if(!e.Canceled)if(e.Progress.innerHTML='',e.OverallProgress.textContent=`${t} of ${s} users checked...`,t<s)if(e.manualSkip)skipWbcUser(e,e.Users[t]),setTimeout(checkWBCUsers,0,e,++t,s,n);else{var o={steamId:(i=e.User&&esgst.wbc_checkSingle?e.User:{Username:e.Users[t]}).SteamID64,id:i.ID,username:i.Username},r,l,c,d;savedUser=await getUser(null,o),savedUser&&(r=savedUser.notes,l=savedUser.whitelisted,c=savedUser.blacklisted,d=savedUser.wbc),d&&d.result&&(a=d.result),d&&esgst.wbc_checkNew?setTimeout(setWBCResult,0,e,o,d,r,l,c,a!=d.result,t,s,n):checkWBCUser(e,d,o.username,function(i){i?setTimeout(setWBCResult,0,e,o,i,r,l,c,a!=i.result,t,s,n):(skipWbcUser(e,o.username),setTimeout(checkWBCUsers,0,e,++t,s,n))})}else n&&n()}async function setWBCResult(e,t,s,n,i,a,o,r,l,c){var d;e.Canceled||(d='blacklisted'!==s.result&&'notBlacklisted'!==s.result||e.B?s.result:'unknown',e[d].classList.remove('esgst-hidden'),e[`${d}Count`].textContent=parseInt(e[`${d}Count`].textContent)+1,e[`${d}Users`].insertAdjacentHTML('beforeEnd',`<a ${o?'class="esgst-bold esgst-italic" ':''}href="/user/${t.username}">${t.username}</a>`),e.ShowResults||(esgst.wbc_returnWhitelists&&'whitelisted'===s.result&&!i||e.B&&esgst.wbc_returnBlacklists&&'blacklisted'===s.result&&!a?t.id?returnWBCWhitelistBlacklist(e,s,t.username,t.id,n,async function(n,i){n&&(t.values={wbc:s,whitelisted:!1,blacklisted:!1},i&&(t.values.notes=i),t.values[s.result]=!0,t.values[`${s.result}Date`]=Date.now()),await saveUser(null,null,t),setTimeout(checkWBCUsers,0,e,++r,l,c)}):(await getUserId(t),returnWBCWhitelistBlacklist(e,s,t.username,t.id,n,async function(n,i){n&&(t.values={wbc:s,whitelisted:!1,blacklisted:!1},i&&(t.values.notes=i),t.values[s.result]=!0,t.values[`${s.result}Date`]=Date.now()),await saveUser(null,null,t),setTimeout(checkWBCUsers,0,e,++r,l,c)})):'whitelisted'===s.result||'blacklisted'===s.result||i||a?(t.values={wbc:s},await saveUser(null,null,t),setTimeout(checkWBCUsers,0,e,++r,l,c)):o?(t.values={wbc:null},await saveUser(null,null,t),setTimeout(checkWBCUsers,0,e,++r,l,c)):setTimeout(checkWBCUsers,0,e,++r,l,c)))}async function returnWBCWhitelistBlacklist(e,t,s,n,i,a){var o,r;if(!e.Canceled)if(r=(o=t.result).match(/(.+)ed/)[1],e.Progress.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Returning ${r} for ${s}...</span>\n            `,location.pathname.match(new RegExp(`^/user/${s}`))){if(document.getElementsByClassName(`sidebar__shortcut__${r}`)[0].click(),esgst.wbc_n){var l=`Returned ${r}.`;i=i?`${l}\n\n${i}`:l}a(!0,i)}else{var c=!1;if('success'===JSON.parse((await request({data:`xsrf_token=${esgst.xsrfToken}&do=${r}&child_user_id=${n}&action=insert`,method:'POST',queue:!0,url:'/ajax.php'})).responseText).type&&(c=!0,esgst.wbc_n)){var l=`${o} in return.`;i=i?`${l}\n\n${i}`:l}a(c,i)}}function checkWBCUser(e,t,s,n){let i;if(!e.Canceled)if(e.manualSkip)n();else{if(esgst.wbc_clearCache&&(t=null),t||(t={lastCheck:0,timestamp:0}),t.giveaway&&(i=t.giveaway.match(/\/giveaway\/(.+?)\//))&&(delete t.giveaway,t.ga=i[1]),t.whitelistGiveaway&&(i=t.whitelistGiveaway.match(/\/giveaway\/(.+?)\//))&&(delete t.whitelistGiveaway,t.wl_ga=i[1]),t.groupGiveaways){let e;for(e in t.groupGiveaways)(i=e.match(/^(.+?)\//))&&(t.g_wl_gas||(t.g_wl_gas={}),t.g_wl_gas[i[1]]=t.groupGiveaways[e],delete t.groupGiveaways[e]);0===Object.keys(t.groupGiveaways).length&&delete t.groupGiveaways}Date.now()-t.lastCheck>864e5||e.Update?(esgst.wbc_checkWhitelist||!e.B)&&(t.wl_ga||t.g_wl_ga)||!esgst.wbc_checkWhitelist&&e.B&&t.ga?(e.Timestamp=t.timestamp,checkWBCGiveaway(e,t,s,n)):(e.Timestamp=0,e.GroupGiveaways=[],getWBCGiveaways(e,t,s,1,(i=location.href.match(new RegExp(`/user/${s}(/search?page=(d+))?`)))?i[2]?parseInt(i[2]):1:0,`/user/${s}/search?page=`,n)):n(t)}}async function checkWBCGiveaway(e,t,s,n){if(!e.Canceled){var i,a=parseHtml((await request({method:'GET',queue:!0,url:`/giveaway/${t.wl_ga||t.g_wl_ga||t.ga}/`})).responseText).getElementsByClassName('table--summary')[0],o;if(a)(a=a.textContent).match(/blacklisted the giveaway creator/)?(t.result='notBlacklisted',o=!0):a.match(/blacklisted by the giveaway creator/)?t.result='blacklisted':a.match(/not a member of the giveaway creator's whitelist/)?t.result='none':t.result='notBlacklisted',t.lastCheck=Date.now(),t.timestamp=e.Timestamp,n(t,o);else if(t.wl_ga)t.result='whitelisted',t.lastCheck=Date.now(),t.timestamp=e.Timestamp,n(t,o);else if(t.g_wl_ga){let i,a,r,l,c;for(i=!1,a=JSON.parse(await getValue('groups','[]')),r=0,c=t.g_wl_gas[t.g_wl_ga].length;r<c&&!i;++r){for(l=a.length-1;l>-1&&a[l].code!==t.g_wl_gas[t.g_wl_ga][r];--l);l>-1&&a[l].member&&(i=!0)}if(i){e.Timestamp=0,e.GroupGiveaways=[];let i=location.href.match(new RegExp(`/user/${s}(/search?page=(d+))?`));getWBCGiveaways(e,t,s,1,i?i[2]?parseInt(i[2]):1:0,`/user/${s}/search?page=`,n)}else t.result='whitelisted',t.lastCheck=Date.now(),t.timestamp=e.Timestamp,n(t,o)}else t.result='notBlacklisted',t.lastCheck=Date.now(),t.timestamp=e.Timestamp,n(t,o)}}async function getWBCGiveaways(e,t,s,n,i,a,o,r){var l,c;if(!e.Canceled)if(!esgst.wbc_skipUsers||n-1<=esgst.wbc_pages){if(e.manualSkip)o();else if(r)2===n&&(e.lastPage=getLastPage(r,!1,!1,!0),e.lastPage=999999999===e.lastPage?'':` of ${e.lastPage}`),e.Progress.innerHTML=`\n                        <i class="fa fa-circle-o-notch fa-spin"></i>\n                        <span>Retrieving ${s}'s giveaways (page ${n-1}${e.lastPage})...</span>\n                    `,t.ga||(l=r.querySelector('[class="giveaway__heading__name"][href*="/giveaway/"]'),t.ga=l?l.getAttribute('href').match(/\/giveaway\/(.+?)\//)[1]:null),c=r.getElementsByClassName('pagination__navigation')[0],(l=r.getElementsByClassName('giveaway__summary')[0])&&0===e.Timestamp&&(e.Timestamp=parseInt(l.querySelector('[data-timestamp]').getAttribute('data-timestamp')),e.Timestamp>=(new Date).getTime()&&(e.Timestamp=0)),t.ga?checkWBCGiveaway(e,t,s,function(t,l){var d,g,u,h;if('notBlacklisted'!==t.result||l||!esgst.wbc_checkWhitelist&&e.B)o(t);else{for(d=r.getElementsByClassName('giveaway__column--whitelist'),g=0,u=d.length;g<u&&!t.wl_ga;++g)(h=d[g].parentElement.getElementsByClassName('giveaway__column--group')[0])?e.GroupGiveaways.push(h.getAttribute('href').match(/\/giveaway\/(.+?)\//)[1]):t.wl_ga=d[g].closest('.giveaway__summary').getElementsByClassName('giveaway__heading__name')[0].getAttribute('href').match(/\/giveaway\/(.+?)\//)[1];t.wl_ga?checkWBCGiveaway(e,t,s,o):(e.Timestamp>=t.timestamp||0===e.Timestamp)&&c&&!c.lastElementChild.classList.contains('is-selected')?setTimeout(getWBCGiveaways,0,e,t,s,n,i,a,o):t.g_wl_gas&&Object.keys(t.g_wl_gas).length||e.GroupGiveaways.length?getWBCGroupGiveaways(e,0,e.GroupGiveaways.length,t,s,async function(e,t){var s,n,i,a,r;if(e)if(t)o(e);else{for(h in s=JSON.parse(await getValue('groups','[]')),e.g_wl_gas){for(i=!1,n=e.g_wl_gas[h],g=0,u=n.length;g<u&&!i;++g){var l;for(l=s.length-1;l>=0&&s[l].code!==n[g];--l);l>=0&&s[l].member&&(i=!0)}if(!i){e.g_wl_ga=h;break}}i?o(e):(e.result='whitelisted',o(e))}else o()}):o(t)}}):(e.Timestamp>=t.timestamp||0===e.Timestamp)&&c&&!c.lastElementChild.classList.contains('is-selected')?setTimeout(getWBCGiveaways,0,e,t,s,n,i,a,o):(t.result='unknown',t.lastCheck=Date.now(),t.timestamp=e.Timestamp,o(t));else if(!e.Canceled)if(i!=n){let r=await request({method:'GET',queue:!0,url:a+n});r.finalUrl.match(/\/user\//)?setTimeout(getWBCGiveaways,0,e,t,s,++n,i,a,o,parseHtml(r.responseText)):(t.result='unknown',t.lastCheck=Date.now(),t.timestamp=e.Timestamp,o(t))}else setTimeout(getWBCGiveaways,0,e,t,s,++n,i,a,o,document)}else o()}function getWBCGroupGiveaways(e,t,s,n,i,a){e.Canceled||(t<s?e.manualSkip?a():(e.Progress.innerHTML=`\n                        <i class="fa fa-circle-o-notch"></i>\n                        <span>Retrieving ${i}'s group giveaways (${t+1} of ${s})...</span>\n                    `,n.groupGiveaways&&n.groupGiveaways[e.GroupGiveaways[t]]?setTimeout(getWBCGroupGiveaways,0,e,++t,s,n,i,a):getWBCGroups(e,`/giveaway/${e.GroupGiveaways[t]}/_/groups/search?page=`,1,n,i,function(n,o){n?o?a(n,o):setTimeout(getWBCGroupGiveaways,0,e,++t,s,n,i,a):a()})):a(n))}async function getWBCGroups(e,t,s,n,i,a){if(!e.Canceled)if(e.manualSkip)a();else{let m=await request({method:'GET',queue:!0,url:t+s});var o,r,l,c,d,g,u,h;if((c=(l=(r=parseHtml(o=m.responseText)).getElementsByClassName('table__column__heading')).length)>0){for(n.g_wl_gas||(n.g_wl_gas={}),d=t.match(/\/giveaway\/(.+?)\//)[1],n.g_wl_gas[d]||(n.g_wl_gas[d]=[]),g=0;g<c;++g)u=l[g].getAttribute('href').match(/\/group\/(.+?)\//)[1],n.g_wl_gas[d].indexOf(u)<0&&n.g_wl_gas[d].push(u);(h=r.getElementsByClassName('pagination__navigation')[0])&&!h.lastElementChild.classList.contains('is-selected')?setTimeout(getWBCGroups,0,e,1===s?`${m.finalUrl}/search?page=`:t,++s,n,i,a):a(n)}else n.result='none',a(n,!0)}}async function getWBCUsers(e,t,s,n,i,a){var o,r,l,c,d,g;if(!e.Canceled)if(a){for(e.lastPage||(e.lastPage=getLastPage(a,!0),e.lastPage=999999999===e.lastPage?'':` of ${e.lastPage}`),e.Progress.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Retrieving users (page ${t-1}${e.lastPage})...</span>\n            `,r=0,l=(o=a.querySelectorAll('a[href*="/user/"]')).length;r<l;++r)(c=o[r].getAttribute('href').match(/\/user\/(.+)/))&&(d=c[1],e.Users.indexOf(d)<0&&d!=e.Username&&d===o[r].textContent&&!o[r].closest('.markdown')&&e.Users.push(d));(g=a.getElementsByClassName('pagination__navigation')[0])&&!g.lastElementChild.classList.contains('is-selected')?setTimeout(getWBCUsers,0,e,t,s,n,i):i()}else e.Canceled||(!esgst.wbc_checkPages||t<=esgst.wbc_maxPage?s!=t?setTimeout(getWBCUsers,0,e,++t,s,n,i,parseHtml((await request({method:'GET',queue:!0,url:n+t})).responseText)):setTimeout(getWBCUsers,0,e,++t,s,n,i,document):i())}function addWblLinks(e){if(e.username!==esgst.username)return;let t=0,s=0;for(let e in esgst.users.users){let n=esgst.users.users[e];n.whitelisted?t+=1:n.blacklisted&&(s+=1)}esgst.sidebar.getElementsByClassName('sidebar__navigation')[0].insertAdjacentHTML('afterEnd',`\n            <h3 class="sidebar__heading">Manage Whitelist/Blacklist</h3>\n            <ul class="sidebar__navigation" title="${getFeatureTooltip('wbl')}">\n                <li class="sidebar__navigation__item">\n                    <a class="sidebar__navigation__item__link" href="/account/manage/whitelist">\n                        <div class="sidebar__navigation__item__name">Whitelist</div>\n                        <div class="sidebar__navigation__item__underline"></div>\n                        <div class="sidebar__navigation__item__count">${t}</div>\n                    </a>\n                </li>\n                <li class="sidebar__navigation__item">\n                    <a class="sidebar__navigation__item__link" href="/account/manage/blacklist">\n                        <div class="sidebar__navigation__item__name">Blacklist</div>\n                        <div class="sidebar__navigation__item__underline"></div>\n                        <div class="sidebar__navigation__item__count">${s}</div>\n                    </a>\n                </li>\n            </ul>\n        `)}function loadWbm(){if(!esgst.whitelistPath&&!esgst.blacklistPath)return;let e={};esgst.whitelistPath?(e.key='whitelist',e.name='Whitelist'):(e.key='blacklist',e.name='Blacklist'),e.button=createHeadingButton({id:'wbm',icons:['fa-arrow-up','fa-arrow-down','fa-trash'],title:`Manage ${e.key}`}),e.button.addEventListener('click',openWbmPopup.bind(null,e))}function openWbmPopup(e){e.popup||(e.popup=new Popup('fa-gear',`Manage ${e.name}:`),new ToggleSwitch(e.popup.description,'wbm_useCache',!1,'Use cache.',!1,!1,'Uses the cache created the last time you synced your whitelist/blacklist. This speeds up the process, but could lead to incomplete results if your cache isn\'t up-to-date.',esgst.wbm_useCache),new ToggleSwitch(e.popup.description,'wbm_clearTags',!1,`Only clear users who are tagged with these specific tags (separate with comma): <input class="esgst-switch-input esgst-switch-input-large" type="text" value="${esgst.wbm_tags.join(', ')}">`,!1,!1,'Uses the User Tags database to remove only users with the specified tags.',esgst.wbm_clearTags).name.firstElementChild.addEventListener('change',e=>{let t=e.currentTarget.value.replace(/(,\s*)+/g,formatTags).split(', ');setSetting('wbm_tags',t),esgst.wbm_tags=t}),e.input=insertHtml(e.popup.description,'beforeEnd','<input type="file"/>'),e.message=insertHtml(e.popup.description,'beforeEnd','<div class="esgst-description"></div>'),e.warning=insertHtml(e.popup.description,'beforeEnd','<div class="esgst-description esgst-warning"></div>'),e.popup.description.appendChild(new ButtonSet('green','grey','fa-arrow-up','fa-times','Import','Cancel',startWbmProcess.bind(null,e,importWbmList.bind(null,e)),cancelWbmProcess.bind(null,e)).set),e.popup.description.appendChild(new ButtonSet('green','grey','fa-arrow-down','fa-times','Export','Cancel',startWbmProcess.bind(null,e,exportWbmList.bind(null,e,[],1)),cancelWbmProcess.bind(null,e)).set),e.popup.description.appendChild(new ButtonSet('green','grey','fa-trash','fa-times','Clear','Cancel',startWbmProcess.bind(null,e,clearWbmList.bind(null,e,[],1)),cancelWbmProcess.bind(null,e)).set),e.results=insertHtml(e.popup.scrollable,'beforeEnd','<div></div>')),e.popup.open()}function startWbmProcess(e,t,s){createConfirmation('Are you sure you want to do this?',()=>{e.isCanceled=!1,e.button.classList.add('esgst-busy'),e.usernames=[],e.results.innerHTML='',t(completeWbmProcess.bind(null,e,s))},s)}function completeWbmProcess(e,t){e.button.classList.remove('esgst-busy'),t()}function cancelWbmProcess(e){e.isCanceled=!0,e.button.classList.remove('esgst-busy')}function importWbmList(e,t){let s=e.input.files[0];if(s){let n=new FileReader;n.readAsText(s),n.onload=(()=>{try{let s=JSON.parse(n.result);insertWbmUsers(e,s,0,s.length,t)}catch(s){createFadeMessage(e.warning,'Cannot parse file!'),t()}})}else createFadeMessage(e.warning,'No file was loaded!'),t()}async function insertWbmUsers(e,t,s,n,i){e.isCanceled||(e.message.innerHTML=`\n            <i class="fa fa-circle-o-notch fa-spin"></i>\n            <span>Importing list (${s} of ${n})...</span>\n        `,s<n?(await request({data:`xsrf_token=${esgst.xsrfToken}&do=${e.key}&action=insert&child_user_id=${t[s]}`,method:'POST',url:'/ajax.php'}),setTimeout(insertWbmUsers,0,e,t,++s,n,i)):(createFadeMessage(e.message,'List imported with success!'),i()))}async function exportWbmList(e,t,s,n){if(!e.isCanceled)if(esgst.wbm_useCache){let s,i,a;for(i in esgst.users.users)esgst.users.users[i][`${e.key}ed`]&&t.push(esgst.users.users[i].id);a=URL.createObjectURL(new Blob([JSON.stringify(t)])),(s=document.createElement('a')).download=`esgst_${e.key}_${(new Date).toISOString()}.json`,s.href=a,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(a),createFadeMessage(e.message,'List exported with success!'),n()}else{let i,a,o,r,l;for(e.message.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Retrieving list (page ${s})...</span>\n            `,i=(l=parseHtml((await request({method:'GET',url:`https://www.steamgifts.com/account/manage/${e.key}/search?page=${s}`})).responseText)).querySelectorAll('[name="child_user_id"]'),a=0,o=i.length;a<o;++a)t.push(i[a].value);if((r=l.getElementsByClassName('pagination__navigation')[0])&&!r.lastElementChild.classList.contains('is-selected'))setTimeout(exportWbmList,0,e,t,++s,n);else{let s,i;i=URL.createObjectURL(new Blob([JSON.stringify(t)])),(s=document.createElement('a')).download=`esgst_${e.key}_${(new Date).toISOString()}.json`,s.href=i,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(i),createFadeMessage(e.message,'List exported with success!'),n()}}}async function clearWbmList(e,t,s,n){if(!e.isCanceled)if(esgst.wbm_useCache){let s;for(s in esgst.users.users){let n=esgst.users.users[s];if(n[`${e.key}ed`])if(esgst.wbm_clearTags){if(n.tags){let s;for(s=n.tags.length-1;s>-1&&esgst.wbm_tags.indexOf(n.tags[s])<0;--s);s>-1&&(t.push(n.id),e.usernames.push(n.username))}}else t.push(n.id)}deleteWbmUsers(e,t,0,t.length,n)}else{let i,a,o,r,l,c;for(e.message.innerHTML=`\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span>Retrieving list (page ${s})...</span>\n            `,a=(c=parseHtml((await request({method:'GET',url:`https://www.steamgifts.com/account/manage/${e.key}/search?page=${s}`})).responseText)).querySelectorAll('[name="child_user_id"]'),o=0,r=a.length;o<r;++o)if(i=a[o],esgst.wbm_clearTags){let s,n;if(n=i.closest('.table__row-inner-wrap').getElementsByClassName('table__column__heading')[0].textContent,s=esgst.users.steamIds[n]){let a=esgst.users.users[s];if(a.tags){let s;for(s=a.tags.length-1;s>-1&&esgst.wbm_tags.indexOf(a.tags[s])<0;--s);s>-1&&(t.push(i.value),e.usernames.push(n))}}}else t.push(i.value);(l=c.getElementsByClassName('pagination__navigation')[0])&&!l.lastElementChild.classList.contains('is-selected')?setTimeout(clearWbmList,0,e,t,++s,n):deleteWbmUsers(e,t,0,t.length,n)}}async function deleteWbmUsers(e,t,s,n,i){e.isCanceled||(e.message.innerHTML=`\n            <i class="fa fa-circle-o-notch fa-spin"></i>\n            <span>Clearing list (${s} of ${n})...</span>\n        `,s<n?(await request({data:`xsrf_token=${esgst.xsrfToken}&do=${e.key}&action=delete&child_user_id=${t[s]}`,method:'POST',url:'/ajax.php'}),setTimeout(deleteWbmUsers,0,e,t,++s,n,i)):(createFadeMessage(e.message,'List cleared with success!'),e.results.innerHTML=`\n                <span class="esgst-bold">Users cleared (${e.usernames.length}):</span>\n                <span class="esgst-popup-actions"></span>\n            `,e.usernames.forEach(t=>{e.results.lastElementChild.insertAdjacentHTML('beforeEnd',`<a href="/user/${t}">${t}</a>`)}),i()))}function loadWbs(){if(!esgst.whitelistPath&&!esgst.blacklistPath)return;let[e,t,s]=esgst.whitelistPath?['whitelistedDate','whitelist','whitelisted']:['blacklistedDate','blacklist','blacklisted'],n={dateKey:e,icon:'fa-sort-amount-asc',key:t,saveKey:s,title:`Oldest to newest ${s} users:`};createHeadingButton({featureId:'wbs',id:'wbsAsc',icons:['fa-sort-amount-asc'],title:'Sort by added date from oldest to newest'}).addEventListener('click',sortWbsList.bind(n)),n={dateKey:e,icon:'fa-sort-amount-desc',isDescending:!0,key:t,saveKey:s,title:`Newest to oldest ${s} users:`},createHeadingButton({featureId:'wbs',id:'wbsDesc',icons:['fa-sort-amount-desc'],title:'Sort by added date from newest to oldest'}).addEventListener('click',sortWbsList.bind(n))}async function sortWbsList(){let e=JSON.parse(await getValue('users')).users,t=[];for(let s in e){let n=e[s];n[this.saveKey]&&(n.steamId=s,t.push(n))}t=sortArrayByNumberKey(t,this.dateKey,this.isDescending);let s=new Popup(this.icon,this.title,!0);s.popup.classList.add('esgst-wbs-popup');let n=insertHtml(s.scrollable,'beforeEnd','\n            <div class="esgst-text-left table">\n                <div class="table__heading">\n                <div class="table__column--width-fill">User</div>\n                <div class="table__column--width-small text-center">Added</div>\n                    <div class="table__column--width-small text-center">Remove</div>\n                </div>\n                <div class="table__rows"></div>\n            </div>\n        '),i=n.lastElementChild;t.forEach(e=>{let t=insertHtml(i,'beforeEnd',`\n                <div class="table__row-outer-wrap">\n                    <div class="table__row-inner-wrap">\n                        <div class="table__column--width-fill">\n                            <a class="table__column__heading" href="/user/${e.username}">${e.username}</a>\n                        </div>\n                        <div class="table__column--width-small text-center">${getTimestamp(e[this.dateKey]/1e3)}</div>\n                        <div class="table__column--width-small text-center">\n                            <div class="table__remove-default esgst-clickable">\n                                <i class="icon-red fa fa-times-circle"></i>\n                                <span class="table__column__secondary-link">Remove</span>\n                            </div>\n                            <div class="table__remove-loading esgst-hidden">\n                                <i class="fa fa-refresh fa-spin"></i> Removing...\n                            </div>\n                            <div class="table__remove-complete esgst-hidden">\n                                <i class="fa fa-times-circle"></i> Removed\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            `),s={dateKey:this.dateKey,key:this.key,saveKey:this.saveKey,user:e};s.removeButton=t.firstElementChild.lastElementChild.firstElementChild,s.removingButton=s.removeButton.nextElementSibling,s.removedButton=s.removingButton.nextElementSibling,s.removeButton.addEventListener('click',removeWbsMember.bind(s))}),s.open(),loadEndlessFeatures(n)}async function removeWbsMember(){this.removeButton.classList.add('esgst-hidden'),this.removingButton.classList.remove('esgst-hidden'),await request({data:`xsrf_token=${esgst.xsrfToken}&do=${this.key}&action=delete&child_user_id=${this.user.id}`,method:'POST',url:'/ajax.php'});let e=await createLock('userLock',300),t=JSON.parse(await getValue('users'));delete t.users[this.user.steamId][this.dateKey],delete t.users[this.user.steamId][this.saveKey],await setValue('users',JSON.stringify(t)),e(),this.removingButton.classList.add('esgst-hidden'),this.removedButton.classList.remove('esgst-hidden')}async function loadGiveawayFeatures(e,t,s,n){if(e.getAttribute&&e.getAttribute('data-rfi'))return;let i=await getGiveaways(e,t,null,!1,null,!1,n,s);if(t)for(let e=i.length-1;e>-1;--e)i[e].sortIndex=esgst.currentGiveaways.length,esgst.currentGiveaways.push(i[e]);else for(let e=i.length-1;e>-1;--e)i[e].sortIndex=esgst.popupGiveaways.length,esgst.popupGiveaways.push(i[e]);i.forEach(e=>{esgst.gf&&esgst.gf_s&&getGfGiveaways(e,t,s),!esgst.gb||t&&esgst.wonPath||getGbGiveaways(e,t),!esgst.gcl||t&&(esgst.createdPath||esgst.enteredPath||esgst.wonPath)||setGclButton(e),!esgst.gwc||t&&(esgst.createdPath||esgst.wonPath||esgst.newGiveawayPath)||addGwcChances(e,t,s),!esgst.gwr||t&&(esgst.createdPath||esgst.wonPath||esgst.newGiveawayPath)||addGwrRatios(e,t,s),!esgst.gp||t&&(esgst.createdPath||esgst.enteredPath||esgst.wonPath||esgst.giveawayPath||esgst.newGiveawayPath)||addGpButton(e,t,s),!esgst.elgb||t&&(esgst.elgb_p||esgst.createdPath||esgst.wonPath)||addElgbButtons(e,t,s),esgst.itadi&&t&&esgst.giveawayPath&&getItadiInfo(e),esgst.ugb&&addUgbButton(e,t),esgst.ochgb&&setOchgbButton(e,t)}),!esgst.gwl||(!(esgst.createdPath||esgst.enteredPath||esgst.wonPath||esgst.giveawayPath)||t)&&(esgst.giveawayPath||esgst.createdPath||esgst.enteredPath||esgst.wonPath)||addGwlLinks(i),esgst.cewgd&&t&&(esgst.createdPath||esgst.enteredPath||esgst.wonPath)&&getCewgdDetails(i),esgst.gv&&(t&&esgst.giveawaysPath||!t&&('gb'===s&&esgst.gv_gb||'ged'===s&&esgst.gv_ged||'ge'===s&&esgst.gv_ge))&&i.forEach(e=>setGvContainer(e,t)),esgst.ttec&&calculateTtecTime(i),(!t||esgst.giveawaysPath||esgst.userPath||esgst.groupPath)&&i.forEach(e=>reorderGiveaway(e)),esgst.ggl&&(0===esgst.ggl_index?getGglGiveaways(i):setGglButtons(i,t)),esgst.gas&&esgst[esgst.gas.autoKey]&&sortContent(i,esgst[esgst.gas.optionKey]),esgst.gf&&esgst.gf.filteredCount&&esgst[`gf_enable${esgst.gf.type}`]&&filterGfGiveaways(esgst.gf,!1,n),esgst.gfPopup&&esgst.gfPopup.filteredCount&&esgst[`gf_enable${esgst.gfPopup.type}`]&&filterGfGiveaways(esgst.gfPopup),esgst.gm_enable&&esgst.gmCheckboxes&&(enableGm(),enableGm(!0))}async function getGiveaways(e,t,s,n,i,a,o,r){var l,c,d,g,u,h,m;for(c=[],m=!n&&t&&(esgst.createdPath||esgst.enteredPath||esgst.wonPath)?'.giveaway__row-outer-wrap, .featured__outer-wrap--giveaway, .table:not(.table--summary) .table__row-outer-wrap':'.giveaway__row-outer-wrap, .featured__outer-wrap--giveaway',i?g=e:s?(g=e,i='data'):(g=document,i='giveaway'),d=(u=e.querySelectorAll(m)).length-1;d>-1;--d)(l=await getGiveawayInfo(u[d],g,null,null,t,s,a,o,r))&&c.push(l[i]);return c}async function getGiveawayInfo(e,t,s,n,i,a,o,r,l){var c,d,g,u,h,m,p,f,v,x,w,b,y,F,_;if((h={}).outerWrap=e,h.gameId=h.outerWrap.getAttribute('data-game-id'),(f=getGameInfo(h.outerWrap))&&(h.id=f.id,h.type=f.type,esgst.games&&esgst.games[h.type][h.id]))for(m=0,b=(x=['owned','wishlisted','hidden','ignored','previouslyEntered','previouslyWon','reducedCV','noCV']).length;m<b;++m)v=x[m],esgst.games[h.type][h.id]['previouslyEntered'===v?'entered':'previouslyWon'===v?'won':v]&&(h[v]=!0);if(h.outerWrap.classList.contains('table__row-outer-wrap')&&esgst.giveawayPath)return;if(h.innerWrap=h.outerWrap.querySelector('.giveaway__row-inner-wrap, .featured__inner-wrap, .table__row-inner-wrap'),h.avatar=h.outerWrap.querySelector('.giveaway_image_avatar, .featured_giveaway_image_avatar'),h.image=h.outerWrap.querySelector('.giveaway_image_thumbnail, .giveaway_image_thumbnail_missing, .global__image-outer-wrap--game-medium'),h.summary=h.innerWrap.querySelector('.giveaway__summary, .featured__summary, .table__column--width-fill'),'gb'===l)h.entered=h.outerWrap.getAttribute('data-entered');else if(esgst.giveawayPath&&i){var k;(k=t.getElementsByClassName('sidebar__entry-delete')[0])&&(h.entered=!k.classList.contains('is-hidden'))}else esgst.enteredPath&&i?h.entered=!0:h.entered=h.innerWrap.classList.contains('is-faded');if(h.headingName=h.innerWrap.querySelector('.giveaway__heading__name, .featured__heading__medium, .table__column__heading'),h.name=h.headingName.textContent,(w=h.name.match(/\s\((.+) Copies\)/))?(h.name=h.name.replace(w[0],''),h.copies=parseInt(w[1].replace(/,/g,'').match(/\d+/)[0])):h.copies=1,h.url=esgst.giveawayPath&&i&&!s?location.pathname:a||h.headingName.getAttribute('href'),h.url){if(!(w=h.url.match(/\/giveaway\/(.+?)(\/.+?)$/)))return;h.code=w[1]}if(h.pinned=h.outerWrap.closest('.pinned-giveaways__outer-wrap'),b=(_=h.innerWrap.querySelectorAll('.giveaway__heading__thin, .featured__heading__small')).length,h.points=0,b>0&&(b>1?(esgst.gch&&!h.pinned&&_[0].classList.add('esgst-bold','esgst-red'),h.copies=parseInt(_[0].textContent.replace(/,/g,'').match(/\d+/)[0]),h.pointsContainer=_[1],h.points=parseInt(_[1].textContent.match(/\d+/)[0])):(h.copies=1,h.pointsContainer=_[0],h.points=parseInt(_[0].textContent.match(/\d+/)[0]))),h.columns=h.innerWrap.querySelector('.giveaway__columns, .featured__columns'),!h.columns||esgst.archivePath&&i?h.started=!0:(h.endTimeColumn=h.columns.firstElementChild,h.endTimeColumn.classList.contains('esgst-ged-source')&&(h.sourceColumn=h.endTimeColumn,h.endTimeColumn=h.sourceColumn.nextElementSibling),h.startTimeColumn=h.columns.querySelector('.giveaway__column--width-fill.text-right, .featured__column--width-fill.text-right'),h.started=!h.endTimeColumn.textContent.match(/Begins/),h.endTime=1e3*parseInt(h.endTimeColumn.lastElementChild.getAttribute('data-timestamp')),h.ended=Boolean(h.deleted||h.endTime<Date.now()),h.startTime=1e3*parseInt(h.startTimeColumn.firstElementChild.getAttribute('data-timestamp')),(!i||!esgst.userPath||s&&'won'===n||o)&&(h.creatorContainer=h.startTimeColumn.lastElementChild,h.creator=h.creatorContainer.textContent),h.winners=h.columns.textContent.match(/No winners/)?0:h.copies),!h.endTime&&i&&(esgst.createdPath||esgst.enteredPath||esgst.wonPath)&&(h.endTime=h.innerWrap.querySelector('[data-timestamp]'),h.endTime?(h.endTimeColumn=h.endTime.parentElement,h.started=!h.endTimeColumn.textContent.match(/Begins/),h.deleted=h.endTimeColumn.parentElement.textContent.match(/Deleted/),h.endTime=1e3*parseInt(h.endTime.getAttribute('data-timestamp'))):h.endTime=0,h.ended=Boolean(h.deleted||h.endTime<Date.now())),h.ended||(h.winners=0),s?'sent'===n&&(h.creator=s):esgst.userPath&&i&&!o?h.creator=location.pathname.match(/^\/user\/(.+?)(\/.*)?$/)[1]:esgst.createdPath&&i&&(h.creator=esgst.username),esgst.createdPath&&i){var E=h.outerWrap.querySelector('.table__column--width-small.text-center:last-of-type');E&&(E.textContent.match(/Not\sReceived/)?h.notReceived=!0:E.textContent.match(/Received/)?h.received=!0:E.textContent.match(/Awaiting\sFeedback/)&&(h.awaitingFeedback=!0))}if(h.created=h.creator===esgst.username,esgst.uf&&esgst.giveawaysPath&&i&&(y=await getUser(esgst.users,{username:h.creator}))){if(F=y.uf,esgst.uf_g&&y.blacklisted&&!F)return updateUfCount(h.outerWrap.parentElement.nextElementSibling),void h.outerWrap.remove();if(F&&F.giveaways)return updateUfCount(h.outerWrap.parentElement.nextElementSibling),void h.outerWrap.remove()}if(esgst.gf&&esgst.gf_s&&i){var S=esgst.giveaways[h.code];if((esgst.giveawaysPath||esgst.groupPath)&&S&&S.hidden&&S.code)return void h.outerWrap.remove()}if(h.links=h.innerWrap.getElementsByClassName('giveaway__links')[0],h.links?(h.links.classList.add('esgst-giveaway-links'),h.entriesLink=h.links.firstElementChild,h.commentsLink=h.entriesLink.nextElementSibling):(h.entriesLink=t.getElementsByClassName('sidebar__navigation__item__count')[1],h.commentsLink=t.getElementsByClassName('sidebar__navigation__item__count')[0]),h.entriesLink&&h.commentsLink&&(h.entries=parseInt(h.entriesLink.textContent.replace(/,/g,'').match(/\d+/)[0]),h.comments=parseInt(h.commentsLink.textContent.replace(/,/g,'').match(/\d+/)[0])),h.panel=h.innerWrap.getElementsByClassName('esgst-giveaway-panel')[0],!h.panel&&(esgst.gwc||esgst.gwr||esgst.gp||esgst.elgb||esgst.cewgd)&&(h.links?h.panel=insertHtml(h.links,'afterEnd','\n                    <div class="giveaway__columns esgst-giveaway-panel"></div>\n                    <div style="clear: both;"></div>\n                '):h.columns?h.panel=insertHtml(h.columns,'afterEnd','<div class="featured__columns esgst-giveaway-panel"></div>'):esgst.enteredPath&&(esgst.gwc||esgst.gwr)&&(h.panel=insertHtml(h.innerWrap.firstElementChild.nextElementSibling,'afterEnd','<div class="table__column--width-small text-center esgst-giveaway-panel"></div>'))),h.elgbPanel=h.panel,!h.entriesLink){var C=h.panel||(esgst.gm_enable&&esgst.createdPath?h.innerWrap.firstElementChild.nextElementSibling.nextElementSibling:h.innerWrap.firstElementChild.nextElementSibling);C.nextElementSibling&&(h.entries=parseInt(C.nextElementSibling.textContent.replace(/,/g,'')))}h.levelColumn=h.outerWrap.querySelector('.giveaway__column--contributor-level, .featured__column--contributor-level'),h.level=h.levelColumn?parseInt(h.levelColumn.textContent.match(/\d+/)[0]):0,h.inviteOnly=h.outerWrap.querySelector('.giveaway__column--invite-only, .featured__column--invite-only'),h.regionRestricted=h.outerWrap.querySelector('.giveaway__column--region-restricted, .featured__column--region-restricted'),h.group=h.outerWrap.querySelector('.giveaway__column--group, .featured__column--group'),h.whitelist=h.outerWrap.querySelector('.giveaway__column--whitelist, .featured__column--whitelist'),h.public=!(h.inviteOnly||h.regionRestricted||h.group||h.whitelist),i&&esgst.giveawayPath||(h.inviteOnly&&(h.inviteOnly.innerHTML='<i class="fa fa-lock"></i>'),h.group&&(h.group.innerHTML='<i class="fa fa-user"></i>'),h.whitelist&&(h.whitelist.innerHTML='<i class="fa fa-heart"></i>')),g=e.getElementsByClassName('esgst-gwc')[0],h.chance=g?parseFloat(g.getAttribute('data-chance')):0,h.chancePerPoint=Math.round(h.chance/h.points*100)/100;var A=h.outerWrap.getElementsByClassName('table__gift-feedback-awaiting-reply')[0],k;(esgst.rrbp&&A&&A.addEventListener('click',openRrbp.bind(null,h)),h.blacklist=h.outerWrap.getAttribute('data-blacklist'),h.error=h.outerWrap.getAttribute('data-error'),i)&&(!esgst.gr||h.creator!==esgst.username||!(esgst.gr_a||h.ended&&(0===h.entries||h.entries<h.copies))||esgst.gr_r&&esgst.giveaways[h.code]&&esgst.giveaways[h.code].recreated||h.headingName.parentElement.getElementsByClassName('esgst-gr-button')[0]||(k=insertHtml(h.headingName,'beforeBegin',`\n                    <div class="esgst-gr-button" title="${getFeatureTooltip('gr','Recreate giveaway')}">\n                        <i class="fa fa-rotate-left"></i>\n                    </div>\n                `)).firstElementChild.addEventListener('click',recreateGrGiveaway.bind(null,k,h)));let T=h.innerWrap.querySelector('.giveaway__hide, .featured__giveaway__hide');if((!i||r)&&T&&!T.classList.contains('fa-eye')){T.classList.contains('featured__giveaway__hide')&&(T=T.parentElement);let e=T.previousElementSibling;T.outerHTML=`\n                <i class="fa fa-eye-slash giveaway__hide giveaway__icon" title="${getFeatureTooltip(null,'Hide all giveaways for this game')}"></i>\n            `,(T=e.nextElementSibling).addEventListener('click',hideGame.bind(null,T,h.gameId,h.name))}if((!i||esgst.giveawaysPath||esgst.userPath||esgst.groupPath)&&(h.endTimeColumn&&h.endTimeColumn.setAttribute('data-columnId','endTime'),h.startTimeColumn&&(h.startTimeColumn.setAttribute('data-columnId','startTime'),esgst.userPath&&i&&h.startTimeColumn.previousElementSibling.setAttribute('data-columnId','winners')),h.inviteOnly&&h.inviteOnly.setAttribute('data-columnId','inviteOnly'),h.whitelist&&h.whitelist.setAttribute('data-columnId','whitelist'),h.group&&h.group.setAttribute('data-columnId','group'),h.regionRestricted&&h.regionRestricted.setAttribute('data-columnId','regionRestricted'),h.levelColumn&&h.levelColumn.setAttribute('data-columnId','level'),h.sourceColumn&&h.sourceColumn.setAttribute('data-columnId','ged'),!esgst.lockGiveawayColumns)){if(h.columns)for(let e=h.columns.children.length-1;e>-1;e--){let t=h.columns.children[e];t.setAttribute('draggable',!0),t.addEventListener('dragstart',setGiveawaySource.bind(null,h)),t.addEventListener('dragenter',getGiveawaySource.bind(null,h,!1)),t.addEventListener('dragend',saveGiveawaySource.bind(null,h))}h.columns&&h.columns.addEventListener('dragenter',getGiveawaySource.bind(null,h,!1)),h.panel&&h.panel.addEventListener('dragenter',getGiveawaySource.bind(null,h,!0))}return{giveaway:h,data:{gameId:h.gameId,gameSteamId:h.id,gameType:h.type,gameName:h.name,code:h.code,copies:h.copies,points:h.points,endTime:h.endTime,startTime:h.startTime,started:h.started,creator:h.creator,winners:h.winners,entries:h.entries,comments:h.comments,level:h.level,inviteOnly:!!h.inviteOnly,regionRestricted:!!h.regionRestricted,group:!!h.group,whitelist:!!h.whitelist}}}function reorderGiveaway(e){e.columns&&(e.gvIcons?esgst.giveawayColumns_gv:esgst.giveawayColumns).forEach(t=>{let s=e.outerWrap.querySelector(`[data-columnId="${t}"]`);s&&((e.gvIcons||e.columns).appendChild(s),t.match(/^elgb|gp|ttec$/)&&s.classList.add('esgst-giveaway-column-button'))}),e.panel&&(e.gvIcons?esgst.giveawayPanel_gv:esgst.giveawayPanel).forEach(t=>{let s=e.outerWrap.querySelector(`[data-columnId="${t}"]`);s&&(e.panel.appendChild(s),t.match(/^elgb|gp|ttec$/)&&s.classList.remove('esgst-giveaway-column-button'))})}function setGiveawaySource(e,t){t.dataTransfer.setData('text/plain',''),e.sourceItem=t.currentTarget,e.newSourceItem=null,e.newSourcePos=0,e.columnSource=!1,e.panelSource=!1,setTimeout(()=>{e.gvIcons&&e.gvIcons.children.length<1?(e.gvIcons.style.height='25px',e.gvIcons.style.width='100%'):e.columns&&e.columns.children.length<1&&(e.columns.style.height='25px',e.columns.style.width='100%')},0)}function getGiveawaySource(e,t,s){if(!e.sourceItem)return;if(t)return void(e.panel.children.length<1&&(e.panel.appendChild(e.sourceItem),e.sourceItem.getAttribute('data-columnId').match(/^elgb|gp|ttec$/)&&e.sourceItem.classList.remove('esgst-giveaway-column-button'),e.panelSource=!0));let n=s.currentTarget;if(n===e.sourceItem)return;if(n===e.gvIcons)return void(e.gvIcons.children.length<1&&(e.gvIcons.appendChild(e.sourceItem),e.sourceItem.getAttribute('data-columnId').match(/^elgb|gp|ttec$/)&&e.sourceItem.classList.add('esgst-giveaway-column-button'),e.columnSource=!0));if(n===e.columns)return void(e.columns.children.length<1&&(e.columns.appendChild(e.columns),e.sourceItem.getAttribute('data-columnId').match(/^elgb|gp|ttec$/)&&e.sourceItem.classList.add('esgst-giveaway-column-button'),e.columnSource=!0));let i=e.sourceItem;do{if((i=i.previousElementSibling)&&i===n)return n.parentElement.insertBefore(e.sourceItem,n),n.getAttribute('data-columnId').match(/^elgb|gp|ttec$/)&&(n.parentElement===e.columns||n.parentElement===e.gvIcons?n.classList.add('esgst-giveaway-column-button'):n.classList.remove('esgst-giveaway-column-button')),e.newSourceItem=n,void(e.newSourcePos=0)}while(i);n.parentElement.insertBefore(e.sourceItem,n.nextElementSibling),n.getAttribute('data-columnId').match(/^elgb|gp|ttec$/)&&(n.parentElement===e.columns||n.parentElement===e.gvIcons?n.classList.add('esgst-giveaway-column-button'):n.classList.remove('esgst-giveaway-column-button')),e.newSourceItem=n,e.newSourcePos=1}async function saveGiveawaySource(e){let[t,s]=e.gvIcons?['giveawayColumns_gv','giveawayPanel_gv']:['giveawayColumns','giveawayPanel'];if(e.panelSource){let n=esgst[t].indexOf(e.sourceItem.getAttribute('data-columnId'));n>-1&&esgst[t].splice(n,1),esgst[s].push(e.sourceItem.getAttribute('data-columnId'))}else if(e.columnSource){let n=esgst[s].indexOf(e.sourceItem.getAttribute('data-columnId'));n>-1&&esgst[s].splice(n,1),esgst[t].push(e.sourceItem.getAttribute('data-columnId'))}else if(e.newSourceItem){let n=esgst[t].indexOf(e.sourceItem.getAttribute('data-columnId')),i=esgst[s].indexOf(e.sourceItem.getAttribute('data-columnId'));if(e.newSourceItem.parentElement===e.columns||e.newSourceItem.parentElement===e.gvIcons)if(n>-1){let s=esgst[t].splice(n,1)[0];esgst[t].splice(esgst[t].indexOf(e.newSourceItem.getAttribute('data-columnId'))+e.newSourcePos,0,s)}else{let n=esgst[s].splice(i,1)[0];esgst[t].splice(esgst[t].indexOf(e.newSourceItem.getAttribute('data-columnId'))+e.newSourcePos,0,n)}else if(n>-1){let i=esgst[t].splice(n,1)[0];esgst[s].splice(esgst[s].indexOf(e.newSourceItem.getAttribute('data-columnId'))+e.newSourcePos,0,i)}else{let t=esgst[s].splice(i,1)[0];esgst[s].splice(esgst[s].indexOf(e.newSourceItem.getAttribute('data-columnId'))+e.newSourcePos,0,t)}}e.sourceItem=null,e.newSourceItem=null,e.newSourcePos=0,e.columnSource=!1,e.panelSource=!1,e.gvIcons&&(e.gvIcons.style.height='',e.gvIcons.style.width=''),e.columns&&(e.columns.style.height='',e.columns.style.width=''),await setSetting(t,esgst[t]),await setSetting(s,esgst[s])}async function loadDiscussionFeatures(e,t,s,n){let i=await getDiscussions(e,t);for(let e=i.length-1;e>-1;--e)i[e].sortIndex=esgst.currentDiscussions.length,esgst.currentDiscussions.push(i[e]);t&&!esgst.discussionsPath||(esgst.df&&esgst.df.filteredCount&&esgst[`df_enable${esgst.df.type}`]&&filterDfDiscussions(esgst.df,!1,n),esgst.ds&&esgst.ds_auto&&sortContent(i,esgst.ds_option))}async function getDiscussions(e,t){let s=[],n=e.getElementsByClassName('table__row-outer-wrap');for(let e=n.length-1;e>-1;--e){let i=await getDiscussionInfo(n[e],t);i&&s.push(i)}if(t&&esgst.discussionPath){let e={code:location.pathname.match(/^\/discussion\/(.+?)\//)[1],heading:document.getElementsByClassName('page__heading__breadcrumbs')[0],headingContainer:document.getElementsByClassName('page__heading')[0]};e.title=e.heading.getElementsByTagName('H1')[0].textContent.trim(),checkVersion(e),e.category=e.heading.firstElementChild.nextElementSibling.nextElementSibling.textContent,s.push(e)}return s.forEach(e=>{let s=esgst.discussions[e.code];if(esgst.codb&&e.author===esgst.username&&!e.heading.parentElement.getElementsByClassName('esgst-codb-button')[0]&&(e.closed&&(e.closed.remove(),e.closed=!0),new Button(e.headingContainer.firstElementChild,'beforeBegin',{callbacks:[closeCodbDiscussion.bind(null,e),null,openCodbDiscussion.bind(null,e),null],className:'esgst-codb-button',icons:['fa-lock esgst-clickable','fa-circle-o-notch fa-spin','fa-lock esgst-clickable esgst-red','fa-circle-o-notch fa-spin'],index:e.closed?2:0,titles:['Close discussion','Closing discussion...','Open discussion','Opening discussion...']})),esgst.df&&esgst.df_s&&!e.heading.parentElement.getElementsByClassName('esgst-df-button')[0]&&new Button(e.headingContainer.firstElementChild,'beforeBegin',{callbacks:[hideDfDiscussion.bind(null,e,t),null,unhideDfDiscussion.bind(null,e,t),null],className:'esgst-df-button',icons:['fa-eye-slash esgst-clickable','fa-circle-o-notch fa-spin','fa-eye esgst-clickable','fa-circle-o-notch fa-spin'],index:s&&s.hidden?2:0,titles:['Hide discussion','Hiding discussion...','Unhide discussion','Unhiding discussion...']}),esgst.dh&&!e.heading.parentElement.getElementsByClassName('esgst-dh-button')[0]){let n=t&&esgst.discussionPath?e.heading:e.outerWrap,i=0;s&&s.highlighted&&(highlightDhDiscussion(e.code,n),esgst.dh_t&&t&&esgst.discussionsPath&&e.outerWrap.parentElement.insertBefore(e.outerWrap,e.outerWrap.parentElement.firstElementChild),i=2),new Button(e.heading.parentElement,'afterBegin',{callbacks:[highlightDhDiscussion.bind(null,e.code,n,!0),null,unhighlightDhDiscussion.bind(null,e.code,n,!0),null],className:'esgst-dh-button',icons:['fa-star-o esgst-clickable','fa-circle-o-notch fa-spin','fa-star esgst-clickable','fa-circle-o-notch fa-spin'],index:i,titles:['Click to highlight this discussion','Highlighting discussion...','Click to unhighlight this discussion','Unhighlighting discussion...']})}if(esgst.pm&&(esgst.pm_a||'Puzzles'===e.category)){let n=t&&esgst.discussionPath?e.headingContainer:e.outerWrap;n.getElementsByClassName('esgst-pm-button')[0]||(n.classList.add('esgst-relative'),new Button(n,'afterBegin',{callbacks:[changePmStatus.bind(null,e.code,'unsolved'),null,changePmStatus.bind(null,e.code,'in progress'),null,changePmStatus.bind(null,e.code,'solved'),null,changePmStatus.bind(null,e.code,'off'),null],className:'esgst-pm-button',icons:['fa-circle-o esgst-clickable esgst-grey','fa-circle-o-notch fa-spin','fa-times-circle esgst-clickable esgst-red','fa-circle-o-notch fa-spin','fa-exclamation-circle esgst-clickable esgst-orange','fa-circle-o-notch fa-spin','fa-check-circle esgst-clickable esgst-green','fa-circle-o-notch fa-spin'],index:['off','','unsolved','','in progress','','solved'].indexOf(s&&s.status||'off'),titles:['Current status is \'off\', click to change to \'unsolved\'','Changing status...','Current status is \'unsolved\', click to change to \'in progress\'','Changing status...','Current status is \'in progress\', click to change to \'solved\'','Changing status...','Current status is \'solved\', click to change to \'off\'','Changing status...']}))}}),s}async function checkVersion(e){if('TDyzv'===e.code&&(esgst.checkVersion&&esgst.discussionPath||esgst.checkVersionMain&&!esgst.discussionPath)){let t=e.title.match(/v(.+?)\s/)[1];t!==esgst.version&&t!==await getValue('dismissedVersion')&&notifyNewVersion(t)}}async function getDiscussionInfo(e,t){var s,n,i,a;if(!e.closest('.poll')&&((n={}).outerWrap=e,n.innerWrap=n.outerWrap.getElementsByClassName('table__row-inner-wrap')[0],n.avatarColumn=n.innerWrap.firstElementChild,n.avatarColumn&&(n.avatar=n.avatarColumn.firstElementChild,n.avatar&&(n.headingColumn=n.avatarColumn.nextElementSibling,n.headingContainer=n.headingColumn.firstElementChild,n.headingContainer&&(n.closed=n.headingContainer.getElementsByClassName('fa-lock')[0],n.heading=n.headingContainer.lastElementChild,n.info=n.headingContainer.nextElementSibling,n.heading&&(n.title=n.heading.textContent,n.url=n.heading.getAttribute('href'),n.url&&(s=n.url.match(/discussion\/(.+?)\//)))))))){if(n.code=s[1],checkVersion(n),!(t&&esgst.df&&esgst.df_s&&esgst.discussions[n.code]&&esgst.discussions[n.code].hidden)){if(esgst.discussions[n.code]&&(n.highlighted=esgst.discussions[n.code].highlighted,n.visited=esgst.discussions[n.code].visited),n.categoryContainer=n.info.firstElementChild,n.category=n.categoryContainer.textContent,n[n.category.replace(/\W/g,'').replace(/^(.)/,(e,t)=>t.toLowerCase())]=!0,n.createdContainer=n.categoryContainer.nextElementSibling,n.createdContainer&&(n.createdTime=n.createdContainer.textContent,n.createdTimestamp=1e3*parseInt(n.createdContainer.getAttribute('data-timestamp')),esgst.giveawaysPath?n.author=n.avatar.getAttribute('href').match(/\/user\/(.+)/)[1]:n.author=n.createdContainer.nextElementSibling.textContent),n.created=n.author===esgst.username,n.poll=n.outerWrap.getElementsByClassName('fa-align-left')[0],n.headingColumn&&(n.commentsColumn=n.headingColumn.nextElementSibling,n.commentsColumn&&(n.comments=parseInt(n.commentsColumn.firstElementChild.textContent.replace(/,/g,'')))),n.lastPost=n.outerWrap.getElementsByClassName('table__column--last-comment')[0],n.lastPost&&n.lastPost.firstElementChild&&(n.lastPostTime=n.lastPost.firstElementChild.firstElementChild,n.lastPostAuthor=n.lastPostTime.nextElementSibling,n.lastPostCode=n.lastPostAuthor.lastElementChild.getAttribute('href').match(/\/comment\/(.+)/)[1],n.lastPostAuthor=n.lastPostAuthor.firstElementChild.textContent,n.lastPostTime=n.lastPostTime.firstElementChild,n.lastPostTimestamp=n.lastPostTime.getAttribute('data-timestamp'),n.lastPostTime=n.lastPostTime.textContent),esgst.uf&&(i=await getUser(esgst.users,{username:n.author}))){if(a=i.uf,esgst.uf_d&&i.blacklisted&&!a)return esgst.giveawaysPath||updateUfCount(n.outerWrap.parentElement.parentElement.nextElementSibling),void n.outerWrap.remove();if(a&&a.discussions)return esgst.giveawaysPath||updateUfCount(n.outerWrap.parentElement.parentElement.nextElementSibling),void n.outerWrap.remove()}return n}n.outerWrap.remove()}}async function loadCommentFeatures(e,t){var s,n,i,a,o;if(n=await getComments(e,document,t),t)for(i=0,a=n.length;i<a;++i)n[i].index=i,esgst.currentComments.push(n[i]);esgst.ct&&getCtComments(s=!t||esgst.inboxPath?0:(s=e.getElementsByClassName('page__heading__breadcrumbs')[1])?parseInt(s.firstElementChild.textContent.replace(/,/g,'').match(/\d+/)):0,n),esgst.rfi&&(esgst.inboxPath||t||esgst.mr||getMrRfiButtons(e,t),!esgst.rfi_s||t&&!esgst.inboxPath||e.getAttribute&&e.getAttribute('data-rfi')||await getRfiReplies(n,t)),esgst.ged&&esgst.addGedIcons(n,t)}async function getComments(e,t,s){var n,i,a,o,r,l;for(i=[],l=JSON.parse(await getValue('users')),o=e.querySelectorAll(':not(.comment--submit) > .comment__parent, .comment__child, .comment_inner'),r=t.querySelector('.page__heading__breadcrumbs a[href*="/giveaway/"], .page__heading__breadcrumbs a[href*="/discussion/"], .page__heading__breadcrumbs a[href*="/ticket/"], .page_heading_breadcrumbs a[href*="/trade/"]'),a=o.length-1;a>=0;--a)(n=await getCommentInfo(o[a],r,l,s))&&i.push(n);return i}async function getCommentInfo(e,t,s,n){var i,a,o,r;if((i={}).comment=e,i.author=i.comment.querySelector('.comment__author, .author_name').textContent.trim(),esgst.uf&&s){var l=await getUser(s,{username:i.author});if(l){var c=l.uf,d,g;if(esgst.uf_p&&l.blacklisted&&!c)return d=i.comment.closest('.comments'),void(!n||esgst.inboxPath?(updateUfCount(d.parentElement.nextElementSibling),i.comment.parentElement.remove(),d.children.length||(d.previousElementSibling.remove(),d.remove())):(g=i.comment.nextElementSibling?i.comment.nextElementSibling.children.length:0,updateUfCount(d.nextElementSibling,g),i.comment.parentElement.remove()));if(c&&c.posts)return d=i.comment.closest('.comments'),updateUfCount(i.comment.closest('.comments').nextElementSibling),void(!n||esgst.inboxPath?(updateUfCount(d.parentElement.nextElementSibling),i.comment.parentElement.remove(),d.children.length||(d.previousElementSibling.remove(),d.remove())):(g=i.comment.nextElementSibling?i.comment.nextElementSibling.children.length:0,updateUfCount(d.nextElementSibling,g),i.comment.parentElement.remove()))}}if(i.summary=i.comment.querySelector('.comment__summary','.comment_inner'),i.displayState=i.comment.querySelector('.comment__display-state, .comment_body_default'),i.actions=i.comment.querySelector('.comment__actions, .action_list'),(o=(a=i.actions.querySelectorAll('[href*="/comment/"]')).length)>0&&(i.permalink=a[o-1]),i.id=i.permalink?i.permalink.getAttribute('href').match(/\/comment\/(.+)/)[1]:'',i.timestamp=parseInt(i.actions.firstElementChild.lastElementChild.getAttribute('data-timestamp')),!n||esgst.inboxPath)if(esgst.sg)try{r=i.comment.closest('.comments').previousElementSibling.firstElementChild.firstElementChild.getAttribute('href')}catch(e){}else r=i.actions.querySelector('[href*="/trade/"]').getAttribute('href');else t&&(r=t.getAttribute('href'));if(r)return r=r.match(/(giveaway|discussion|ticket|trade)\/(.+?)(\/.*)?$/),i.type=`${r[1]}s`,i.code=r[2],i}function loadProfileFeatures(e){var t,s,n,i,a,o,r,l,c,d,g;for(d={},esgst.sg?(d.heading=e.getElementsByClassName('featured__heading')[0],o=e.querySelector('[name="child_user_id"]'),d.id=o?o.value:'',d.username=d.heading.textContent.replace(/\s[\s\S]*/,''),d.steamButtonContainer=e.getElementsByClassName('sidebar__shortcut-outer-wrap')[0],d.steamButton=d.steamButtonContainer.querySelector('[href*="/profiles/"]'),d.steamId=d.steamButton.getAttribute('href').match(/\d+/)[0],d.name=d.username):(d.heading=esgst.mainPageHeading,d.id='',d.username='',d.steamButtonContainer=e.getElementsByClassName('profile_links')[0],d.steamButton=d.steamButtonContainer.querySelector('[href*="/profiles/"]'),d.steamId=d.steamButton.getAttribute('href').match(/\d+/)[0],d.name=d.steamId),a=(i=e.getElementsByClassName('featured__table__row__left')).length-1;a>=0;--a)(l=(n=i[a]).textContent.match(/(Gifts (Won|Sent)|Contributor Level)/))&&((r=l[2])?'Won'===r?(d.wonRow=n.parentElement,d.wonRowLeft=n,d.wonRowRight=n.nextElementSibling,g=JSON.parse(d.wonRowRight.firstElementChild.firstElementChild.getAttribute('data-ui-tooltip')).rows,d.wonCount=parseInt(g[0].columns[1].name.replace(/,/g,'')),d.wonFull=parseInt(g[1].columns[1].name.replace(/,/g,'')),d.wonReduced=parseInt(g[2].columns[1].name.replace(/,/g,'')),d.wonZero=parseInt(g[3].columns[1].name.replace(/,/g,'')),s=d.wonRowRight.firstElementChild.lastElementChild,g=JSON.parse(s.getAttribute('data-ui-tooltip')).rows,d.wonCV=parseFloat(s.textContent.replace(/\$|,/g,'')),d.realWonCV=parseFloat(g[0].columns[1].name.replace(/\$|,/g,''))):(d.sentRow=n.parentElement,d.sentRowLeft=n,d.sentRowRight=n.nextElementSibling,g=JSON.parse(d.sentRowRight.firstElementChild.firstElementChild.getAttribute('data-ui-tooltip')).rows,d.sentCount=parseInt(g[0].columns[1].name.replace(/,/g,'')),d.sentFull=parseInt(g[1].columns[1].name.replace(/,/g,'')),d.sentReduced=parseInt(g[2].columns[1].name.replace(/,/g,'')),d.sentZero=parseInt(g[3].columns[1].name.replace(/,/g,'')),d.notSent=parseInt(g[5].columns[1].name.replace(/,/g,'')),s=d.sentRowRight.firstElementChild.lastElementChild,g=JSON.parse(s.getAttribute('data-ui-tooltip')).rows,d.sentCV=parseFloat(s.textContent.replace(/\$|,/g,'')),d.realSentCV=parseFloat(g[0].columns[1].name.replace(/\$|,/g,''))):(d.levelRow=n.parentElement,d.levelRowLeft=n,d.levelRowRight=n.nextElementSibling,g=JSON.parse(d.levelRowRight.firstElementChild.getAttribute('data-ui-tooltip')).rows,d.level=parseFloat(g[0].columns[1].name)));d.whitelistButton=d.steamButtonContainer.getElementsByClassName('sidebar__shortcut__whitelist')[0],d.blacklistButton=d.steamButtonContainer.getElementsByClassName('sidebar__shortcut__blacklist')[0],d.whitelistButton&&esgst.updateWhitelistBlacklist&&d.whitelistButton.addEventListener('click',updateWhitelistBlacklist.bind(null,'whitelisted',d)),d.blacklistButton&&esgst.updateWhitelistBlacklist&&d.blacklistButton.addEventListener('click',updateWhitelistBlacklist.bind(null,'blacklisted',d));let u=esgst.users.users[d.steamId];esgst.uh&&addUhContainer(d),esgst.un&&addUnButton(d,u),esgst.uf&&addUfButton(d,u),esgst.sgc&&addSgcButton(d),esgst.rwscvl&&addRwscvlLinks(d,u),esgst.ugd&&addUgdButtons(d),esgst.namwc&&setNamwcPopup.call({button:insertHtml(d.wonRowLeft,'beforeEnd',`\n                    <span class="esgst-namwc-button">\n                        <i class="fa fa-question-circle" title="${getFeatureTooltip('namwc','Check for not activated/multiple wins')}"></i>\n                    </span>\n                `),user:{id:d.id,steamId:d.steamId,username:d.username}}),esgst.nrf&&addNrfButton(d,u),esgst.swr&&addSwrRatio(d),esgst.luc&&calculateLucValue(d),esgst.sgpb&&esgst.userPath&&addSgpbButton(d),esgst.stpb&&addStpbButton(d),esgst.wbl&&esgst.userPath&&addWblLinks(d)}function loadUserFeatures(e){let t=e.querySelectorAll('a[href*=\'/user/\']'),s=!1;for(let e=t.length-1;e>-1;e--){let n=t[e],i=n.getAttribute('href').match(/\/user\/(.+)/);if(!i)continue;let a=i[1],o;if((!esgst.sg||n.textContent!==a)&&(esgst.sg||!n.textContent||n.children.length)||n.closest('.markdown'))continue;if(!esgst.currentUsers[a]){esgst.currentUsers[a]={elements:[]};let e=esgst.sg?esgst.users.steamIds[a]:a;esgst.currentUsers[a].savedUser=esgst.users.users[e],esgst.currentUsers[a].savedUser&&(esgst.currentUsers[a].steamId=e)}for(o=esgst.currentUsers[a].elements.length-1;o>-1&&esgst.currentUsers[a].elements[o]!==n;o--);if(o>-1)continue;esgst.currentUsers[a].elements.push(n);let r=esgst.currentUsers[a].savedUser,l=n.parentElement,c=l.classList.contains('comment__username')?l:n;if(r){let e='';if(esgst.namwc&&esgst.namwc_h&&r.namwc&&r.namwc.results&&!c.parentElement.querySelector('.esgst-namwc-highlight, .esgst-namwc-icon')){let t=r.namwc.results,s=null,i=null;if(t.activated&&(t.notMultiple||esgst.namwc_h_m)?(s='positive',i='fa-thumbs-up'):t.unknown?(s='unknown',i='fa-warning'):(s='negative',i='fa-thumbs-down'),('positive'===s||'unknown'===s)&&!esgst.namwc_h_f||'negative'===s){let a=`${r.username} has ${t.unknown?'?':Array.isArray(t.notActivated)?t.notActivated.length:t.notActivated} not activated wins and ${Array.isArray(t.multiple)?t.multiple.length:t.multiple} multiple wins (last checked ${getTimestamp(r.namwc.lastCheck/1e3)})`;esgst.namwc_h_i||esgst.wbh&&(esgst.wbh_w||esgst.wbh_b)?e+=`\n                                <span class="esgst-namwc-icon esgst-user-icon" title="${getFeatureTooltip('namwc',a)}">\n                                    <i class="fa ${i} esgst-${s}"></i>\n                                </span>\n                            `:(n.classList.add('esgst-namwc-highlight',`esgst-${s}`),n.title=getFeatureTooltip('namwc',a))}}if(esgst.wbc&&esgst.wbc_h&&r.wbc&&!c.parentElement.getElementsByClassName('esgst-wbc-icon')[0]){let t=r.wbc.result;('whitelisted'===t||'blacklisted'===t&&esgst.wbc_b)&&(e+=`\n                            <span class="esgst-wbc-icon esgst-user-icon" title="${getFeatureTooltip('wbc',`${r.username} has ${t} you (last checked ${getTimestamp(r.wbc.lastCheck/1e3)})`)}">\n                                <i class="fa ${'whitelisted'===t?'fa-check esgst-whitelist':'fa-times esgst-blacklist'}"></i>\n                            </span>\n                        `)}if(esgst.wbh&&(r.whitelisted||r.blacklisted)&&!c.parentElement.querySelector('.esgst-wbh-highlight, .esgst-wbh-icon')){let[t,s]=r.whitelisted?['fa-heart sidebar__shortcut__whitelist','whitelisted']:['fa-ban sidebar__shortcut__blacklist','blacklisted'],i=`You ${s} ${r.username} on ${getTimestamp(r[`${s}Date`]/1e3)}`;esgst.wbh_w&&r.whitelisted||esgst.wbh_b&&r.blacklisted?(n.classList.add('esgst-wbh-highlight',`esgst-wbh-highlight-${s}`),n.title=getFeatureTooltip('wbh',i)):e+=`\n                            <span class="esgst-wbh-icon esgst-user-icon" title="${getFeatureTooltip('wbh',i)}">\n                                <i class="fa ${t} esgst-${s.slice(0,-2)}"></i>\n                            </span>\n                        `}e&&insertHtml(c,'beforeBegin',e),esgst.ut&&!c.parentElement.getElementsByClassName('esgst-ut-button')[0]&&(addUtButton(c,a,esgst.currentUsers[a].steamId,r.username),r.tags&&addUtTags(a,r.tags))}else esgst.ut&&!c.parentElement.getElementsByClassName('esgst-ut-button')[0]&&addUtButton(c,a,esgst.sg?null:a,esgst.sg?a:null);esgst.ap&&!n.classList.contains('esgst-ap-avatar')[0]&&setApAvatar(n),s||(s=!0)}s&&(esgst.wbcButton||esgst.mtUserButton)&&e===document&&!esgst.aboutPath&&(esgst.wbcButton&&(esgst.wbcButton.classList.remove('esgst-hidden'),esgst.wbcButton.parentElement.classList.remove('esgst-hidden')),esgst.mtUserButton&&(esgst.mtUserButton.classList.remove('esgst-hidden'),esgst.mtUserButton.parentElement.classList.remove('esgst-hidden')))}async function loadGameFeatures(e,t,s,n){let i,a=getGames(e,t,JSON.parse(await getValue('games')));if(t){let e=!1;for(let t in a.apps)esgst.currentGames.apps[t]||(esgst.currentGames.apps[t]=[]),a.apps[t].forEach(s=>{e=!0,esgst.currentGames.apps[t].push(s)});for(let t in a.subs)esgst.currentGames.subs[t]||(esgst.currentGames.subs[t]=[]),a.subs[t].forEach(s=>{e=!0,esgst.currentGames.subs[t].push(s)});e&&esgst.mtGameButton&&(esgst.mtGameButton.classList.remove('esgst-hidden'),esgst.mtGameButton.parentElement.classList.remove('esgst-hidden'))}esgst.gc&&(!esgst.menuPath||esgst.gbPath||esgst.gedPath||esgst.gePath)&&getGcGames(a,n)}function getGames(e,t,s){var n,i,a,o,r,l,c,d,g,u,h;for(i={apps:{},subs:{}},esgst.discussionPath&&t?(u='.featured__outer-wrap--giveaway, .giveaway__row-outer-wrap, .table__row-outer-wrap, .markdown table td',g='.featured__heading, .giveaway__heading, .table__column__heading, a'):(u='.featured__outer-wrap--giveaway, .giveaway__row-outer-wrap, .table__row-outer-wrap',g='.featured__heading, .giveaway__heading, .table__column__heading'),o=0,d=(c=e.querySelectorAll(u)).length;o<d;++o)if((n={container:c[o]}).columns=n.container.querySelector('.giveaway__columns, .featured__columns'),n.table=!!n.container.closest('table'),n.grid=n.container.closest('.esgst-gv-view'),n.grid&&(n.gvIcons=n.container.getElementsByClassName('esgst-gv-icons')[0]),l=getGameInfo(n.container),n.heading=n.container.querySelector(g),l&&n.heading){if(n.headingName=n.heading.querySelector('.featured__heading__medium, .giveaway__heading__name')||n.heading,n.name=n.headingName.textContent,r=l.id,i[h=l.type][r]||(i[h][r]=[]),esgst.wishlistPath&&t&&esgst.cwsl){let e=n.heading.parentElement.nextElementSibling.nextElementSibling;e.innerHTML=`\n                        <a class="table__column__secondary-link" href="/giveaways/search?${h.slice(0,-1)}=${r}">${e.innerHTML}</a>\n                    `}if(esgst.egh){if(esgst.giveawayPath){let e=document.querySelector('.sidebar__entry-insert');e&&e.addEventListener('click',saveEghGame.bind(null,r,h))}!esgst.menuPath&&s[h][r]&&s[h][r].entered&&!n.container.getElementsByClassName('esgst-egh-button')[0]&&insertHtml(n.container.closest('.poll')&&n.container.getElementsByClassName('table__column__heading')[0]||n.headingName,'beforeBegin',`\n                            <a class="esgst-egh-button" title="${getFeatureTooltip('egh','You have entered giveaways for this game before. Click to unhighlight it')}">\n                                <i class="fa fa-star esgst-egh-icon"></i>\n                            </a>\n                        `).addEventListener('click',unhighlightEghGame.bind(null,r,h))}esgst.gt&&(n.container.getElementsByClassName('esgst-gt-button')[0]||insertHtml(n.container.closest('.poll')&&n.container.getElementsByClassName('table__column__heading')[0]||n.heading.lastElementChild||n.heading,'afterEnd',`\n                            <a class="esgst-faded esgst-gt-button" title="${getFeatureTooltip('gt','Edit game tags')}">\n                                <i class="fa fa-tag"></i>\n                                <span class="esgst-gt-tags"></span>\n                            </a>\n                        `).addEventListener('click',openGtPopup.bind(null,r,n.name,h)),s[h][r]&&s[h][r].tags&&addGtTags([n],r,s[h][r].tags,h)),i[h][r].push(n)}return i}function getGameInfo(e,t){var s,n,i,a;return i=e.querySelector('[href*="/app/"], [href*="/sub/"]'),s=e.querySelector('[style*="/apps/"], [style*="/subs/"]'),(i||s)&&(a=i&&i.getAttribute('href')||s&&s.getAttribute('style'))?{type:`${(n=a.match(/\/(app|sub)s?\/(\d+)/))[1]}s`,id:n[2]}:null}async function checkNewGiveawayInput(e){'1'===e.style.opacity?e.getAttribute('data-esgst')||(e.setAttribute('data-esgst',!0),await loadNewGiveawayFeatures(e)):e.removeAttribute('data-esgst'),setTimeout(checkNewGiveawayInput,1e3,e)}async function loadNewGiveawayFeatures(e){let t=!1,s={apps:{},subs:{}},n=e.getElementsByClassName('table__row-outer-wrap');for(let e=0,i=n.length;e<i;e++){let i=n[e],a=i.querySelector('[data-ui-tooltip*="Zero contributor value since..."]');if(!a)continue;let o=getGameInfo(i);!o||esgst.games[o.type][o.id]&&esgst.games[o.type][o.id].noCV||(a=JSON.parse(a.getAttribute('data-ui-tooltip')).rows,s[o.type][o.id]={name:i.getElementsByClassName('table__column__heading')[0].firstChild.textContent.trim(),noCV:a[a.length-1].columns[1].name},t=!0)}esgst.noCvButton&&esgst.noCvButton.remove(),t&&(esgst.noCvButton=insertHtml(e.closest('.form__row__indent').previousElementSibling,'beforeEnd',`\n                <span class="esgst-no-cv-button">\n                    <i class="fa fa-calendar-times-o esgst-blinking esgst-bold esgst-clickable esgst-red" title="${getFeatureTooltip(null,'Add no CV games to the database')}"></i>\n                </span>\n            `),esgst.addNoCvGames?addNoCvGames(s):esgst.noCvButton.firstElementChild.addEventListener('click',addNoCvGames.bind(null,s))),await loadGameFeatures(document,!0)}async function addNoCvGames(e){let t=esgst.noCvButton;esgst.noCvButton=null,t.innerHTML='\n            <i class="fa fa-circle-o-notch fa-spin" title="Adding no CV games to the database..."></i>\n        ',await request({data:JSON.stringify(e),method:'POST',url:'https://script.google.com/macros/s/AKfycbym0nzeyr3_b93ViuiZRivkBMl9PBI2dTHQxNC0rtgeQSlCTI-P/exec'});for(let t in e.apps)delete e.apps[t].name;for(let t in e.subs)delete e.subs[t].name;await lockAndSaveGames(e),t.remove()}async function loadEndlessFeatures(e,t,s,n){let i=await getValues({discussions:'{}',games:'{"apps":{},"subs":{}}',giveaways:'{}',users:'{"steamIds":{},"users":{}}'});if(esgst.discussions=JSON.parse(i.discussions),esgst.games=JSON.parse(i.games),esgst.giveaways=JSON.parse(i.giveaways),esgst.users=JSON.parse(i.users),esgst.at&&getTimestamps(e),esgst.ef&&e!==document&&hideEfElements(e),esgst.ev&&getEvVideos(e),esgst.ib&&addIbBorders(e),esgst.gdttt&&await checkGdtttVisited(e),esgst.vai&&getVaiImages(e),esgst.aic&&t&&getAicImages(e),esgst.ail&&!esgst.vai&&getAilImages(e),esgst.cewgd&&(esgst.createdPath||esgst.enteredPath||esgst.wonPath)&&addCewgdHeading(e,t),esgst.dkc&&esgst.giveawayPath&&getDkcLinks(e),esgst.et&&esgst.enteredPath&&getEtEntries(e),(esgst.gwc||esgst.gwr)&&esgst.enteredPath&&addGwcrHeading(e,t),(esgst.sal||esgst.ef)&&esgst.wonPath&&(esgst.sal&&addSalLinks(e),addSalObservers(e)),esgst.ueg&&removeUegFade(e),esgst.sgg&&esgst.groupsPath&&await setSggGroups(e),esgst.cerb&&esgst.commentsPath&&esgst.cerbCollapse&&esgst.cerbExpand){let s=e===document&&t?location.hash.replace(/#/,''):null;getCerbReplies(esgst.cerbCollapse,esgst.cerbExpand,s?document.getElementById(s):null,e)}esgst.cfh&&setCfhTextAreas(e),(esgst.mr&&!esgst.inboxPath||esgst.rfi&&esgst.inboxPath)&&getMrRfiButtons(e,t),esgst.rml&&addRmlLinks(e),esgst.iwh&&(esgst.winnersPath||esgst.inboxPath||e.getAttribute&&e.getAttribute('data-esgst-qiv'))&&await getIwhUsers(e),esgst.us&&(esgst.whitelistPath||esgst.blacklistPath)&&await getUsUsers(e,t),esgst.gh&&!esgst.groupsPath&&highlightGhGroups(e),esgst.gs&&esgst.groupsPath&&getGsGroups(e),esgst.ap&&getApAvatars(e),(esgst.ct&&(esgst.giveawaysPath||esgst.discussionsPath)||esgst.gdttt&&(esgst.giveawaysPath||esgst.discussionsPath||esgst.discussionsTicketsTradesPath)||esgst.ust&&esgst.ticketsPath)&&await addCtDiscussionPanels(e,t,s,n),await loadGiveawayFeatures(e,t,s,n),await loadDiscussionFeatures(e,t,s,n),await loadCommentFeatures(e,t),await loadGameFeatures(e,t,s,n),loadUserFeatures(e),esgst.ts&&getTsTables(e,t,s,n),esgst.sto&&setStoLinks(e)}function setMouseEvent(e,t,s,n){let i=-1,a=[0,0];e.addEventListener('mousedown',e=>{2!==e.button&&(1===e.button&&e.preventDefault(),i=e.button,a=[e.pageX,e.pageY])}),e.addEventListener('mousemove',e=>{-1===i||e.pageX===a[0]&&e.pageY===a[1]||(i=-1)}),e.addEventListener('mouseup',()=>{-1!==i&&(esgst[t]||1===i?open(s):n(),i=-1,a=[0,0])})}function createHeadingButton(e){let[t,s]=esgst.leftButtonIds.indexOf(e.orderId||e.id)>-1?['leftButtons','afterBegin']:['rightButtons','beforeEnd'],n='';return e.icons.forEach(e=>{n+=`<i class="fa ${e}"></i> `}),insertHtml(e.context||(esgst.hideButtons&&esgst[`hideButtons_${e.orderId||e.id}`]?esgst[t]:esgst.mainPageHeading),s,`\n            <div class="esgst-heading-button" id="esgst-${e.id}" title="${getFeatureTooltip(e.featureId||e.id,e.title)}">\n                ${e.isSwitch?'<span></span>':''}\n                ${n}\n            </div>\n         `)}function capitalizeFirstLetter(e){return`${e[0].toUpperCase()}${e.slice(1)}`}function getDate(e){let t=new Date(e);return`${['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'][t.getMonth()]} ${t.getDate()}, ${t.getFullYear()}`}async function checkNewVersion(){if(esgst.version!==esgst.currentVersion){if(void 0===esgst.version){esgst.firstInstall=!0;let e=new Popup('fa-smile-o','<i class="fa fa-circle-o-notch fa-spin"></i> Hi! ESGST is getting things ready for you. This will not take long...',!0);e.open(),await checkSync(!0,!0),e.title.innerHTML=`\n                    <i class="fa fa-check"></i> Thanks for installing ESGST, <span>${esgst.username}</span>. You are ready to go! Click on the <span>Settings</span> link below to choose which features you want to use.\n                `}else esgst.showChangelog&&loadChangelog(esgst.version);esgst.version=esgst.currentVersion,setValue('version',esgst.version)}if(!esgst.settings.groupPopupDismissed){let e;for(e=esgst.groups.length-1;e>-1&&'103582791461018688'!==esgst.groups[e].steamId;e--);if(e<0||!esgst.groups[e]||!esgst.groups[e].member){let e=new Popup('fa-steam','Hello! In case you were not aware ESGST now has a Steam group. If you want to join it, you must first send a request from the <a class="esgst-bold" href="http://steamcommunity.com/groups/esgst">Steam group</a> page, then another request from the settings menu (last button in the heading). Have a good day. :)');e.description.insertAdjacentHTML('beforeEnd','<div class="esgst-description">This popup will never show up again after you close it.</div>'),e.open(),e.onClose=setSetting.bind(null,'groupPopupDismissed',!0)}}}function escapeHtml(e){let t=document.createElement('div');return t.innerText=e,t.innerHTML}function setLocalValue(e,t){localStorage.setItem(`esgst_${e}`,t)}function getLocalValue(e,t){return localStorage.getItem(`esgst_${e}`)||t}function delLocalValue(e){localStorage.removeItem(`esgst_${e}`)}function isSet(e){return void 0!==e&&null!==e}function parseHtml(e){return esgst.domParser.parseFromString(e,'text/html')}function parseMarkdown(e){return esgst.markdownParser.text(e)}async function getElements(){esgst.sg?(esgst.pageOuterWrapClass='page__outer-wrap',esgst.pageHeadingClass='page__heading',esgst.pageHeadingBreadcrumbsClass='page__heading__breadcrumbs',esgst.footer=document.getElementsByClassName('footer__outer-wrap')[0],esgst.replyBox=document.getElementsByClassName('comment--submit')[0],esgst.cancelButtonClass='comment__cancel-button',esgst.paginationNavigationClass='pagination__navigation',esgst.hiddenClass='is-hidden',esgst.selectedClass='is-selected'):(esgst.pageOuterWrapClass='page_outer_wrap',esgst.pageHeadingClass='page_heading',esgst.pageHeadingBreadcrumbsClass='page_heading_breadcrumbs',esgst.footer=document.getElementsByTagName('footer')[0],esgst.replyBox=document.getElementsByClassName('reply_form')[0],esgst.cancelButtonClass='btn_cancel',esgst.paginationNavigationClass='pagination_navigation',esgst.hiddenClass='is_hidden',esgst.selectedClass='is_selected'),esgst.currentPage=location.href.match(/page=(\d+)/),esgst.currentPage?esgst.currentPage=parseInt(esgst.currentPage[1]):esgst.currentPage=1;var e=location.href.replace(location.search,'').replace(location.hash,'').replace('/search','');esgst.originalUrl=e,esgst.favicon=document.querySelector('[rel="shortcut icon"]'),esgst.originalTitle=document.title,esgst.mainPath&&(e+=esgst.sg?'giveaways':'trades'),e+='/search?';for(var t=location.search.replace(/^\?/,'').split(/&/),s=0,n=t.length,i;s<n;++s)t[s]&&!t[s].match(/page/)&&(e+=t[s]+'&');location.search&&(esgst.originalUrl=e.replace(/&$/,''),esgst.currentPage>1&&(esgst.originalUrl+=`&page=${esgst.currentPage}`)),e+='page=',esgst.searchUrl=e,esgst.menuPath||await refreshHeaderElements(document),esgst.header=document.getElementsByTagName('header')[0],esgst.headerNavigationLeft=document.getElementsByClassName('nav__left-container')[0],esgst.pagination=document.getElementsByClassName('pagination')[0],esgst.featuredContainer=document.getElementsByClassName('featured__container')[0],esgst.pageOuterWrap=document.getElementsByClassName(esgst.pageOuterWrapClass)[0],esgst.paginationNavigation=document.getElementsByClassName(esgst.paginationNavigationClass)[0],esgst.sidebar=document.getElementsByClassName('sidebar')[0],esgst.sidebar&&(esgst.enterGiveawayButton=esgst.sidebar.getElementsByClassName('sidebar__entry-insert')[0],esgst.leaveGiveawayButton=esgst.sidebar.getElementsByClassName('sidebar__entry-delete')[0]),esgst.activeDiscussions=document.querySelector('.widget-container--margin-top:last-of-type'),esgst.pinnedGiveaways=document.getElementsByClassName('pinned-giveaways__outer-wrap')[0],i=esgst.commentsPath?1:0,esgst.mainPageHeading=document.getElementsByClassName(esgst.pageHeadingClass)[i],esgst.mainPageHeading||1!==i||(esgst.mainPageHeading=document.getElementsByClassName(esgst.pageHeadingClass)[0]),esgst.logoutButton&&(esgst.xsrfToken=esgst.logoutButton.getAttribute('data-form').match(/xsrf_token=(.+)/)[1])}async function addGiveawayToStorage(){let e,t,s,n,i,a,o,r;if((a=new Popup('fa-circle-o-notch fa-spin','Please wait... ESGST is adding this giveaway to the storage...',!0)).open(),giveaways=await getGiveaways(document,!0,location.href),giveaways.length){if((t={})[(e=giveaways[0]).code]=e,r={steamId:esgst.steamId,username:esgst.username},savedUser=await getUser(null,r),giveaways=null,savedUser&&(giveaways=savedUser.giveaways),!giveaways&&(giveaways={sent:{apps:{},subs:{}},won:{apps:{},subs:{}},sentTimestamp:0,wonTimestamp:0},savedUser&&(o=savedUser.ugd))){if(o.sent){for(n in o.sent.apps)for(giveaways.sent.apps[n]=[],s=0,i=o.sent.apps[n].length;s<i;++s)t[o.sent.apps[n][s].code]=o.sent.apps[n][s],giveaways.sent.apps[n].push(o.sent.apps[n][s].code);for(n in o.sent.subs)for(giveaways.sent.subs[n]=[],s=0,i=o.sent.subs[n].length;s<i;++s)t[o.sent.subs[n][s].code]=o.sent.subs[n][s],giveaways.sent.subs[n].push(o.sent.subs[n][s].code);giveaways.sentTimestamp=o.sentTimestamp}if(o.won){for(n in o.won.apps)for(giveaways.won.apps[n]=[],s=0,i=o.won.apps[n].length;s<i;++s)t[o.won.apps[n][s].code]=o.won.apps[n][s],giveaways.won.apps[n].push(o.won.apps[n][s].code);for(n in o.won.subs)for(giveaways.won.subs[n]=[],s=0,i=o.won.subs[n].length;s<i;++s)t[o.won.subs[n][s].code]=o.won.subs[n][s],giveaways.won.subs[n].push(o.won.subs[n][s].code);giveaways.wonTimestamp=o.wonTimestamp}}giveaways.sent[e.gameType][e.gameSteamId]||(giveaways.sent[e.gameType][e.gameSteamId]=[]),giveaways.sent[e.gameType][e.gameSteamId].indexOf(e.code)<0&&giveaways.sent[e.gameType][e.gameSteamId].push(e.code),r.values={giveaways:giveaways},await lockAndSaveGiveaways(t),await saveUser(null,null,r),a.close()}}function generateHeaderMenuItem(e,t){if(e.icon){let s=e.icon;return e.color&&(s+=` icon-${e.color}`),e.url?`\n                    <a class="esgst-header-menu-row" data-link-id="${e.id}" data-link-key="${t}" href="${e.url}"${e.title?` title="${e.title}"`:''}>\n                        <i class="fa fa-fw ${s}"></i>\n                        <div>\n                            <p class="esgst-header-menu-name">${e.name}</p>\n                            ${e.description?`<p class="esgst-header-menu-description">${e.description}</p>`:''}\n                        </div>\n                    </a>\n                `:`\n                <div class="esgst-header-menu-row" data-link-id="${e.id}" data-link-key="${t}"${e.title?` title="${e.title}"`:''}>\n                    <i class="fa fa-fw ${s}"></i>\n                    <div>\n                        <p class="esgst-header-menu-name">${e.name}</p>\n                        ${e.description?`<p class="esgst-header-menu-description">${e.description}</p>`:''}\n                    </div>\n                </div>\n\n            `}return esgst.sg?`\n                <a class="nav__row" data-link-id="${e.id}" data-link-key="${t}" href="${e.url}"${e.title?` title="${e.title}"`:''}>\n                    <div class="nav__row__summary">\n                        <p class="nav__row__summary__name">${e.name}</p>\n                        ${e.description?`<p class="esgst-header-menu-description">${e.description}</p>`:''}\n                    </div>\n                </a>\n            `:`\n                <a class="dropdown_btn" data-link-id="${e.id}" data-link-key="${t}" href="${e.url}"${e.title?` title="${e.title}"`:''}>\n                    <span>${e.name}</p>\n                </a>\n            `}function getRemainingTime(e){var t,s,n,i,a,o;return(s=e-Date.now())<0&&(s*=-1),(o=Math.floor(s/6048e5))>0?`${o}w`:(t=Math.floor(s/864e5))>0?`${t}d`:(n=Math.floor(s/36e5))>0?`${n}h`:(i=Math.floor(s/6e4))>0?`${i}m`:`${a=Math.floor(s/1e3)}s`}function reorderButtons(e,t,s,n){let i,a,o;i=e&&e.classList.contains('esgst-hidden'),a=s&&s.classList.contains('esgst-hidden'),esgst.leftButtonIds.forEach(e=>{let s=document.getElementById(`esgst-${e}`);if(s){let a='esResume'===e?'hideButtons_esPause':`hideButtons_${e}`;s.parentElement.insertBefore(s,i||!esgst.hideButtons||esgst[a]?s.parentElement.firstElementChild:s.parentElement.firstElementChild.nextElementSibling),s.setAttribute('draggable',!0),s.addEventListener('dragstart',e=>{e.dataTransfer.setData('text/plain',''),o=s}),s.addEventListener('dragenter',()=>{let e,t;e=o,t=0;do{if((e=e.previousElementSibling)&&e===s)return void e.parentElement.insertBefore(o,e);++t}while(e);s.parentElement.insertBefore(o,s.nextElementSibling)}),s.addEventListener('dragend',async()=>{let i,o,r,l;esgst.hideButtons&&(t.contains(s)||n.contains(s)?esgst[a]||await setSetting(a,!0,esgst.sg,esgst.st):esgst[a]&&await setSetting(a,!1,esgst.sg,esgst.st)),r=s.previousElementSibling&&!s.previousElementSibling.classList.contains('esgst-hidden')&&s.previousElementSibling.id,o=s.nextElementSibling&&!s.nextElementSibling.classList.contains('esgst-hidden')&&s.nextElementSibling.id,(l=r||o)&&(i=esgst.rightButtonIds.indexOf(l.split('esgst-')[1]),esgst.leftButtonIds.splice(esgst.leftButtonIds.indexOf(e),1),i>-1?esgst.rightButtonIds.splice(i,0,e):r?esgst.leftButtonIds.splice(esgst.leftButtonIds.indexOf(r.split('esgst-')[1]),0,e):esgst.leftButtonIds.splice(esgst.leftButtonIds.indexOf(o.split('esgst-')[1])+1,0,e),await setSetting('leftButtonIds',esgst.leftButtonIds),await setSetting('rightButtonIds',esgst.rightButtonIds))})}}),esgst.rightButtonIds.forEach(e=>{let s=document.getElementById(`esgst-${e}`);if(s){let i='esResume'===e?'hideButtons_esPause':`hideButtons_${e}`;a||!esgst.hideButtons||esgst[i]?s.parentElement.appendChild(s):s.parentElement.insertBefore(s,s.parentElement.lastElementChild),s.setAttribute('draggable',!0),s.addEventListener('dragstart',e=>{e.dataTransfer.setData('text/plain',''),o=s}),s.addEventListener('dragenter',()=>{let e,t;e=o,t=0;do{if((e=e.previousElementSibling)&&e===s)return void e.parentElement.insertBefore(o,e);++t}while(e);s.parentElement.insertBefore(o,s.nextElementSibling)}),s.addEventListener('dragend',async()=>{let a,o,r,l;esgst.hideButtons&&(t.contains(s)||n.contains(s)?esgst[i]||await setSetting(i,!0,esgst.sg,esgst.st):esgst[i]&&await setSetting(i,!1,esgst.sg,esgst.st)),r=s.previousElementSibling&&!s.previousElementSibling.classList.contains('esgst-hidden')&&s.previousElementSibling.id,o=s.nextElementSibling&&!s.nextElementSibling.classList.contains('esgst-hidden')&&s.nextElementSibling.id,(l=r||o)&&(a=esgst.leftButtonIds.indexOf(l.split('esgst-')[1]),esgst.rightButtonIds.splice(esgst.rightButtonIds.indexOf(e),1),a>-1?esgst.leftButtonIds.splice(a,0,e):r?esgst.rightButtonIds.splice(esgst.rightButtonIds.indexOf(r.split('esgst-')[1])+1,0,e):esgst.rightButtonIds.splice(esgst.rightButtonIds.indexOf(o.split('esgst-')[1]),0,e),await setSetting('leftButtonIds',esgst.leftButtonIds),await setSetting('rightButtonIds',esgst.rightButtonIds))})}})}function repositionPopups(){esgst.openPopups>0?(esgst.popups.forEach(e=>e.reposition()),esgst.isRepositioning=!0,setTimeout(repositionPopups,2e3)):esgst.isRepositioning=!1}async function setSetting(e,t,s,n){let i,a;a=JSON.parse(await getValue('settings','{}')),s?e=`${e}_sg`:n&&(e=`${e}_st`),a[e]=t,await setValue('settings',JSON.stringify(a)),esgst.settings[e]=t}function getSetting(e,t){let s=esgst.settings[e];if(void 0===s){let n=esgst.defaultValues[e];void 0===n&&(n=esgst[`enableByDefault_${esgst.name}`]||!1);let i=esgst.oldValues[e];void 0!==i&&(s=esgst.settings[i]),void 0===s&&(s=n),t&&(esgst.settings[e]=s,esgst.settingsChanged=!0)}return s}function getOldValues(e,t,s){switch(e){case'at':if('sg'!==t)return;return void(s.exclude=[{enabled:esgst.settings.at_g_sg?0:1,pattern:'^/($|giveaways(?!/(new|wishlist|created|entered|won)))'}]);case'egh':if('sg'!==t)return;return void(s.exclude=[{enabled:esgst.settings.egh_t_sg?0:1,pattern:'^/discussion/'}]);case'es_pd':s.enabled='sg'===t?esgst.settings.es_l_d_sg||esgst.settings.es_c_d_sg||esgst.settings.es_d_d_sg||esgst.settings.es_g_d_sg:esgst.settings.es_l_d_st||esgst.settings.es_c_d_st||esgst.settings.es_t_d_st,s.enabled=s.enabled?1:0;case'es':return void('sg'===t?esgst.settings['es'===e?'es_l_sg':'es_l_d_sg']?s.exclude=[{enabled:esgst.settings['es'===e?'es_c_sg':'es_c_d_sg']?0:1,pattern:'^/(giveaway/(?!.*/(entries|winners|groups|region-restrictions))|discussion/|support/ticket/)'},{enabled:esgst.settings['es'===e?'es_d_sg':'es_d_d_sg']?0:1,pattern:'^/(discussions|support/tickets)'},{enabled:esgst.settings['es'===e?'es_g_sg':'es_g_d_sg']?0:1,pattern:'^/($|giveaways(?!/(new|wishlist|created|entered|won)))'}]:s.include=[{enabled:esgst.settings['es'===e?'es_c_sg':'es_c_d_sg']?1:0,pattern:'^/(giveaway/(?!.*/(entries|winners|groups|region-restrictions))|discussion/|support/ticket/)'},{enabled:esgst.settings['es'===e?'es_d_sg':'es_d_d_sg']?1:0,pattern:'^/(discussions|support/tickets)'},{enabled:esgst.settings['es'===e?'es_g_sg':'es_g_d_sg']?1:0,pattern:'^/($|giveaways(?!/(new|wishlist|created|entered|won)))'}]:esgst.settings['es'===e?'es_l_st':'es_l_d_st']?s.exclude=[{enabled:esgst.settings['es'===e?'es_c_st':'es_c_d_st']?0:1,pattern:'^/trade/'},{enabled:esgst.settings['es'===e?'es_t_st':'es_t_d_st']?0:1,pattern:'^/($|trades)'}]:s.include=[{enabled:esgst.settings['es'===e?'es_c_st':'es_c_d_st']?1:0,pattern:'^/trade/'},{enabled:esgst.settings['es'===e?'es_t_st':'es_t_d_st']?1:0,pattern:'^/($|trades)'}]);case'gc':if('sg'!==t)return;return void(s.exclude=[{enabled:esgst.settings.gc_t_sg?0:1,pattern:'^/discussion/'}]);case'gc_gi':if('sg'!==t)return;return void(esgst.settings.gc_gi_t_sg?s.include=[{enabled:1,pattern:'^/discussion'}]:esgst.settings.gc_gi_cew_sg&&(s.include=[{enabled:1,pattern:'^/giveaways/(created|entered|won)/'}]));case'gc_o_a':if('sg'!==t)return;return s.enabled=esgst.settings.gc_o_altAccounts.length>0?1:0,void(esgst.settings.gc_o_t_sg&&(s.include=[{enabled:1,pattern:'^/discussion'}]));case'gt':if('sg'!==t)return;return void(s.exclude=[{enabled:esgst.settings.gt_t_sg?0:1,pattern:'^/discussion/'}]);case'vai':return void(s.exclude=[{enabled:esgst.settings[`vai_i_${t}`]?1:0,pattern:'^/messages'}]);default:return}}function getFeaturePath(e,t,s){let n=`${t}_${s}`,i=esgst.settings[n];return void 0!==i&&i.include||(i={enabled:getSetting(n)?1:0,include:[],exclude:[]},e[s].include?(i.include=e[s].include,e[s].exclude&&(i.exclude=e[s].exclude)):i.include=[{enabled:i.enabled,pattern:'.*'}],getOldValues(t,s,i)),i}function getFeatureSetting(e,t){if(esgst[t]=!1,e[esgst.name]){let s=getFeaturePath(e,t,esgst.name);if(!s.enabled)return;let n=!1,i=`${location.pathname}${location.search}`,a=s.include.length-1;for(;a>-1&&(!s.include[a].enabled||!i.match(new RegExp(s.include[a].pattern)));)a--;for(a>-1&&(n=!0),a=s.exclude.length-1;a>-1&&(!s.exclude[a].enabled||!i.match(new RegExp(s.exclude[a].pattern)));)a--;a>-1&&(n=!1),esgst[t]=n}if(esgst[t]&&e.features)for(t in e.features)getFeatureSetting(e.features[t],t)}function toggleHeaderMenu(e,t){esgst.sg?($('nav .nav__button').removeClass('is-selected'),$('nav .nav__relative-dropdown').addClass('is-hidden')):($('.nav_btn_dropdown').removeClass('is_selected'),$('.page_heading_btn_dropdown').removeClass('is_selected'),$('.dropdown').addClass('is_hidden')),e.classList.toggle('selected'),t.classList.toggle('esgst-hidden')}function closeHeaderMenu(e,t,s,n){!s.contains(n.target)&&e.classList.contains('selected')&&(e.classList.remove('selected'),t.classList.add('esgst-hidden'))}function getTimestamp(e,t,s){var n,i,a,o,r,l,c,d,g;return n=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],a=(i=new Date(1e3*e)).getMonth(),o=i.getDate(),r=i.getFullYear(),l=i.getHours(),t?c='':(c=l<12?'am':'pm',0===(l%=12)&&(l=12)),d=`0${i.getMinutes()}`.slice(-2),g=s?`:${g=`0${i.getSeconds()}`.slice(-2)}`:'',`${n[a]} ${o}, ${r}, ${l}:${d}${g}${c}`}function insertHtml(e,t,s){var n;return e.insertAdjacentHTML(t,s),e[{beforeBegin:'previousElementSibling',afterBegin:'firstElementChild',beforeEnd:'lastElementChild',afterEnd:'nextElementSibling'}[t]]}function getFeatureTooltip(e,t=''){return esgst.showFeatureNumber?t?`${t}\n\nThis element was added by ESGST${e?` (${getFeatureNumber(e).number})`:''}`:`This element was added by ESGST${e?` (${getFeatureNumber(e).number})`:''}`:t}function getFeatureName(e,t){let s=getFeatureNumber(t);return`${s.number} "${s.name}"`}function getFeatureNumber(e){let t=1;for(let s in esgst.features){let n=1;for(let i in esgst.features[s].features){let a=esgst.features[s].features[i],o=getFeatureNumber_2(a,i,n,t,e);if(o)return o;(a.sg||esgst.settings.esgst_st)&&(n+=1)}('trades'!==s||esgst.settings.esgst_st)&&(t+=1)}return{name:'',number:''}}function getFeatureNumber_2(e,t,s,n,i){if(t===i)return{name:e.name,number:`${n}.${s}`};if(e.features){let t=1;for(let a in e.features){let o=e.features[a],r=getFeatureNumber_2(o,a,t,`${n}.${s}`,i);if(r)return r;(o.sg||esgst.settings.esgst_st)&&(t+=1)}}return null}async function getUser(e,t){let s=null;if(e||(e=JSON.parse(await getValue('users'))),t.steamId)(s=e.users[t.steamId])&&(t.id||(t.id=s.id),t.username||(t.username=s.username));else if(t.username){let n=e.steamIds[t.username];n&&(t.steamId=n,s=e.users[n])}return s}async function saveUser(e,t,s){let n;if(t||(t=JSON.parse(await getValue('users'))),await getUser(t,s))if(e)s.steamId||(s.steamId=t.steamIds[s.username]),e.existing.push(s);else{let e=await createLock('userLock',300);checkUsernameChange(t,s);for(let e in s.values)'tags'!==e&&(null===s.values[e]?delete t.users[s.steamId][e]:t.users[s.steamId][e]=s.values[e]);await setValue('users',JSON.stringify(t)),e()}else s.steamId&&s.username?e?e.new.push(s):await addUser(s):s.steamId?await getUsername(e,!0,s):await getSteamId(e,!0,null,s)}function checkUsernameChange(e,t){var s,n;if(void 0!==e.users[t.steamId].username&&e.users[t.steamId].username!==t.username){if(delete e.steamIds[e.users[t.steamId].username],e.users[t.steamId].username=t.username,e.steamIds[t.username]=t.steamId,t.values.tags)for(e.users[t.steamId].tags||(e.users[t.steamId].tags=[]),s=0,n=t.values.tags.length;s<n;++s)e.users[t.steamId].tags.indexOf(t.values.tags[s])<0&&e.users[t.steamId].tags.push(t.values.tags[s])}else void 0!==t.values.tags&&(e.users[t.steamId].tags=t.values.tags);e.users[t.steamId].tags||delete e.users[t.steamId].tags}async function addUser(e){let t,s,n;t=await createLock('userLock',300),n=JSON.parse(await getValue('users')),(s=await getUser(n,e))||(n.users[e.steamId]={}),e.id&&(n.users[e.steamId].id=e.id),checkUsernameChange(n,e),e.username&&(n.users[e.steamId].username=e.username,n.steamIds[e.username]=e.steamId);for(let t in e.values)'tags'!==t&&(null===e.values[t]?delete n.users[e.steamId][t]:n.users[e.steamId][t]=e.values[t]);await setValue('users',JSON.stringify(n)),t()}async function getUsername(e,t,s){let n,i,a;if(n=(i=await request({method:'GET',url:`https://www.steamgifts.com/go/user/${s.steamId}`})).finalUrl.match(/\/user\/(.+)/),a=parseHtml(i.responseText),n){s.username=n[1];let e=a.querySelector('[name="child_user_id"]');e&&(s.id=e.value)}t&&(e?e.new.push(s):await addUser(s))}async function getSteamId(e,t,s,n){let i,a;if(!t){s||(s=JSON.parse(await getValue('users')));let e=s.steamIds[n.username];if(e)return n.steamId=e,void(n.id=s.users[e].id)}a=parseHtml((await request({method:'GET',url:`https://www.steamgifts.com/user/${n.username}`})).responseText),n.steamId=a.querySelector('[href*="/profiles/"]').getAttribute('href').match(/\d+/)[0],(i=a.querySelector('[name="child_user_id"]'))&&(n.id=i.value),t&&(e?e.new.push(n):await addUser(n))}async function saveUsers(e){let t,s,n;t={existing:[],new:[]},s=[],n=JSON.parse(await getValue('users'));for(let i=0,a=e.length;i<a;i++)s.push(saveUser(t,n,e[i]));await Promise.all(s),deleteLock=await createLock('userLock',300),n=JSON.parse(await getValue('users'));for(let e=0,s=t.new.length;e<s;++e){let s,i;i=t.new[e],(s=await getUser(n,i))||(n.users[i.steamId]={}),i.id&&(n.users[i.steamId].id=i.id),checkUsernameChange(n,i),i.username&&(n.users[i.steamId].username=i.username,n.steamIds[i.username]=i.steamId);for(let e in i.values)'tags'!==e&&(null===i.values[e]?delete n.users[i.steamId][e]:n.users[i.steamId][e]=i.values[e])}for(let e=0,s=t.existing.length;e<s;++e){let s=t.existing[e];checkUsernameChange(n,s);for(let e in s.values)'tags'!==e&&(null===s.values[e]?delete n.users[s.steamId][e]:n.users[s.steamId][e]=s.values[e])}await setValue('users',JSON.stringify(n)),deleteLock()}async function deleteUserValues(e){let t,s;t=await createLock('userLock',300),s=JSON.parse(await getValue('users'));for(let t in s.users)for(let n=0,i=e.length;n<i;++n)delete s.users[t][e[n]];await setValue('users',JSON.stringify(s)),t()}async function getUserId(e){e.username?await getSteamId(null,!1,null,e):await getUsername(null,!1,e)}async function saveComment(e,t,s,n,i,a,o){let r=`xsrf_token=${esgst.xsrfToken}&do=${esgst.sg?'comment_new':'comment_insert'}&trade_code=${e}&parent_id=${t}&description=${encodeURIComponent(s)}`,l=await request({data:r,method:'POST',url:n});if(esgst.sg)if(l.redirected&&n===l.finalUrl){let e,s=parseHtml(l.responseText);if(t)e=s.querySelector(`[data-comment-id="${t}"]`).getElementsByClassName('comment__children')[0].lastElementChild.getElementsByClassName('comment__summary')[0].id;else{let t=s.getElementsByClassName('comments');e=t[t.length-1].lastElementChild.getElementsByClassName('comment__summary')[0].id}esgst.ch&&saveChComment(e,Date.now()),o?(a&&a(),o(e,l,i)):(await saveGedGiveaways(s.getElementById(e).closest('.comment'),e),a&&a(),location.href=`/go/comment/${e}`)}else if(n!==l.finalUrl){let e,s=parseHtml((l=await request({data:r,method:'POST',url:l.finalUrl})).responseText);if(t)e=s.querySelector(`[data-comment-id="${t}"]`).getElementsByClassName('comment__children')[0].lastElementChild.getElementsByClassName('comment__summary')[0].id;else{let t=s.getElementsByClassName('comments');e=t[t.length-1].lastElementChild.getElementsByClassName('comment__summary')[0].id}esgst.ch&&saveChComment(e,Date.now()),o?(a&&a(),o(e,l,i)):(await saveGedGiveaways(s.getElementById(e).closest('.comment'),e),a&&a(),location.href=`/go/comment/${e}`)}else a&&a(),o?o(null,null,i):i.innerHTML='\n                        <i class="fa fa-times-circle"></i>\n                        <span>Failed!</span>\n                    ';else{let e=JSON.parse(l.responseText);if(e.success){let t=parseHtml(e.html),s=t.getElementsByClassName('comment_outer')[0].id;esgst.ch&&saveChComment(s,Date.now()),o?(a&&a(),o(s,l,i)):(await saveGedGiveaways(t.getElementById(s),s),a&&a(),location.href=`/go/comment/${s}`)}else a&&a(),o?o(null,null,i):i.innerHTML='\n                        <i class="fa fa-times-circle"></i>\n                        <span>Failed!</span>\n                    '}}async function checkSync(e,t){if(e)await setSync(!1,t);else if(!getLocalValue('isSyncing'))if(esgst.openSyncInTab){let e='';setLocalValue('isSyncing',1),['Groups','Whitelist','Blacklist','HiddenGames','Games','WonGames','ReducedCvGames','NoCvGames','Giveaways'].forEach(t=>{esgst[`autoSync${t}`]&&Date.now()-esgst[`lastSync${t}`]>864e5*esgst[`autoSync${t}`]&&(e+=`${t}=1&`)}),e?(esgst.sg,open(`/esgst/sync?${e.replace(/&$/,'')}`)):delLocalValue('isSyncing')}else{let e={};setLocalValue('isSyncing',1),['Groups','Whitelist','Blacklist','HiddenGames','Games','WonGames','ReducedCvGames','NoCvGames','Giveaways'].forEach(t=>{esgst[`autoSync${t}`]&&Date.now()-esgst[`lastSync${t}`]>864e5*esgst[`autoSync${t}`]&&(e[t]=1)}),Object.keys(e).length>0?await setSync(!1,null,e):delLocalValue('isSyncing')}}async function setSync(e,t,s){let n={autoSync:e,canceled:!1};if(esgst.firstInstall)await sync(n);else if(n.autoSync||t||s){if(n.popup=new Popup(s?'fa-circle-o-notch fa-spin':'fa-refresh',s?'ESGST is syncing... Please wait until the sync is complete to close this popup.':'Sync'),!n.autoSync&&!s){n.popup.description.insertAdjacentHTML('afterBegin','<div class="esgst-description">By selecting a number X in the dropdown menu next to each data other than 0, you are enabling automatic sync for that data (which means the data will be synced every X days).</div>'),n.switches={syncGroups:new ToggleSwitch(n.popup.scrollable,'syncGroups',!1,'Steam Groups',!1,!1,null,esgst.syncGroups),syncWhitelist:new ToggleSwitch(n.popup.scrollable,'syncWhitelist',!1,'Whitelist',!1,!1,null,esgst.syncWhitelist),syncBlacklist:new ToggleSwitch(n.popup.scrollable,'syncBlacklist',!1,'Blacklist',!1,!1,null,esgst.syncBlacklist),syncHiddenGames:new ToggleSwitch(n.popup.scrollable,'syncHiddenGames',!1,'Hidden Games',!1,!1,null,esgst.syncHiddenGames),syncGames:new ToggleSwitch(n.popup.scrollable,'syncGames',!1,'Owned/Wishlisted/Ignored Games',!1,!1,null,esgst.syncGames),syncWonGames:new ToggleSwitch(n.popup.scrollable,'syncWonGames',!1,'Won Games',!1,!1,null,esgst.syncWonGames),syncReducedCvGames:new ToggleSwitch(n.popup.scrollable,'syncReducedCvGames',!1,'Reduced CV Games',!1,!1,null,esgst.syncReducedCvGames),syncNoCvGames:new ToggleSwitch(n.popup.scrollable,'syncNoCvGames',!1,'No CV Games',!1,!1,null,esgst.syncNoCvGames),syncGiveaways:new ToggleSwitch(n.popup.scrollable,'syncGiveaways',!1,'Giveaways',!1,!1,null,esgst.syncGiveaways)};for(let e in n.switches)setAutoSync(e,n.switches);let e=insertHtml(n.popup.description,'beforeEnd','<div class="esgst-button-group"><span>Select:</span></div>');e.appendChild(new ButtonSet('grey','grey','fa-circle','fa-circle-o-notch fa-spin','All','',selectSwitches.bind(null,n.switches,'enable',e)).set),e.appendChild(new ButtonSet('grey','grey','fa-circle-o','fa-circle-o-notch fa-spin','None','',selectSwitches.bind(null,n.switches,'disable',e)).set),e.appendChild(new ButtonSet('grey','grey','fa-dot-circle-o','fa-circle-o-notch fa-spin','Inverse','',selectSwitches.bind(null,n.switches,'toggle',e)).set)}n.progress=insertHtml(n.popup.description,'beforeEnd','\n                <div class="esgst-hidden esgst-popup-progress"></div>\n            '),n.results=insertHtml(n.popup.scrollable,'afterBegin','<div></div>'),s||(n.set=new ButtonSet_v2({color1:'green',color2:'grey',icon1:'fa-refresh',icon2:'fa-times',title1:'Sync',title2:'Cancel',callback1:sync.bind(null,n),callback2:cancelSync.bind(null,n)}),n.popup.description.appendChild(n.set.set)),n.popup.open(),n.autoSync?n.set.trigger():s&&(n.parameters=s,await sync(n))}else{document.body.innerHTML='';let e=insertHtml(document.body,'beforeEnd','\n                <div class="description esgst-hidden esgst-popup-progress">\n                    <div></div>\n                    <div></div>\n                </div>\n            ');n.results=e.firstElementChild,n.progress=e.lastElementChild,n.parameters=getParameters(),await sync(n)}}function setAutoSync(e,t){let s,n,i,a,o;for(i=e.replace(/^sync/,''),o=t[e],s='<select class="esgst-auto-sync">',n=0;n<31;++n)s+=`<option>${n}</option>`;s+='</select>',(a=insertHtml(o.name,'beforeEnd',s)).selectedIndex=esgst[`autoSync${i}`],a.addEventListener('change',function(){setSetting(`autoSync${i}`,a.selectedIndex),esgst[`autoSync${i}`]=a.selectedIndex}),esgst[`lastSync${i}`]?o.date=insertHtml(o.name,'beforeEnd',`<span><i class="fa fa-check-circle"></i> Last synced ${new Date(esgst[`lastSync${i}`]).toLocaleString()}</span>`):o.date=insertHtml(o.name,'beforeEnd','<span><i class="fa fa-times"></i> Never synced.</span>')}function cancelSync(e){e.canceled=!0}async function sync(e,t,s){if(esgst.firstInstall||(await setSetting('lastSync',Date.now()),e.results.innerHTML='',e.progress.classList.remove('esgst-hidden'),e.progress.innerHTML='\n                <i class="fa fa-circle-o-notch fa-spin"></i>\n                <span></span>\n            '),!esgst.firstInstall&&!e.canceled){if(esgst.sg&&(e.parameters&&e.parameters.Groups||!e.parameters&&(esgst.settings.syncGroups||e.autoSync))){e.progress.lastElementChild.textContent='Syncing your Steam groups...',e.groups={};let t=JSON.parse(await getValue('groups'));if(!Array.isArray(t)){let e,s;e=[];for(let s in t)e.push(t[s]);t=e,await setValue('groups',JSON.stringify(t)),s=JSON.parse(await getValue('giveaways'));for(let e in s)delete s[e].groups;await setValue('giveaways',JSON.stringify(s))}e.currentGroups={};for(let s=0,n=t.length;s<n;++s)t[s]&&t[s].member&&t[s].steamId&&(e.currentGroups[t[s].steamId]=t[s].name);e.newGroups={},e.savedGroups=t;let s=1,n=null,i,a;do{let t,i;for(let n=0,a=(t=(i=parseHtml((await request({method:'GET',url:`https://www.steamgifts.com/account/steam/groups/search?page=${s}`})).responseText)).getElementsByClassName('table__row-outer-wrap')).length;!e.canceled&&n<a;n++){let s,i,a,o,r;for(s=(a=(i=t[n]).getElementsByClassName('table__column__heading')[0]).getAttribute('href').match(/\/group\/(.+?)\/(.+)/)[1],o=a.textContent,r=e.savedGroups.length-1;r>=0&&e.savedGroups[r].code!==s;--r);if(r>=0&&e.savedGroups[r].steamId)e.groups[s]={member:!0},e.newGroups[e.savedGroups[r].steamId]=o;else{let t,n;t=i.getElementsByClassName('table_image_avatar')[0].style.backgroundImage.match(/\/avatars\/(.+)_medium/)[1],n=parseHtml((await request({method:'GET',url:`/group/${s}/`})).responseText).getElementsByClassName('sidebar__shortcut-inner-wrap')[0].firstElementChild.getAttribute('href').match(/\d+/)[0],e.groups[s]={avatar:t,code:s,member:!0,name:o,steamId:n},e.newGroups[n]=o}}n=i.getElementsByClassName('pagination__navigation')[0],s+=1}while(!e.canceled&&n&&!n.lastElementChild.classList.contains('is-selected'));await lockAndSaveGroups(e.groups,!0),i=[],a=[];for(let t in e.currentGroups)e.newGroups[t]||i.push(`<a href="http://steamcommunity.com/gid/${t}">${e.currentGroups[t]}</a>`);for(let t in e.newGroups)e.currentGroups[t]||a.push(`<a href="http://steamcommunity.com/gid/${t}">${e.newGroups[t]}</a>`);e.html='',i.length&&(e.html+=`\n                    <div>\n                        <span class="esgst-bold">Missing groups:</span> ${i.join(', ')}\n                    </div>\n                `),a.length&&(e.html+=`\n                    <div>\n                        <span class="esgst-bold">New groups:</span> ${a.join(', ')}\n                    </div>\n                `),e.results.insertAdjacentHTML('afterBegin',e.html)}if(!e.canceled&&(!e.autoSync&&(e.parameters&&(e.parameters.Whitelist||e.parameters.Blacklist)||!e.parameters&&(esgst.settings.syncWhitelist||esgst.settings.syncBlacklist))&&(e.parameters&&e.parameters.Whitelist&&e.parameters.Blacklist||!e.parameters&&esgst.settings.syncWhitelist&&esgst.settings.syncBlacklist?(await deleteUserValues(['whitelisted','whitelistedDate','blacklisted','blacklistedDate']),e.users=[],e.progress.lastElementChild.textContent='Syncing your whitelist...',await syncWhitelistBlacklist('whitelisted',e,'https://www.steamgifts.com/account/manage/whitelist/search?page='),e.progress.lastElementChild.textContent='Syncing your blacklist...',await syncWhitelistBlacklist('blacklisted',e,'https://www.steamgifts.com/account/manage/blacklist/search?page=')):e.parameters&&e.parameters.Whitelist||!e.parameters&&esgst.settings.syncWhitelist?(await deleteUserValues(['whitelisted','whitelistedDate']),e.users=[],e.progress.lastElementChild.textContent='Syncing your whitelist...',await syncWhitelistBlacklist('whitelisted',e,'https://www.steamgifts.com/account/manage/whitelist/search?page=')):(await deleteUserValues(['blacklisted','blacklistedDate']),e.users=[],e.progress.lastElementChild.textContent='Syncing your blacklist...',await syncWhitelistBlacklist('blacklisted',e,'https://www.steamgifts.com/account/manage/blacklist/search?page=')),e.progress.lastElementChild.textContent='Saving your whitelist/blacklist (this may take a while)...',await saveUsers(e.users)),!e.canceled)){if(!e.autoSync&&(e.parameters&&e.parameters.HiddenGames||!e.parameters&&esgst.settings.syncHiddenGames)){e.progress.lastElementChild.textContent='Syncing your hidden games...',e.hiddenGames={apps:[],subs:[]};let t=1,s=null;do{let n,i;for(let s=0,a=(n=(i=parseHtml((await request({method:'GET',url:`https://www.steamgifts.com/account/settings/giveaways/filters/search?page=${t}`})).responseText)).querySelectorAll('.table__column__secondary-link[href*="store.steampowered.com"]')).length;s<a;++s){let t=n[s].getAttribute('href').match(/(app|sub)\/(\d+)/);t&&e.hiddenGames[`${t[1]}s`].push(t[2])}s=i.getElementsByClassName('pagination__navigation')[0],t+=1}while(!e.canceled&&s&&!s.lastElementChild.classList.contains('is-selected'));let n=await createLock('gameLock',300),i=JSON.parse(await getValue('games'));for(let e in i.apps)delete i.apps[e].hidden;for(let e in i.subs)delete i.subs[e].hidden;for(let t=0,s=e.hiddenGames.apps.length;t<s;++t)i.apps[e.hiddenGames.apps[t]]||(i.apps[e.hiddenGames.apps[t]]={}),i.apps[e.hiddenGames.apps[t]].hidden=!0;for(let t=0,s=e.hiddenGames.subs.length;t<s;++t)i.subs[e.hiddenGames.subs[t]]||(i.subs[e.hiddenGames.subs[t]]={}),i.subs[e.hiddenGames.subs[t]].hidden=!0;await setValue('games',JSON.stringify(i)),n()}if(!e.canceled){if(e.parameters&&e.parameters.Games||!e.parameters&&(e.autoSync||esgst.settings.syncGames)){e.progress.lastElementChild.textContent='Syncing your wishlisted/owned/ignored games...',e.html='';let t=null;esgst.steamApiKey&&(t=await request({method:'GET',url:`http://api.steampowered.com/IPlayerService/GetOwnedGames/v0001/?key=${esgst.steamApiKey}&steamid=${esgst.steamId}&format=json`}));let s=await request({method:'GET',url:`http://store.steampowered.com/dynamicstore/userdata?${Math.random().toString().split('.')[1]}`}),n=await createLock('gameLock',300);await syncGames(null,e,t,s),n();for(let s=0,n=esgst.settings.gc_o_altAccounts.length;!e.canceled&&s<n;s++){let n=esgst.settings.gc_o_altAccounts[s];t=await request({method:'GET',url:`http://store.steampowered.com/dynamicstore/userdata?${Math.random().toString().split('.')[1]}`}),await syncGames(n,e,t)}if(await setSetting('gc_o_altAccounts',esgst.settings.gc_o_altAccounts),e.html){e.results.insertAdjacentHTML('afterBegin',e.html);let t=e.results.getElementsByTagName('a');for(let e=t.length-1;e>-1;--e){let s=t[e],n=s.getAttribute('href').match(/\/(app|sub)\/(.+)/);if(n){let e=n[1],t=n[2];request({method:'GET',url:`http://store.steampowered.com/api/${'app'===e?'appdetails?appids':'packagedetails?packageids'}=${t}&filters=basic`}).then(setSyncGameName.bind(null,s))}}}}if(!(e.canceled||(!e.autoSync&&(e.parameters&&e.parameters.WonGames||!e.parameters&&esgst.settings.syncWonGames)&&(e.progress.lastElementChild.textContent='Syncing your won games...',await getWonGames('0')),e.canceled||(!e.autoSync&&(e.parameters&&e.parameters.ReducedCvGames||!e.parameters&&esgst.settings.syncReducedCvGames)&&(e.progress.lastElementChild.textContent='Syncing reduced CV games...',await lockAndSaveGames(JSON.parse((await request({method:'GET',url:'https://script.google.com/macros/s/AKfycbwJK-7RBh5ghaKprEsmx4DQ6CyXc_3_9eYiOCu3yhI6W4B3W4YN/exec'})).responseText).success)),e.canceled||(!e.autoSync&&(e.parameters&&e.parameters.NoCvGames||!e.parameters&&esgst.settings.syncNoCvGames)&&(e.progress.lastElementChild.textContent='Syncing no CV games...',await lockAndSaveGames(JSON.parse((await request({method:'GET',url:'https://script.google.com/macros/s/AKfycbym0nzeyr3_b93ViuiZRivkBMl9PBI2dTHQxNC0rtgeQSlCTI-P/exec'})).responseText).success)),e.canceled))))){if(!e.autoSync&&(e.parameters&&e.parameters.Giveaways||!e.parameters&&esgst.settings.syncGiveaways)&&esgst.sg){e.progress.lastElementChild.textContent='Syncing your giveaways...';let t={steamId:esgst.steamId,username:esgst.username},s=await getUser(null,t),n=null;if(s&&(n=s.giveaways),!n&&(n={sent:{apps:{},subs:{}},won:{apps:{},subs:{}},sentTimestamp:0,wonTimestamp:0},s)){let e=s.ugd;if(e){let t={};if(e.sent){for(let s in e.sent.apps){n.sent.apps[s]=[];for(let i=0,a=e.sent.apps[s].length;i<a;++i)t[e.sent.apps[s][i].code]=e.sent.apps[s][i],n.sent.apps[s].push(e.sent.apps[s][i].code)}for(let s in e.sent.subs){n.sent.subs[s]=[];for(let i=0,a=e.sent.subs[s].length;i<a;++i)t[e.sent.subs[s][i].code]=e.sent.subs[s][i],n.sent.subs[s].push(e.sent.subs[s][i].code)}n.sentTimestamp=e.sentTimestamp}if(e.won){for(let s in e.won.apps){n.won.apps[s]=[];for(let i=0,a=e.won.apps[s].length;i<a;++i)t[e.won.apps[s][i].code]=e.won.apps[s][i],n.won.apps[s].push(e.won.apps[s][i].code)}for(let s in e.won.subs){n.won.subs[s]=[];for(let i=0,a=e.won.subs[s].length;i<a;++i)t[e.won.subs[s][i].code]=e.won.subs[s][i],n.won.subs[s].push(e.won.subs[s][i].code)}n.wonTimestamp=e.wonTimestamp}Object.keys(t).length>0&&await lockAndSaveGiveaways(t)}}let i={key:'sent',giveaways:{}};'7.13.0'!==n.version&&(n.sent={apps:{},subs:{}},n.sentTimestamp=0,n.version='7.13.0'),t.values={giveaways:await getUgdGiveaways(i,n,1,esgst.username),ugd:null},await saveUser(null,null,t)}if(!esgst.firstInstall){e.progress.lastElementChild.textContent='Updating last sync date...';let t=new Date;if(currentTime=t.getTime(),e.autoSync)await setSetting('lastSyncGroups',currentTime),await setSetting('lastSyncGames',currentTime),esgst.lastSyncGroups=currentTime,esgst.lastSyncGames=currentTime;else{let s=t.toLocaleString(),n=['Groups','Whitelist','Blacklist','HiddenGames','Games','WonGames','ReducedCvGames','NoCvGames','Giveaways'];for(let t=n.length-1;t>-1;t--){let i=n[t],a=`sync${i}`;(e.parameters&&e.parameters[i]||!e.parameters&&esgst.settings[a])&&(await setSetting(`lastSync${i}`,currentTime),esgst[`lastSync${i}`]=currentTime,e.switches&&e.switches[a]&&(e.switches[a].date.innerHTML=`<i class="fa fa-check-circle"></i> Last synced ${s}`))}}e.progress.innerHTML='Synced!',delLocalValue('isSyncing')}e.set&&e.autoSync&&e.set.set.remove(),e.parameters&&e.popup&&(e.popup.icon.classList.remove('fa-circle-o-notch','fa-spin'),e.popup.icon.classList.add('fa-check'),e.popup.title.textContent='Done! You can close this now.')}}}}}async function syncWhitelistBlacklist(e,t,s){let n=1,i=null;do{let a,o;for(let i=0,r=(a=(o=parseHtml((await request({method:'GET',url:`${s}${n}`})).responseText)).getElementsByClassName('table__row-outer-wrap')).length;i<r;++i){let s,n;(n={id:(s=a[i]).querySelector('[name="child_user_id"]').value,username:s.getElementsByClassName('table__column__heading')[0].textContent,values:{}}).values[e]=!0,n.values[`${e}Date`]=1e3*parseInt(s.querySelector('[data-timestamp]').getAttribute('data-timestamp')),t.users.push(n)}i=o.getElementsByClassName('pagination__navigation')[0],n+=1}while(!t.canceled&&i&&!i.lastElementChild.classList.contains('is-selected'))}async function syncGames(e,t,s,n){let i=null;try{i=JSON.parse(n.responseText)}catch(e){}if(e||i&&i.rgOwnedApps.length>0){let n=e&&e.games||JSON.parse(await getValue('games')),a={apps:[],subs:[]},o={apps:[],subs:[]};for(let e in n.apps)n.apps[e].owned&&(a.apps.push(e),delete n.apps[e].owned),delete n.apps[e].wishlisted,delete n.apps[e].ignored,0===Object.keys(n.apps[e]).length&&delete n.apps[e];for(let e in n.subs)n.subs[e].owned&&(a.subs.push(e),delete n.subs[e].owned),delete n.subs[e].wishlisted,delete n.subs[e].ignored,0===Object.keys(n.subs[e]).length&&delete n.subs[e];let r=0;try{JSON.parse(s.responseText).response.games.forEach(e=>{let t=e.appid;n.apps[t]||(n.apps[t]={}),n.apps[t].owned=!0,o.apps.push(t.toString()),r+=1})}catch(e){}if(!e){[{jsonKey:'rgWishlist',key:'wishlisted',type:'apps'},{jsonKey:'rgOwnedApps',key:'owned',type:'apps'},{jsonKey:'rgOwnedPackages',key:'owned',type:'subs'},{jsonKey:'rgIgnoredApps',key:'ignored',type:'apps'},{jsonKey:'rgIgnoredPackages',key:'ignored',type:'subs'}].forEach(e=>{let t=e.key,s=e.type;i[e.jsonKey].forEach(e=>{n[s][e]||(n[s][e]={});let i=n[s][e][t];n[s][e][t]=!0,'owned'!==t||i||(o[s].push(e.toString()),r+=1)})}),r!==await getValue('ownedGames',0)&&await setValue('ownedGames',r);try{let e,t=(await request({method:'GET',url:`http://store.steampowered.com/wishlist/profiles/${esgst.steamId}?l=en`})).responseText.match(/g_rgWishlistData\s=\s(\[(.+?)\]);/);t&&JSON.parse(t[1]).forEach(e=>{let t=e.appid;n.apps[t]||(n.apps[t]={}),n.apps[t].wishlisted=e.added})}catch(e){}await setValue('games',JSON.stringify(n))}let l={apps:[],subs:[]},c={apps:[],subs:[]};a.apps.forEach(e=>{o.apps.indexOf(e)<0&&l.apps.push(`<a href="http://store.steampowered.com/app/${e}">${e}</a>`)}),a.subs.forEach(e=>{o.subs.indexOf(e)<0&&l.subs.push(`<a href="http://store.steampowered.com/sub/${e}">${e}</a>`)}),o.apps.forEach(e=>{a.apps.indexOf(e)<0&&c.apps.push(`<a href="http://store.steampowered.com/app/${e}">${e}</a>`)}),o.subs.forEach(e=>{a.subs.indexOf(e)<0&&c.subs.push(`<a href="http://store.steampowered.com/sub/${e}">${e}</a>`)}),e&&(l.apps.length>0||l.subs.length>0||c.apps.length>0&&c.subs.length>0)&&(t.html+=`\n                    <div>Alt Account - ${e.name}</div>\n                `),l.apps.length>0&&(t.html+=`\n                    <div>\n                        <span class="esgst-bold">Removed apps:</span> ${l.apps.join(', ')}\n                    </div>\n                `),l.subs.length>0&&(t.html+=`\n                    <div>\n                        <span class="esgst-bold">Removed packages:</span> ${l.subs.join(', ')}\n                    </div>\n                `),c.apps.length>0&&(t.html+=`\n                    <div>\n                        <span class="esgst-bold">Added apps:</span> ${c.apps.join(', ')}\n                    </div>\n                `),c.subs.length>0&&(t.html+=`\n                    <div>\n                        <span class="esgst-bold">Added packages:</span> ${c.subs.join(', ')}\n                    </div>\n                `)}else t.html+='\n                <div>An error ocurred when trying to sync your owned/wishlisted/ignored games, either because you are not logged in on Steam through the browser or the Steam API is currently unavailable (try again later).</div>\n            '}function setSyncGameName(e,t){try{e.textContent=JSON.parse(t.responseText)[id].data.name}catch(t){e.classList.add('esgst-red'),e.title='Unable to retrieve name for this game'}}async function lockAndSaveGiveaways(e){let t,s;t=await createLock('giveawayLock',300),s=JSON.parse(await getValue('giveaways','{}'));for(let t in e)if(s[t])for(let n in e[t])s[t][n]=e[t][n];else s[t]=e[t];await setValue('giveaways',JSON.stringify(s)),t()}async function lockAndSaveGroups(e,t){let s,n;if(s=await createLock('groupLock',300),n=JSON.parse(await getValue('groups','[]')),!Array.isArray(n)){let e=[];for(key in n)e.push(n[key]);n=e}if(t)for(let e=0,t=n.length;e<t;++e)n[e]&&delete n[e].member;for(let t in e){let s,i;for(s=0,i=n.length;s<i&&n[s].code!==t;++s);if(s<i)for(let i in e[t])n[s]&&(n[s][i]=e[t][i]);else n.push(e[t])}await setValue('groups',JSON.stringify(n)),s()}function sortArray(e){return e.sort(function(e,t){return e.localeCompare(t,{sensitivity:'base'})})}function sortArrayByKey(e,t){return e.sort(function(e,s){return e[t].localeCompare(s[t],{sensitivity:'base'})})}function sortArrayByNumberKey(e,t,s){let n=s?-1:1;return e.sort(function(e,s){return e[t]<s[t]?-1*n:e[t]>s[t]?1*n:0})}function setSiblingsOpacity(e,t){var s,n,i;for(n=0,i=(s=e.parentElement.children).length;n<i;++n)s[n]!=e&&(s[n].style.opacity=t)}function setHoverOpacity(e,t,s){e.addEventListener('mouseenter',function(){e.style.opacity=t}),e.addEventListener('mouseleave',function(){e.style.opacity=s})}function createUuid(e){var t,s;return t=16*Math.random()|0,(s='x'===e?t:3&t|8).toString(16)}function timeout(e){return new Promise(t=>setTimeout(t,e))}async function createLock(e,t){let s={key:e,threshold:t,uuid:'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,createUuid)};return await checkLock(s),setValue.bind(null,e,'{}')}async function checkLock(e){let t=JSON.parse(await getValue(e.key,'{}'));return!t||!t.uuid||t.timestamp<Date.now()-(e.threshold+1e3)?(await setValue(e.key,JSON.stringify({timestamp:Date.now(),uuid:e.uuid})),await timeout(e.threshold/2),(t=JSON.parse(await getValue(e.key,'{}')))&&t.uuid===e.uuid?void 0:checkLock(e)):(await timeout(e.threshold/3),checkLock(e))}function lookForPopups(e){var t,s;(t=(s=parseHtml(e.responseText)).querySelector('.popup--gift-sent, .popup--gift-received'))&&(document.body.appendChild(t),new Popup(null,null,!0,!1,t).open())}function createTooltip(e,t){var s;(s=new Popout('esgst-feature-description markdown',e,100)).popout.style.maxHeight='300px',s.popout.style.overflow='auto',s.popout.innerHTML=t}function createOptions(e){var t,s,n,i;return t=document.createElement('div'),s={},i={},e.forEach(e=>{e.check&&(n=e.id,s[n]=insertHtml(t,'beforeEnd','\n                    <div></div>\n                '),i[n]=new ToggleSwitch(s[n],n,!1,e.description,!1,!1,e.tooltip,esgst[n]))}),e.forEach(e=>{let t=esgst[e.id];i[e.id]&&(e.dependencies&&e.dependencies.forEach(n=>{s[n]&&(i[e.id].dependencies.push(s[n]),t||s[n].classList.add('esgst-hidden'))}),e.exclusions&&e.exclusions.forEach(n=>{s[n]&&(i[e.id].exclusions.push(s[n]),t&&s[n].classList.add('esgst-hidden'))}))}),t}function createResults(e,t,s){var n,i,a;for(n=0,i=s.length;n<i;++n)e.insertAdjacentHTML('beforeEnd',`\n                <div class="esgst-hidden">\n                    ${s[n].Icon}\n                    <span class="esgst-bold">${s[n].Description} (<span>0</span>):</span>\n                    <span class="esgst-popup-actions"></span>\n                </div>\n            `),t[a=s[n].Key]=e.lastElementChild,t[`${a}Count`]=t[a].firstElementChild.nextElementSibling.firstElementChild,t[`${a}Users`]=t[a].lastElementChild}function goToComment(e,t){var t,s,n,i;e||(e=location.hash),!(s=e.replace(/#/,''))&&!t||location.pathname.match(/^\/account/)||(!t&&s&&(t=document.getElementById(s)),t&&(n=t.offsetTop,scrollTo(0,n),scrollBy(0,-esgst.commentsTop),(i=document.getElementsByClassName(esgst.sg?'is_permalink':'author_permalink')[0])&&i.remove(),(t=t.getElementsByClassName(esgst.sg?'comment__username':'author_avatar')[0])&&t.insertAdjacentHTML(esgst.sg?'beforeBegin':'afterEnd','\n                        <i class="fa fa-share is_permalink author_permalink"></i>\n                    ')))}async function lockAndSaveGames(e){let t=await createLock('gameLock',300),s=JSON.parse(await getValue('games'));for(let t in e.apps){if(s.apps[t])for(let n in e.apps[t])null===e.apps[t][n]?delete s.apps[t][n]:s.apps[t][n]=e.apps[t][n];else s.apps[t]=e.apps[t];s.apps[t].tags||delete s.apps[t].tags}for(let t in e.subs){if(s.subs[t])for(let n in e.subs[t])null===e.subs[t][n]?delete s.subs[t][n]:s.subs[t][n]=e.subs[t][n];else s.subs[t]=e.subs[t];s.subs[t].tags||delete s.subs[t].tags}await setValue('games',JSON.stringify(s)),t()}function formatDate(e){var t,s,n,i,a;return t=['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],s=e.getHours(),n=(n=e.getMinutes())>9?n:`0${n}`,i=`${t[e.getMonth()]} ${e.getDate()}, ${e.getFullYear()} `,s>=12?(s>12&&(s-=12),a='pm'):(0===s&&(s=12),a='am'),i+=`${s}:${n} ${a}`}async function getWonGames(e){let t=parseHtml((await request({method:'GET',url:'/giveaways/won'})).responseText),s=JSON.parse(await getValue('games'));for(let e in s.apps)s.apps[e].won&&(s.apps[e].won=null);for(let e in s.subs)s.subs[e].won&&(s.subs[e].won=null);let n=t.querySelectorAll('.table__gift-feedback-awaiting-reply[data-feedback="1"]:not(.is-hidden)');for(let e=n.length-1;e>-1;--e){let t=n[e].closest('.table__row-inner-wrap');if(t.querySelector('.table__gift-feedback-awaiting-reply[data-feedback="0"]:not(.is-hidden), [data-popup="popup--not-received"]')){let e=getGameInfo(t);s[e.type][e.id]||(s[e.type][e.id]={}),s[e.type][e.id].won=1}}await lockAndSaveGames(s),setLocalValue('wonCount',e)}function saveAndSortContent(e,t,s,n){n&&n(),sortContent(esgst[t],s.value),setSetting(e,s.value)}function sortContent(e,t){var s,n,i,a,o,r,l,c;for(c=t.split(/_/),r=c[0],'asc'===c[1]?(n=-1,s=1):(n=1,s=-1),e.sort(function(e,t){return'string'==typeof e[r]&&'string'==typeof t[r]?e[r].toLowerCase().localeCompare(t[r].toLowerCase())*s:e[r]<t[r]?n:e[r]>t[r]?s:0}),o=0,l=e.length;o<l;++o)e[o].outerWrap.parentElement.appendChild(e[o].outerWrap);if('sortIndex'===r)for(o=(a=document.getElementsByClassName('esgst-es-page-divisor')).length-1;o>-1;--o)(i=a[o]).classList.remove('esgst-hidden'),i.parentElement.insertBefore(i,document.getElementsByClassName(`esgst-es-page-${o+2}`)[0]);else for(o=(a=document.querySelectorAll('.esgst-es-page-divisor:not(.esgst-hidden)')).length-1;o>-1;--o)a[o].classList.add('esgst-hidden')}function hideGame(e,t,s){var n,i,a;(a=new Popup('fa-eye-slash',`Would you like to hide all giveaways for <span class="esgst-bold">${s}</span>?`,!0)).description.appendChild(new ButtonSet('green','grey','fa-check-circle','fa-refresh fa-spin','Yes','Please wait...',async s=>{for(await request({data:`xsrf_token=${esgst.xsrfToken}&do=hide_giveaways_by_game_id&game_id=${t}`,method:'POST',url:'/ajax.php'}),n=document.querySelectorAll(`.giveaway__row-outer-wrap[data-game-id="${t}"]`),i=n.length-1;i>-1;--i)n[i].remove();e.remove(),s(),a.close()}).set),a.actions.firstElementChild.outerHTML='\n            <a href="/account/settings/giveaways/filters">View Hidden Games</a>\n        ',a.open()}function unhideGame(e,t,s){var n,i,a;(a=new Popup('fa-eye-slash',`Would you like to unhide all giveaways for <span class="esgst-bold">${s}</span>?`,!0)).description.appendChild(new ButtonSet('green','grey','fa-check-circle','fa-refresh fa-spin','Yes','Please wait...',async s=>{await request({data:`xsrf_token=${esgst.xsrfToken}&do=remove_filter&game_id=${t}`,method:'POST',url:'/ajax.php'}),e.remove(),s(),a.close()}).set),a.actions.firstElementChild.outerHTML='\n            <a href="/account/settings/giveaways/filters">View Hidden Games</a>\n        ',a.open()}function rot(e,t){return e.replace(/[a-zA-Z]/g,function(e){return String.fromCharCode((e<='Z'?90:122)>=(e=e.charCodeAt(0)+t)?e:e-26)})}function buildGiveaway(e,t){var s,n,i,a,o,r,l,c,d,g,u,h,m,p,f,v,x,w,b,y,F,_;if(u=e.getElementsByClassName('featured__outer-wrap--giveaway')[0]){for(n=t.match(/giveaway\/(.+?)\//)[1],f=u.getAttribute('data-game-id'),p=0,w=(v=(h=u.getElementsByClassName('featured__heading')[0]).getElementsByTagName('a')).length;p<w;++p)v[p].classList.add('giveaway__icon');for((m=h.firstElementChild).outerHTML=`<a class="giveaway__heading__name" href="${t}">${m.innerHTML}</a>`,p=0,w=(_=h.getElementsByClassName('featured__heading__small')).length;p<w;++p)_[0].outerHTML=`<span class="giveaway__heading__thin">${_[0].innerHTML}</span>`;for((c=(a=h.nextElementSibling).firstElementChild).classList.remove('featured__column'),l=1e3*parseInt(c.lastElementChild.getAttribute('data-timestamp')),(F=c.nextElementSibling).classList.remove('featured__column','featured__column--width-fill'),F.classList.add('giveaway__column--width-fill'),(s=a.lastElementChild).remove(),F.querySelector('[style]').removeAttribute('style'),i=F.nextElementSibling;i;)i.classList.remove('featured__column'),i.className=i.className.replace(/featured/g,'giveaway'),i=i.nextElementSibling;return d=(b=e.getElementsByClassName('sidebar__entry-delete')[0])&&!b.classList.contains('is-hidden')?'is-faded':'',(r=e.getElementsByClassName('sidebar__navigation__item__count')).length>1?(g=r[1].textContent,o=r[0].textContent,y=!0):(g=0,o=r[0].textContent,y=!1),x=u.getElementsByClassName('global__image-outer-wrap--game-large')[0].firstElementChild.getAttribute('src'),{code:n,html:`\n                    <div>\n                        <div class="giveaway__row-outer-wrap" data-game-id="${f}">\n                            <div class="giveaway__row-inner-wrap ${d}">\n                                <div class="giveaway__summary">\n                                    <h2 class="giveaway__heading">${h.innerHTML}</h2>\n                                    <div class="giveaway__columns">${a.innerHTML}</div>\n                                    <div class="giveaway__links">\n                                        <a href="${t}/entries">\n                                            <i class="fa fa-tag"></i>\n                                            <span>${g} entries</span>\n                                        </a>\n                                        <a href="${t}/comment">\n                                            <i class="fa fa-comment"></i>\n                                            <span>${o} comments</span>\n                                        </a>\n                                    </div>\n                                </div>\n                                ${s.outerHTML}\n                                <a class="giveaway_image_thumbnail" href="${t}" style="background-image: url(${x})"></a>\n                            </div>\n                        </div>\n                    </div>\n                `,started:y,timestamp:l}}return null}function copyValue(e,t){let s=insertHtml(document.body,'beforeEnd','\n            <textarea></textarea>\n        ');s.value=t,s.select(),document.execCommand('copy'),s.remove(),e&&(e.classList.add('esgst-green'),setTimeout(()=>e.classList.remove('esgst-green'),2e3))}function observeChange(e,t){e.addEventListener('change',()=>{setSetting(t,e.value),esgst[t]=e.value})}function observeNumChange(e,t){e.addEventListener('change',()=>{setSetting(t,parseInt(e.value)),esgst[t]=parseInt(e.value)})}function getParameters(){let e={};return location.search.replace(/^\?/,'').split(/&/).forEach(t=>{t=t.split(/=/),e[t[0]]=t[1]}),e}async function checkMissingDiscussions(e,t){let s=JSON.parse(await getValue('discussions','{}')),n=document.getElementsByClassName('table__rows'),i=0,a=0,o=0,r=0;if(e)n[0].innerHTML='',n[1].innerHTML='';else{let e=null;if(esgst.df){let t=esgst.df_preset;if(t){let s=JSON.parse(esgst.storage.dfPresets),n;for(n=s.length-1;n>-1&&s[n].name!==t;n--);n>-1&&(e=s[n])}}e?((await getDiscussions(n[0],!0,s)).forEach(t=>{filterDfDiscussion(e,t)?(t.outerWrap.remove(),o+=1):i+=1}),(await getDiscussions(n[1],!0,s)).forEach(t=>{filterDfDiscussion(e,t)?(t.outerWrap.remove(),r+=1):a+=1})):(i=(await getDiscussions(n[0],!0,s)).length,a=(await getDiscussions(n[1],!0,s)).length)}if(i<5||a<5){let[l,c]=await Promise.all([request({method:'GET',url:'/discussions'}),request({method:'GET',url:'/discussions/deals'})]),d=parseHtml(l.responseText),g=parseHtml(c.responseText),u=[],h=null;if(esgst.df){let e=esgst.df_preset;if(e){let t=JSON.parse(esgst.storage.dfPresets),s;for(s=t.length-1;s>-1&&t[s].name!==e;s--);s>-1&&(h=t[s])}}(await getDiscussions(d,!0,s)).forEach(e=>{'Deals'!==e.category&&u.push(e)});let m=u.length-(i+o+1);for(;i<5&&m>-1;)h&&filterDfDiscussion(h,u[m])||(setMissingDiscussion(u[m]),n[0].appendChild(u[m].outerWrap),i+=1),m-=1;let p=await getDiscussions(g,!0,s);for(m=p.length-(a+r+1);a<5&&m>-1;)h&&filterDfDiscussion(h,p[m])||(setMissingDiscussion(p[m]),n[1].appendChild(p[m].outerWrap),a+=1),m-=1;esgst.adots?loadAdots(e):esgst.radb&&!e&&addRadbButtons(),e&&await loadEndlessFeatures(esgst.activeDiscussions),t&&t()}else esgst.adots?loadAdots():esgst.radb&&!e&&addRadbButtons(),t&&t()}function setMissingDiscussion(e){e&&(e.outerWrap.innerHTML=`\n                <div class="table__row-outer-wrap" style="padding: 15px 0;">\n                    <div class="table__row-inner-wrap">\n                        <div>\n                            <a class="table_image_avatar" href="/user/${e.author}" style="background-image:${e.avatar.style.backgroundImage.replace(/"/g,'\'')};"></a>\n                        </div>\n                        <div class="table__column--width-fill">\n                            <h3 style="margin-bottom: 2px;">\n                                <a class="homepage_table_column_heading" href="${e.url}">${e.title}</a>\n                            </h3>\n                            <p>\n                                ${e.lastPostTime?`\n                                    <a class="table__column__secondary-link" href="${e.url}">${e.comments} Comments</a> - Last post <span data-timestamp="${e.lastPostTimestamp}">${e.lastPostTime}</span> ago by <a class="table__column__secondary-link" href="/user/${e.lastPostAuthor}">${e.lastPostAuthor}</a>\n                                    <a class="icon-green table__last-comment-icon" href="/go/comment/${e.lastPostCode}">\n                                        <i class="fa fa-chevron-circle-right"></i>\n                                    </a>\n                                `:`\n                                    <a class="table__column__secondary-link" href="${e.url}">${e.comments} Comments</a> - Created <span data-timestamp="${e.createdTimestamp}">${e.createdTime}</span> ago by <a class="table__column__secondary-link" href="/user/${e.author}">${e.author}</a>\n                                `}\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            `,e.outerWrap=e.outerWrap.firstElementChild)}function getTimeSince(e){let t,s;return s=Math.floor((Date.now()-e)/1e3),(t=Math.floor(s/31104e3))>=1?`${t} year${1===t?'':'s'}`:(t=Math.floor(s/2592e3))>=1?`${t} month${1===t?'':'s'}`:(t=Math.floor(s/86400))>=1?`${t} day${1===t?'':'s'}`:(t=Math.floor(s/3600))>=1?`${t} hour${1===t?'':'s'}`:(t=Math.floor(s/60))>=1?`${t} minute${1===t?'':'s'}`:`${t=Math.floor(s)} second${1===t?'':'s'}`}function debug(){let popup,textArea;popup=new Popup('fa-bug','Debug'),popup.description.insertAdjacentHTML('afterBegin','<div class="esgst-description">Insert the Javascript code below to debug it. To open the console, use Ctrl + Shift + I.<br><br><span class="esgst-bold esgst-red">BE CAREFUL! Only do this if you know what you are doing or if you have been instructed to.<br><br>Playing with this when you do not know what you are doing could lead to serious consequences, such as having your entire data wiped out.<br><br>YOU HAVE BEEN WARNED!</span></div>'),textArea=insertHtml(popup.scrollable,'beforeEnd','<textarea class="esgst-debug"></textarea>'),popup.description.appendChild(new ButtonSet('green','','fa-bug','','Debug','',callback=>{callback(),eval(textArea.value)}).set),popup.open(()=>textArea.focus())}async function requestGroupInvite(){let e=new Popup('fa-circle-o-notch fa-spin','Sending request...',!0);e.open(),esgst.username?(await request({data:`username=${esgst.username}`,method:'POST',url:'https://script.google.com/macros/s/AKfycbw0odO9iXZBJmK54M_MUQ_IEv5l4RNzj7cEx_FWCZbrtNBNmQ/exec'}),e.icon.className='fa fa-check',e.title.innerHTML='Request sent! If you have not done so already, you also need to send a request from the <a class="esgst-bold" href="http://steamcommunity.com/groups/esgst">Steam group</a> page. After that you should be accepted in 24 hours at most.'):(e.icon.className='fa-times-circle',e.title.textContent='Something went wrong, please try again later. If it continues to happen, please report the issue.')}function filterSm(e){let t,s,n,i,a,o,r,l;for(o in l=e.currentTarget.value.toLowerCase().trim(),esgst.features){for(a in i=!1,r=!1,esgst.features[o].features)unfadeSmFeatures(esgst.features[o].features[a],a),(i=filterSmFeature(esgst.features[o].features[a],a,l))&&(r=!0,unhideSmFeature(esgst.features[o].features[a],a));(s=document.getElementById(`esgst_${o}`))&&(r?s.classList.remove('esgst-hidden'):s.classList.add('esgst-hidden'),l?(n=s.getElementsByClassName('fa-plus-square')[0])&&n.click():(t=s.getElementsByClassName('fa-minus-square')[0])&&t.click())}}function unfadeSmFeatures(e,t){let s=document.getElementById(`esgst_${t}`);if(s&&s.classList.remove('esgst-sm-faded'),e.features)for(t in e.features)unfadeSmFeatures(e.features[t],t)}function filterSmFeature(e,t,s){let n,i,a;i=!1;let o=e.name.toLowerCase().match(s);if(e.features){for(a in e.features){let t=filterSmFeature(e.features[a],a,s);i=i||t}i=i||e.description&&e.description.toLowerCase().match(s)||o}else i=e.description&&e.description.toLowerCase().match(s)||o;return(n=document.getElementById(`esgst_${t}`))&&(i?n.classList.remove('esgst-hidden'):n.classList.add('esgst-hidden'),o||n.classList.add('esgst-sm-faded')),i}function unhideSmFeature(e,t){let s=document.getElementById(`esgst_${t}`);if(s&&s.classList.remove('esgst-hidden'),e.features)for(t in e.features)unhideSmFeature(e.features[t],t)}function loadSMMenu(e){let t,s,n,i,a;e?(document.body.className='esgst-tab-menu',s=document.body):((a=new Popup('fa-gear','Settings',!0,!0)).description.classList.add('esgst-text-left'),s=a.scrollable),s.innerHTML='\n            <div class="esgst-page-heading"></div>\n            <input placeholder="Filter features..." type="text">\n            <div class="esgst-settings-menu"></div>\n        ',s.firstElementChild.nextElementSibling.addEventListener('input',filterSm);var o=s.getElementsByClassName('esgst-page-heading')[0];createSMButtons(o,[{Check:!0,Icons:['fa-refresh'],Name:'esgst-heading-button',Title:'Sync data'},{Check:!0,Icons:['fa-arrow-circle-up'],Name:'esgst-heading-button',Title:'Import data'},{Check:!0,Icons:['fa-arrow-circle-down'],Name:'esgst-heading-button',Title:'Export data'},{Check:!0,Icons:['fa-trash'],Name:'esgst-heading-button',Title:'Delete data'},{Check:!0,Icons:['fa-gear','fa-arrow-circle-down'],Name:'esgst-heading-button',Title:'Export settings (exports settings without personal data so you can easily share them with other users)'},{Check:!0,Icons:['fa-paint-brush'],Name:'esgst-heading-button',Title:'Clean old data'},{Check:!0,Icons:['fa-user','fa-history'],Name:'SMViewUsernameChanges esgst-heading-button',Title:'View recent username changes'},{Check:esgst.uf,Icons:['fa-user','fa-eye-slash'],Name:'SMManageFilteredUsers esgst-heading-button',Title:'See list of filtered users'},{Check:esgst.sg&&esgst.gf&&esgst.gf_s,Icons:['fa-gift','fa-eye-slash'],Name:'SMManageFilteredGiveaways esgst-heading-button',Title:'Manage hidden giveaways'},{Check:esgst.sg&&esgst.df&&esgst.df_s,Icons:['fa-comments','fa-eye-slash'],Name:'SMManageFilteredDiscussions esgst-heading-button',Title:'Manage hidden discussions'},{Check:esgst.ut,Icons:['fa-user','fa-tags'],Name:'SMManageUserTags esgst-heading-button',Title:'Manage user tags'},{Check:esgst.gt,Icons:['fa-gamepad','fa-tags'],Name:'SMManageGameTags esgst-heading-button',Title:'Manage game tags'},{Check:esgst.wbc,Icons:['fa-heart','fa-ban','fa-cog'],Name:'esgst-wbc-button esgst-heading-button',Title:'Manage Whitelist / Blacklist Checker caches'},{Check:esgst.namwc,Icons:['fa-trophy','fa-cog'],Name:'esgst-namwc-button esgst-heading-button',Title:'Manage Not Activated / Multiple Wins Checker caches'},{Check:!0,Icons:['fa-bug'],Name:'esgst-heading-button',Title:'Debug'},{Check:!0,Icons:['fa-steam'],Name:'esgst-heading-button',Title:'Request access to the Steam group'}]);var r=s.getElementsByClassName('esgst-settings-menu')[0];let l,c;for(c in l=1,esgst.features)if('trades'!==c||esgst.settings.esgst_st){let e,t,s,n;for(e in n=c.replace(/^./,e=>e.toUpperCase()),s=createMenuSection(r,null,l,esgst.features[c].newBelow?`\n                    <span class="esgst-bold esgst-red" title="There is a new feature/option in this section">\n                        <i class="fa fa-star"></i>\n                    </span>\n                    ${n}\n                `:n,c),t=1,esgst.features[c].features){let n,i;(n=esgst.features[c].features[e]).extensionOnly&&'extension'!==esgst.type||(i=getSMFeature(n,e,t))&&(s.lastElementChild.appendChild(i),t+=1)}l+=1}createMenuSection(r,'\n            <input class="esgst-steam-api-key" type="text"/>\n            <div class="esgst-description">This is optional for syncing owned games faster and required for syncing alt accounts. Get a Steam API Key <a class="esgst-bold" href="https://steamcommunity.com/dev/apikey" target="_blank">here</a>. You can enter any domain in there, it is irrelevant, for example, "https://www.steamgifts.com".</div>\n        ',l,'Steam API Key'),n=s.getElementsByClassName('SMManageFilteredUsers')[0];var d=s.getElementsByClassName('SMManageFilteredGiveaways')[0],g=s.getElementsByClassName('SMManageFilteredDiscussions')[0],u=s.getElementsByClassName('SMManageUserTags')[0],h=s.getElementsByClassName('SMManageGameTags')[0],m=s.getElementsByClassName('SMViewUsernameChanges')[0];for(esgst.wbc&&addWBCButton(null,s.getElementsByClassName('esgst-wbc-button')[0]),esgst.namwc&&setNamwcPopup.call({button:s.getElementsByClassName('esgst-namwc-button')[0],isMenu:!0}),i=s.getElementsByClassName('esgst-steam-api-key')[0],key=esgst.steamApiKey,key&&(i.value=key),o.firstElementChild.addEventListener('click',async()=>{o.firstElementChild.classList.add('esgst-busy'),await checkSync(!0,!0),o.firstElementChild.classList.remove('esgst-busy')}),o.firstElementChild.nextElementSibling.addEventListener('click',loadDataManagement.bind(null,!1,'import',null)),o.firstElementChild.nextElementSibling.nextElementSibling.addEventListener('click',loadDataManagement.bind(null,!1,'export',null)),o.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling.addEventListener('click',loadDataManagement.bind(null,!1,'delete',null)),o.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling.addEventListener('click',exportSettings),o.firstElementChild.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling.nextElementSibling.addEventListener('click',loadDataCleaner),o.lastElementChild.previousElementSibling.addEventListener('click',debug),l=esgst.groups.length-1;l>-1&&'103582791461018688'!==esgst.groups[l].steamId;l--);if(l<0||!esgst.groups[l]||!esgst.groups[l].member?o.lastElementChild.addEventListener('click',requestGroupInvite):o.lastElementChild.classList.add('esgst-hidden'),u&&u.addEventListener('click',openManageUserTagsPopup),h&&h.addEventListener('click',openManageGameTagsPopup),n&&setSMManageFilteredUsers(n),d&&setSMManageFilteredGiveaways(d),g&&setSMManageFilteredDiscussions(g),m&&setSMRecentUsernameChanges(m),i.addEventListener('input',function(){setSetting('steamApiKey',i.value)}),!e&&(a.open(),esgst.firstInstall)){let e=new Popup('fa-check','Getting Started',!0);e.scrollable.innerHTML='\n                    <div class="esgst-bold">Here are some things you should know to help you get started:</div>\n                    <br/>\n                    <div class="markdown">\n                        <ul>\n                            <li>Bugs and suggestions should be reported on the <a href="https://github.com/revilheart/ESGST/issues">GitHub page</a>.</li>\n                            <li>Make sure you backup your data using the export button at the top of the menu every once in a while to prevent any data loss that might occur. It\'s also probably a good idea to disable automatic updates, since ESGST is in constant development.</li>\n                            <li>Hover over the <i class="fa fa-question-circle"></i> icon next to each option that has it to learn more about it and how to use it. Some options are currently missing documentation, so feel free to ask about them in the official ESGST thread.</li>\n                            <li>Some features rely on sync to work properly. These features have a <i class="fa fa-refresh esgst-negative"></i> icon next to their names, and when you hover over the icon you can see what type of data you have to sync. You should sync often to keep your data up-to-date. ESGST offers an option to automatically sync your data for you every amount of days so you don\'t have to do it manually. To enable the automatic sync, simply go to the sync section of the menu (section 1) and select the number of days in the dropdown.</li>\n                            <li>ESGST uses 2 terms to define a window opened in the same page: <strong>popout</strong> is when the window opens up, down, left or right from the element you clicked/hovered over (like the one you get with the description of the features) and <strong>popup</strong> is when the window opens in the center of the screen with a modal background behind it (like this one).</li>\n                            <li>That\'s all for now, you can close this.</li>\n                        </ul>\n                    </div>\n                ',e.open(),esgst.firstInstall=!1}}function escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,'\\$&')}function openPathsPopup(e,t,s){let n={excludeItems:[],includeItems:[],name:s,popup:new Popup('fa-gear',`[${s.toUpperCase()}] ${e.name}`)};n.popup.description.classList.add('esgst-text-left'),n.include=insertHtml(n.popup.scrollable,'beforeEnd','\n            <div class="esgst-bold">Include: <i class="fa fa-question-circle" title="Enter the paths where you want the feature to run here. You need to use regular expressions, so if you are not familiar with them, just to go to the page where you want the feature to run and click \'Add Current\'. \'.*\' means that the feature runs everywhere possible."></i></div>\n            <div></div>\n        ');let i=insertHtml(n.popup.scrollable,'beforeEnd','<div class="esgst-button-group"></div>');i.appendChild(new ButtonSet_v2({color1:'grey',color2:'',icon1:'fa-plus-circle',icon2:'',title1:'Add New',title2:'',callback1:addPath.bind(null,'include',n,{enabled:1,pattern:''})}).set),i.appendChild(new ButtonSet_v2({color1:'grey',color2:'',icon1:'fa-plus-circle',icon2:'',title1:'Add Current',title2:'',callback1:addPath.bind(null,'include',n,{enabled:1,pattern:`^${escapeRegExp(location.pathname)}${escapeRegExp(location.search)}`})}).set),n.exclude=insertHtml(n.popup.scrollable,'beforeEnd','\n            <div class="esgst-bold">Exclude: <i class="fa fa-question-circle" title="Enter the paths where you do not want the feature to run here. This acts as an exception to the included paths, as in, the feature will run in every included path, except for the excluded paths. You need to use regular expressions, so if you are not familiar with them, just to go to the page where you do not want the feature to run and click \'Add Current\'."></i></div>\n            <div></div>\n        '),(i=insertHtml(n.popup.scrollable,'beforeEnd','<div class="esgst-button-group"></div>')).appendChild(new ButtonSet_v2({color1:'grey',color2:'',icon1:'fa-plus-circle',icon2:'',title1:'Add New',title2:'',callback1:addPath.bind(null,'exclude',n,{enabled:1,pattern:''})}).set),i.appendChild(new ButtonSet_v2({color1:'grey',color2:'',icon1:'fa-plus-circle',icon2:'',title1:'Add Current',title2:'',callback1:addPath.bind(null,'exclude',n,{enabled:1,pattern:`^${escapeRegExp(location.pathname)}${escapeRegExp(location.search)}`})}).set),n.popup.description.appendChild(new ButtonSet_v2({color1:'green',color2:'grey',icon1:'fa-check-circle',icon2:'fa-circle-o-notch fa-spin',title1:'Save',title2:'Saving...',callback1:savePaths.bind(null,t,n)}).set),n.setting=getFeaturePath(e,t,n.name),n.setting.include.forEach(e=>addPath('include',n,e)),n.setting.exclude.forEach(e=>addPath('exclude',n,e)),n.popup.open()}function addPath(e,t,s){let n={};n.container=insertHtml(t[e],'beforeEnd','<div></div>'),n.switch=new ToggleSwitch(n.container,null,!0,'',!1,!1,null,s.enabled),n.input=insertHtml(n.container,'beforeEnd','\n            <input class="esgst-switch-input esgst-switch-input-large" type="text">\n        '),n.input.value=s.pattern,n.input.addEventListener('input',validatePathRegex.bind(null,n)),insertHtml(n.container,'beforeEnd','\n            <i class="fa fa-times-circle esgst-clickable" title="Remove"></i>\n        ').addEventListener('click',removePath.bind(null,n,e,t)),n.invalid=insertHtml(n.container,'beforeEnd','\n            <i class="fa fa-exclamation esgst-hidden esgst-red" title="Invalid Regular Expression"></i>\n        '),t[`${e}Items`].push(n),n.input.focus()}function removePath(e,t,s){let n=s[`${t}Items`].length-1;if(0!==n||'include'!==t){for(;n>-1&&s[`${t}Items`][n].input.value!==e.input.value;)n--;n>-1&&s[`${t}Items`].splice(n,1),e.container.remove()}else alert('At least 1 include path is required!')}function validatePathRegex(e){e.invalid.classList.add('esgst-hidden');try{new RegExp(e.input.value)}catch(t){console.log(t),e.invalid.classList.remove('esgst-hidden')}}function savePaths(e,t){t.setting.include=[],t.setting.exclude=[];for(let e=0,s=t.includeItems.length;e<s;e++)t.setting.include.push({enabled:t.includeItems[e].switch.value?1:0,pattern:t.includeItems[e].input.value});for(let e=0,s=t.excludeItems.length;e<s;e++)t.setting.exclude.push({enabled:t.excludeItems[e].switch.value?1:0,pattern:t.excludeItems[e].input.value});t.popup.close(),setSetting(`${e}_${t.name}`,t.setting)}function getSMFeature(e,t,s){var n,i,a,o,r,l,c,d,g,u;if((n=document.createElement('div')).id=`esgst_${t}`,n.insertAdjacentHTML('beforeEnd',`\n            <div class="esgst-sm-small-number esgst-form-heading-number">${s}.</div>\n        `),e.new?n.insertAdjacentHTML('beforeEnd','\n                <span class="esgst-bold esgst-red" title="This is a new feature/option">[NEW]</span>\n            '):e.newBelow&&n.insertAdjacentHTML('beforeEnd','\n                <span class="esgst-bold esgst-red" title="There is a new feature/option in this section">\n                    <i class="fa fa-star"></i>\n                </span>\n            '),e.sg&&(r=`${t}_sg`,c=getFeaturePath(e,t,'sg').enabled,g=new ToggleSwitch(n,t,!0,esgst.settings.esgst_st?'[SG]':'',!0,!1,null,c),insertHtml(n,'beforeEnd','<i class="fa fa-gear esgst-clickable" title="Customize where the feature runs"></i>').addEventListener('click',openPathsPopup.bind(null,e,t,'sg')),e.conflicts&&(g.onEnabled=(()=>{for(let t=0,s=e.conflicts.length;t<s;++t){let n=esgst.settings[`${e.conflicts[t].id}_sg`];(n.include&&n.enabled||!n.include&&n)&&(g.disable(),new Popup('fa-exclamation',`This feature conflicts with ${e.conflicts[t].name}. While that feature is enabled, this feature cannot be enabled.`,!0).open(),t=s)}}))),e.st&&(esgst.settings.esgst_st||'esgst'===t)&&(r=`${t}_st`,d=getFeaturePath(e,t,'st').enabled,u=new ToggleSwitch(n,t,!0,'[ST]',!1,!0,null,d),insertHtml(n,'beforeEnd','<i class="fa fa-gear esgst-clickable" title="Customize where the feature runs"></i>').addEventListener('click',openPathsPopup.bind(null,e,t,'st')),e.conflicts&&(u.onEnabled=(()=>{for(let t=0,s=e.conflicts.length;t<s;++t){let n=esgst.settings[`${e.conflicts[t].id}_st`];(n.include&&n.enabled||!n.include&&n)&&(u.disable(),new Popup('fa-exclamation',`This feature conflicts with ${e.conflicts[t].name}. While that feature is enabled, this feature cannot be enabled.`,!0).open(),t=s)}}))),g||u){if(l=c||d,n.insertAdjacentHTML('beforeEnd',`\n            <span>${esgst.settings.esgst_st?'- ':''}${e.name}</span> ${e.features?'<i class="fa fa-ellipsis-h" title="This option has sub-options"></i>':''} ${e.sync?`<i class="esgst-negative fa fa-refresh" title="This feature requires ${e.sync} data to be synced (section 1 of this menu)"></i>`:''} ${e.description?'<i class="fa fa-question-circle esgst-clickable"></i>':''}\n            <div class="esgst-form-row-indent SMFeatures esgst-hidden"></div>\n        `),o=n.lastElementChild,e.description){let t=null,s=o.previousElementSibling;s.addEventListener('mouseenter',()=>{t?t.open(s):((t=new Popout('esgst-feature-description markdown',s,100)).popout.style.maxHeight='300px',t.popout.style.overflow='auto',t.popout.innerHTML=e.description.replace(/\[id=(.+?)\]/g,getFeatureName),t.open(s))})}if(e.features){let t,s,n;for(n in s=1,e.features)e.features[n].extensionOnly&&'extension'!==esgst.type||(t=getSMFeature(e.features[n],n,s))&&(o.appendChild(t),s+=1);g&&g.dependencies.push(o),u&&u.dependencies.push(o),l&&o.classList.remove('esgst-hidden')}if('gc'===t)addGcCategoryPanel(o,'gc_categories'),esgst.gv&&addGcCategoryPanel(o,'gc_categories_gv'),o.classList.remove('esgst-hidden');else if('gwc'===t)addGwcrMenuPanel(o,'gwc_colors','chance'),o.classList.remove('esgst-hidden');else if('gwr'===t)addGwcrMenuPanel(o,'gwr_colors','ratio'),o.classList.remove('esgst-hidden');else if('gc_r'===t)addGcRatingPanel(o),o.classList.remove('esgst-hidden');else if('gc_o_a'===t)addGcAltMenuPanel(o),o.classList.remove('esgst-hidden');else if('lockGiveawayColumns'===t){let e=insertHtml(o,'beforeEnd',`\n                <div class="esgst-sm-colors">\n                    Select an option below and click on the button to reset the order:\n                    <br>\n                    <select>\n                        <option value="giveawayColumns">Giveaway Columns [${esgst.giveawayColumns.join(', ')}]</option>\n                        <option value="giveawayPanel">Giveaway Panel [${esgst.giveawayPanel.join(', ')}]</option>\n                        <option value="giveawayColumns_gv">Giveaway Columns (Grid View) [${esgst.giveawayColumns_gv.join(', ')}]</option>\n                        <option value="giveawayPanel_gv">Giveaway Panel (Grid View) [${esgst.giveawayPanel_gv.join(', ')}]</option>\n                    </select>\n                    <br>\n                    <div class="form__saving-button esgst-sm-colors-default">Reset Order</div>\n                </div>\n            `).firstElementChild.nextElementSibling;e.nextElementSibling.nextElementSibling.addEventListener('click',resetOrder.bind(null,e)),o.classList.remove('esgst-hidden')}else if(e.colors||e.background){var h=esgst[`${t}_color`],m=esgst[`${t}_bgColor`],p=`\n                <div class="esgst-sm-colors">\n                    ${e.background?'':`Text: <input type="color" value="${h}">`}\n                    Background: <input type="color" value="${m}">\n                    <div class="form__saving-button esgst-sm-colors-default">Use Default</div>\n                </div>\n            `;o.insertAdjacentHTML('beforeEnd',p);var f=o.lastElementChild.firstElementChild,v=e.background?f:f.nextElementSibling;if(e.background||addColorObserver(f,t,'color'),addColorObserver(v,t,'bgColor'),v.nextElementSibling.addEventListener('click',resetColor.bind(null,v,e.background?null:f,t)),'gc_g'===t&&((x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Only show the following genres: <input type="text" value="${esgst.gc_g_filters}">\n                        <i class="fa fa-question-circle" title="If you enter genres here, a genre category will only appear if the game has the listed genre. Separate genres with a comma, for example: Genre1, Genre2"></i>\n                    </div>\n                `)).firstElementChild.addEventListener('change',function(){setSetting('gc_g_filters',x.firstElementChild.value),esgst.gc_g_filters=x.firstElementChild.value}),addGcMenuPanel(o)),e.input){createTooltip((x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Icon: <input type="text" value="${esgst[`${t}Icon`]}"> <i class="esgst-clickable fa fa-question-circle"></i>\n                        <br/>\n                        Label: <input type="text" value="${esgst[`${t}Label`]}">\n                    </div>\n                `)).firstElementChild.nextElementSibling,'The name of the icon must be any name in this page: <a href="http://fontawesome.io/icons/">http://fontawesome.io/icons/</a> (except for the 41 new icons from 4.7, SG doesn\'t support that)');let e=x.firstElementChild,s=x.lastElementChild;e.addEventListener('change',function(){setSetting(`${t}Icon`,e.value),esgst[`${t}Icon`]=e.value}),s.addEventListener('change',function(){setSetting(`${t}Label`,s.value),esgst[`${t}Label`]=s.value}),'gc_rd'===t&&x.insertAdjacentHTML('beforeEnd','<i class="fa fa-question-circle" title="Enter the date format here, using the following keywords:\n\nDD - Day\nMM - Month in numbers (i.e. 1)\nMon - Month in short name (i.e. Jan)\nMonth - Month in full name (i.e. January)\nYYYY - Year"></i>')}g&&g.dependencies.push(o),u&&u.dependencies.push(o),l&&o.classList.remove('esgst-hidden')}else if(e.input){var x,w,b;if('npth'===t)x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Enter the key you want to use for previous links: <input type="text" value="${esgst.npth_previousKey}">\n                        <br/>\n                        Enter the key you want to use for next links: <input type="text" value="${esgst.npth_nextKey}">\n                    </div>\n                `),w=x.firstElementChild,b=x.lastElementChild,w.addEventListener('keydown',function(e){e.preventDefault(),setSetting('npth_previousKey',e.key),esgst.npth_previousKey=e.key,w.value=e.key}),b.addEventListener('keydown',function(e){e.preventDefault(),setSetting('npth_nextKey',e.key),esgst.npth_nextKey=e.key,b.value=e.key});else if(t.match(/^sk_/))setSkMenu(e.input,insertHtml(o,'beforeEnd','\n                    <div class="esgst-sm-colors"></div>'));else if('ef'===t)(x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Filters: <input type="text" value="${esgst.ef_filters}"> <i class="fa fa-question-circle" title="Separate each selector by a comma followed by a space, for example: .class_1, .class_2, #id"></i>\n                    </div>\n                `)).firstElementChild.addEventListener('change',function(){setSetting('ef_filters',x.firstElementChild.value),esgst.ef_filters=x.firstElementChild.value});else if('cdr_b'===t)(x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Days: <input type="text" value="${esgst.cdr_days}">\n                    </div>\n                `)).firstElementChild.addEventListener('change',function(){setSetting('cdr_days',x.firstElementChild.value),esgst.cdr_days=x.firstElementChild.value});else if('gb_h'===t){var y=esgst.gb_hours;(x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Time range to trigger highlight: <input type="text" value="${y}"> hours\n                    </div>\n                `)).firstElementChild.addEventListener('change',function(){setSetting('gb_hours',x.firstElementChild.value),esgst.gb_hours=x.firstElementChild.value})}else if('hr_w_h'===t){var y=esgst.hr_w_hours;(x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Hours: <input type="text" value="${y}">\n                    </div>\n                `)).firstElementChild.addEventListener('change',function(){setSetting('hr_w_hours',x.firstElementChild.value),esgst.hr_w_hours=x.firstElementChild.value})}else if('autoBackup'===t){var F=esgst.autoBackup_days;(x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Days: <input type="text" value="${F}">\n                    </div>\n                `)).firstElementChild.addEventListener('change',function(){setSetting('autoBackup_days',x.firstElementChild.value),esgst.autoBackup_days=x.firstElementChild.value})}else if('hr'===t)(x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Refresh every <input type="text" value="${esgst.hr_minutes}"> minutes\n                    </div>\n                `)).firstElementChild.addEventListener('change',function(){setSetting('hr_minutes',x.firstElementChild.value),esgst.hr_minutes=x.firstElementChild.value});else if('elgb_f'===t)(x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Filters: <input style="width: 300px;" type="text" value="${esgst.elgb_filters}"> <i class="fa fa-question-circle" title="Enter only lowercase letters with no spaces and separate filters with '|'.\n\nFor example, if you want to filter out 'Good luck! No need to thank, unless you're the winner.', use the filter 'goodlucknoneedtothankunlessyourethewinner'.\n\nIf you're familiar with regular expressions, you can also use them. For example, to include a variation of the description above that uses 'you are' instead of 'you're' you could use the filter 'goodlucknoneedtothankunlessyoua?rethewinner'. 'a?' will match or not an 'a' between 'you' and 're'.\n\nThe '.' filter, for example, filters out any descriptions that only have one letter."></i>\n                    </div>\n                `)).firstElementChild.addEventListener('change',function(){setSetting('elgb_filters',x.firstElementChild.value),esgst.elgb_filters=x.firstElementChild.value});else if(t.match(/^hr_.+_s$/)){let e=insertHtml(insertHtml(o,'beforeEnd','\n                    <div class="esgst-sm-colors"></div>'),'beforeEnd','\n                    <input type="file" style="width: 200px;">\n                    <i class="fa fa-play-circle esgst-clickable"></i>\n                ');e.previousElementSibling.addEventListener('change',readHrAudioFile.bind(null,t)),e.addEventListener('click',async()=>(await createHrPlayer(esgst.settings[`${t}_sound`]||getHrDefaultSound())).play())}else'staticPopups_f'===t?(x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Width: <input type="text" value="${esgst.staticPopups_width}">\n                    </div>\n                `)).firstElementChild.addEventListener('change',function(){setSetting('staticPopups_width',x.firstElementChild.value),esgst.staticPopups_width=x.firstElementChild.value}):'gwc_h'===t?(x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Image Border Width: <input type="text" value="${esgst.gwc_h_width}">\n                    </div>\n                `)).firstElementChild.addEventListener('change',function(){setSetting('gwc_h_width',x.firstElementChild.value),esgst.gwc_h_width=x.firstElementChild.value}):'gwr_h'===t&&(x=insertHtml(o,'beforeEnd',`\n                    <div class="esgst-sm-colors">\n                        Image Border Width: <input type="text" value="${esgst.gwr_h_width}">\n                    </div>\n                `)).firstElementChild.addEventListener('change',function(){setSetting('gwr_h_width',x.firstElementChild.value),esgst.gwr_h_width=x.firstElementChild.value});g&&g.dependencies.push(o),u&&u.dependencies.push(o),l&&o.classList.remove('esgst-hidden')}if(e.options){for(var _=esgst[`${t}_index`],k='',E=0,S=e.options.values.length;E<S;++E)k+=`<option>${e.options.values[E]}</option>`;var C=insertHtml(o,'beforeEnd',`\n                <div class="esgst-sm-colors">\n                    ${e.options.title}\n                    <select>\n                        ${k}\n                    </select>\n                </div>\n            `);C.firstElementChild.selectedIndex=_,C.firstElementChild.addEventListener('change',function(){setSetting(`${t}_index`,C.firstElementChild.selectedIndex),esgst[`${t}_index`]=C.firstElementChild.selectedIndex}),g&&g.dependencies.push(o),u&&u.dependencies.push(o),l&&o.classList.remove('esgst-hidden')}return n}return n.lastElementChild.remove(),null}function resetColor(e,t,s){t&&(t.value=esgst.defaultValues[`${s}_color`],esgst.settings[`${s}_color`]=t.value),e.value=esgst.defaultValues[`${s}_bgColor`],esgst.settings[`${s}_bgColor`]=e.value,setValue('settings',JSON.stringify(esgst.settings))}async function resetOrder(e,t){let s=insertHtml(t.currentTarget,'afterEnd','\n            <div class="esgst-description esgst-bold">\n                <i class="fa fa-circle-o-notch fa-spin"></i> Saving...\n            </div>\n        '),n=e.value;esgst.settings[n]=esgst.defaultValues[n],await setValue('settings',JSON.stringify(esgst.settings)),s.classList.add('esgst-green'),s.innerHTML='<i class="fa fa-check"></i> Saved!',setTimeout(s.remove.bind(s),2500)}function addGcCategoryPanel(e,t){let s=[];for(let e=0,n=esgst[t].length;e<n;e++)switch(esgst[t][e]){case'gc_fcv':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-fullCV ${esgst.gc_fcv?'':'esgst-hidden'}" draggable="true" id="gc_fcv" title="Full CV">${esgst.gc_fcv_s?esgst.gc_fcv_s_i?`<i class="fa fa-${esgst.gc_fcvIcon}"></i>`:'FCV':esgst.gc_fcvLabel}</div>\n                    `);break;case'gc_rcv':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-reducedCV ${esgst.gc_rcv?'':'esgst-hidden'}" draggable="true" id="gc_rcv" title="Reduced CV">${esgst.gc_rcv_s?esgst.gc_rcv_s_i?`<i class="fa fa-${esgst.gc_rcvIcon}"></i>`:'RCV':esgst.gc_rcvLabel}</div>\n                    `);break;case'gc_ncv':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-noCV ${esgst.gc_ncv?'':'esgst-hidden'}" draggable="true" id="gc_ncv" title="No CV">${esgst.gc_ncv_s?esgst.gc_ncv_s_i?`<i class="fa fa-${esgst.gc_ncvIcon}"></i>`:'NCV':esgst.gc_ncvLabel}</div>\n                    `);break;case'gc_h':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-hidden ${esgst.gc_h?'':'esgst-hidden'}" draggable="true" id="gc_h" title="Hidden">${esgst.gc_h_s?esgst.gc_h_s_i?`<i class="fa fa-${esgst.gc_hIcon}"></i>`:'H':esgst.gc_hLabel}</div>\n                    `);break;case'gc_i':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-ignored ${esgst.gc_i?'':'esgst-hidden'}" draggable="true" id="gc_i" title="Ignored">${esgst.gc_i_s?esgst.gc_i_s_i?`<i class="fa fa-${esgst.gc_iIcon}"></i>`:'I':esgst.gc_iLabel}</div>\n                    `);break;case'gc_o':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-owned ${esgst.gc_o?'':'esgst-hidden'}" draggable="true" id="gc_o" title="Owned">${esgst.gc_o_s?esgst.gc_o_s_i?`<i class="fa fa-${esgst.gc_oIcon}"></i>`:'O':esgst.gc_oLabel}</div>\n                    `),esgst.gc_o_altAccounts.forEach(e=>{s.push(`\n                            <div class="esgst-clickable esgst-gc esgst-gc-owned ${esgst.gc_o_a?'':'esgst-hidden'}" draggable="true" id="gc_o" style="background-color: ${e.bgColor}; color: ${e.color};" title="Owned by ${e.name}">${esgst.gc_o_s?esgst.gc_o_s_i?`<i class="fa fa-${e.icon}"></i>`:'O':e.label}</div>\n                        `)});break;case'gc_w':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-wishlisted ${esgst.gc_w?'':'esgst-hidden'}" draggable="true" id="gc_w" title="Wishlisted">${esgst.gc_w_s?esgst.gc_w_s_i?`<i class="fa fa-${esgst.gc_wIcon}"></i>`:'W':esgst.gc_wLabel}</div>\n                    `);break;case'gc_gi':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-giveawayInfo ${esgst.gc_gi?'':'esgst-hidden'}" draggable="true" id="gc_gi" title="Giveaway Info"><i class="fa fa-info"></i> 0 <i class="fa fa-dollar"></i> 0</div>\n                    `);break;case'gc_r':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-rating esgst-gc-rating-positive ${esgst.gc_r?'':'esgst-hidden'}" draggable="true" id="gc_r" title="Rating"><i class="fa fa-thumbs-up"></i>${esgst.gc_r_s?' 0% (0)':''}</div>\n                    `);break;case'gc_a':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-achievements ${esgst.gc_a?'':'esgst-hidden'}" draggable="true" id="gc_a" title="Achievements">${esgst.gc_a_s?esgst.gc_a_s_i?`<i class="fa fa-${esgst.gc_aIcon}"></i>`:'A':esgst.gc_aLabel}</div>\n                    `);break;case'gc_mp':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-multiplayer ${esgst.gc_mp?'':'esgst-hidden'}" draggable="true" id="gc_mp" title="Multiplayer">${esgst.gc_mp_s?esgst.gc_mp_s_i?`<i class="fa fa-${esgst.gc_mpIcon}"></i>`:'MP':esgst.gc_mpLabel}</div>\n                    `);break;case'gc_sc':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-steamCloud ${esgst.gc_sc?'':'esgst-hidden'}" draggable="true" id="gc_sc" title="Steam Cloud">${esgst.gc_sc_s?esgst.gc_sc_s_i?`<i class="fa fa-${esgst.gc_scIcon}"></i>`:'SC':esgst.gc_scLabel}</div>\n                    `);break;case'gc_tc':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-tradingCards ${esgst.gc_tc?'':'esgst-hidden'}" draggable="true" id="gc_tc" title="Trading Cards">${esgst.gc_tc_s?esgst.gc_tc_s_i?`<i class="fa fa-${esgst.gc_tcIcon}"></i>`:'TC':esgst.gc_tcLabel}</div>\n                    `);break;case'gc_l':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-linux ${esgst.gc_l?'':'esgst-hidden'}" draggable="true" id="gc_l" title="Linux">${esgst.gc_l_s?esgst.gc_l_s_i?`<i class="fa fa-${esgst.gc_lIcon}"></i>`:'L':esgst.gc_lLabel}</div>\n                    `);break;case'gc_m':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-mac ${esgst.gc_m?'':'esgst-hidden'}" draggable="true" id="gc_m" title="Mac">${esgst.gc_m_s?esgst.gc_m_s_i?`<i class="fa fa-${esgst.gc_mIcon}"></i>`:'M':esgst.gc_mLabel}</div>\n                    `);break;case'gc_dlc':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-dlc ${esgst.gc_dlc?'':'esgst-hidden'}" draggable="true" id="gc_dlc" title="DLC">${esgst.gc_dlc_s?esgst.gc_dlc_s_i?`<i class="fa fa-${esgst.gc_dlcIcon}"></i>`:'DLC':esgst.gc_dlcLabel}</div>\n                    `);break;case'gc_p':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-package ${esgst.gc_p?'':'esgst-hidden'}" draggable="true" id="gc_p" title="Package">${esgst.gc_p_s?esgst.gc_p_s_i?`<i class="fa fa-${esgst.gc_pIcon}"></i>`:'P':esgst.gc_pLabel}</div>\n                    `);break;case'gc_ea':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-earlyAccess ${esgst.gc_ea?'':'esgst-hidden'}" draggable="true" id="gc_ea" title="Early Access">${esgst.gc_ea_s?esgst.gc_ea_s_i?`<i class="fa fa-${esgst.gc_eaIcon}"></i>`:'EA':esgst.gc_eaLabel}</div>\n                    `);break;case'gc_rm':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-removed ${esgst.gc_rm?'':'esgst-hidden'}" draggable="true" id="gc_rm" title="Removed">${esgst.gc_rm_s?esgst.gc_rm_s_i?`<i class="fa fa-${esgst.gc_rmIcon}"></i>`:'RM':esgst.gc_rmLabel}</div>\n                    `);break;case'gc_rd':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-releaseDate ${esgst.gc_rd?'':'esgst-hidden'}" draggable="true" id="gc_rd" title="Release Date">\n                            <i class="fa fa-${esgst.gc_rdIcon}"></i> ${formatGcDate(Date.now())}\n                        </div>\n                    `);break;case'gc_g':s.push(`\n                        <div class="esgst-clickable esgst-gc esgst-gc-genres ${esgst.gc_g?'':'esgst-hidden'}" draggable="true" id="gc_g" title="Genres">Genres</div>\n                    `)}let n={categoryKey:t,panel:insertHtml(e,'beforeEnd',`\n                ${'gc_categories_gv'===t?'<div class="esgst-description esgst-bold">Grid View</div>':''}\n                <div class="esgst-description">Drag the categories to sort them.</div>\n                <div class="esgst-gc-panel">${s.join('')}</div>\n            `)};for(let e=0,t=n.panel.children.length;e<t;e++){let t=n.panel.children[e];t.addEventListener('dragstart',setSmSource.bind(null,t,n)),t.addEventListener('dragenter',getSmSource.bind(null,t,n)),t.addEventListener('dragend',saveSmSource.bind(null,n))}}function readHrAudioFile(e,t){let s=new Popup('fa-circle-o-notch fa-spin','Uploading...');s.open();try{let n=new FileReader;n.onload=saveHrFile.bind(null,e,s,n),n.readAsArrayBuffer(t.currentTarget.files[0])}catch(e){console.log(e),s.icon.classList.remove('fa-circle-o-notch'),s.icon.classList.remove('fa-spin'),s.icon.classList.add('fa-times'),s.title.textContent='An error happened.'}}async function saveHrFile(e,t,s){try{let n=new Uint8Array(s.result),i='';for(let e=0,t=s.result.byteLength;e<t;e++)i+=String.fromCharCode(n[e]);let a=btoa(i);(await createHrPlayer(a)).play(),setSetting(`${e}_sound`,a),t.close()}catch(e){console.log(e),t.icon.classList.remove('fa-circle-o-notch'),t.icon.classList.remove('fa-spin'),t.icon.classList.add('fa-times'),t.title.textContent='An error happened.'}}function setSkMenu(e,t){let s,n=insertHtml(t,'beforeEnd',`\n            Enter the key you want to use for this task: <input type="text" value="${esgst[e]}">\n        `);n.addEventListener('keydown',e=>{e.preventDefault(),e.stopPropagation(),e.repeat||(s='',e.ctrlKey?s+='ctrlKey + ':e.shiftKey?s+='shiftKey + ':e.altKey&&(s+='altKey + '),s+=e.key.toLowerCase())},!0),n.addEventListener('keyup',t=>{setSetting(e,s),esgst[e]=s,t.currentTarget.value=s})}function setSmSource(e,t,s){s.dataTransfer.setData('text/plain',''),t.source=e}function getSmSource(e,t){let s=t.source;if(s){do{if((s=s.previousElementSibling)&&s===e)return void t.panel.insertBefore(t.source,e)}while(s);t.panel.insertBefore(t.source,e.nextElementSibling)}}function saveSmSource(e){e.source=null,esgst[e.categoryKey]=[];for(let t=0,s=e.panel.children.length;t<s;t++)esgst[e.categoryKey].push(e.panel.children[t].id);setSetting(e.categoryKey,esgst[e.categoryKey])}function addGwcrMenuPanel(e,t,s){var n,i,a,o,r;for(n=(r=insertHtml(e,'beforeEnd',`\n            <div class="esgst-sm-colors">\n                <div class="form__saving-button esgst-sm-colors-default">\n                    <span>Add Color Setting</span>\n                </div>\n                <i class="fa fa-question-circle" title="Allows you to set different colors for different ${s} ranges."></i>\n            </div>\n        `)).firstElementChild,a=0,o=esgst[t].length;a<o;++a)addGwcColorSetting(esgst[t][a],t,s,r);n.addEventListener('click',function(){i={color:'#ffffff',lower:'0',upper:'100'},esgst[t].push(i),addGwcColorSetting(i,t,s,r)})}function addGwcColorSetting(e,t,s,n){var i,a,o,r,l,c,d;c=insertHtml(n,'beforeEnd',`\n            <div>\n                From <input step="0.01" type="number" value="${e.lower}"/> to <input step="0.01" type="number" value="${e.upper}"/> ${s}, color it as <input type="color" value="${e.color}"/>. <i class="esgst-clickable fa fa-times" title="Delete this setting"></i>\n            </div>\n        `),o=c.firstElementChild,d=o.nextElementSibling,l=(i=d.nextElementSibling).nextElementSibling,o.addEventListener('change',function(){e.lower=o.value,setSetting(t,esgst[t])}),d.addEventListener('change',function(){e.upper=d.value,setSetting(t,esgst[t])}),i.addEventListener('change',function(){e.color=i.value,setSetting(t,esgst[t])}),l.addEventListener('click',function(){if(confirm('Are you sure you want to delete this setting?')){for(a=0,r=esgst[t].length;a<r&&esgst[t][a]!==e;++a);a<r&&(esgst[t].splice(a,1),setSetting(t,esgst[t]),c.remove())}})}function addGcRatingPanel(e){let t=insertHtml(e,'beforeEnd','\n            <div class="esgst-sm-colors">\n                <div class="form__saving-button esgst-sm-colors-default">\n                    <span>Add Rating Setting</span>\n                </div>\n                <i class="fa fa-question-circle" title="Allows you to set different colors/icons for different rating ranges."></i>\n            </div>\n        '),s=t.firstElementChild;for(let e=0,s=esgst.gc_r_colors.length;e<s;++e)addGcRatingColorSetting(esgst.gc_r_colors[e],t);s.addEventListener('click',function(){let e={color:'',bgColor:'',icon:'',lower:'',upper:''};esgst.gc_r_colors.push(e),addGcRatingColorSetting(e,t)})}function addGcRatingColorSetting(e,t){let s=insertHtml(t,'beforeEnd',`\n            <div>\n                From <input type="number" value="${e.lower}"/>% to <input type="number" value="${e.upper}"/>% rating, color it as <input type="color" value="${e.color}"/> with the background <input type="color" value="${e.bgColor}"/> and the icon <input type="text" value="${e.icon}"/> <i class="fa fa-question-circle"></i>. <i class="esgst-clickable fa fa-times" title="Delete this setting"></i>\n            </div>\n        `),a=s.firstElementChild,o=a.nextElementSibling,r=o.nextElementSibling,l=r.nextElementSibling,c=l.nextElementSibling,d=c.nextElementSibling;createTooltip(d,'The name of the icon can be any name from <a href="http://fontawesome.io/icons/">FontAwesome</a> (except for the 41 new icons from 4.7, because SG doesn\'t support them) or any text. For example, if you want to use alt symbols like â² (Alt + 3 + 0) and â¼ (Alt + 3 + 1), you can.');let g=d.nextElementSibling;a.addEventListener('change',function(){e.lower=a.value,setSetting('gc_r_colors',esgst.gc_r_colors)}),o.addEventListener('change',function(){e.upper=o.value,setSetting('gc_r_colors',esgst.gc_r_colors)}),r.addEventListener('change',function(){e.color=r.value,setSetting('gc_r_colors',esgst.gc_r_colors)}),l.addEventListener('change',function(){e.bgColor=l.value,setSetting('gc_r_colors',esgst.gc_r_colors)}),c.addEventListener('change',function(){e.icon=c.value,setSetting('gc_r_colors',esgst.gc_r_colors)}),g.addEventListener('click',function(){if(confirm('Are you sure you want to delete this setting?')){for(i=0,n=esgst.gc_r_colors.length;i<n&&esgst.gc_r_colors[i]!==e;++i);i<n&&(esgst.gc_r_colors.splice(i,1),setSetting('gc_r_colors',esgst.gc_r_colors),s.remove())}})}function addGcMenuPanel(e){var t,s,n,i,a;for(t=(a=insertHtml(e,'beforeEnd','\n            <div class="esgst-sm-colors">\n                <div class="form__saving-button esgst-sm-colors-default">\n                    <span>Add Custom Genre Color</span>\n                </div>\n                <i class="fa fa-question-circle" title="Allows you to color genres (colored genres will appear at the beginning of the list)."></i>\n            </div>\n        ')).firstElementChild,n=0,i=esgst.gc_g_colors.length;n<i;++n)addGcColorSetting(esgst.gc_g_colors[n],a);t.addEventListener('click',function(){s={bgColor:'#7f8c8d',color:'#ffffff',genre:''},esgst.gc_g_colors.push(s),addGcColorSetting(s,a)})}function addGcColorSetting(e,t){var s,n,i,a,o,r;r=insertHtml(t,'beforeEnd',`\n            <div>\n                For genre <input type="text" value="${e.genre}"/>, color it as <input type="color" value="${e.color}"> with background <input type="color" value="${e.bgColor}">. <i class="esgst-clickable fa fa-times" title="Delete this setting"></i>\n            </div>\n        `),n=r.firstElementChild,s=n.nextElementSibling,bgColor=s.nextElementSibling,o=bgColor.nextElementSibling,n.addEventListener('change',function(){e.genre=n.value,setSetting('gc_g_colors',esgst.gc_g_colors)}),s.addEventListener('change',function(){e.color=s.value,setSetting('gc_g_colors',esgst.gc_g_colors)}),bgColor.addEventListener('change',function(){e.bgColor=bgColor.value,setSetting('gc_g_colors',esgst.gc_g_colors)}),o.addEventListener('click',function(){if(confirm('Are you sure you want to delete this setting?')){for(i=0,a=esgst.gc_g_colors.length;i<a&&esgst.gc_g_colors[i]!==e;++i);i<a&&(esgst.gc_g_colors.splice(i,1),setSetting('gc_g_colors',esgst.gc_g_colors),r.remove())}})}function addGcAltMenuPanel(e){var t,s,n,i,a;for(s=(a=insertHtml(e,'beforeEnd','\n            <div class="esgst-sm-colors">\n                <div class="form__saving-button esgst-sm-colors-default">\n                    <span>Add Alt Account</span>\n                </div>\n            </div>\n        ')).firstElementChild,createTooltip(insertHtml(a,'beforeEnd','<i class="fa fa-question-circle"></i>'),'\n            <div>You must sync your owned games normally for the script to pick up the games owned by your alt accounts. Syncing with alt accounts only works with a Steam API Key though, so make sure one is set at the last section of this menu.</div>\n            <br/>\n            <div>Steam ID is the number that comes after "steamcommunity.com/profiles/" in your alt account\'s URL. If your alt account has a URL in the format "steamcommunity.com/id/" though, you can get your Steam ID <a href="https://steamid.io/">here</a> by entering your URL in the input (you want the steamID64 one).</div>\n            <br/>\n            <div>You must fill the fields relative to your settings. For example, if you have simplified version enabled with icons, you must fill the "icon" field. If you don\'t have simplified version enabled, you must fill the "label" field. The current text in the fields are simply placeholders.</div>\n        '),n=0,i=esgst.gc_o_altAccounts.length;n<i;++n)addGcAltSetting(esgst.gc_o_altAccounts[n],a);s.addEventListener('click',function(){t={bgColor:'#000000',color:'#ffffff',games:{apps:{},subs:{}},icon:'',label:'',name:'',steamId:''},esgst.gc_o_altAccounts.push(t),addGcAltSetting(t,a)})}function addGcAltSetting(e,t){var s,n,i,a,o,r,l,c,d,g;d=insertHtml(t,'beforeEnd',`\n            <div>\n                For account with Steam ID <input placeholder="0000000000000000" type="text" value="${e.steamId}"/>, using the nickname <input placeholder="alt1" type="text" value="${e.name}"/>, <br/>color it as <input type="color" value="${e.color}"/> with background <input type="color" value="${e.bgColor}"/>, icon <input placeholder="folder" type="text" value="${e.icon}"/> and label <input placeholder="Owned by alt1" type="text" value="${e.label}"/>. <i class="esgst-clickable fa fa-times" title="Delete this setting"></i>\n            </div>\n        `),g=d.firstElementChild,l=g.nextElementSibling,s=l.nextElementSibling.nextElementSibling,n=s.nextElementSibling,a=n.nextElementSibling,c=(o=a.nextElementSibling).nextElementSibling,g.addEventListener('change',function(){e.steamId=g.value,setSetting('gc_o_altAccounts',esgst.gc_o_altAccounts)}),l.addEventListener('change',function(){e.name=l.value,setSetting('gc_o_altAccounts',esgst.gc_o_altAccounts)}),s.addEventListener('change',function(){e.color=s.value,setSetting('gc_o_altAccounts',esgst.gc_o_altAccounts)}),n.addEventListener('change',function(){e.bgColor=n.value,setSetting('gc_o_altAccounts',esgst.gc_o_altAccounts)}),a.addEventListener('change',function(){e.icon=a.value,setSetting('gc_o_altAccounts',esgst.gc_o_altAccounts)}),o.addEventListener('change',function(){e.label=o.value,setSetting('gc_o_altAccounts',esgst.gc_o_altAccounts)}),c.addEventListener('click',function(){if(confirm('Are you sure you want to delete this setting?')){for(i=0,r=esgst.gc_o_altAccounts.length;i<r&&esgst.gc_o_altAccounts[i]!==e;++i);i<r&&(esgst.gc_o_altAccounts.splice(i,1),setSetting('gc_o_altAccounts',esgst.gc_o_altAccounts),d.remove())}})}function addColorObserver(e,t,s){e.addEventListener('change',function(){setSetting(`${t}_${s}`,e.value)})}function createMenuSection(e,t,s,n,i){let a=insertHtml(e,'beforeEnd',`\n            <div class="esgst-form-row" id="esgst_${i}">\n                <div class="esgst-form-heading">\n                    <div class="esgst-form-heading-number">${s}.</div>\n                    <div class="esgst-form-heading-text">${n}</div>\n                </div>\n                <div class="esgst-form-row-indent">${t||''}</div>\n            </div>\n        `);if(esgst.collapseSections&&!n.match(/(Im|Ex)port|Delete/)){let e,t,s;e=insertHtml(a.firstElementChild,'afterBegin','\n                <span class="esgst-clickable" style="margin-right: 5px;">\n                    <i class="fa fa-plus-square" title="Expand section"></i>\n                </span>\n            '),(t=a.lastElementChild).classList.add('esgst-hidden'),s=!1,e.addEventListener('click',()=>{s?(t.classList.add('esgst-hidden'),e.innerHTML='<i class="fa fa-plus-square" title="Expand section"></i>',s=!1):(t.classList.remove('esgst-hidden'),e.innerHTML='<i class="fa fa-minus-square" title="Collapse section"></i>',s=!0)})}return a}function createSMButtons(e,t){var s,n,i,a,o,r;for(s=0,n=t.length;s<n;++s)if((i=t[s]).Check){for(a='',o=0,r=i.Icons.length;o<r;++o)a+=`<i class="fa ${i.Icons[o]}"></i> `;e.insertAdjacentHTML('beforeEnd',`<a class="${i.Name}" title="${i.Title}">${a}</a>`)}}function setSMManageFilteredUsers(e){var t;e.addEventListener('click',async function(){if(t)t.open();else{t=new Popup('fa-eye-slash','Filtered Users');var e=JSON.parse(await getValue('users')),s=[];for(var n in e.users)e.users[n].uf&&(e.users[n].uf.posts||e.users[n].uf.giveaways||e.users[n].uf.discussions)&&s.push(e.users[n]);s.sort(function(e,t){return e.username>t.username?-1:1});for(var i=insertHtml(t.scrollable,'beforeEnd','\n                    <div class="table">\n                        <div class="table__heading">\n                            <div class="table__column--width-fill">Username</div>\n                            <div class="table__column--width-small">Posts Hidden</div>\n                            <div class="table__column--width-small">Discussions Hidden</div>\n                            <div class="table__column--width-small">Giveaways Hidden</div>\n                        </div>\n                        <div class="table__rows"></div>\n                    </div>\n                '),a=0,o=s.length;a<o;++a){var r=s[a].uf.posts?'<i class="fa fa-check"></i>':'',l=s[a].uf.discussions?'<i class="fa fa-check"></i>':'',c=s[a].uf.giveaways?'<i class="fa fa-check"></i>':'';i.lastElementChild.insertAdjacentHTML('beforeEnd',`\n                        <div class="table__row-outer-wrap">\n                            <div class="table__row-inner-wrap">\n                                <div class="table__column--width-fill"><a href="/user/${s[a].username}">${s[a].username}</a></div>\n                                <div class="table__column--width-small">${r}</div>\n                                <div class="table__column--width-small">${l}</div>\n                                <div class="table__column--width-small">${c}</div>\n                            </div>\n                        </div>\n                    `)}t.open()}})}function setSMManageFilteredDiscussions(e){var t,s,n,i,a,o;e.addEventListener('click',async function(){for(key in(a=new Popup('fa-comments','Hidden Discussions')).discussions=insertHtml(a.scrollable,'afterBegin','\n                <div class="table esgst-text-left">\n                    <div class="table__heading">\n                        <div class="table__column--width-fill">Summary</div>\n                        <div class="table__column--width-small text-center">Comments</div>\n                    </div>\n                </div>\n            '),s=JSON.parse(await getValue('discussions')),n=[],s)s[key].hidden&&(t={code:key,hidden:s[key].hidden},n.push(t));n=n.sort((e,t)=>e.hidden>t.hidden?-1:e.hidden<t.hidden?1:0),i=0,o=new ButtonSet('green','grey','fa-plus','fa-circle-o-notch fa-spin','Load more...','Loading more...',function(e){loadDfDiscussions(n,i,i,i+5,a,function(t){(i=t)>n.length?o.set.remove():esgst.es_df&&a.scrollable.scrollHeight<=a.scrollable.offsetHeight&&o.trigger(),e()})}),a.description.appendChild(o.set),a.open(),o.trigger(),esgst.es_df&&a.scrollable.addEventListener('scroll',function(){a.scrollable.scrollTop+a.scrollable.offsetHeight>=a.scrollable.scrollHeight&&!o.busy&&o.trigger()})})}async function loadDfDiscussions(e,t,s,n,i,a){var o,r,l,c,d;t<n?e[t]?(l=(r=(c=parseHtml((await request({method:'GET',url:`/discussion/${e[t].code}/`})).responseText)).getElementsByClassName('page__heading__breadcrumbs'))[0].firstElementChild.nextElementSibling.nextElementSibling,d=c.getElementsByClassName('comment__username')[0].firstElementChild,i.discussions.insertAdjacentHTML('beforeEnd',`\n                    <div>\n                        <div class="table__row-outer-wrap">\n                            <div class="table__row-inner-wrap">\n                                <div>\n                                    ${c.getElementsByClassName('global__image-outer-wrap')[0].outerHTML}\n                                </div>\n                                <div class="table__column--width-fill">\n                                    <h3>\n                                        <a class="table__column__heading" href="/discussion/${e[t].code}/">${l.nextElementSibling.nextElementSibling.firstElementChild.textContent}</a>\n                                    </h3>\n                                    <p>\n                                        <a class="table__column__secondary-link" href="${l.getAttribute('href')}">${l.textContent}</a> -\n                                        ${c.querySelector('.comment [data-timestamp]').outerHTML} ago by\n                                        <a class="table__column__secondary-link" href="${d.getAttribute('href')}">${d.textContent}</a>\n                                    </p>\n                                </div>\n                                <div class="table__column--width-small text-center">\n                                    <a class="table__column__secondary-link" href="/discussion/${e[t].code}/">${r[1].textContent.match(/(.+) Comments?/)[1]}</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                `),await loadEndlessFeatures(i.discussions.lastElementChild),esgst.giveawaysPath||esgst.discussionsPath||(esgst.gdttt?(await addCtDiscussionPanels(i.discussions.lastElementChild,!0),await checkGdtttVisited(i.discussions.lastElementChild)):esgst.ct&&await addCtDiscussionPanels(i.discussions.lastElementChild,!0),await loadDiscussionFeatures(i.discussions.lastElementChild)),setTimeout(loadDfDiscussions,0,e,++t,++s,n,i,a)):a(s+1):a(s)}function setSMManageFilteredGiveaways(e){var t,s,n,i,a,o,r,l;e.addEventListener('click',function(){for(a in r=new Popup('fa-gift','Hidden Giveaways',!0),n=[],esgst.giveaways)(s=esgst.giveaways[a]).hidden&&s.code&&s.endTime?Date.now()>=s.endTime?delete s.hidden:n.push(s):delete s.hidden;n=n.sort((e,t)=>e.hidden>t.hidden?-1:e.hidden<t.hidden?1:0),setValue('giveaways',JSON.stringify(esgst.giveaways)),i=0,o=n.length,t=insertHtml(r.scrollable,'beforeEnd','<div class="esgst-text-left"></div>'),o>0?(l=new ButtonSet('green','grey','fa-plus','fa-circle-o-notch fa-spin','Load more...','Loading more...',function(e){loadGfGiveaways(i,i+5,n,t,r,function(t){(i=t)>o?l.set.remove():esgst.es_gf&&r.scrollable.scrollHeight<=r.scrollable.offsetHeight&&l.trigger(),e()})}),r.description.appendChild(l.set),r.open(),l.trigger(),esgst.es_gf&&r.scrollable.addEventListener('scroll',function(){r.scrollable.scrollTop+r.scrollable.offsetHeight>=r.scrollable.scrollHeight&&!l.busy&&l.trigger()})):(t.textContent='No hidden giveaways found.',r.open())})}async function loadGfGiveaways(e,t,s,n,i,a){var o;if(e<t)if(s[e]){let r=await request({method:'GET',queue:!0,url:`https://www.steamgifts.com/giveaway/${s[e].code}/`});(o=buildGiveaway(parseHtml(r.responseText),r.finalUrl))?(n.insertAdjacentHTML('beforeEnd',o.html),await loadEndlessFeatures(n.lastElementChild,!1,'gf'),setTimeout(loadGfGiveaways,0,++e,t,s,n,i,a)):setTimeout(loadGfGiveaways,0,++e,t,s,n,i,a)}else a(e+1);else a(e)}async function openManageUserTagsPopup(){var e,t,s,n,i,a,o,r,l,c;for(steamId in n=insertHtml((a=new Popup('fa-tags','Manage user tags:',!0)).description,'afterBegin','<input type="text"/>'),a.description.insertAdjacentHTML('afterBegin','<div class="esgst-description">Type tags below to filter the users by.</div>'),e=insertHtml(a.description,'afterBegin','\n            <div class="esgst-page-heading">\n                <div class="esgst-heading-button">\n                    <span></span>\n                    <span>\n                        <i class="fa fa-user"></i>\n                        <i class="fa fa-tags"></i>\n                    </span>\n                </div>\n            </div>\n        ').firstElementChild,l=new ToggleSwitch(e.firstElementChild,null,!0,''),s={},c={},(r=JSON.parse(await getValue('users'))).users)(o=r.users[steamId]).tags&&(o.tags.length>1||o.tags[0]&&o.tags[0].trim())&&(t=insertHtml(a.scrollable,'beforeEnd',`\n                    <div>\n                        <a href="/user/${o.username}">${o.username}</a>\n                    </div>\n                `),s[o.username]={elements:[t.firstElementChild]},c[o.username]={context:t});await loadEndlessFeatures(a.scrollable),i={button:e,type:'user'},l.onEnabled=enableMt.bind(null,i,s),l.onDisabled=disableMt.bind(null,i),e.lastElementChild.addEventListener('click',openMtPopout.bind(null,i)),n.addEventListener('input',filterUserTags.bind(null,s,i,a,c)),a.open()}function filterUserTags(e,t,s,n,i){var a,o,r,l;if(i.currentTarget.value)for(r in o=i.currentTarget.value.replace(/,\s+/g,'').split(/,\s/),n){for(l=n[r].context.getElementsByClassName('esgst-ut-tags')[0],a=o.length-1;a>=0&&!l.innerHTML.match(new RegExp(`>${o[a]}<`));--a);a<0?n[r].context.classList.add('esgst-hidden'):n[r].context.classList.remove('esgst-hidden')}else for(r in n)n[r].context.classList.remove('esgst-hidden');t.popout&&(disableMt(t),enableMt(t,e))}async function openManageGameTagsPopup(){var e,t,s,n,i,a,o,r,l,c;for(id in i=insertHtml((o=new Popup('fa-tags','Manage game tags:',!0)).description,'afterBegin','<input type="text"/>'),o.description.insertAdjacentHTML('afterBegin','<div class="esgst-description">Type tags below to filter the games by.</div>'),e=insertHtml(o.description,'afterBegin','\n            <div class="esgst-page-heading">\n                <div class="esgst-heading-button">\n                    <span></span>\n                    <span>\n                        <i class="fa fa-gamepad"></i>\n                        <i class="fa fa-tags"></i>\n                    </span>\n                </div>\n            </div>\n        ').firstElementChild,c=new ToggleSwitch(e.firstElementChild,null,!0,''),s={apps:{},subs:{}},n={apps:{},subs:{}},(l=JSON.parse(await getValue('games'))).apps)(r=l.apps[id]).tags&&(r.tags.length>1||r.tags[0].trim())&&(t=insertHtml(o.scrollable,'beforeEnd',`\n                    <div class="table__row-outer-wrap">\n                        <a class="table__column__heading" href="http://store.steampowered.com/app/${id}">App - ${id}</a>\n                    </div>\n                `),s.apps[id]=[{heading:t}],n.apps[id]={context:t});for(id in l.subs)(r=l.subs[id]).tags&&(r.tags.length>1||r.tags[0].trim())&&(t=insertHtml(o.scrollable,'beforeEnd',`\n                    <div class="table__row-outer-wrap">\n                        <a class="table__column__heading" href="http://store.steampowered.com/sub/${id}">Sub - ${id}</a>\n                    </div>\n                `),s.subs[id]=[{heading:t}],n.subs[id]={context:t});await loadEndlessFeatures(o.scrollable),a={button:e,type:'game'},c.onEnabled=enableMt.bind(null,a,s),c.onDisabled=disableMt.bind(null,a),e.lastElementChild.addEventListener('click',openMtPopout.bind(null,a)),i.addEventListener('input',filterGameTags.bind(null,s,n,a,o)),o.open()}function filterGameTags(e,t,s,n,i){var a,o,r,l;if(i.currentTarget.value){for(r in l=i.currentTarget.value.replace(/,\s+/g,'').split(/,\s/),t.apps){for(a=t.apps[r].context.getElementsByClassName('esgst-gt-tags')[0],o=l.length-1;o>=0&&!a.innerHTML.match(new RegExp(`>${l[o]}<`));--o);o<0?t.apps[r].context.classList.add('esgst-hidden'):t.apps[r].context.classList.remove('esgst-hidden')}for(r in t.subs){for(a=t.subs[r].context.getElementsByClassName('esgst-gt-tags')[0],o=l.length-1;o>=0&&!a.innerHTML.match(new RegExp(`>${l[o]}<`));--o);o<0?t.subs[r].context.classList.add('esgst-hidden'):t.subs[r].context.classList.remove('esgst-hidden')}}else{for(r in t.apps)t.apps[r].context.classList.remove('esgst-hidden');for(r in t.subs)t.subs[r].context.classList.remove('esgst-hidden')}s.popout&&(disableMt(s),enableMt(s,e))}function setSMRecentUsernameChanges(e){e.addEventListener('click',async function(){var e,t,s,n,i,a;for((e=new Popup('fa-comments','Recent Username Changes')).Progress=insertHtml(e.description,'beforeEnd','\n                <div>\n                    <i class="fa fa-circle-o-notch fa-spin"></i>\n                    <span>Loading recent username changes...</span>\n                </div>\n            '),e.Results=insertHtml(e.scrollable,'beforeEnd','\n                <div class="esgst-uh-popup"></div>\n            '),e.open(),s=JSON.parse((await request({method:'GET',url:'https://script.google.com/macros/s/AKfycbzvOuHG913mRIXOsqHIeAuQUkLYyxTHOZim5n8iP-k80iza6g0/exec?Action=2'})).responseText).RecentChanges,e.Progress.innerHTML='',n='',i=0,a=s.length;i<a;++i)n+=`<div>${s[i][0]} changed to <a class="esgst-bold" href="/user/${s[i][1]}">${s[i][1]}</a></div>`;e.Results.innerHTML=n,esgst.sg&&loadEndlessFeatures(e.Results)})}function updateWhitelistBlacklist(e,t,s){var n;n={steamId:t.steamId,id:t.id,username:t.username,values:{}},s.currentTarget.classList.contains('is-selected')?n.values[e]=!1:(n.values[e]=!0,n.values[`${e}Date`]=Date.now()),saveUser(null,null,n)}function triggerSetOnEnter(e,t){'Enter'===t.key&&e.trigger()}function formatTags(e,t,s,n){return 0===s||s===n.length-e.length?'':', '}function animateScroll(e){var t,s;function n(){var i;(i=(t+=1/60)/s)<1?(requestAnimationFrame(n),scrollTo(0,scrollY+(e-scrollY)*((i/=.5)<1?.5*Math.pow(i,5):.5*(Math.pow(i-2,5)+2)))):scrollTo(0,e)}t=0,e>0&&(e-=esgst.commentsTop),s=Math.max(.1,Math.min(Math.abs(scrollY-e)/2e3,.8)),n()}function reverseComments(e){var t,s,n=document.createDocumentFragment();for(t=0,s=e.children.length;t<s;++t)n.appendChild(e.lastElementChild);e.appendChild(n)}function createAlert(e){var t;(t=new Popup('fa-exclamation',e,!0)).open()}function createConfirmation(e,t,s,n){var i,a;i=s,(a=new Popup('fa-question',e,!0)).description.appendChild(new ButtonSet('green','','fa-check','','Yes','',function(){i=t,a.close()}).set),a.description.appendChild(new ButtonSet('red','','fa-times','','No','',function(){i=s,a.close()}).set),a.onClose=function(){i&&i(n)},a.open()}function multiChoice(e,t,s,n,i,a,o,r,l){if(esgst.settings.cfh_img_remember)1===esgst.cfh_img_choice?r():l();else{let c=new Popup('fa-list',o,!0);new ToggleSwitch(c.description,'cfh_img_remember',!1,'Never ask again.',!1,!1,'Remembers which option you choose forever.',esgst.settings.cfh_img_remember),c.description.appendChild(new ButtonSet(e,'',t,'',s,'',e=>{esgst.settings.cfh_img_remember&&(setValue('cfh_img_choice',1),esgst.cfh_img_choice=1),e(),c.close(),r()}).set),c.description.appendChild(new ButtonSet(n,'',i,'',a,'',e=>{esgst.settings.cfh_img_remember&&(setValue('cfh_img_choice',2),esgst.cfh_img_choice=2),e(),c.close(),l()}).set),c.open()}}function createFadeMessage(e,t){e.textContent=t,setTimeout(function(){e.textContent=''},2e3)}function checkBackup(){!getLocalValue('isBackingUp')&&Date.now()-esgst.lastBackup>864e5*esgst.autoBackup_days&&(setLocalValue('isBackingUp',1),loadDataManagement(!1,'export',!0))}function loadDataManagement(e,t,s){var n,i,a,o,r,l,c,d,g,u,h,m,p,f,v,x;switch(dm={autoBackup:s,type:t},dm[t]=!0,t){case'import':l='fa-arrow-circle-up',g=loadImportFile,m='from',v='Import',x='Importing';break;case'export':l='fa-arrow-circle-down',g=manageData,m='to',v='Export',x='Exporting';break;case'delete':l='fa-trash',g=confirmDataDeletion,m='from',v='Delete',x='Deleting'}if(e?(document.body.className='esgst-tab-menu',(i=n=document.body).innerHTML=''):((p=dm.autoBackup?new Popup('fa-circle-o-notch fa-spin','ESGST is backing up your data... Please do not close this window until it is done.',!0,!0):new Popup(l,v,!0,!0)).description.classList.add('esgst-text-left'),i=p.scrollable,n=p.description),dm.autoBackup||(dm.computerSpace=insertHtml(n,'afterBegin','\n                <div>Total: <span class="esgst-bold"></span> <i class="esgst-clickable fa fa-refresh" title="Calculate/refresh data sizes"></i></div>\n            '),dm.computerSpaceCount=dm.computerSpace.firstElementChild,dm.computerSpaceCount.nextElementSibling.addEventListener('click',getDataSizes),f=createMenuSection(i,null,1,v)),dm.switches={},dm.options=[{check:!0,key:'decryptedGiveaways',name:'Decrypted Giveaways'},{check:esgst.sg,key:'dfPresets',name:'Discussion Filters Presets'},{check:esgst.sg,key:'discussions',name:'Discussions',options:[{key:'discussions_main',name:'Main'},{key:'discussions_ct',name:'Comment Tracker'},{key:'discussions_df',name:'Discussion Filters'},{key:'discussions_dh',name:'Discussion Highlighter'},{key:'discussions_gdttt',name:'Giveaway/Discussion/Ticket/Trade Tracker'},{key:'discussions_pm',name:'Puzzle Marker'}]},{check:!0,key:'emojis',name:'Emojis'},{check:esgst.sg,key:'entries',name:'Entries'},{check:!0,key:'games',name:'Games',options:[{key:'games_main',name:'Main'},{key:'games_egh',name:'Entered Game Highlighter'},{key:'games_gt',name:'Game Tags'},{key:'games_itadi',name:'IsThereAnyDeal Info'}]},{check:esgst.sg,key:'filterPresets',name:'Giveaway Filters Presets'},{check:esgst.sg,key:'giveaways',name:'Giveaways',options:[{key:'giveaways_main',name:'Main'},{key:'giveaways_ct',name:'Comment Tracker'},{key:'giveaways_gb',name:'Giveaway Bookmarks'},{key:'giveaways_gdttt',name:'Giveaway/Discussion/Ticket/Trade Tracker'},{key:'giveaways_gf',name:'Giveaway Filters'},{key:'giveaways_ggl',name:'Giveaway Group Loader'}]},{check:esgst.sg,key:'groups',name:'Groups',options:[{key:'groups_main',name:'Main'},{key:'groups_sgg',name:'Stickied Giveaway Groups'}]},{check:esgst.sg,key:'rerolls',name:'Rerolls'},{check:!0,key:'savedReplies',name:'Saved Replies'},{check:!0,key:'settings',name:'Settings'},{check:!0,key:'sgCommentHistory',name:'SG Comment History'},{check:!0,key:'stCommentHistory',name:'ST Comment History'},{check:esgst.sg,key:'stickiedCountries',name:'Stickied Giveaway Countries'},{check:esgst.sg,key:'templates',name:'Templates'},{check:esgst.sg,key:'tickets',name:'Tickets',options:[{key:'tickets_main',name:'Main'},{key:'tickets_ct',name:'Comment Tracker'},{key:'tickets_gdttt',name:'Giveaway/Discussion/Ticket/Trade Tracker'},{key:'tickets_ust',name:'User Suspension Tracker'}]},{check:esgst.st,key:'trades',name:'Trades',options:[{key:'trades_main',name:'Main'},{key:'trades_ct',name:'Comment Tracker'},{key:'trades_gdttt',name:'Giveaway/Discussion/Ticket/Trade Tracker'}]},{check:!0,key:'users',name:'Users',options:[{key:'users_main',name:'Main'},{key:'users_namwc',name:'Not Activated/Multiple Win  Checker'},{key:'users_nrf',name:'Not Received Finder'},{key:'users_uf',name:'User Filters'},{key:'users_giveaways',name:'Giveaways Data'},{key:'users_notes',name:'User Notes'},{key:'users_tags',name:'User Tags'},{key:'users_wbc',name:'Whitelist/Blacklist Checker'}]},{check:esgst.sg,key:'winners',name:'Winners'}],dm.autoBackup){let e,t,s;switch(esgst.autoBackup_index){case 0:break;case 1:e=!0;break;case 2:t=!0;break;case 3:s=!0}p.open(),manageData(dm,e,t,s,!1,async()=>{delLocalValue('isBackingUp'),await setSetting('lastBackup',Date.now()),p.close()})}else{for(r=0,d=dm.options.length;r<d;++r)(u=dm.options[r]).check&&f.lastElementChild.appendChild(getDataMenu(u,dm.switches,t));if('import'===t||'delete'===t){'import'===t&&(dm.input=insertHtml(n,'beforeEnd','<input type="file"/>'),new ToggleSwitch(n,'importAndMerge',!1,'Merge',!1,!1,'Merges the current data with the imported data instead of replacing',esgst.settings.importAndMerge));let e=new ToggleSwitch(n,'exportBackup',!1,'Export backup to <select><option>Computer</option><option>Dropbox</option><option>Google Drive</option><option>OneDrive</option></select>',!1,!1,'Exports the current data as a backup',esgst.settings.exportBackup).name.firstElementChild;e.selectedIndex=esgst.settings.exportBackupIndex,e.addEventListener('change',()=>{setSetting('exportBackupIndex',e.selectedIndex)})}dm.message=insertHtml(n,'beforeEnd','<div class="esgst-description"></div>'),dm.warning=insertHtml(n,'beforeEnd','<div class="esgst-description esgst-warning"></div>'),(a=insertHtml(n,'beforeEnd','<div class="esgst-button-group"><span>Select:</span></div>')).appendChild(new ButtonSet('grey','grey','fa-circle','fa-circle-o-notch fa-spin','All','',selectSwitches.bind(null,dm.switches,'enable',a)).set),a.appendChild(new ButtonSet('grey','grey','fa-circle-o','fa-circle-o-notch fa-spin','None','',selectSwitches.bind(null,dm.switches,'disable',a)).set),a.appendChild(new ButtonSet('grey','grey','fa-dot-circle-o','fa-circle-o-notch fa-spin','Inverse','',selectSwitches.bind(null,dm.switches,'toggle',a)).set),(o=insertHtml(n,'beforeEnd',`<div class="esgst-button-group"><span>${v} ${m}:</span></div>`)).appendChild(new ButtonSet('green','grey',l,'fa-circle-o-notch fa-spin','Computer',x,e=>{g(dm,!1,!1,!1,!1,()=>{manageData(dm,!1,!1,!1,!0),e()})}).set),'delete'!==t&&(o.appendChild(new ButtonSet('green','grey','fa-dropbox','fa-circle-o-notch fa-spin','Dropbox',x,e=>{g(dm,!0,!1,!1,!1,()=>{manageData(dm,!1,!1,!1,!0),e()})}).set),o.appendChild(new ButtonSet('green','grey','fa-google','fa-circle-o-notch fa-spin','Google Drive',x,e=>{g(dm,!1,!0,!1,!1,()=>{manageData(dm,!1,!1,!1,!0),e()})}).set),o.appendChild(new ButtonSet('green','grey','fa-windows','fa-circle-o-notch fa-spin','OneDrive',x,e=>{g(dm,!1,!1,!0,!1,()=>{manageData(dm,!1,!1,!1,!0),e()})}).set)),e||p.open(),esgst[`calculate${v}`]&&getDataSizes()}}function getDataSizes(){let e=new Popup('fa-circle-o-notch fa-spin','Calculating data sizes...');e.open(),setTimeout(manageData,0,dm,!1,!1,!1,e)}function loadDataCleaner(){let e=new Popup('fa-paint-brush','Clean old data:');e.description.insertAdjacentHTML('afterBegin','<div class="esgst-bold esgst-description esgst-red">Make sure to backup your data before using the cleaner.</div>'),new ToggleSwitch(e.description,'cleanDiscussions',!1,`Discussions data older than <input class="esgst-switch-input" type="text" value="${esgst.cleanDiscussions_days}"> days.`,!1,!1,'Discussions data only started being date-tracked since v7.11.0, so not all old data may be cleaned.',esgst.cleanDiscussions).name.firstElementChild.addEventListener('change',e=>{let t=parseInt(e.currentTarget.value);setSetting('cleanDiscussions_days',t),esgst.cleanDiscussions_days=parseInt(t)}),new ToggleSwitch(e.description,'cleanEntries',!1,`Entries data older than <input class="esgst-switch-input" type="text" value="${esgst.cleanEntries_days}"> days.`,!1,!1,'',esgst.cleanEntries).name.firstElementChild.addEventListener('change',e=>{let t=parseInt(e.currentTarget.value);setSetting('cleanEntries_days',t),esgst.cleanEntries_days=parseInt(t)}),new ToggleSwitch(e.description,'cleanGiveaways',!1,`Giveaways data older than <input class="esgst-switch-input" type="text" value="${esgst.cleanGiveaways_days}"> days.`,!1,!1,'Some giveaways data only started being date-tracked since v7.11.0, so not all old data may be cleaned.',esgst.cleanGiveaways).name.firstElementChild.addEventListener('change',e=>{let t=parseInt(e.currentTarget.value);setSetting('cleanGiveaways_days',t),esgst.cleanGiveaways_days=parseInt(t)}),new ToggleSwitch(e.description,'cleanSgCommentHistory',!1,`SteamGifts comment history data older than <input class="esgst-switch-input" type="text" value="${esgst.cleanSgCommentHistory_days}"> days.`,!1,!1,'',esgst.cleanSgCommentHistory).name.firstElementChild.addEventListener('change',e=>{let t=parseInt(e.currentTarget.value);setSetting('cleanSgCommentHistory_days',t),esgst.cleanSgCommentHistory_days=parseInt(t)}),new ToggleSwitch(e.description,'cleanStCommentHistory',!1,`SteamTrades comment history data older than <input class="esgst-switch-input" type="text" value="${esgst.cleanStCommentHistory_days}"> days.`,!1,!1,'',esgst.cleanStCommentHistory).name.firstElementChild.addEventListener('change',e=>{let t=parseInt(e.currentTarget.value);setSetting('cleanStCommentHistory_days',t),esgst.cleanStCommentHistory_days=parseInt(t)}),new ToggleSwitch(e.description,'cleanTickets',!1,`Tickets data older than <input class="esgst-switch-input" type="text" value="${esgst.cleanTickets_days}"> days.`,!1,!1,'Tickets data only started being date-tracked since v7.11.0, so not all old data may be cleaned.',esgst.cleanTickets).name.firstElementChild.addEventListener('change',e=>{let t=parseInt(e.currentTarget.value);setSetting('cleanTickets_days',t),esgst.cleanTickets_days=parseInt(t)}),new ToggleSwitch(e.description,'cleanTrades',!1,`Trades data older than <input class="esgst-switch-input" type="text" value="${esgst.cleanTrades_days}"> days.`,!1,!1,'Trades data only started being date-tracked since v7.11.0, so not all old data may be cleaned.',esgst.cleanTrades).name.firstElementChild.addEventListener('change',e=>{let t=parseInt(e.currentTarget.value);setSetting('cleanTrades_days',t),esgst.cleanTrades_days=parseInt(t)}),e.description.appendChild(new ButtonSet_v2({color1:'green',color2:'grey',icon1:'fa-check',icon2:'fa-circle-o-notch fa-spin',title1:'Clean',title2:'Cleaning...',callback1:async()=>{let t=Date.now();if(esgst.cleanDiscussions){let e=864e5*esgst.cleanDiscussions_days,s=JSON.parse(await getValue('discussions'));for(let n in s){let i=s[n];i.author!==esgst.username&&i.lastUsed&&t-i.lastUsed>e&&delete s[n]}await setValue('discussions',JSON.stringify(s))}if(esgst.cleanEntries){let e=864e5*esgst.cleanEntries_days,s,n=[];JSON.parse(await getValue('entries')).forEach(s=>{t-s.timestamp<=e&&n.push(s)}),await setValue('entries',JSON.stringify(n))}if(esgst.cleanGiveaways){let e=864e5*esgst.cleanGiveaways_days,s=JSON.parse(await getValue('giveaways'));for(let n in s){let i=s[n];i.creator!==esgst.username&&(i.endTime&&t-i.endTime>e||i.lastUsed&&t-i.lastUsed>e)&&delete s[n]}await setValue('giveaways',JSON.stringify(s))}if(esgst.cleanSgCommentHistory){let e=864e5*esgst.cleanSgCommentHistory_days,s,n=[];JSON.parse(await getValue('sgCommentHistory')).forEach(s=>{t-s.timestamp<=e&&n.push(s)}),await setValue('sgCommentHistory',JSON.stringify(n))}if(esgst.cleanStCommentHistory){let e=864e5*esgst.cleanStCommentHistory_days,s,n=[];JSON.parse(await getValue('stCommentHistory')).forEach(s=>{t-s.timestamp<=e&&n.push(s)}),await setValue('stCommentHistory',JSON.stringify(n))}if(esgst.cleanTickets){let e=864e5*esgst.cleanTickets_days,s=JSON.parse(await getValue('tickets'));for(let n in s){let i=s[n];i.author!==esgst.username&&i.lastUsed&&t-i.lastUsed>e&&delete s[n]}await setValue('tickets',JSON.stringify(s))}if(esgst.cleanTrades){let e=864e5*esgst.cleanTrades_days,s=JSON.parse(await getValue('trades'));for(let n in s){let i=s[n];i.author!==esgst.username&&i.lastUsed&&t-i.lastUsed>e&&delete s[n]}await setValue('trades',JSON.stringify(s))}e.close()}}).set),e.open()}function getDataMenu(e,t,s){var n,i,a,o,r,l;if(a=document.createElement('div'),t[e.key]=l=new ToggleSwitch(a,`${s}_${e.key}`,!1,e.name,!1,!1,null,esgst.settings[`${s}_${e.key}`]),t[e.key].size=insertHtml(t[e.key].name,'beforeEnd',' <span class="esgst-bold"></span>'),'Main'===e.name&&t[e.key].name.insertAdjacentHTML('beforeEnd',' <i class="fa fa-question-circle" title="Main data is the data that is needed by other sub-options. Because of that dependency, when deleting main data not all data may be deleted, but if you delete another sub-option first and then delete main data, all data that was required exclusively by that sub-option will be deleted."></i>'),e.options){for(r=insertHtml(a,'beforeEnd','\n                <div class="esgst-form-row-indent SMFeatures esgst-hidden"></div>\n            '),n=0,o=e.options.length;n<o;++n)i=getDataMenu(e.options[n],t,s),r.appendChild(i),l.dependencies.push(i);esgst.settings[`${s}_${e.key}`]&&r.classList.remove('esgst-hidden')}return l.onEnabled=function(){r&&r.classList.remove('esgst-hidden')},l.onDisabled=function(){r&&r.classList.add('esgst-hidden')},a}function openSmallWindow(e){open(e,'esgst',`height=600,left=${(screen.width-600)/2},top=${(screen.height-600)/2},width=600`)}async function loadImportFile(e,t,s,n,i,a){var o;t?(await delValue('dropboxToken'),openSmallWindow(`https://www.dropbox.com/oauth2/authorize?redirect_uri=https://${location.hostname}/esgst/dropbox&response_type=token&client_id=nix7kvchwa8wdvj`),checkDropboxComplete(null,e,a)):s?(await delValue('googleDriveToken'),openSmallWindow(`https://accounts.google.com/o/oauth2/v2/auth?redirect_uri=https://${location.hostname}/esgst/google-drive&response_type=token&client_id=102804278399-95kit5e09mdskdta7eq97ra7tuj20qps.apps.googleusercontent.com&scope=https://www.googleapis.com/auth/drive.appdata`),checkGoogleDriveComplete(null,e,a)):n?(await delValue('oneDriveToken'),openSmallWindow('https://login.microsoftonline.com/common/oauth2/v2.0/authorize?redirect_uri=https://www.steamgifts.com/esgst/onedrive&response_type=token&client_id=1781429b-289b-4e6e-877a-e50015c0af21&scope=files.readwrite'),checkOneDriveComplete(null,e,a)):(o=e.input.files[0])?(e.reader=new FileReader,e.reader.readAsText(o),e.reader.onload=readImportFile.bind(null,e,t,s,n,i,a)):(createFadeMessage(e.warning,'No file was loaded!'),a())}function readImportFile(e,t,s,n,i,a){try{e.reader&&(e.data=JSON.parse(e.reader.result)),createConfirmation('Are you sure you want to import the selected data?',manageData.bind(null,e,t,s,n,i,a),a)}catch(t){createFadeMessage(e.warning,'Cannot parse file!'),a()}}function confirmDataDeletion(e,t,s,n,i,a){createConfirmation('Are you sure you want to delete the selected data?',manageData.bind(null,e,t,s,n,i,a),a)}function convertBytes(e){return e<1024?`${e} B`:(e/=1024)<1024?`${Math.round(100*e)/100} KB`:`${Math.round(e/1024*100)/100} MB`}async function manageData(e,t,s,n,i,a){let o={},r=0;for(let t=0,s=e.options.length;t<s;t++){let s=e.options[t],n=s.key;if(!s.check||!e.autoBackup&&!i&&!esgst.settings[`${e.type}_${n}`])continue;let a=null,l,c,d;switch(n){case'decryptedGiveaways':case'settings':if(o[n]=JSON.parse(await getValue(n,'{}')),!i)if(e.import){let t=e.data[n];if(t)if(esgst.settings.importAndMerge){c=o[n];for(let e in t)c[e]=t[e];await setValue(n,JSON.stringify(c))}else await setValue(n,JSON.stringify(t))}else e.delete&&await delValue(n);if(!e.autoBackup){let t=new TextEncoder('utf-8').encode(`{"${n}":${await getValue(n,'{}')}}`).length;r+=t,e.switches[n].size.textContent=convertBytes(t)}break;case'discussions':a||(a={main:['lastUsed'],ct:['count','readComments'],df:['hidden'],dh:['highlighted'],gdttt:['visited'],pm:['status']});case'giveaways':a||(a={main:['code','comments','copies','creator','endTime','entries','gameId','gameName','gameSteamId','gameType','group','inviteOnly','lastUsed','level','points','regionRestricted','started','startTime','whitelist','winners'],ct:['count','readComments'],gb:['bookmarked'],gdttt:['visited'],gf:['hidden'],ggl:['groups']});case'tickets':a||(a={main:['lastUsed'],ct:['count','readComments'],gdttt:['visited'],ust:['sent']});case'trades':a||(a={main:['lastUsed'],ct:['count','readComments'],gdttt:['visited']}),o[n]={},c=JSON.parse(await getValue(n,'{}')),d={ct:0,df:0,dh:0,gb:0,gdttt:0,gf:0,ggl:0,main:0,pm:0,total:0,ust:0},l=!1;for(let t in c){let s={},r=0,g=0,u=0,h=null,m=!1;for(let o in a){esgst.settings[`${e.type}_${n}_${o}`]&&(r+=1);for(let r=0,l=a[o].length;r<l;++r){let l=a[o][r],p=c[t][l];if(void 0!==p){'main'!==o&&(g+=1),(e.autoBackup||esgst.settings[`${e.type}_${n}_${o}`]||'main'===o)&&(s[l]=p,'main'!==o&&(m=!0));let a=new TextEncoder('utf-8').encode(`"${l}":${JSON.stringify(p)},`).length;d[o]+=a,d.total+=a,h=o,!i&&e.delete&&esgst.settings[`${e.type}_${n}_${o}`]&&'main'!==o&&(u+=1,delete c[t][l])}}}h&&(d[h]-=1,d.total-=1),(e.autoBackup||m||esgst.settings[`${e.type}_${n}_main`])&&(o[n][t]=s,l=!0);let p=new TextEncoder('utf-8').encode(`"${t}":{},`).length;d.main+=p,d.total+=p,!i&&e.delete&&(esgst.settings[`${e.type}_${n}_main`]&&g===u||r===Object.keys(a).length)&&delete c[t]}if(!i)if(e.import){let t=e.data[n];if(t){for(let s in t){c[s]||(c[s]={});for(let i in a)if(esgst.settings[`${e.type}_${n}_${i}`])if(esgst.settings.importAndMerge)for(let e=0,n=a[i].length;e<n;++e){let n=a[i][e];if('readComments'===n)if(c[s].readComments)for(let e in c[s].readComments)t[s].readComments[e]>c[s].readComments[e]&&(c[s].readComments[e]=t[s].readComments[e]);else c[s].readComments=t[s].readComments;else c[s][n]=t[s][n]}else for(let e=0,n=a[i].length;e<n;++e){let n=a[i][e];c[s][n]=t[s][n]}}await setValue(n,JSON.stringify(c))}}else e.delete&&await setValue(n,JSON.stringify(c));if(l&&(d.main-=1,d.total-=1),!e.autoBackup){let t=new TextEncoder('utf-8').encode(`{"${n}":{}}`).length;d.main+=t,d.total+=t;for(let t in a)e.switches[`${n}_${t}`]&&(e.switches[`${n}_${t}`].size.textContent=convertBytes(d[t]));e.switches[n].size.textContent=convertBytes(d.total),r+=d.total}break;case'emojis':if(o.emojis=await getValue('emojis',''),!i)if(e.import){let t=e.data.emojis;if(t)if(esgst.settings.importAndMerge){c=o.emojis;for(let e=0,s=(t=parseHtml(t).getElementsByTagName('span')).length;e<s;++e){let s=t[e].outerHTML;c.match(s)||(c=`${c}${s}`)}await setValue('emojis',c)}else await setValue('emojis',t)}else e.delete&&await delValue('emojis');if(!e.autoBackup){let t=new TextEncoder('utf-8').encode(`{"${n}":${await getValue(n,'""')}}`).length;r+=t,e.switches[n].size.textContent=convertBytes(t)}break;case'dfPresets':case'entries':case'filterPresets':case'templates':case'savedReplies':if(o[n]=JSON.parse(await getValue(n,'[]')),!i)if(e.import){let t=e.data[n];if(t)if(esgst.settings.importAndMerge){let e='entries'===n?'timestamp':'name';c=o[n];for(let s=0,n=t.length;s<n;++s){let n=t[s],i,a;for(i=0,a=c.length;i<a&&c[i][e]!==n[e];++i);i<a?c[i]=n:c.push(n)}'entries'===n&&(c=sortArrayByNumberKey(c,'timestamp')),await setValue(n,JSON.stringify(c))}else await setValue(n,JSON.stringify(t))}else e.delete&&await delValue(n);if(!e.autoBackup){let t=new TextEncoder('utf-8').encode(`{"${n}":${await getValue(n,'[]')}}`).length;r+=t,e.switches[n].size.textContent=convertBytes(t)}break;case'games':a={main:['reducedCV','noCV','hidden','ignored','owned','wishlisted'],gt:['tags'],egh:['entered'],itadi:['itadi']},o.games={apps:{},subs:{}},c=JSON.parse(await getValue('games','{"apps":{},"subs":{}}')),d={egh:0,gt:0,itadi:0,main:0,total:0},l=!1;for(let t in c.apps){let s=c.apps[t],r={},g=0,u=0,h=0,m=null,p=!1;for(let t in a){esgst.settings[`${e.type}_games_${t}`]&&(g+=1);for(let n=0,o=a[t].length;n<o;++n){let o=a[t][n],l=s[o];if(void 0!==l){'main'!==t&&(u+=1),(e.autoBackup||esgst.settings[`${e.type}_games_${t}`]||'main'===t)&&(r[o]=l,'main'!==t&&(p=!0));let n=new TextEncoder('utf-8').encode(`"${o}":${JSON.stringify(l)},`).length;d[t]+=n,d.total+=n,m=t,!i&&e.delete&&esgst.settings[`${e.type}_games_${t}`]&&'main'!==t&&(h+=1,delete s[o])}}}m&&(d[m]-=1,d.total-=1),(e.autoBackup||p||esgst.settings[`${e.type}_${n}_main`])&&(o.games.apps[t]=r,l=!0);let f=new TextEncoder('utf-8').encode(`"${t}":{},`).length;d.main+=f,d.total+=f,!i&&e.delete&&(esgst.settings[`${e.type}_${n}_main`]&&u===h||g===Object.keys(a).length)&&delete c.apps[t]}l&&(d.main-=1,d.total-=1),l=!1;for(let t in c.subs){let s=c.subs[t],r={},g=0,u=0,h=0,m=null,p=!1;for(let t in a){esgst.settings[`${e.type}_games_${t}`]&&(g+=1);for(let n=0,o=a[t].length;n<o;++n){let o=a[t][n],l=s[o];if(void 0!==l){'main'!==t&&(u+=1),(e.autoBackup||esgst.settings[`${e.type}_games_${t}`]||'main'===t)&&(r[o]=l,'main'!==t&&(p=!0));let n=new TextEncoder('utf-8').encode(`"${o}":${JSON.stringify(l)},`).length;d[t]+=n,d.total+=n,m=t,!i&&e.delete&&esgst.settings[`${e.type}_games_${t}`]&&'main'!==t&&(h+=1,delete s[o])}}}m&&(d[m]-=1,d.total-=1),(e.autoBackup||p||esgst.settings[`${e.type}_${n}_main`])&&(o.games.subs[t]=r,l=!0);let f=new TextEncoder('utf-8').encode(`"${t}":{},`).length;d.main+=f,d.total+=f,!i&&e.delete&&(esgst.settings[`${e.type}_${n}_main`]&&u===h||g===Object.keys(a).length)&&delete c.subs[t]}if(l&&(d.main-=1,d.total-=1),!i)if(e.import){let t=e.data.games;if(t){for(let s in t.apps){let n=t.apps[s];c.apps[s]||(c.apps[s]={});let i=c.apps[s];for(let t in a)if(esgst.settings[`${e.type}_games_${t}`])for(let e=0,s=a[t].length;e<s;++e){let s=a[t][e];if(void 0!==n[s])if(esgst.settings.importAndMerge)switch(s){case'entered':i.entered=!0;break;case'itadi':i.itadi?n.itadi.lastCheck>i.itadi.lastCheck&&(i.itadi=n.itadi):i.itadi=n.itadi;break;case'tags':if(i.tags){let e=n.tags;for(let t=0,s=e.length;t<s;++t){let s=e[t];i.tags.indexOf(s)<0&&i.tags.push(s)}}else i.tags=n.tags;break;default:i[s]=n[s]}else i[s]=n[s]}}for(let s in t.subs){let n=t.subs[s];c.subs[s]||(c.subs[s]={});let i=c.subs[s];for(let t in a)if(esgst.settings[`${e.type}_games_${t}`])for(let e=0,s=a[t].length;e<s;++e){let s=a[t][e];if(void 0!==n[s])if(esgst.settings.importAndMerge)switch(s){case'entered':i.entered=!0;break;case'itadi':i.itadi?n.itadi.lastCheck>i.itadi.lastCheck&&(i.itadi=n.itadi):i.itadi=n.itadi;break;case'tags':if(i.tags){let e=n.tags;for(let t=0,s=e.length;t<s;++t){let s=e[t];i.tags.indexOf(s)<0&&i.tags.push(s)}}else i.tags=n.tags;break;default:i[s]=n[s]}else i[s]=n[s]}}await setValue('games',JSON.stringify(c))}}else e.delete&&await setValue('games',JSON.stringify(c));if(!e.autoBackup){let t=new TextEncoder('utf-8').encode(`{"${n}":{"apps":{},"subs":{}}}`).length;d.main+=t,d.total+=t;for(let t in a)e.switches[`${n}_${t}`]&&(e.switches[`${n}_${t}`].size.textContent=convertBytes(d[t]));e.switches[n].size.textContent=convertBytes(d.total),r+=d.total}break;case'groups':if(a={main:['avatar','code','member','name'],sgg:['stickied']},c=JSON.parse(await getValue(n,'[]')),!Array.isArray(c)){let e=[];for(let t in c)e.push(c[t]);c=e}o[n]=[],d={main:0,sgg:0,total:0},l=!1;for(let t=c.length-1;t>-1;--t){let s={},r=0,g=0,u=0,h=null,m=!1;for(let o in a){esgst.settings[`${e.type}_${n}_${o}`]&&(r+=1);for(let r=0,l=a[o].length;r<l;++r){let l=a[o][r];if(c[t]){let a=c[t][l];if(void 0!==a){'main'!==o&&(g+=1),(e.autoBackup||esgst.settings[`${e.type}_${n}_${o}`]||'main'===o)&&(s[l]=a,'main'!==o&&(m=!0));let r=new TextEncoder('utf-8').encode(`"${l}":${JSON.stringify(a)},`).length;d[o]+=r,d.total+=r,h=o,!i&&e.delete&&esgst.settings[`${e.type}_${n}_${o}`]&&'main'!==o&&(u+=1,delete c[t][l])}}}}h&&(d[h]-=1,d.total-=1),(e.autoBackup||m||esgst.settings[`${e.type}_${n}_main`])&&(o[n].push(s),l=!0);let p=new TextEncoder('utf-8').encode('{},').length;d.main+=p,d.total+=p,!i&&e.delete&&(esgst.settings[`${e.type}_${n}_main`]&&g===u||r===Object.keys(a).length)&&c.pop()}if(l&&(d.main-=1,d.total-=1),!i)if(e.import){let t=e.data[n];if(!Array.isArray(t)){let e=[];for(let s in t)e.push(t[s]);t=e}if(t){for(let s=t.length-1;s>-1;--s){let i=t[s].code,o,r;for(o=c.length-1;o>-1&&c[o].code!==i;--o);o>-1?r=c[o]:(r={},c.push(r));for(let i in a)if(esgst.settings[`${e.type}_${n}_${i}`])for(let e=0,n=a[i].length;e<n;++e){let n=a[i][e];r[n]=t[s][n]}}await setValue(n,JSON.stringify(c))}}else e.delete&&await setValue(n,JSON.stringify(c));if(!e.autoBackup){let t=new TextEncoder('utf-8').encode(`{"${n}":[]}`).length;d.main+=t,d.total+=t;for(let t in a)e.switches[`${n}_${t}`]&&(e.switches[`${n}_${t}`].size.textContent=convertBytes(d[t]));e.switches[n].size.textContent=convertBytes(d.total),r+=d.total}break;case'rerolls':case'stickiedCountries':if(o[n]=JSON.parse(await getValue(n,'[]')),!i)if(e.import){let t=e.data[n];if(t)if(esgst.settings.importAndMerge){c=o[n];for(let e=0,s=t.length;e<s;++e){let s=t[e];c.indexOf(s)<0&&c.push(s)}await setValue(n,JSON.stringify(c))}else await setValue(n,JSON.stringify(t))}else e.delete&&await delValue(n);if(!e.autoBackup){let t=new TextEncoder('utf-8').encode(`{"${n}":${await getValue(n,'[]')}}`).length;r+=t,e.switches[n].size.textContent=convertBytes(t)}break;case'sgCommentHistory':case'stCommentHistory':if(o[n]=JSON.parse(await getValue(n,'[]')),!i)if(e.import){let t=e.data[n];if(t)if(esgst.settings.importAndMerge){c=[];let e=o[n],s=0,i=0,a=t.length,r=e.length;for(;s<r&&i<a;){let n=e[s],a=t[i];if(n.timestamp>a.timestamp)c.push(n),s+=1;else{let t,s;for(t=0;t<s&&e[t].id!==a.id;++t);t>=s&&c.push(a),i+=1}}for(;s<r;)c.push(e[s]),s+=1;for(;i<a;){let s=t[i],n,a;for(n=0;n<a&&e[n].id!==s.id;++n);n>=a&&c.push(s),i+=1}await setValue(n,JSON.stringify(c))}else await setValue(n,JSON.stringify(t))}else e.delete&&await delValue(n);if(!e.autoBackup){let t=new TextEncoder('utf-8').encode(`{"${n}":${await getValue(n,'[]')}}`).length;r+=t,e.switches[n].size.textContent=convertBytes(t)}break;case'users':a={main:['whitelisted','whitelistedDate','blacklisted','blacklistedDate'],giveaways:['giveaways'],namwc:['namwc'],notes:['notes'],nrf:['nrf'],tags:['tags'],uf:['uf'],wbc:['wbc']},o.users={steamIds:{},users:{}},c=JSON.parse(await getValue('users','{"steamIds":{},"users":{}}')),d={giveaways:0,namwc:0,notes:0,nrf:0,main:0,tags:0,total:0,uf:0,wbc:0},l=!1,mainUsernameFound=!1;for(let t in c.users){let s=c.users[t],r={},g=0,u=0,h=0,m=null,p=!1;for(let t in a){esgst.settings[`${e.type}_users_${t}`]&&(g+=1);for(let n=0,o=a[t].length;n<o;++n){let o=a[t][n];if(void 0!==s[o]){'main'!==t&&(u+=1),(e.autoBackup||esgst.settings[`${e.type}_users_${t}`]||'main'===t)&&(r[o]=s[o],'main'!==t&&(p=!0));let n=new TextEncoder('utf-8').encode(`"${o}":${JSON.stringify(s[o])},`).length;d[t]+=n,d.total+=n,m=t,!i&&e.delete&&esgst.settings[`${e.type}_users_${t}`]&&'main'!==t&&(h+=1,delete s[o])}}}m&&(d[m]-=1,d.total-=1);let f=s.id,v=s.username,x=0;f&&(x+=new TextEncoder('utf-8').encode(`"id":"${f}",`).length),v&&(x+=new TextEncoder('utf-8').encode(`"username":"${v}","${v}":"${t}",`).length),(e.autoBackup||p||esgst.settings[`${e.type}_${n}_main`])&&(f&&(r.id=f),v&&(r.username=v,o.users.steamIds[v]=t,mainUsernameFound=!0),o.users.users[t]=r,l=!0),x+=new TextEncoder('utf-8').encode(`"${t}":{},`).length,d.main+=x,d.total+=x,!i&&e.delete&&(esgst.settings[`${e.type}_${n}_main`]&&u===h||g===Object.keys(a).length)&&(delete c.steamIds[s.username],delete c.users[t])}if(l&&(d.main-=1,d.total-=1),mainUsernameFound&&(d.main-=1,d.total-=1),!i)if(e.import){let t=e.data.users;if(t){for(let s in t.users){let n=t.users[s];c.users[s]||(c.users[s]={id:n.id,username:n.username},c.steamIds[n.username]=s);let i=c.users[s];for(let t in a)if(esgst.settings[`${e.type}_users_${t}`])for(let e=0,s=a[t].length;e<s;++e){let s=a[t][e];if(n[s])if(esgst.settings.importAndMerge)switch(s){case'whitelisted':case'whitelistedDate':case'blacklisted':case'blacklistedDate':i[s]=n[s];break;case'notes':i.notes=i.notes?`${i.notes}\n\n${n.notes}`:n.notes;break;case'tags':if(i.tags){let e=n.tags;for(let t=0,s=e.length;t<s;++t){let s=e[t];i.tags.indexOf(s)<0&&i.tags.push(s)}}else i.tags=n.tags;break;case'giveaways':i.giveaways?(n.giveaways.wonTimestamp>i.giveaways.wonTimestamp&&(i.giveaways.won=n.giveaways.won,i.giveaways.wonTimestamp=n.giveaways.wonTimestamp),n.giveaways.sentTimestamp>i.giveaways.sentTimestamp&&(i.giveaways.sent=n.giveaways.sent,i.giveaways.sentTimestamp=n.giveaways.sentTimestamp)):i.giveaways=n.giveaways;break;default:i[s]?n[s].lastCheck>i[s].lastCheck&&(i[s]=n[s]):i[s]=n[s]}else i[s]=n[s]}}await setValue('users',JSON.stringify(c))}}else e.delete&&await setValue('users',JSON.stringify(c));if(!e.autoBackup){let t=new TextEncoder('utf-8').encode(`{"${n}":{"steamIds":{},"users":{}}}`).length;for(value in d.main+=t,d.total+=t,a)e.switches[`${n}_${value}`]&&(e.switches[`${n}_${value}`].size.textContent=convertBytes(d[value]));e.switches[n].size.textContent=convertBytes(d.total),r+=d.total}break;case'winners':if(o.winners=JSON.parse(await getValue('winners','{}')),!i)if(e.import){let t=e.data.winners;if(t)if(esgst.settings.importAndMerge){c=o.winners;for(let e in t){c[e]||(c[e]=[]);for(let s=0,n=t[e].length;s<n;++s){let n=t[e][s];c[e].indexOf(n)<0&&c[e].push(n)}}await setValue('winners',JSON.stringify(c))}else await setValue('winners',JSON.stringify(t))}else e.delete&&await delValue('winners');if(!e.autoBackup){let t=new TextEncoder('utf-8').encode(`{"${n}":${await getValue(n,'{}')}}`).length;r+=t,e.switches[n].size.textContent=convertBytes(t)}}}if(e.autoBackup||(e.computerSpaceCount.textContent=convertBytes(r)),i)i.close&&i.close();else if('export'===e.type||esgst.settings.exportBackup)if(t||'export'!==e.type&&1===esgst.settings.exportBackupIndex)await delValue('dropboxToken'),openSmallWindow(`https://www.dropbox.com/oauth2/authorize?redirect_uri=https://${location.hostname}/esgst/dropbox&response_type=token&client_id=nix7kvchwa8wdvj`),checkDropboxComplete(o,e,a);else if(s||'export'!==e.type&&2===esgst.settings.exportBackupIndex)await delValue('googleDriveToken'),openSmallWindow(`https://accounts.google.com/o/oauth2/v2/auth?redirect_uri=https://${location.hostname}/esgst/google-drive&response_type=token&client_id=102804278399-95kit5e09mdskdta7eq97ra7tuj20qps.apps.googleusercontent.com&scope=https://www.googleapis.com/auth/drive.appdata`),checkGoogleDriveComplete(o,e,a);else if(n||'export'!==e.type&&3===esgst.settings.exportBackupIndex)await delValue('oneDriveToken'),openSmallWindow('https://login.microsoftonline.com/common/oauth2/v2.0/authorize?redirect_uri=https://www.steamgifts.com/esgst/onedrive&response_type=token&client_id=1781429b-289b-4e6e-877a-e50015c0af21&scope=files.readwrite'),checkOneDriveComplete(o,e,a);else{o=new Blob([JSON.stringify(o)]);let t=URL.createObjectURL(o),s=document.createElement('a');s.download=`${prompt('Enter the name of the file:',`esgst_data_${(new Date).toISOString().replace(/:/g,'_')}`)}.json`,s.href=t,document.body.appendChild(s),s.click(),s.remove(),URL.revokeObjectURL(t),e.autoBackup||createFadeMessage(e.message,`Data ${e.type}ed with success!`),a()}else createFadeMessage(e.message,`Data ${e.type}ed with success!`),a()}async function exportSettings(){let e={settings:JSON.parse(await getValue('settings','{}'))};delete e.settings.avatar,delete e.settings.lastSync,delete e.settings.steamApiKey,delete e.settings.steamId,delete e.settings.syncFrequency,delete e.settings.username,e=new Blob([JSON.stringify(e)]);let t=URL.createObjectURL(e);file=document.createElement('a'),file.download=`${prompt('Enter the name of the file:',`esgst_settings_${(new Date).toISOString().replace(/:/g,'_')}`)}.json`,file.href=t,document.body.appendChild(file),file.click(),file.remove(),URL.revokeObjectURL(t)}async function checkDropboxComplete(e,t,s){let n=await getValue('dropboxToken');if(n)if('export'===t.type||e&&esgst.settings.exportBackup){let i=prompt('Enter the name of the file:',`esgst_data_${(new Date).toISOString().replace(/:/g,'_')}`);await request({data:JSON.stringify(e),headers:{authorization:`Bearer ${n}`,'Dropbox-API-Arg':`{"path": "/${i}.json"}`,'Content-Type':'application/octet-stream'},method:'POST',url:'https://content.dropboxapi.com/2/files/upload'}),t.autoBackup||createFadeMessage(t.message,`Data ${t.type}ed with success!`),s()}else{let e=!0,i=new Popup('fa-dropbox','Select a file to import:',!0);i.onClose=(()=>{e&&s()}),i.open();let a=insertHtml(i.scrollable,'beforeEnd','<div class="popup__keys__list"></div>');JSON.parse((await request({data:'{"path": ""}',headers:{authorization:`Bearer ${n}`,'Content-Type':'application/json'},method:'POST',url:'https://api.dropboxapi.com/2/files/list_folder'})).responseText).entries.forEach(o=>{let r;insertHtml(a,'beforeEnd',`\n                        <div class="esgst-clickable">${o.name} - ${convertBytes(o.size)}</div>\n                    `).addEventListener('click',()=>{createConfirmation('Are you sure you want to import the selected data?',async()=>{e=!1,i.close(),t.data=JSON.parse((await request({headers:{authorization:`Bearer ${n}`,'Dropbox-API-Arg':`{"path": "/${o.name}"}`,'Content-Type':'text/plain'},method:'GET',url:'https://content.dropboxapi.com/2/files/download'})).responseText),manageData(t,!1,!1,!1,!1,s)})})})}else setTimeout(checkDropboxComplete,250,e,t,s)}async function checkGoogleDriveComplete(e,t,s){let n=await getValue('googleDriveToken');if(n)if('export'===t.type||e&&esgst.settings.exportBackup){let i=prompt('Enter the name of the file:',`esgst_data_${(new Date).toISOString().replace(/:/g,'_')}`);await request({data:`--esgst\nContent-Type: application/json; charset=UTF-8\n\n{"mimeType": "mime/type", "name": "${i}.json", "parents": ["appDataFolder"]}\n\n--esgst\nContent-Type: mime/type\n\n${JSON.stringify(e)}\n--esgst--`,headers:{authorization:`Bearer ${n}`,'Content-Type':'multipart/related; boundary=esgst'},method:'POST',url:'https://www.googleapis.com/upload/drive/v3/files?uploadType=multipart'}),t.autoBackup||createFadeMessage(t.message,`Data ${t.type}ed with success!`),s()}else{let e=!0,i=new Popup('fa-google','Select a file to import:',!0);i.onClose=(()=>{e&&s()}),i.open();let a=insertHtml(i.scrollable,'beforeEnd','<div class="popup__keys__list"></div>');JSON.parse((await request({headers:{authorization:`Bearer ${n}`},method:'GET',url:'https://www.googleapis.com/drive/v3/files?spaces=appDataFolder'})).responseText).files.forEach(o=>{let r;insertHtml(a,'beforeEnd',`\n                        <div class="esgst-clickable">${o.name}</div>\n                    `).addEventListener('click',()=>{createConfirmation('Are you sure you want to import the selected data?',async()=>{e=!1,i.close(),t.data=JSON.parse((await request({headers:{authorization:`Bearer ${n}`},method:'GET',url:`https://www.googleapis.com/drive/v3/files/${o.id}?alt=media`})).responseText),manageData(t,!1,!1,!1,!1,s)})})})}else setTimeout(checkGoogleDriveComplete,250,e,t,s)}async function checkOneDriveComplete(e,t,s){let n=await getValue('oneDriveToken');if(n)if('export'===t.type||e&&esgst.settings.exportBackup){let i=prompt('Enter the name of the file:',`esgst_data_${(new Date).toISOString().replace(/:/g,'_')}`);await request({anon:!0,data:JSON.stringify(e),headers:{Authorization:`bearer ${n}`,'Content-Type':'application/json'},method:'PUT',url:`https://graph.microsoft.com/v1.0/me/drive/special/approot:/${i}.json:/content`}),t.autoBackup||createFadeMessage(t.message,`Data ${t.type}ed with success!`),s()}else{let e=!0,i=new Popup('fa-windows','Select a file to import:',!0),a=insertHtml(i.scrollable,'beforeEnd','<div class="popup__keys__list"></div>');JSON.parse((await request({anon:!0,headers:{Authorization:`bearer ${n}`},method:'GET',url:'https://graph.microsoft.com/v1.0/me/drive/special/approot/children'})).responseText).value.forEach(o=>{let r;insertHtml(a,'beforeEnd',`\n                        <div class="esgst-clickable">${o.name} - ${convertBytes(o.size)}</div>\n                    `).addEventListener('click',()=>{createConfirmation('Are you sure you want to import the selected data?',async()=>{e=!1,i.close(),t.data=JSON.parse((await request({anon:!0,headers:{authorization:`Bearer ${n}`},method:'GET',url:`https://graph.microsoft.com/v1.0/me/drive/items/${o.id}/content`})).responseText),manageData(t,!1,!1,!1,!1,s)})})}),i.onClose=(()=>{e&&s()}),i.open()}else setTimeout(checkOneDriveComplete,250,e,t,s)}async function selectSwitches(e,t,s,n){for(let n in e)e[n][t](s);if(s){let e=insertHtml(s,'beforeEnd','\n                <div class="esgst-description esgst-bold">\n                    <i class="fa fa-circle-o-notch fa-spin"></i> Saving...\n                </div>\n            ');await setValue('settings',JSON.stringify(esgst.settings)),e.classList.add('esgst-green'),e.innerHTML='<i class="fa fa-check"></i> Saved!',setTimeout(e.remove.bind(e),2500)}n&&n()}function addStyle(){var e,t,s,n,i,a;for(a=`\n            :root {\n                --esgst-gwc-highlight-width: ${esgst.gwc_h_width};\n                --esgst-gwr-highlight-width: ${esgst.gwr_h_width};\n            }\n        `,n=0,i=(s=[{id:'gc_h',key:'hidden',mainKey:'esgst-gc'},{id:'gc_gi',key:'giveawayInfo',mainKey:'esgst-gc'},{id:'gc_fcv',key:'fullCV',mainKey:'esgst-gc'},{id:'gc_rcv',key:'reducedCV',mainKey:'esgst-gc'},{id:'gc_ncv',key:'noCV',mainKey:'esgst-gc'},{id:'gc_w',key:'wishlisted',mainKey:'esgst-gc'},{id:'gc_o',key:'owned',mainKey:'esgst-gc'},{id:'gc_i',key:'ignored',mainKey:'esgst-gc'},{id:'gc_rm',key:'removed',mainKey:'esgst-gc'},{id:'gc_ea',key:'earlyAccess',mainKey:'esgst-gc'},{id:'gc_tc',key:'tradingCards',mainKey:'esgst-gc'},{id:'gc_a',key:'achievements',mainKey:'esgst-gc'},{id:'gc_mp',key:'multiplayer',mainKey:'esgst-gc'},{id:'gc_sc',key:'steamCloud',mainKey:'esgst-gc'},{id:'gc_l',key:'linux',mainKey:'esgst-gc'},{id:'gc_m',key:'mac',mainKey:'esgst-gc'},{id:'gc_dlc',key:'dlc',mainKey:'esgst-gc'},{id:'gc_p',key:'package',mainKey:'esgst-gc'},{id:'gc_rd',key:'releaseDate',mainKey:'esgst-gc'},{id:'gc_g',key:'genres',mainKey:'esgst-gc'}]).length;n<i;++n)t=esgst[`${s[n].id}_color`],e=esgst[`${s[n].id}_bgColor`],a+=`\n                ${'genres'===s[n].key?'a':''}.${s[n].mainKey}-${s[n].key}:not(.giveaway__column):not(.featured__column) {\n                    background-color: ${e};\n                    ${t?`color: ${t};`:''}\n                }\n                .${s[n].mainKey}-${s[n].key}.giveaway__column, .${s[n].mainKey}-${s[n].key}.featured__column {\n                    color: ${e};\n                }\n            `;for(n=0,i=(s=[{id:'wbh_w',key:'whitelisted',mainKey:'esgst-wbh-highlight'},{id:'wbh_b',key:'blacklisted',mainKey:'esgst-wbh-highlight'},{id:'ge_p',key:'public',mainKey:'esgst-ge'},{id:'ge_g',key:'group',mainKey:'esgst-ge'},{id:'ge_b',key:'blacklist',mainKey:'esgst-ge'}]).length;n<i;++n)t=esgst[`${s[n].id}_color`],e=esgst[`${s[n].id}_bgColor`],a+=`\n                .${s[n].mainKey}-${s[n].key} {\n                    background-color: ${e} !important;\n                    ${t?`color: ${t} !important;`:''}\n                }\n            `;a+=`\n            .esgst-chfl-compact {\n                padding: 8px 15px !important;\n            }\n\n            .footer__outer-wrap .esgst-chfl-panel, footer .esgst-chfl-panel {\n                position: static !important;\n            }\n\n            .esgst-chfl-panel {\n                position: absolute;\n                right: 10px;\n            }\n\n            .esgst-chfl-panel i {\n                background-color: #fff;\n                border: 1px solid #ccc;\n                border-radius: 5px;\n                color: #555 !important;\n                cursor: pointer;\n                font-size: 18px !important;\n                margin: 0 !important;\n                padding: 5px;\n                width: auto !important;\n            }\n\n            .esgst-chfl-small i {\n                font-size: 18px !important;\n                width: 36px;\n            }\n\n            .esgst-mgc-table * {\n                text-align: left;\n            }\n\n            .esgst-ochgb {\n                display: inline-block;\n            }\n\n            .featured__heading .esgst-ochgb i, .featured__heading .esgst-gf-hide-button i, .featured__heading .esgst-gf-unhide-button i, .featured__heading .esgst-gb-button i {\n                opacity: .6;\n                transition: opacity .2s;\n            }\n\n            .featured__heading .esgst-ochgb i:hover, .featured__heading .esgst-gf-hide-button i:hover, .featured__heading .esgst-gf-unhide-button i:hover, .featured__heading .esgst-gb-button i:hover {\n                opacity: 1;\n            }\n\n            @keyframes esgst-blinker {\n                50% { opacity: 0; }\n            }\n\n            .esgst-blinking {\n                animation: esgst-blinker 1s linear infinite;\n            }\n\n            .esgst-qiv-popout {\n                width: 600px;\n            }\n\n            .esgst-qiv-comments {\n                max-height: 600px !important;\n                overflow-y: auto;\n            }\n\n            .esgst-giveaway-column-button {\n                border: 0;\n                padding: 0;\n            }\n\n            .esgst-giveaway-column-button >* {\n                line-height: inherit;\n            }\n\n            .esgst-elgb-button .sidebar__error {\n                margin-bottom: 0;\n            }\n\n            .esgst-mgc-preview {\n                border: 1px solid #ccc;\n                padding: 25px;\n                width: 600px;\n            }\n\n            .esgst-mgc-input {\n                display: inline-block;\n                text-align: center;\n                width: 75px;\n            }\n\n            .esgst-relative {\n                position: relative;\n            }\n\n            .esgst-nm-icon {\n                color: #ff0000 !important;\n            }\n\n            .esgst-disabled {\n                cursor: default !important;\n                opacity: 0.5;\n            }\n\n            .esgst-changelog img {\n                max-width: 98%;\n            }\n\n            .esgst-debug {\n                height: 300px;\n                width: 600px;\n            }\n\n            .esgst-radb-button {\n                cursor: pointer;\n                display: inline-block;\n            }\n\n            .esgst-radb-button.homepage_heading {\n                margin-right: 5px;\n            }\n\n            :not(.page__heading) > .esgst-radb-button:not(.homepage_heading) {\n                margin-left: 5px;\n            }\n\n            .esgst-radb-button + .homepage_heading {\n                display: inline-block;\n                width: calc(100% - 80px);\n            }\n\n            .esgst-cfh-preview {\n                margin: 5px 0;\n                text-align: left;\n            }\n\n            .esgst-qgs-container i {\n                color: #AAB5C6;\n            }\n\n            .esgst-qgs-container {\n                align-items: center;\n                background-color: #fff;\n                border-color: #c5cad7 #dee0e8 #dee0e8 #d2d4e0;\n                border-radius: 4px;\n                border-style: solid;\n                border-width: 1px;\n                display: flex;\n                margin-right: 5px;\n                padding: 5px 10px;\n            }\n\n            .esgst-qgs-container-expanded {\n                position: absolute;\n            }\n\n            .esgst-qgs-container-expanded .esgst-qgs-input {\n                width: 300px;\n            }\n\n            .esgst-qgs-container-expanded + .nav__button-container {\n                margin-left: 40px;\n            }\n\n            .esgst-qgs-input {\n                border: 0 !important;\n                height: 100%;\n                line-height: normal !important;\n                padding: 0 !important;\n                width: 0;\n            }\n\n            .esgst-sgc-results .table__row-outer-wrap {\n                padding: 10px 5px;\n            }\n\n            .esgst-glwc-results {\n                display: flex;\n            }\n\n            .esgst-glwc-results >* {\n                flex: 1;\n                margin: 10px;\n            }\n\n            .esgst-glwc-heading {\n                font-family: "Open Sans";\n                font-size: 25px;\n                margin: 5px;\n                text-align: center;\n            }\n\n            .esgst-stbb-button, .esgst-sttb-button {\n                cursor: pointer;\n            }\n\n            .esgst-stbb-button-fixed, .esgst-sttb-button-fixed {\n                bottom: ${esgst.ff?49:5}px;\n                background-color: #fff;\n                border: 1px solid #d2d6e0;\n                border-radius: 4px;\n                color: #4B72D4;\n                padding: 5px 15px;\n                position: fixed;\n                right: 5px;\n            }\n\n            .esgst-stbb-button:not(.esgst-hidden) + .esgst-sttb-button {\n                bottom: 79px;\n            }\n\n            .esgst-bold {\n                font-weight: bold;\n            }\n\n            .esgst-italic {\n                font-style: italic;\n            }\n\n            .esgst-mt-checkbox {\n                display: inline-block;\n                margin-right: 5px;\n            }\n\n            .esgst-gm-popout {\n                min-width: 725px;\n            }\n\n            .esgst-gm-popout textarea {\n                height: 150px !important;\n                overflow-y: auto !important;\n            }\n\n            .esgst-es-page-divisor {\n                margin: 5px 0;\n            }\n\n            .esgst-gm-popout .esgst-button-set >* {\n                line-height: 25px;\n                width: calc(100% - 30px);\n            }\n\n            .comment__parent .esgst-cerb-reply-button {\n                margin-top: 54px;\n                position: absolute;\n                text-align: center;\n                width: 44px;\n            }\n\n            .comment_inner .esgst-cerb-reply-button {\n                margin-left: 21px;\n                margin-top: 34px;\n                position: absolute;\n                text-align: center;\n                width: 24px;\n            }\n\n            .esgst-page-heading {\n                display: flex;\n                align-items: flex-start;\n                word-wrap: break-word;\n            }\n\n            .esgst-page-heading >* {\n                background-image: linear-gradient(#fff 0%, rgba(255,255,255,0.4) 100%);\n                display: flex;\n                padding: 5px 10px;\n                border: 1px solid #d2d6e0;\n                border-radius: 4px;\n                color: #4B72D4;\n                font: 700 14px/22px "Open Sans", sans-serif;\n            }\n\n            .esgst-page-heading i {\n                line-height: 22px;\n            }\n\n            .esgst-page-heading >*:not(.page__heading__breadcrumbs) {\n                align-items: center;\n            }\n\n            .esgst-page-heading >*:not(:last-child) {\n                margin-right: 5px;\n            }\n\n            .esgst-tab-menu {\n                background-color: #f0f2f5;\n                background-image: none;\n                display: block;\n                padding: 25px;\n                font: 12px Arial, sans-serif;\n                text-shadow: 1px 1px rgba(255,255,255,0.94);\n                color: #465670;\n            }\n\n            .esgst-tab-menu-header {\n                padding: 0;\n            }\n\n            .esgst-form-row {\n                margin-bottom: 20px;\n            }\n\n            .esgst-form-row:first-of-type {\n                margin-top: 14px;\n            }\n\n            .esgst-form-heading {\n                align-items: center;\n                display: flex;\n                margin-bottom: 5px;\n            }\n\n            .esgst-form-heading > div:not(:last-child) {\n                margin-right: 10px;\n            }\n\n            .esgst-form-heading-number {\n                font: 300 14px "Open Sans", sans-serif;\n                color:#6b7a8c;\n            }\n\n            .esgst-form-heading-text {\n                font: 700 14px "Open Sans", sans-serif;\n                color: #4B72D4;\n            }\n\n            .esgst-form-row-indent {\n                padding: 3px 0 3px 20px;\n                margin-left: 5px;\n                border-left: 1px solid #d2d6e0;\n                box-shadow: 1px 0 0 rgba(255,255,255,0.3) inset;\n            }\n\n            .esgst-form-sync {\n                display: flex;\n            }\n\n            .esgst-form-sync-data {\n                flex: 1;\n            }\n\n            .esgst-notification {\n                border: 1px solid;\n                border-radius: 4px;\n                padding: 0 15px;\n                font-size: 11px;\n                line-height: 32px;\n                overflow: hidden;\n            }\n\n            .esgst-notification a {\n                text-decoration: underline;\n            }\n\n            .esgst-notification-success {\n                background-image: linear-gradient(#f7fcf2 0%, #e7f6da 100%);\n                border-color: #C5E9A5;\n                color:#8fa47b;\n            }\n\n            .esgst-notification-warning {\n                background-image: linear-gradient(#F6F6E6 0px, #F5F5DF 20px);\n                border-color: #EDE5B2;\n                color: #a59d7c;\n            }\n\n            .esgst-user-icon {\n                display: inline-block;\n                line-height: normal;\n                margin: 0 5px 0 0;\n            }\n\n            .esgst-user-icon i {\n                border: 0;\n                line-height: normal;\n                margin: 0;\n                text-shadow: none !important;\n            }\n\n            .esgst-whitelist {\n                color: #556da9 !important;\n            }\n\n            .esgst-blacklist {\n                color: #a95570 !important;\n            }\n\n            .esgst-positive {\n                color: #96c468 !important;\n            }\n\n            .esgst-negative {\n                color: #ec8583 !important;\n            }\n\n            .esgst-unknown {\n                color: #77899a !important;\n            }\n\n            .esgst-ugd-table .table__rows .table__row-outer-wrap:hover {\n                background-color: rgba(119, 137, 154, 0.1);\n            }\n\n            .esgst-ugd-table .table__column--width-small {\n                min-width: 0;\n                width: 12%;\n            }\n\n            .markdown {\n                word-break: break-word;\n            }\n\n            .esgst-busy >* {\n                opacity: 0.2;\n            }\n\n            .comment__actions .esgst-rml-link {\n                margin: 0 0 0 10px;\n            }\n\n            .esgst-settings-menu .form__sync-default {\n                margin: 0 5px;\n            }\n\n            .esgst-uh-popup a {\n                border-bottom: 1px dotted;\n            }\n\n            .esgst-auto-sync {\n                display: inline-block;\n                margin: -5px 5px 0;\n                padding: 2px;\n                width: 50px;\n            }\n\n            .esgst-ap-popout .featured__table__row__left:not(.esgst-uh-title), .esgst-mr-reply, .esgst-mr-edit, .esgst-mr-delete, .esgst-mr-undelete {\n                margin: 0 10px 0 0;\n            }\n\n            .esgst-ugd-button {\n                cursor: pointer;\n                display: inline-block;\n            }\n\n            .esgst-cfh-popout {\n                font: 700 12px "Open Sans", sans-serif;\n            }\n\n            .esgst-cfh-panel span >:first-child >* {\n                margin: 0 !important;\n            }\n\n            .esgst-cfh-popout input {\n                width: auto;\n            }\n\n            .esgst-namwc-highlight {\n                font-weight: bold;\n            }\n\n            .esgst-iwh-icon {\n                margin: 0 0 0 5px;\n            }\n\n            .esgst-ap-suspended >* {\n                color: #e9202a;\n            }\n\n            .esgst-ap-popout {\n                border: none !important;\n                border-radius: 5px;\n                box-shadow: 0 0 10px 2px hsla(0, 0%, 0%, 0.8);\n                min-width: 400px;\n                padding: 0 !important;\n                text-shadow: none;\n            }\n\n            .ui-tooltip {\n                z-index: 99999;\n            }\n\n            .esgst-ap-popout .featured__outer-wrap:not(.esgst-uh-box) {\n                border-radius: 5px;\n                padding: 5px;\n                width: auto;\n                white-space: normal;\n            }\n\n            .esgst-ap-popout .featured__inner-wrap {\n                align-items: flex-start;\n                padding: 0 5px 0 0;\n            }\n\n            .esgst-ap-popout .featured__heading {\n                margin: 0;\n            }\n\n            .esgst-ap-popout .featured__heading__medium {\n                font-size: 18px;\n            }\n\n            .esgst-ap-link {\n                width: 100px;\n            }\n\n            .esgst-ap-link .global__image-outer-wrap--avatar-large {\n                box-sizing: content-box !important;\n                height: 64px !important;\n                margin: 5px;\n                width: 64px !important;\n            }\n\n            .esgst-ap-popout .global__image-outer-wrap--avatar-large:hover {\n                background-color: hsla(0, 0%, 25%, 0.2) !important;\n            }\n\n            .esgst-ap-link .global__image-inner-wrap {\n                background-size: cover !important;\n            }\n\n            .esgst-ap-popout .sidebar__shortcut-outer-wrap {\n                margin: 10px 0;\n            }\n\n            .esgst-ap-popout .sidebar__shortcut-inner-wrap i {\n                height: 18px;\n                font-size: 12px;\n            }\n\n            .esgst-ap-popout .sidebar__shortcut-inner-wrap * {\n                line-height: 18px;\n                vertical-align: middle;\n            }\n\n            .esgst-ap-popout .sidebar__shortcut-inner-wrap img {\n                height: 16px;\n                vertical-align: baseline !important;\n                width: 16px;\n            }\n\n            .esgst-ap-popout .featured__table {\n                display: inline-block;\n                width: 100%;\n            }\n\n            .esgst-ap-popout .featured__table__row {\n                padding: 2px;\n            }\n\n            .esgst-ap-popout .featured__table__row:nth-child(n + 3) {\n                margin-left: -95px;\n            }\n\n            .esgst-ap-popout .featured__table__row:last-of-type .featured__table__row__right * {\n                font-size: 11px;\n            }\n\n            .esgst-ct-comment-button {\n                cursor: pointer;\n            }\n\n            .popup__keys__list .esgst-ggl-member, .esgst-dh-highlighted, .esgst-dh-highlighted.table__row-outer-wrap {\n                background-color: rgba(150, 196, 104, 0.2) !important;\n                padding: 5px !important;\n            }\n\n            .esgst-gb-highlighted.ending, .esgst-error-button, .esgst-error-button >*:hover {\n                background-color: rgba(236, 133, 131, 0.8) !important;\n                background-image: none !important;\n            }\n\n            .esgst-gb-highlighted.started {\n                background-color: rgba(150, 196, 104, 0.8) !important;\n                background-image: none !important;\n            }\n\n            .esgst-gb-highlighted.ending.started {\n                background-color: rgba(193, 165, 118, 0.8) !important;\n                background-image: none !important;\n            }\n\n            .esgst-ct-comment-read:hover, .esgst-ct-visited:hover {\n                background-color: rgba(119, 137, 154, 0.1) !important;\n            }\n\n            .esgst-gf-hide-button, .esgst-gf-unhide-button, .esgst-gb-button, .esgst-gdttt-button {\n                cursor: pointer; display: inline-block;\n                margin: 0 5px 0 0;\n            }\n\n            .esgst-codb-button, .esgst-dh-button, .esgst-df-button {\n                display: inline-block;\n                margin: 0 5px 0 0;\n                padding: 0;\n            }\n\n            .page__heading .esgst-codb-button >*, .page__heading .esgst-dh-button >*, .page__heading .esgst-df-button >* {\n                padding: 5px 10px;\n            }\n\n            .esgst-ust-checkbox {\n                cursor: pointer;\n                margin-left: -17px;\n                position: absolute;\n                top: calc(50% - 7px);\n            }\n\n            .esgst-pm-button {\n                margin-left: -17px;\n                position: absolute;\n                top: calc(50% - 7px);\n            }\n\n            .esgst-dh-highlighted .esgst-pm-button {\n                margin-left: -22px;\n            }\n\n            .page__heading .esgst-pm-button {\n                display: inline-block;\n                margin: 0 5px 0 0;\n                padding: 0;\n                position: static;\n            }\n\n            .page__heading .esgst-pm-button >* {\n                padding: 5px 10px;\n            }\n\n            .esgst-adots .esgst-pm-button {\n                margin-left: -58px;\n            }\n\n            .comment__actions .esgst-ct-comment-button {\n                margin: 0 0 0 10px;\n            }\n\n            .comment__actions >:first-child + .esgst-ct-comment-button {\n                margin: 0;\n            }\n\n            .esgst-ct-comment-button >:not(:last-child) {\n                margin: 0 10px 0 0;\n            }\n\n            .esgst-cfh-panel {\n                margin: 0 0 2px;\n                text-align: left;\n            }\n\n            .esgst-cfh-panel >* {\n                background-color: #fff;\n                border: 1px solid #ccc;\n                border-radius: 5px;\n                cursor: pointer;\n                display: inline-block;\n                margin: 1px;\n                opacity: 0.5;\n                padding: 5px;\n            }\n\n            .esgst-cfh-panel >*:hover {\n                opacity: 1;\n            }\n\n            .esgst-cfh-panel span >:not(:first-child), .esgst-ded-status {\n                display: block;\n            }\n\n            .esgst-cfh-panel span i {\n                line-height: 22px;\n            }\n\n            .esgst-cfh-panel .form__saving-button {\n                display: inline-block;\n                margin: 5px;\n                min-width:0;\n            }\n\n            .esgst-cfh-panel table {\n                display: block;\n                max-height: 200px;\n                max-width: 375px;\n                overflow: auto;\n            }\n\n            .esgst-cfh-panel table td:first-child {\n                min-width: 25px;\n                text-align: center;\n            }\n\n            .esgst-cfh-panel table td:not(:first-child) {\n                min-width: 75px;\n                text-align: center;\n            }\n\n            .esgst-cfh-emojis {\n                display: block !important;\n                font-size: 18px;\n                max-height: 200px;\n                min-height: 30px;\n                overflow: auto;\n                text-align: center;\n            }\n\n            .esgst-cfh-emojis >* {\n                cursor: pointer;\n                display: inline-block;\n                margin: 2px;\n            }\n\n            .esgst-cfh-panel ~ textarea {\n                max-height: 475px;\n            }\n\n            .esgst-cfh-popout {\n                white-space: normal;\n                width: 300px;\n            }\n\n            .esgst-mpp-popup {\n                position: fixed !important;\n            }\n\n            .esgst-mpp-visible {\n                padding: 0;\n            }\n\n            .esgst-mpp-hidden {\n                display: none;\n                max-height: 75%;\n                overflow: auto;\n                padding: 15px;\n                position: absolute;\n                width: 75%;\n            }\n\n            .esgst-ueg {\n                opacity: 1 !important;\n            }\n\n            .esgst-fh {\n                height: auto !important;\n                position: fixed;\n                top: 0;\n                width: 100%;\n                z-index: 999 !important;\n            }\n\n            .esgst-ff {\n                background-color: #95a4c0;\n                bottom: 0;\n                padding: 0;\n                position: fixed;\n                text-shadow: none;\n                width: 100%;\n                z-index: 999;\n            }\n\n            .esgst-ff >* {\n                max-width: none;\n                padding: 15px 25px;\n            }\n\n            .esgst-ff-sibling {\n                margin-bottom: 39px;\n            }\n\n            .esgst-sgac-button, .esgst-sgg-button {\n                margin: 0 5px 0 0;\n            }\n\n            .esgst-ct-count {\n                color: #e9202a;\n                font-weight: bold;\n            }\n\n            .esgst-uh-box {\n                background: linear-gradient(to bottom, #555, #222);\n                border: 1px solid #888;\n                margin: 5px 0 0;\n                padding: 15px;\n                position: absolute;\n                text-align: center;\n            }\n\n            .esgst-uh-title {\n                color: rgba(255, 255, 255, 0.6);\n                font-weight: bold;\n                margin: 0 0 15px;\n            }\n\n            .esgst-uh-list {\n                color: rgba(255, 255, 255, 0.4);\n            }\n\n            .esgst-wbc-button, .esgst-namwc-button, .esgst-nrf-button {\n                cursor: pointer;\n                margin: 0 0 0 5px;\n            }\n\n            .esgst-luc-value {\n                margin: 0 0 0 5px;\n            }\n\n            .esgst-sgpb-container {\n                display: flex;\n            }\n\n            .esgst-sgpb-container >* {\n                flex: 1;\n            }\n\n            .esgst-sgpb-button {\n                background-image: linear-gradient(rgba(255, 255, 255, 0.8) 0%, rgba(255, 255, 255, 0.3) 100%);\n                border-color: #dde2ea #cdd4df #cbd1dc #d6dbe7;\n                color: #6e7585;\n                text-shadow: 1px 1px 1px #fff;\n                transition: opacity 0.5s;\n                border-radius: 3px;\n                font: 700 13px 'Open Sans', sans-serif;\n                margin: 0 0 0 5px;\n                padding: 7px 15px;\n                display: flex;\n                align-items: center;\n                border-width: 1px;\n                border-style: solid;\n                text-decoration: none;\n            }\n\n            .esgst-sgpb-button:active {\n                background-image: linear-gradient(#e1e7eb 0%, #e6ebf0 50%, #ebeff2 100%) !important;\n                box-shadow: 2px 2px 5px #ccd4db inset;\n                text-shadow: 1px 1px 1px rgba(255, 255, 255, 0.6);\n                margin: 2px 0 0 7px !important;\n                border: 0;\n            }\n\n            .esgst-sgpb-button:hover {\n                background-image: linear-gradient(rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 0.3) 100%);\n            }\n\n            .esgst-sgpb-button i {\n                height: 14px;\n                margin: 0 10px 0;\n                width: 14px;\n            }\n\n            .esgst-sgpb-button img {\n                height: 14px;\n                vertical-align: baseline;\n                width: 14px;\n            }\n\n            .esgst-stpb-button img {\n                vertical-align: top;\n            }\n\n            .esgst-gh-highlight, .esgst-green-highlight {\n                background-color: rgba(150, 196, 104, 0.2);\n            }\n\n            .esgst-pgb-button, .esgst-gf-button {\n                border: 1px solid #d2d6e0;\n                border-top: none;\n                background-color: #e1e6ef;\n                background-image: linear-gradient(rgba(255, 255, 255, 0.15) 0%, rgba(255, 255, 255, 0) 100%);color: #6b7a8c;\n                cursor: pointer;\n                margin-bottom: 15px;\n                padding: 3px;\n                text-align: center;\n                border-radius: 0 0 4px 4px;\n            }\n\n            .esgst-gf-button {\n                margin-bottom: 0 !important;\n            }\n\n            .esgst-pgb-button:hover, .esgst-gf-button:hover {\n                background-image:linear-gradient(rgba(255, 255, 255, 0.4) 0%, rgba(255, 255, 255, 0) 100%);\n            }\n\n            .esgst-gm-giveaway {\n                background-color: #fff;\n                border: 1px solid;\n                border-radius: 4px;\n                cursor: pointer;\n                display: inline-block;\n                margin: 5px 2px;\n                padding: 2px 5px;\n            }\n\n            .esgst-feature-description {\n                background-color: #fff;\n                color: #465670;\n                padding: 10px;\n                width: 420px;\n                border-radius: 4px;\n            }\n\n            .esgst-feature-description img {\n                max-width: 400px;\n            }\n\n            .esgst-gm-giveaway.error {\n                background-color: rgba(236, 133, 131, 0.5);\n            }\n\n            .esgst-gm-giveaway.success {\n                background-color: rgba(150, 196, 104, 0.5);\n            }\n\n            .esgst-gm-giveaway.connected {\n                text-decoration: line-through;\n            }\n\n            .esgst-gts-section >*, .esgst-gm-section >* {\n                margin: 5px 0;\n            }\n\n            .esgst-gm-section .esgst-button-set {\n                display: inline-block;\n                margin: 5px;\n            }\n\n            .sidebar .esgst-button-set >* {\n                margin-bottom: 5px;\n                width: 304px;\n            }\n\n            .esgst-button-set .sidebar__entry-delete, .esgst-button-set .sidebar__error {\n                display: inline-block;\n            }\n\n            .esgst-button-group {\n                display: block;\n            }\n\n            .esgst-button-group >* {\n                display: inline-block;\n            }\n\n            .esgst-button-group >*:not(:first-child) {\n                margin-left: 5px;\n            }\n\n            .esgst-gm-popout .esgst-button-group {\n                align-items: center;\n                display: flex;\n                margin-bottom: 5px;\n            }\n\n            .esgst-gm-popout .esgst-button-group >*:not(:first-child) {\n                flex: 1;\n            }\n\n            .esgst-ggl-panel {\n                color: #6b7a8c;\n                font-size: 12px;\n                padding: 5px;\n            }\n\n            .esgst-ggl-panel >* {\n                display: inline-block;\n            }\n\n            .esgst-ggl-panel >*:not(:last-child) {\n                margin-right: 10px;\n            }\n\n            .esgst-ggl-panel a:last-child {\n                border-bottom: 1px dotted;\n            }\n\n            .esgst-ggl-panel .table_image_avatar {\n                cursor: pointer;\n                display: inline-block;\n                height: 12px;\n                width: 12px;\n                vertical-align: middle;\n            }\n\n            .esgst-ggl-member {\n                font-weight: bold;\n            }\n\n            .esgst-ggl-heading {\n                font-weight: bold;\n                line-weight: 22px;\n                margin: 10px;\n            }\n\n            .esgst-gcl-popout, .esgst-ggl-popout {\n                padding: 0 !important;\n            }\n\n            .esgst-gcl-popout .table__row-outer-wrap, .esgst-ggl-popout .table__row-outer-wrap {\n                padding: 10px 5px;\n            }\n\n            .esgst-hidden-buttons {\n                padding: 2px !important;\n            }\n\n            .esgst-popout {\n                background-color: #fff;\n                border: 1px solid #d2d6e0;\n                border-radius: 4px;\n                color: #465670;\n                left: 0;\n                overflow: auto;\n                padding: 10px;\n                position: absolute;\n                top: 0;\n                z-index: 99999;\n            }\n\n            .esgst-aic-carousel {\n                align-items: center;\n                cursor: default !important;\n                display: flex;\n                justify-content: center;\n            }\n\n            .esgst-aic-carousel >:last-child {\n                border: 5px solid #fff;\n                border-radius: 5px;\n                max-width: 90%;\n            }\n\n            .esgst-aic-carousel img {\n                display: block;\n            }\n\n            .esgst-aic-panel {\n                color: #fff;\n                position: absolute;\n                text-align: center;\n                top: 25px;\n            }\n\n            .esgst-aic-left-button, .esgst-aic-right-button {\n                cursor: pointer;\n                display: inline-block;\n                margin: 10px;\n                text-align: center;\n                width: 25px;\n            }\n\n            .esgst-aic-left-button i, .esgst-aic-right-button i {\n                font-size: 25px;\n            }\n\n            .esgst-aic-source {\n                font-weight: bold;\n                margin-top: 10px;\n                text-decoration: underline;\n            }\n\n            .esgst-popup-modal {\n                background-color: rgba(60, 66, 77, 0.7);\n                bottom: 0;\n                cursor: pointer;\n                left: 0;\n                position: fixed;\n                right: 0;\n                top: 0;\n            }\n\n            .esgst-popup-large {\n                width: 75%;\n            }\n\n            .esgst-popup {\n                background-color: #f0f2f5;\n                border-radius: 4px;\n                color: #465670;\n                padding: 25px;\n                position: fixed;\n                text-align: center;\n                text-shadow: 1px 1px rgba(255,255,255,0.94);\n                transition: 500ms ease;\n                ${esgst.staticPopups?`\n                    max-width: calc(100% - 150px);\n                    top: 50px;\n                    ${esgst.staticPopups_f?`\n                        left: 0;\n                        margin: 0 auto;\n                        right: 0;\n                        width: ${esgst.staticPopups_width};\n                    `:'\n                        left: 50px;\n                    '}\n                `:'\n                    max-width: calc(90% - 50px);\n                '}\n            }\n\n            .esgst-popout li:before, .esgst-popup li:before {\n                margin-left: 0;\n                padding-right: 10px;\n                position: static;\n                width: auto;\n                text-align: left;\n            }\n\n            .esgst-popup-description >*, .esgst-popup-scrollable >* {\n                margin: 10px 0 0 !important;\n            }\n\n            .esgst-popup-actions {\n                color: #4b72d4;\n                margin-top: 15px;\n            }\n\n            .esgst-popup-actions >* {\n                border-bottom: 1px dotted;\n                box-shadow: 0 1px 0 #fff;\n                cursor: pointer;\n                display: inline-block;\n            }\n\n            .esgst-popup-actions >*:not(:last-child) {\n                margin-right: 15px;\n            }\n\n            .esgst-popup-scrollable {\n                overflow: auto;\n            }\n\n            .esgst-popup .popup__keys__list {\n                max-height: none;\n            }\n\n            .esgst-heading-button {\n                display: inline-block;\n                cursor: pointer;\n            }\n\n            .esgst-popup-heading {\n                display: flex;\n                align-items: center;\n                margin-bottom: 5px;\n            }\n\n            .esgst-popup-icon {\n                font-size: 25px;\n                margin-right: 10px;\n            }\n\n            .esgst-popup-title {\n                font: 300 18px 'Open Sans', sans-serif;\n            }\n\n            .esgst-popup-title span {\n                font-weight: bold;\n            }\n\n            .esgst-text-left {\n                text-align: left;\n            }\n\n            .esgst-text-center {\n                text-align: center;\n            }\n\n            .esgst-hidden {\n                display: none !important;\n            }\n\n            .esgst-clickable {\n                cursor: pointer;\n            }\n\n            .fa img {\n                height: 14px;\n                width: 14px;\n                vertical-align: middle;\n            }\n\n            .nav__left-container .fa img {\n                vertical-align: baseline;\n            }\n\n            .esgst-checkbox, .esgst-hb-update, .esgst-hb-changelog, .esgst-dh-view-button {\n                cursor: pointer;\n            }\n\n            .esgst-sm-small-number {\n                font-size: 12px;\n                display: inline-block;\n            }\n\n            .esgst-toggle-switch-container {\n                margin: 2px;\n            }\n\n            .esgst-toggle-switch-container.inline {\n                display: inline-block;\n            }\n\n            .page__heading .esgst-toggle-switch-container.inline, .page_heading .esgst-toggle-switch-container.inline, .esgst-page-heading .esgst-toggle-switch-container.inline {\n                height: 16px;\n                margin: 0 2px;\n                line-height: normal;\n                vertical-align: middle;\n            }\n\n            .esgst-toggle-switch {\n                position: relative;\n                display: inline-block;\n                width: 26px;\n                height: 14px;\n                vertical-align: top;\n            }\n\n            .esgst-toggle-switch input {\n                display: none !important;\n            }\n\n            .esgst-toggle-switch-slider {\n                border-radius: 20px;\n                position: absolute;\n                cursor: pointer;\n                top: 0;\n                left: 0;\n                right: 0;\n                bottom: 0;\n                background-color: #ccc;\n                -webkit-transition: .4s;\n                transition: .4s;\n            }\n\n            .esgst-toggle-switch-slider:before {\n                border-radius: 50%;\n                position: absolute;\n                content: "";\n                height: 12px;\n                width: 12px;\n                left: 1px;\n                bottom: 1px;\n                background-color: white;\n                -webkit-transition: .4s;\n                transition: .4s;\n            }\n\n            input:checked + .esgst-toggle-switch-slider {\n                background-color: #4B72D4;\n            }\n\n            input:focus + .esgst-toggle-switch-slider {\n                box-shadow: 0 0 1px #4B72D4;\n            }\n\n            input:checked + .esgst-toggle-switch-slider:before {\n                -webkit-transform: translateX(12px);\n                -ms-transform: translateX(12px);\n                transform: translateX(12px);\n            }\n\n            .esgst-adots, .esgst-rbot {\n                margin-bottom: 25px;\n            }\n\n            .esgst-float-left {\n                float: left;\n            }\n\n            .esgst-float-right {\n                float: right;\n            }\n\n            .esgst-clear {\n                clear: both;\n            }\n\n            .esgst-rbot .reply_form .btn_cancel {\n                display: none;\n            }\n\n            .esgst-aas-button {\n                cursor: pointer;\n                display: inline-block;\n            }\n\n            .esgst-es-page-heading {\n                margin-top: 25px;\n            }\n\n            .esgst-gc-border {\n                display: flex;\n                height: 5px;\n                margin-left: 5px;\n                width: ${esgst.ib?'186px':'174px'};\n            }\n\n            .esgst-gc-border >* {\n                flex: 1;\n            }\n\n            .esgst-gc-panel {\n                text-align: left;\n            }\n\n            .esgst-gc-panel a {\n                text-decoration: none;\n            }\n\n            .esgst-gc-panel-inline {\n                display: inline-block;\n                margin: 0 0 0 5px;\n            }\n\n            .esgst-gc:not(.giveaway__column):not(.featured__column) {\n                border-radius: 4px;\n                display: inline-block;\n                font-size: 10px;\n                line-height: 10px;\n                margin: 5px 0;\n                padding: 2px 3px;\n                text-shadow: none;\n            }\n\n            a.esgst-gc-genres {\n                max-width: 150px;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                vertical-align: middle;\n                white-space: nowrap;\n            }\n\n            .esgst-gf-right-panel {\n                float: right;\n            }\n\n            .esgst-gf-legend-panel, .esgst-gf-preset-panel {\n                margin: 5px;\n                text-align: right;\n            }\n\n            .esgst-gf-override {\n                cursor: pointer;\n                margin-right: 5px;\n            }\n\n            .esgst-gf-container {\n                text-align: left;\n            }\n\n            .esgst-gf-container:not(.esgst-popup-scrollable) {\n                background-color: #E8EAEF;\n                border-radius: 4px;\n            }\n\n            .esgst-gf-container.esgst-popup-scrollable {\n                min-width: 650px;\n            }\n\n            .esgst-gf-container input {\n                display: inline-block;\n                height: 20px;\n                padding: 0 5px;\n                width: 100px !important;\n            }\n\n            .esgst-gf-container input[type=date] {\n                width: 120px !important;\n            }\n\n            .esgst-gf-filters {\n                overflow: auto;\n                position: relative;\n            }\n\n            .esgst-gf-filters >* {\n                display: inline-block;\n                margin: 5px;\n                vertical-align: top;\n            }\n\n            .esgst-gf-basic-filter {\n                margin: 10px;\n                width: 375px;\n            }\n\n            .esgst-gf-basic-filter >* {\n                margin: 8px;\n            }\n\n            .esgst-gf-type-filter, .esgst-gf-category-filter, .esgst-gf-exception-filter, .esgst-gf-legend, .esgst-gf-preset-panel >* {\n                margin: 5px;\n            }\n\n            .esgst-gf-filter-count {\n                background-color: #ddd;\n                border-radius: 5px;\n                font-size: 10px;\n                padding: 2px;\n            }\n\n            .esgst-gf-button {\n                border-top: 1px;\n            }\n\n            .esgst-wbh-highlight {\n                border: none !important;\n                border-radius: 4px;\n                padding: 2px 5px;\n                text-shadow: none;\n            }\n\n            .page__heading__breadcrumbs .esgst-wbh-highlight {\n                padding: 0 2px;\n            }\n\n            .esgst-sm-colors input {\n                display: inline-block;\n                padding: 0;\n                width: 100px;\n            }\n\n            .esgst-sm-colors input[type=color] {\n                width: 25px;\n            }\n\n            .esgst-sm-colors select {\n                display: inline-block;\n                padding: 0;\n                width: 100px;\n            }\n\n            .esgst-sm-colors-default {\n                line-height: normal;\n                padding: 5px 15px;\n            }\n\n            .esgst-ged-icon {\n                margin: 0 0 0 10px;\n            }\n\n            .esgst-pgb-container {\n                border-radius: 0 !important;\n                margin: 0! important;\n            }\n\n            .esgst-gf-box {\n                background-color: #E8EAEF;\n                border: 1px solid #d2d6e0;\n                border-radius: 0 !important;\n                margin: 0! important;\n                padding: 0 15px;\n            }\n\n            .esgst-gr-button {\n                cursor: pointer;\n                display: inline-block;\n            }\n\n            .esgst-egh-icon {\n                cursor: pointer;\n            }\n\n            .giveaway__row-outer-wrap .esgst-egh-button, .giveaway__row-outer-wrap .esgst-gr-button, .table__row-outer-wrap .esgst-egh-button, .table__row-outer-wrap .esgst-egh-button, .table__row-outer-wrap .esgst-gr-button {\n                margin-right: 5px;\n            }\n\n            p.table__column__heading {\n                display: inline-block;\n            }\n\n            .esgst-giveaway-links {\n                float: left;\n                margin: 2px;\n            }\n\n            .esgst-giveaway-panel:empty {\n                height: 25px;\n                width: 250px;\n            }\n\n            .esgst-giveaway-panel.giveaway__columns {\n                float: right;\n                margin: 2px;\n            }\n\n            .esgst-giveaway-panel .esgst-button-set {\n                border: 0;\n                padding: 0;\n            }\n\n            .esgst-giveaway-panel .esgst-button-set >* {\n                line-height: inherit;\n                margin:0;\n            }\n\n            .esgst-giveaway-panel >:first-child {\n                margin: 0;\n            }\n\n            .esgst-giveaway-panel >*:not(:first-child) {\n                margin: 0 0 0 5px;\n            }\n\n            .esgst-gv-popout .esgst-gwc, .esgst-gv-popout .esgst-gwr, .esgst-gv-popout .esgst-ttec {\n                display: inline-block;\n                margin: 0 !important;\n                padding: 0 5px !important;\n                width: 67px !important;\n                vertical-align: top;\n            }\n\n            .esgst-gv-popout .esgst-gp-button {\n                display: inline-block;\n                margin: 0 !important;\n                width: auto !important;\n                vertical-align: top;\n            }\n\n            .esgst-gv-popout .esgst-gp-button >* {\n                padding: 0 5px !important;\n                width: 67px !important;\n            }\n\n            .esgst-giveaway-panel .form__submit-button, .esgst-giveaway-panel .form__saving-button {\n                margin-bottom: 0;\n                min-width: 0;\n            }\n\n            .esgst-ged-source {\n                font-weight: bold;\n                margin: 5px 0;\n            }\n\n            .table__column--width-small {\n                width: 8%;\n            }\n\n            .sidebar .table__row-outer-wrap {\n                padding: 5px 0;\n            }\n\n            .esgst-adots-tab-heading {\n                background-color: #2f3540;\n                border-top-left-radius: 5px;\n                border-top-right-radius: 5px;\n                color: #fff;\n                cursor: pointer;\n                display: inline-block;\n                opacity: 0.5;\n                padding: 5px 10px;\n                text-shadow: none;\n            }\n\n            .esgst-adots-tab-heading.esgst-selected {\n                opacity: 1;\n            }\n\n            .sidebar .esgst-adots {\n                margin: 0;\n                max-height: 300px;\n                max-width: 336px;\n                overflow: auto;\n            }\n\n            .sidebar .esgst-adots .esgst-dh-highlighted {\n                padding: 0 !important;\n                padding-bottom: 5px !important;\n            }\n\n            .sidebar .esgst-adots .table__column__heading, .esgst-adots .homepage_table_column_heading {\n                display: inline-block;\n                max-width: 225px;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                vertical-align: middle;\n                white-space: nowrap;\n            }\n\n            .sidebar .esgst-adots .table__row-outer-wrap {\n                padding: 0 !important;\n                padding-bottom: 5px !important;\n                border: 0;\n                box-shadow: none;\n            }\n\n            .sidebar .esgst-adots .table__row-inner-wrap {\n                display: block;\n            }\n\n            .sidebar .esgst-adots .table__row-inner-wrap >*:not(:last-child) {\n                display: inline-block;\n            }\n\n            .esgst-faded {\n                opacity: 0.5;\n            }\n\n            .esgst-sm-faded >*:not(.SMFeatures), .esgst-sm-faded > .SMFeatures > .esgst-sm-colors {\n                opacity: 0.5;\n            }\n\n            .esgst-green {\n                color: #96c468 !important;\n            }\n\n            .esgst-grey {\n                color: #77899a !important;\n            }\n\n            .esgst-orange {\n                color: #c1a576 !important;\n            }\n\n            .esgst-red {\n                color: #ec8583 !important;\n            }\n\n            .esgst-yellow {\n                color: #fecc66 !important;\n            }\n\n            .esgst-warning {\n                color: #e9202a !important;\n                font-weight: bold;\n            }\n\n            .esgst-toggle-switch-container .esgst-description, .esgst-button-group .esgst-description {\n                display: inline-block;\n                margin: 0;\n            }\n\n            .esgst-description {\n                color: #6b7a8c;\n                font-size: 11px;\n                font-style: italic;\n                margin-top: 10px;\n            }\n\n            .esgst-progress-bar {\n                height: 10px;\n                overflow: hidden;\n                text-align: left;\n            }\n\n            .esgst-progress-bar .ui-progressbar-value {\n                background-color: #96c468;\n                height: 100%;\n                margin: -1px;\n            }\n\n            .esgst-ib-user {\n                background-color: #fff;\n                background-position: 5px 5px;\n                background-size: 32px;\n                border: 1px solid #d2d6e0;\n                border-radius: 4px;\n                height: 44px;\n                padding: 5px;\n                width: 44px;\n            }\n\n            .featured__outer-wrap .esgst-ib-user {\n                background-color: transparent;\n                border: 1px solid rgba(255, 255, 255, 0.1);\n            }\n\n            .esgst-ib-game {\n                background-color: #fff;\n                background-position: 5px 5px;\n                border: 1px solid #d2d6e0;\n                border-radius: 4px;\n                padding: 5px;\n            }\n\n            .giveaway__row-outer-wrap .esgst-ib-game {\n                background-size: 184px 69px;\n                height: 81px;\n                width: 196px;\n            }\n\n            .table__row-outer-wrap .esgst-ib-game {\n                background-size: 85px 32px;\n                height: 44px;\n                width: 97px;\n            }\n\n            .esgst-oadd >* {\n                padding-left: 0 !important;\n                margin-left: 0 !important;\n                border-left: none !important;\n                box-shadow: none !important;\n            }\n\n            .esgst-gv-spacing {\n                font-weight: bold;\n                padding: 10px;\n                text-align: center;\n                width: 100px;\n            }\n\n            .esgst-gv-view {\n                font-size: 0;\n                padding: 5px 0;\n                text-align: center;\n            }\n\n            .esgst-gv-view.pinned-giveaways__inner-wrap--minimized .giveaway__row-outer-wrap:nth-child(-n + 10) {\n                display: inline-block;\n            }\n\n            .esgst-gv-container {\n                border: 0 !important;\n                box-shadow: none !important;\n                display: inline-block;\n                font-size: 12px;\n                padding: 0;\n                text-align: center;\n                vertical-align: top;\n                width: ${esgst.ib?'196px':'184px'};\n            }\n\n            .esgst-gv-box {\n                display: block;\n            }\n\n            .esgst-gv-box >*:not(.giveaway__summary):not(.esgst-gv-icons) {\n                margin: 0 !important;\n            }\n\n            .esgst-gv-box.is-faded:hover, .esgst-gv-box.esgst-faded:hover {\n                opacity: 1;\n            }\n\n            .esgst-gv-icons {\n                float: right;\n                height: 18px;\n                margin: -18px 0 0 !important;\n            }\n\n            .esgst-gv-icons .esgst-gc, .esgst-gv-icons .esgst-gwc, .esgst-gv-icons .esgst-gwr, .esgst-gv-icons .esgst-ttec, .esgst-gv-time, .esgst-gv-icons .esgst-ged-source {\n                background-color: #fff;\n                padding: 2px !important;\n            }\n\n            .esgst-gv-icons .esgst-gp-button {\n                background-color: #fff;\n            }\n\n            .esgst-ged-source {\n                font-weight: bold;\n            }\n\n            .esgst-gv-time i {\n                font-size: 12px;\n                vertical-align: baseline;\n            }\n\n            .esgst-gv-icons >* {\n                line-height: normal;\n                margin: 0 !important;\n            }\n\n            .esgst-gv-icons >*:not(.esgst-giveaway-column-button) {\n                padding: 1px 3px;\n            }\n\n            .esgst-gv-icons .giveaway__column--contributor-level {\n                padding: 2px 5px !important;\n            }\n\n            .esgst-gv-popout {\n                font-size: 11px;\n                max-width: ${esgst.ib?'174px':'162px'};\n                position: absolute;\n                width: ${esgst.ib?'174px':'162px'};\n                z-index: 1;\n            }\n\n            .esgst-gv-popout .giveaway__heading {\n                display: block;\n                height: auto;\n            }\n\n            .esgst-gv-popout .giveaway__heading__name {\n                display: inline-block;\n                font-size: 12px;\n                max-width: 150px;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                vertical-align: middle;\n            }\n\n            .esgst-gv-popout .giveaway__heading__thin {\n                font-size: 11px;\n            }\n\n            .esgst-gv-popout .esgst-gc-panel {\n                font-size: 11px;\n                text-align: center;\n            }\n\n            .esgst-gv-popout .esgst-gc-panel i, .esgst-gv-popout .giveaway__links i, .esgst-gv-popout .esgst-gwc i, .esgst-gv-popout .esgst-gwr i, .esgst-gv-popout .esgst-ggl-panel, .esgst-gv-popout .esgst-ggl-panel i {\n                font-size: 11px;\n            }\n\n            .esgst-gv-popout .giveaway__columns:not(.esgst-giveaway-panel):not(.esgst-gv-icons) {\n                display: block;\n                float: left;\n                width: calc(100% - 37px);\n            }\n\n            .esgst-gv-popout .giveaway__columns:not(.esgst-giveaway-panel):not(.esgst-gv-icons) >* {\n                margin: 0;\n                text-align: left;\n            }\n\n            .esgst-gv-popout .esgst-giveaway-panel {\n                display: block;\n                font-size: 11px;\n            }\n\n            .esgst-gv-popout .esgst-giveaway-panel >* {\n                margin: 0;\n            }\n\n            .esgst-gv-popout .esgst-button-set {\n                width: 100%;\n            }\n\n            .esgst-gv-popout .esgst-button-set >* {\n                padding: 0;\n                width: 100%;\n            }\n            .esgst-gv-popout .giveaway__links a:last-child {\n                margin: 0 !important;\n            }\n\n            .esgst-gv-popout .giveaway_image_avatar, .esgst-gv-popout .featured_giveaway_image_avatar {\n                margin: 5px;\n                position: absolute;\n                right: 5px;\n            }\n\n            .esgst-gv-popout .esgst-giveaway-links, .esgst-gv-popout .esgst-giveaway-panel {\n                float: none;\n            }\n\n            .esgst-ags-panel {\n                margin: 0 0 15px 0;\n                max-width: 316px;\n                text-align: center;\n            }\n\n            .esgst-ags-panel >* {\n                display: inline-block;\n            }\n\n            .esgst-ags-filter {\n                display: block;\n                margin: 5px;\n            }\n\n            .esgst-ags-filter >* {\n                padding: 0 5px !important;\n                width: 125px;\n            }\n\n            .esgst-ags-checkbox-filter {\n                margin: 5px;\n            }\n\n            .esgst-ugs-difference, .esgst-switch-input {\n                display: inline-block;\n                padding: 0 !important;\n                width: 50px;\n            }\n\n            .esgst-switch-input-large {\n                width: 150px;\n            }\n\n            .esgst-gas-popout {\n                background-color: #fff;\n                border: 1px solid #d2d6e0;\n                border-radius: 4px;\n                color: #465670;\n                padding: 10px;\n            }\n\n            .esgst-ds-popout {\n                background-color: #fff;\n                border: 1px solid #d2d6e0;\n                border-radius: 4px;\n                color: #465670;\n                padding: 10px;\n            }\n\n            .esgst-cfh-sr-container {\n                max-height: 234px;\n                overflow-y: auto;\n            }\n\n            .esgst-cfh-sr-box {\n                position: relative;\n            }\n\n            .esgst-cfh-sr-summary {\n                border-radius: 5px;\n                cursor: pointer;\n                padding: 5px;\n                width: 200px;\n            }\n\n            .esgst-cfh-sr-box:not(:first-child) {\n                border-top: 1px solid #ccc;\n            }\n\n            .esgst-cfh-sr-box:last-child) {\n                border-bottom: 1px solid #ccc;\n            }\n\n            .esgst-cfh-sr-summary:hover {\n                background-color: #465670;\n                color: #fff;\n            }\n\n            .esgst-cfh-sr-name {\n                font-size: 14px;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                width: 200px;\n                white-space: nowrap;\n            }\n\n            .esgst-cfh-sr-description {\n                opacity: 0.75;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                width: 200px;\n                white-space: nowrap;\n            }\n\n            .esgst-cfh-sr-controls {\n                position: absolute;\n                right: 5px;\n                top: 10px;\n            }\n\n            .esgst-cfh-sr-controls >* {\n                margin: 2px;\n            }\n\n            .esgst-gt-preview .esgst-gt-tags {\n                display: inline-block;\n            }\n\n            .esgst-gt-preview input[type=text] {\n                display: inline-block;\n                width: 100px;\n                height: 15px;\n            }\n\n            .esgst-gt-preview input[type=color] {\n                box-sizing: unset;\n                height: 13px;\n                line-height: normal;\n                margin: 0;\n                padding: 0;\n                vertical-align: top;\n                width: 15px;\n            }\n\n            .esgst-gt-button {\n                border: 0! important;\n                cursor: pointer;\n                display: inline-block;\n                line-height: normal;\n                text-decoration: none !important;\n                transition: opacity 0.2s;\n            }\n\n            .esgst-gt-button:hover {\n                opacity: 1;\n            }\n\n            .esgst-gt-button i {\n                margin: 0 !important;\n            }\n\n            .giveaway__row-outer-wrap .esgst-gt-button, .table__row-outer-wrap .esgst-gt-button {\n                margin-left: 5px;\n            }\n\n            .esgst-gt-tags {\n                font-size: 10px;\n                font-weight: bold;\n            }\n\n            .esgst-gt-tags >* {\n                display: inline-block !important;\n                height: auto;\n                margin: 0;\n                padding: 2px;\n                text-shadow: none;\n                width: auto;\n            }\n\n            .esgst-gt-tags >:not(:first-child) {\n                margin: 0 0 0 5px;\n            }\n\n            .esgst-gv-popout .esgst-gt-tags {\n                display: none;\n            }\n\n            .esgst-ut-existing-button {\n                padding: 8px;\n                right: 25px;\n                position: absolute;\n            }\n\n            .esgst-ut-existing-tags {\n                font-weight: bold;\n                text-align: left;\n                text-shadow: none;\n            }\n\n            .esgst-ut-preview .esgst-ut-tags {\n                display: inline-block;\n            }\n\n            .esgst-ut-preview input[type=text] {\n                display: inline-block;\n                width: 100px;\n                height: 15px;\n            }\n\n            .esgst-ut-preview input[type=color] {\n                box-sizing: unset;\n                height: 13px;\n                line-height: normal;\n                margin: 0;\n                padding: 0;\n                vertical-align: top;\n                width: 15px;\n            }\n\n            .esgst-ut-button {\n                border: 0! important;\n                cursor: pointer;\n                display: inline-block;\n                line-height: normal;\n                margin: 0 0 0 5px;\n                text-decoration: none !important;\n                transition: opacity 0.2s;\n            }\n\n            .esgst-ut-button:hover {\n                opacity: 1;\n            }\n\n            .author_name + .esgst-ut-button {\n                margin: 0 5px 0 0;\n            }\n\n            .esgst-ut-button i {\n                margin: 0 !important;\n            }\n\n            .esgst-ut-tags {\n                font-size: 10px;\n                font-weight: bold;\n            }\n\n            .esgst-ut-tags >* {\n                display: inline-block !important;\n                height: auto;\n                margin: 0;\n                padding: 1px 2px;\n                text-shadow: none;\n                width: auto;\n            }\n\n            .esgst-ut-tags >:not(:first-child) {\n                margin: 0 0 0 5px;\n            }\n\n            .esgst-gv-popout .esgst-ut-tags, .esgst-adots .esgst-ut-tags {\n                display: none;\n            }\n        `,esgst.sg?a+='\n                .esgst-header-menu {\n                    box-shadow: 1px 1px 1px rgba(255, 255, 255, 0.07) inset, 1px 1px 0 rgba(255, 255, 255, 0.02) inset;\n                    background-image: linear-gradient(#8a92a1 0px, #757e8f 8px, #4e5666 100%);\n                    border-radius: 4px;\n                    display: flex;\n                    margin-right: 5px;\n                }\n\n                .esgst-header-menu-relative-dropdown {\n                    position: relative;\n                }\n\n                .esgst-header-menu-absolute-dropdown {\n                    top: 34px;\n                    position: absolute;\n                    width: 275px;\n                    border-radius: 4px;\n                    box-shadow: 0 0 15px rgba(0, 0, 0, 0.02), 2px 2px 5px rgba(0, 0, 0, 0.05), 1px 1px 2px rgba(0, 0, 0, 0.1);\n                    overflow: hidden;\n                    z-index: 1;\n                }\n\n                .esgst-header-menu-row {\n                    cursor: pointer;\n                    background-image: linear-gradient(#fff 0%, #f6f7f9 100%);\n                    display: flex;\n                    padding: 12px 15px;\n                    text-shadow: 1px 1px #fff;\n                    align-items: center;\n                }\n\n                .esgst-version-row {\n                    cursor: default;\n                }\n\n                .esgst-header-menu-row:not(:first-child) {\n                    border-top: 1px dotted #d2d6e0;\n                }\n\n                .esgst-header-menu-row:not(.esgst-version-row):hover, .esgst.header-menu-button:hover + .esgst-header-menu-button {\n                    border-top-color: transparent;\n                }\n\n                .esgst-header-menu-row i {\n                    font-size: 28px;\n                    margin-right: 15px;\n                }\n\n                .esgst-header-menu-row:not(.esgst-version-row):hover i:not(.esgst-chfl-edit-button):not(.esgst-chfl-remove-button) {\n                    color: #fff !important;\n                }\n\n                .esgst-header-menu-row:not(.esgst-version-row):hover {\n                    background-image: linear-gradient(#63a0f4 0%, #63a0f4 100%);\n                    text-shadow: none;\n                }\n\n                .esgst-header-menu-row i.blue {\n                    color: #9dd9e1;\n                }\n\n                .esgst-header-menu-row i.green {\n                    color: #96c468;\n                }\n\n                .esgst-header-menu-row i.red {\n                    color: #ec8583;\n                }\n\n                .esgst-header-menu-row i.grey{\n                    color: #77899A;\n                }\n\n                .esgst-header-menu-row i.yellow{\n                    color: #FECC66;\n                }\n\n                .esgst-header-menu-name {\n                    color: #4B72D4;\n                    font: bold 11px/15px Arial, sans-serif;\n                }\n\n                .esgst-header-menu-description {\n                    color: #6b7a8c;\n                    font: 11px/13px Arial, sans-serif\n                }\n\n                .esgst-header-menu-row:not(.esgst-version-row):hover .esgst-header-menu-name {\n                    color: #fff;\n                }\n\n                .esgst-header-menu-row:not(.esgst-version-row):hover .esgst-header-menu-description {\n                    color: rgba(255, 255, 255, 0.7);\n                }\n\n                .esgst-header-menu-button {\n                    white-space: nowrap;\n                    color: #21262f;\n                    font: bold 11px/29px Arial, sans-serif;\n                    padding: 0 15px;\n                    cursor: pointer;\n                    text-shadow: 1px 1px rgba(255, 255, 255, 0.08);\n                    border-radius: 4px 0 0 4px;\n                }\n\n                .esgst-header-menu-button.arrow {\n                    border-radius: 0 4px 4px 0;\n                    padding: 0 10px;\n                }\n\n                .esgst-header-menu-button:hover {\n                    background-image: linear-gradient(#9ba2b0 0px, #8c94a3 8px, #596070 100%);\n                }\n\n                .esgst-header-menu-button.selected {\n                    background-image: linear-gradient(#4e525f 0px, #434857 5px, #2b2e3a 100%);\n                    box-shadow: 3px 3px 5px rgba(0, 0, 0, 0.3) inset;\n                    color: #aec5f3;\n                    text-shadow: 1px 1px rgba(0, 0, 0, 0.2);\n                }\n\n                .esgst-header-menu.selected .esgst-header-menu-button {\n                    background-image: linear-gradient(#d0d5de 0px, #c9cdd7 5px, #9097a6 100%);\n                    color: #3c465c;\n                    text-shadow: 1px 1px rgba(255, 255, 255, 0.2);\n                }\n\n                .esgst-header-menu.selected .esgst-header-menu-button:hover:not(.selected) {\n                    background-image: linear-gradient(#f0f1f5 0px, #d1d4de 100%);\n                }\n            ':a+='\n                .esgst-header-menu {\n                    display: flex;\n                    margin: 0 5px 0 0;\n                    box-shadow: 0 0 15px rgba(6, 52, 84, 0.07), 2px 2px 5px rgba(6, 52, 84, 0.07), 1px 1px 2px rgba(6, 52, 84, 0.07);\n                }\n\n                .esgst-header-menu-relative-dropdown > div {\n                    overflow: hidden;\n                    border-radius: 3px;\n                    background-color: #fff;\n                    position: absolute;\n                    margin-top: 39px;\n                    box-shadow: 0 0 15px rgba(59, 74, 84, 0.07), 2px 2px 5px rgba(59, 74, 84, 0.07), 1px 1px 2px rgba(59, 74, 84, 0.07);\n                    z-index: 10;\n                    width: 190px;\n                }\n\n                .esgst-header-menu-row {\n                    padding: 15px 20px;\n                    color: #557a93;\n                    display: flex;\n                    align-items: center;\n                    font: 700 12px \'Open Sans\', sans-serif;\n                    transition: background-color 0.15s;\n                    cursor: pointer;\n                }\n\n                .esgst-version-row {\n                    cursor: default;\n                }\n\n                .esgst-header-menu-row:not(:last-child) {\n                    border-bottom: 1px solid #e1ebf2;\n                }\n\n                .esgst-header-menu-row.disabled {\n                    cursor: default\n                }\n\n                .esgst-header-menu-row > * {\n                    transition: opacity 0.15s;\n                }\n\n                .esgst-header-menu-row i {\n                    margin-right: 20px;\n                    font-size: 24px;\n                    transition: color 0.15s;\n                }\n\n                .esgst-header-menu-row:hover {\n                    background-color: #f0f3f5;\n                }\n\n                .esgst-header-menu-relative-dropdown:hover .esgst-header-menu-row:not(:hover) > * {\n                    opacity: 0.5;\n                }\n\n                .esgst-header-menu-relative-dropdown:hover .esgst-header-menu-row:not(:hover) i {\n                    color: #bdcbd5;\n                }\n\n                .esgst-header-menu-row i.blue {\n                    color: #9dd9e1;\n                }\n\n                .esgst-header-menu-row i.green {\n                    color: #96c468;\n                }\n\n                .esgst-header-menu-row i.red {\n                    color: #ec8583;\n                }\n\n                .esgst-header-menu-row i.grey{\n                    color: #77899a;\n                }\n\n                .esgst-header-menu-row i.yellow{\n                    color: #FECC66;\n                }\n\n                .esgst-header-menu-row:not(.esgst-version-row) .esgst-header-menu-description {\n                    display: none;\n                }\n\n                .esgst-header-menu-button {\n                    cursor: pointer;\n                    border-radius: 3px;\n                    display: flex;\n                    align-items: center;\n                    border: 1px solid;\n                    font: 700 11px \'Open Sans\', sans-serif;\n                    padding: 8px 10px;\n                    white-space: nowrap;\n                    background-image: linear-gradient(#fff 0%, #dfe5f0 50%, #a5b2cc 100%);\n                    border-color: #fff #adb6c7 #909bb0 #cdd3df;\n                    color: #354a73;\n                    text-shadow: 1px 1px rgba(255, 255, 255, 0.3);\n                    transition: opacity 0.1s;\n                    opacity: 0.8;\n                    border-radius: 3px 0 0 3px;\n                    border-right: 0;\n                }\n\n                .esgst-header-menu-button:hover:not(.selected) {\n                    opacity: 1;\n                }\n\n                .esgst-header-menu-button.selected {\n                    opacity: 0.6;\n                }\n\n                .esgst-header-menu-button.arrow {\n                    border-radius: 0 3px 3px 0;\n                    border-left: 0;\n                }\n\n                .esgst-header-menu-button:not(.arrow) > i {\n                    margin-right: 10px;\n                }\n\n                .esgst-un-button, .page_heading .esgst-heading-button {\n                    background-image: linear-gradient(#fff 0%, rgba(255, 255, 255, 0.4) 100%);\n                    border: 1px solid #d2d6e0;\n                    border-radius: 3px;\n                    color: #4b72d4;\n                    cursor: pointer;\n                    display: inline-block;\n                    font: 700 14px/22px "Open Sans", sans-serif;\n                    padding: 5px 15px;\n                }\n            ',esgst.style=insertHtml(document.head,'beforeEnd',`<style id="esgst-style">${a}</style>`)}function loadChangelog(e){var t,s,n,i,a,o,r;if(t=[{date:'March 4, 2018',version:'7.17.1',changelog:'\n                    <ul>\n                        <li>Add extension to the Mozilla store</li>\n                    </ul>\n                '},{date:'March 4, 2018',version:'7.17.0',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/562">#562</a> Add descriptions to the precise options in Giveaway Templates</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/563">#563</a> Add an option to specify the game when importing with Multiple Giveaway Creator</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/564">#564</a> Fix a bug that does not extract the giveaway from the current page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/565">#565</a> Add minified version and set it as default</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/566">#566</a> Add option to specify separate details for each imported giveaway in Multiple Giveaway Creator</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/568">#568</a> Add an option to enable Giveaway Recreator for all created giveaways</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/570">#570</a> Fix a bug in Chrome that does not open the giveaway extractor on first click</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/571">#571</a> Include whether the giveaway is for a gift or a key in the template when using Giveaway Templates</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/574">#574</a> Add a feature: Element Filters (remove Hidden Feature Container and Hidden Pinned Giveaways)</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/575">#575</a> Move "Click here to see your review for this user" to the top of the page in Reply Box On Top on SteamTrades</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/576">#576</a> Fix a bug that does not load features correctly in discussions that contain polls</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/578">#578</a> Optimize the extension performance (Ongoing)</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/353">#353</a> Convert all callback functions into promises and use async/await to deal with them (Ongoing)</li>\n                    </ul>\n                '},{date:'March 4, 2018',version:'7.16.5',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/353">#353</a> Convert all callback functions into promises and use async/await to deal with them (ongoing)</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/552">#552</a> Fix a bug that does not allow the Giveaway Extractor button to be moved</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/556">#556</a> Only load Attached Images Carouself for images that are actually in the page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/558">#558</a> Fix a bug that does not extract giveaways in a new tab</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/560">#560</a> Fix a bug that does not load ESGST sometimes</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/561">#561</a> Fix a bug that happens when performing requests in the userscript version</li>\n                    </ul>\n                '},{date:'March 2, 2018',version:'7.16.4',changelog:'\n                    <ul>\n                        <li>Hotfix for v7.16.3 (Userscript version was still not working)</li>\n                    </ul>\n                '},{date:'March 2, 2018',version:'7.16.3',changelog:'\n                    <ul>\n                        <li>Hotfix for v7.16.2 (Userscript version was not working)</li>\n                    </ul>\n                '},{date:'March 2, 2018',version:'7.16.2',changelog:'\n                    <ul>\n                        <li>Hotfix for v7.16.1 (Forgot to change the version)</li>\n                    </ul>\n                '},{date:'March 2, 2018',version:'7.16.1',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/527">#527</a> Fix a bug that happens when loading highlighted discussions</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/537">#537</a> Add option to delete days from Entry Tracker history</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/539">#539</a> Fix a bug that happens when sending unsent gifts with the options to check if the winner is whitelisted/blacklisted</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/540">#540</a> Fix some bugs with the reordering of heading buttons</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/541">#541</a> Extend Inbox Winner Highlighter to Quick Inbox View</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/542">#542</a> Add options to specify image border width when highlighting a giveaway with Giveaway Winning Chance/Ratio</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/543">#543</a> Fix a bug that does not load some features correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/544">#544</a> Change the order of the elements in the Giveaway Bookmarks popup</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/548">#548</a> Fix a bug that decrypts giveaway links from the Quick Inbox View popout</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/549">#549</a> Add domain instructions to adding a Steam API key</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/550">#550</a> Optimize storage usage in the script version</li>\n                    </ul>\n                '},{date:'February 25, 2018',version:'7.16.0',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/481">#481</a> Fix several inaccuracies in Level Progress Visualizer</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/525">#525</a> Add a feature: Whitelist/Blacklist Links</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/528">#528</a> Enhancements to Custom Header/Footer Links</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/531">#531</a> Fix a bug that happens when trying to create multiple giveaways using the import option</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/532">#532</a> Fix a bug in Entry Tracker that does not track entries in the entered page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/533">#533</a> Fix a conflict with RaChart Enhancer</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/534">#534</a> Change the highlight style of Giveaway Winning Chance/Ratio</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/535">#535</a> Fix a bug that prevents ESGST from loading correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/536">#536</a> Fix a bug that does not update the points when entering/leaving a giveaway in the entered page</li>\n                    </ul>\n                '},{date:'February 24, 2018',version:'7.15.1',changelog:'\n                    <ul>\n                        <li>Hotfix for v7.15.0 (Forgot to change the version for the userscript version)</li>\n                    </ul>\n                '},{date:'February 24, 2018',version:'7.15.0',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/501">#501</a> Fix a bug that prevents Level Progress Visualizer from loading correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/502">#502</a> Update the descriptions of all features</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/504">#504</a> Add option to identify elements added by ESGST in the page through their tooltip</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/505">#505</a> Fix a bug that does not load the Attached Images Carousel button</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/506">#506</a> Fix a bug that happens when syncing giveaways if a giveaway was deleted</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/507">#507</a> Show a popup if a user clicks on "Create" in Multiple Giveaway Creator and there are no giveaways in the queue</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/508">#508</a> Extend Enter/Leave Giveaway Button to the entered page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/509">#509</a> Add a feature: Cake Day Reminder</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/510">#510</a> Fix some issues that happen if a user has more than 999P</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/511">#511</a> Add a review popup to Multiple Giveaway Creator</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/512">#512</a> Load game features when using the pagination in the new giveaway page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/513">#513</a> Add an option to highlight the giveaway with the chance/ratio color</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/514">#514</a> Fix a bug that happens when trying to enable a feature that conflicts with another</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/515">#515</a> Fix a bug that was still showing the wrong status in Blacklist Giveaway Loader</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/516">#516</a> Fix a bug that does not reset the text color of game categories to the default color</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/517">#517</a> Allow the source element in Giveaway Encrypter/Decrypter to be moved</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/518">#518</a> Add a button to reset the giveaway columns to their original order</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/519">#519</a> Add an option to view the raw list of bookmarked giveaways</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/520">#520</a> Check for a new version in the ESGST discussion using only the title</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/521">#521</a> Add a feature: Custom Header/Footer Links (remove Quick Giveaway Browsing and Quick Discussion Browsing)</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/522">#522</a> Fix a bug that does not detect all wishlists in Group Library/Wishlist Checker</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/523">#523</a> Prevent some user features from being duplicated in Reply From Inbox</li>\n                    </ul>\n                '},{date:'February 16, 2018',version:'7.14.4',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/338">#338</a> Cache Level Progress Visualizer prediction after giveaways end</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/486">#486</a> Fix a bug that does not go to a permalink when using Collapse/Expand Replies Button with the automatic collapse enabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/487">#487</a> Fix a bug that does not decrypt giveaways</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/488">#488</a> Fix a bug that does not open the Quick Inbox View popout after a header refresh</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/489">#489</a> Fix a bug that does not run Discussion Filters and Discussions Sorter on page load</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/490">#490</a> Prevent Discussions Highlighter and Puzzle Marker buttons from switching places</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/491">#491</a> Fix a bug that happens when checking suspensions in Not Activated/Multiple Wins Checker</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/492">#492</a> Fix a bug that happens when checking groups in Unsent Gifts Sender</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/493">#493</a> Allow users to update the "No CV Games" database</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/494">#494</a> Fix a bug that auto focus text areas with Comment Formatting Helper enabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/496">#496</a> Fix a bug that does not connect wagons when creating trains</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/498">#498</a> Implement a Button class</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/499">#499</a> Fix features that retrieve a user\'s wishlist from Steam</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/500">#500</a> Fix a bug that happens when sending a ticket with User Suspension Tracker</li>\n                    </ul>\n                '},{date:'February 12, 2018',version:'7.14.3',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/471">#471 Fix a bug that happens when using the Comment Tracker buttons from the main discussions page</a></li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/472">#472 Open discussion in a new tab when middle-clicking the button to go to its first unread comment</a></li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/473">#473 Fix a bug that happens when hiding discussions</a></li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/477">#477 Fix a bug that happens when using Group/Library Wishlist Checker</a></li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/475">#475 Fix a bug in Quick Inbox View</a></li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/474">#474 Fix a bug that happens when syncing wishlisted games</a></li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/476">#476 Change saving popup to a message next to the switch</a></li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/483">#483 Also open features in a new tab when middle-clicking them</a></li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/480">#480 Remove the option to notify errors</a></li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/484">#484 Fix a bug that does not load features correctly in ESGST-generated pages</a></li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/479">#479 Fix a bug in Collapse/Expand Replies Button that happens if the option to automatically collapse is enabled</a></li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/482">#482 Make the extension compatible with Firefox Containers</a></li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/485">#485 Fix a bug that happens when visiting discussions if the auto option for Discussions Sorter is enabled</a></li>\n                    </ul>\n                '},{date:'February 7, 2018',version:'7.14.2',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/443">#443</a>Add option to check for whitelists/blacklists between page range</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/445">#445</a>Fix a bug that filters games without a release date even if the option is disabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/447">#447</a>Identify dev versions in the header menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/448">#448</a>Enhancements to Quick Inbox View</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/451">#451</a>Add option to set fixed width for static popups</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/452">#452</a>Fix a bug that does not save inclusions/exclusions for some features correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/453">#453</a>Fix a bug that happens when using User Giveaways Data</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/454">#454</a>Check if AudioContext can be constructed</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/455">#455</a>Fix a bug that reorders categories when Header Refresher refreshes</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/456">#456</a>Fix a bug that happens when loading Group Stats with Endless Scrolling</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/457">#457</a>Add user count to Group Stats</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/461">#461</a>Fade options that don\'t contain the query when filtering features in the settings menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/462">#462</a>Fix the table headers order in Created/Entered/Won Giveaway Details</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/463">#463</a>Display additional information when hovering over some game categories</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/464">#464</a>Add option to prevent giveaway columns from being movable</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/465">#465</a>Show wishlist category for packages if any of the apps in the package is wishlisted</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/466">#466</a>Fix a bug that moves the enter button when entering a giveaway or upon a header refresh</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/467">#467</a>Fix a bug that detects the status incorrectly in Blacklist Giveaway Loader</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/468">#468</a>Fix a bug that shows negative price for Giveaway Info in Game Categories</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/469">#469</a>Only construct AudioContext when necessary</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/470">#470</a>Add Comments and Invite Only filters to Giveaway Filters</li>\n                    </ul>\n                '},{date:'February 3, 2018',version:'7.14.1',changelog:'\n                    <ul>\n                        <li>Hotfix for v7.14.0</li>\n                    </ul>\n                '},{date:'February 3, 2018',version:'7.14.0',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/406">#406</a> Add option to play sound with notifications</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/407">#407</a> Allow users to specify where they want features to run</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/410">#410</a> Fix a bug that shows a notification for new wishlist giveaways when there are not any</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/411">#411</a> Fix a bug that duplicates encrypted giveaways when editing a comment</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/413">#413</a> Fix a bug that happens when checking if the user is already a member of the Steam group</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/414">#414</a> Detect all errors</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/415">#415</a> Extend Table Sorter to tables posted in comments</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/418">#418</a> Decrypt encrypted giveaways on page load</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/420">#420</a> Fix a bug in Discussions Highlighter that prevents the page from loading correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/421">#421</a> Fix a bug that happens when filtering giveaways/discussions</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/422">#422</a> Only hide basic filters if the user made an advanced search in Giveaway Filters</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/423">#423</a> Fix a bug that happens when sending unsent gifts</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/424">#424</a> Fix some typos in Unsent Gifts Sender</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/425">#425</a> Fix a bug that notifies about errors even if the option is disabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/427">#427</a> Allow users to move the enter button and chance/ratio around like Game Categories does</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/428">#428</a> Fix a bug that happens when clicking the Manage User Tags button in the settings menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/430">#430</a> Add Release Date game category</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/431">#431</a> Add missing game categories to Giveaway Filters</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/432">#432</a> Add option to remove all games to Hidden Games Remover</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/433">#433</a> Fix a bug that shows 2 hide giveaway buttons if One-Click Hide Giveaway Button is enabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/434">#434</a> Fix a bug that happens when showing notifications in Header Refresher</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/435">#435</a> Change the donation site, since Pledgie is closing down</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/436">#436</a> Separate grid view from normal view when dragging categories</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/437">#437</a> Speed up page load with Reply From Inbox > "Save replies" enabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/438">#438</a> Fix a bug that happens when deleting all color settings for the rating category</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/440">#440</a> Bypass Steam\'s age and mature check when retrieving game categories</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/441">#441</a> Fix a bug that happens when saving settings</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/444">#444</a> Add a feature: Quick Inbox View</li>\n                    </ul>\n                '},{date:'January 14, 2018',version:'7.13.1',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/399">#399</a> Remove !important rule from colors in Game Categories</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/398">#398</a> Add more information about requesting to join the Steam group</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/401">#401</a> Hide button to request access to the ESGST Steam group if the user is already a member</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/400">#400</a> Add options to customize what happens when clicking on notifications</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/402">#402</a> Fix a bug that happens when syncing with Avatar Popout (Click) enabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/403">#403</a> Fix a bug that does not load Puzzle Marker in discussion pages</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/404">#404</a> Fix a bug that does not allow moving categories to the default place if no other categories are present</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/405">#405</a> Add option to only close notifications manually</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/396">#396</a> Fix a style issue with the last item of menu dropdowns</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/353">#353</a> Convert all callback functions into promises and use async/await to deal with them (Fixes a lot of bugs) (Ongoing)</li>\n                    </ul>\n                '},{date:'January 13, 2018',version:'7.13.0',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/251">#251</a> Fix a bug that does not save encrypted giveaways posted by the user sometimes</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/285">#285</a> Apply discussion filters in the main page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/331">#331</a> Add options to limit search by date and pages to Sent Keys Searcher</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/348">#348</a> Check for replies to a comment before replying in Reply From Inbox</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/349">#349</a> Add link to reload extension to the update popup</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/362">#362</a> Fix a bug that keeps loading the auto sync</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/367">#367</a> Fix a style compatibility issue between Discussions Highlighter and Puzzle Marker</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/369">#369</a> Initialize filterPresets for new users</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/370">#370</a> Fix a bug that happens when checking users with return options enabled in Whitelist/Blacklist Checker</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/372">#372</a> Add a loading popup when opening the import/export/delete menus until the data sizes are calculated</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/373">#373</a> Fix a bug in Giveaways Manager when unbookmarking giveaways</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/374">#374</a> Add option to save current reply to Saved Replies</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/375">#375</a> Add a feature: URL Redirector</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/376">#376</a> Add a feature: Notification Merger</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/377">#377</a> Fix a bug that updates the last sync date for all data when syncing games/groups</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/378">#378</a> Use name + description to identify a saved reply</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/379">#379</a> Fix a bug that happens when retrieving DLC base information in Game Categories</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/380">#380</a> Add shortcut keys to undo/redo and support for saved replies in Comment Formatting Helper</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/381">#381</a> Fix a bug that opens the description popup even if the option is disabled in Enter/Leave Giveaway Button</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/382">#382</a> Fix a bug in User Giveaways Data that does not retrieve giveaways</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/383">#383</a> Fix a typo in the Game Categories code</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/384">#384</a> Add support for Avatar Popout to the avatar in the header</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/385">#385</a> Add options to calculate data sizes when opening the import/export/delete menus</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/386">#386</a> Add a tool to generate next/previous/counter formats to Multiple Giveaways Creator</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/387">#387</a> Turn Header Refresher notifications into links</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/388">#388</a> Add an option to notify errors</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/389">#389</a> Fix a typo in the counter when performing some checks</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/390">#390</a> Prevent Giveaways Extractor from stopping if there is a badly formatted giveaway link</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/391">#391</a> Fix a conflict with SteamGifts Steam Ratings</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/392">#392</a> Allow winners to be updated when syncing giveaways or using Created/Entered/Won Giveaway Details</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/393">#393</a> Fix a bug that happens when importing from OneDrive</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/394">#394</a> Fix a bug that does not filter giveaways in the created/entered/won pages correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/395">#395</a> Allow more customization for Game Categories</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/353">#353</a> Convert all callback functions into promises and use async/await to deal with them (Fixes a lot of bugs) (Ongoing)</li>\n                    </ul>\n                '},{date:'January 7, 2018',version:'7.12.2',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/363">#363</a> Fix a bug that does not auto backup all data</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/364">#364</a> Fix a bug that happens when checking for a user\'s not activated/multiple wins</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/353">#353</a> Convert all callback functions into promises and use async/await to deal with them (Fixes a lot of bugs) (Ongoing)</li>\n                    </ul>\n                '},{date:'January 6, 2018',version:'7.12.1',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/350">#350</a> Fix a bug that does not highlight discussions</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/351">#351</a> Fix a bug that does not go to the first unread comment correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/352">#352</a> Fix a bug that does not load Quick Discussion Browsing unless Quick Giveaway Browsing is enabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/354">#354</a> Fix a bug that does not load User Suspension Tracker in the main tickets page unless Giveaways/Discussions/Tickets/Trades Tracker is enabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/355">#355</a> Fix a bug that does not calculate real CV</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/353">#353</a> Convert all callback functions into promises and use async/await to deal with them (Fixes a lot of bugs) (Ongoing)</li>\n                    </ul>\n                '},{date:'December 30, 2017',version:'7.12.0',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/326">#326</a> Implement a completion check class for AJAX calls</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/327">#327</a> Add option to only clear users with specific tags in Whitelist/Blacklist Manager</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/324">#324</a> Fix a bug that counts pinned giveaways in Giveaway Filters when Hidden Pinned Giveaways is enabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/328">#328</a> Add a feature: User Suspension Tracker</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/329">#329</a> Add a "From: ESGST" header to requests made by ESGST</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/334">#334</a> Remove transparency of the box in Username History</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/335">#335</a> Remove bold font from giveaway winning chances/ratios</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/333">#333</a> Fix a bug in the post preview</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/341">#341</a> Add compatibility with Greasemonkey v4</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/342">#342</a> Add a feature: Quick Discussion Browsing</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/344">#344</a> Fix a style issue that does not show the "Current Version" row in the header menu on SteamTrades</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/345">#345</a> Fix a bug that happens when trying to bump trades</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/346">#346</a> Fix a style issue with headings on SteamTrades</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/347">#347</a> Fix a typo in the settings menu in "Add undefined Color Setting"</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/337">#337</a> Add a feature: Community Wishlist Search Links</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/339">#339</a> Fix inconsistency in tooltips regarding periods</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/336">#336</a> Fix a bug that does not save exceptions when saving a preset with a different name</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/284">#284</a> Add more customization options for the genres category</li>\n                    </ul>\n                '},{date:'December 18, 2017',version:'7.11.2',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/325">#325</a> Add links to the just created Steam group and Pledgie pages to the header menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/323">#323</a> Rename the default filename when exporting settings to "esgst_settings"</li>\n                    </ul>\n                '},{date:'December 17, 2017',version:'7.11.1',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/308">#308</a> Show winners in the created page in Created/Entered/Won Giveaway Details</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/309">#309</a> Prevent apparently empty descriptions with invisible characters from popping up in Enter/Leave Giveaway Button</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/314">#314</a> Update some feature documentation</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/315">#315</a> Prevent user from being able to enable a feature that conflicts with another</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/313">#313</a> Fix a bug in Attached Images Carousel that opens the attached image in the main page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/310">#310</a> Show how many points a game costs when searching for games in the new giveaway page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/311">#311</a> Fix a bug that does not save the ratio settings in Giveaway Filters</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/316">#316</a> Show how many giveaways/discussions each filter is filtering in Giveaway/Discussion Filters</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/312">#312</a> Remove bullet points from results in checks</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/317">#317</a> Add chance per point option to Giveaways Sorter</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/318">#318</a> When loading the next page through the button in Endless Scrolling, return to the previous state instead of pausing</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/319">#319</a> Add borders to some images that are missing it in Image Borders</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/320">#320</a> Fix a bug that happens when loading hidden discussions</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/321">#321</a> Add shortcut to save notes with Ctrl + Enter</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/322">#322</a> Fix a bug that happens when unhiding a game that was faded with One-Click Hide Giveaway Button</li>\n                    </ul>\n                '},{date:'December 10, 2017',version:'7.11.0',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/294">#294</a> Fix a bug in Header Refresher that counts visited & hidden wishlisted giveaways</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/295">#295</a> Show hidden giveaways/discussions by added date (from most recently added)</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/297">#297</a> Fix a bug that calculates height and width of first load of images as 0 in Attached Images Carousel</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/298">#298</a> Fix a bug that happens when refreshing pages in Endless Scrolling</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/280">#280</a> Also load Giveaways Extractor when there are only SGTools giveaways</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/300">#300</a> Extract details from SGTools giveaways in Giveaways Extractor</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/301">#301</a> Add a feature: Puzzle Marker</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/305">#305</a> Add tool to clean old data</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/306">#306</a> Fix a bug that happens when refreshing active discussions/deals</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/307">#307</a> Add button to load only the next page in Endless Scrolling</li>\n                    </ul>\n                '},{date:'December 3, 2017',version:'7.10.0',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/270">#270</a> Fix a style issue in Attached Images Carousel that does not scale images correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/271">#271</a> Fix a bug that duplicates the button when bookmarking/unbookmarking/bookmarking a giveaway and entering it</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/272">#272</a> Add missing buttons to the option to hide buttons in the main page heading</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/273">#273</a> Fix a bug that does not detect the status of bookmarked giveaways correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/274">#274</a> Add option to Endless Scrolling to continuously load pages</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/275">#275</a> Add points/total info to Giveaway Bookmarks</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/276">#276</a> Split option to mark pages as visited when visiting them in Giveaways/Discussions/Tickets/Trades Tracker</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/277">#277</a> Fix a bug that does not remember settings correctly when they are renamed</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/278">#278</a> Show sizes of sub-options in the import/export/delete menus</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/279">#279</a> Fix a bug that happens when adding game tags</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/282">#282</a> Fix an Endless Scrolling bug</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/286">#286</a> Fix a bug in SteamTrades that prevents some features from loading</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/283">#283</a> Add a feature: Time To Point Cap Calculator</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/288">#288</a> Fix a bug that does not show scroll to bottom/top buttons when bottom right corner option is selected</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/289">#289</a> Fix a bug that does not unhighlight entered games</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/290">#290</a> Fix a bug that happens when exporting to custom format in Giveaways Manager</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/291">#291</a> Allow importing/exporting/deleting main data</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/293">#293</a> Fix a bug that happens when checking playtime stats in User Giveaways Data</li>\n                    </ul>\n                '},{date:'November 26, 2017',version:'7.9.1',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/261">#261</a> Fix a bug that does not load the entire changelog</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/260">#260</a> Fix a bug in Avatar Popout that does not load for some users</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/262">#262</a> Fix a style issue in Giveaway/Discussion Filters</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/263">#263</a> Fix a bug that does not load Entered Games Highlighter and Game Tags in popups</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/264">#264</a> Reduce useless space in popups</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/265">#265</a> Fix a bug in Scroll To Bottom Button that does not scroll all the way down with Endless Scrolling</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/266">#266</a> Fix a bug that happens when filtering features in the settings menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/267">#267</a> Automatically expand sections when filtering features in the settings menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/268">#268</a> Add option to show Scroll To Top/Bottom Button in the main page heading</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/269">#269</a> More changes to Attached Images Carousel</li>\n                    </ul>\n                '},{date:'November 24, 2017',version:'7.9.0',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/224">#224</a> Also trigger reverse scrolling from the main and inbox pages in Endless Scrolling</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/225">#225</a> Fix a bug that does not allow adding a second reply to a comment without refreshing the page in Multi-Reply/Reply From Inbox</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/226">#226</a> Open the authentication window for Dropbox, Google Drive and OneDrive in a small window instead of in a new tab</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/227">#227</a> Only show button to add description to filters if the option to filter useless descriptions is enabled in Enter/Leave Giveaway Button</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/228">#228</a> Add ratio filter to Giveaway Filters</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/229">#229</a> Make some changes to the structure of the code</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/230">#230</a> Fix a bug that happens when syncing from the account page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/232">#232</a> Make some optimizations</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/236">#236</a> Remove sync button after the sync is complete when syncing through the account page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/237">#237</a> Prevent sync results from duplicating when clicking on the sync button again</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/238">#238</a> Fix a bug that sometimes does not detect if the user is logged in to Steam in when syncing</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/239">#239</a> Add a feature: Scroll To Bottom Button</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/240">#240</a> Fix a bug that moves the start time column of a giveaway if it has both received and not received copies</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/234">#234</a> Highlight game ids for games that are not in the Steam API when syncing and therefore cannot be converted to a name</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/241">#241</a> Fix a bug in Whitelist/Blacklist Checker that happens when checking group giveaways</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/243">#243</a> Add option to automatically backup data every X days</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/244">#244</a> Remove the plus sign after the level in Created/Entered/Won Giveaway Details</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/245">#245</a> Extend #226 to Imgur uploads</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/246">#246</a> Add option to refresh active discussions when refreshing giveaways in the main page through Endless Scrolling</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/248">#248</a> Add a feature: Refresh Active Discussions Button</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/247">#247</a> Replace colon with underline in exported file names</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/249">#249</a> Allow custom names for exported files</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/250">#250</a> Add an easy way to debug directly from ESGST</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/254">#254</a> Fix a bug in Giveaway Bookmarks that does not unbookmark a giveaway when entering it through SG\'s native button</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/255">#255</a> Add options to Giveaway Bookmarks to automatically unbookmark entered giveaways and show the button for entered giveaways</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/256">#256</a> Fix a bug that does not detect entered giveaways in the Giveaway Bookmarks list</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/252">#252</a> Fix a style issue in Giveaways Manager</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/253">#253</a> Add search filters to the settings menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/257">#257</a> Make some visual changes to Attached Images Carousel</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/258">#258</a> Allow users to order the heading buttons however they want</li>\n                    </ul>\n                '},{date:'November 18, 2017',version:'7.8.1',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/214">#214</a> Fix a bug in Scroll To Top Button that happens in ESGST-generated pages</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/215">#215</a> Fix a bug that happens when typing ` in Comment Formatting Helper with preview enabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/212">#212</a> Fix a bug in Search Magnifying Glass Button that does not work outside of the main page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/210">#210</a> Show script version in the header menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/209">#209</a> Improve the left/right buttons in Attached Images Carousel</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/208">#208</a> Add button to start Attached Images Carousel from the header</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/218">#218</a> Revert how new features/options are highlighted to the [NEW] text instead of the star icon</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/219">#219</a> Fix a bug that happens when trying to load a group/whitelist giveaway in Blacklist Giveaway Loader</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/220">#220</a> Fix a bug in Comments Reverser that reverses giveaways in the main page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/222">#222</a> Fix a bug that happens when syncing won games</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/221">#221</a> Fix a style issue where popups keep shaking when already repositioned</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/223">#223</a> Add option to open the automatic sync in a new tab</li>\n                    </ul>\n                '},{date:'November 16, 2017',version:'7.8.0',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/9">#9</a> Add option to preview comments to Comment Formatting Helper</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/184">#184</a> Add "unlimitedStorage" permission to extension</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/191">#191</a> Fully add the script code to the extension code</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/190">#190</a> Fix a bug that does not load Giveaway Bookmarks in the entered page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/186">#186</a> Remove text from SG sync</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/189">#189</a> Fix a bug in Giveaways Extractor that happens when opening in a new tab</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/76">#76</a> Fix a bug that does not filter discussions on page load if Comment Tracker is disabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/185">#185</a> Add option to collapse sections in the settings menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/192">#192</a> Make new features/options more visible in the settings menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/137">#137</a> Prevent Header Refresher from notifying about wishlist giveaways that are above the user\'s level</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/142">#142</a> Improve how Whitelist/Blacklist Checker results are stored</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/193">#193</a> Fix a side effect from #185 that collapses the import/export/delete menus</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/194">#194</a> Separate option to reverse comments from Endless Scrolling into a new feature: Comments Reverser</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/195">#195</a> Add option to Whitelist/Blacklist Checker to skip a user if X pages have been checked without any result</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/196">#196</a> Add button to Whitelist/Blacklist Checker to manually skip users</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/197">#197</a> Add option to Whitelist/Blacklist Checker to check only selected users in the page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/199">#199</a> Fix a bug that does not sync alt accounts</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/198">#198</a> Add a feature: Comments/Entries Checker</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/202">#202</a> Fix a bug in Real CV Calculator that happens when reviewing a giveaway</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/204">#204</a> Fix a bug in Giveaway Filters that does not filter giveaways correctly when using Endless Scrolling</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/205">#205</a> Move the scroll to top button more to the bottom/right</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/206">#206</a> Add option to show scroll to top button inside of footer</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/200">#200</a> Add option to make popups static</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/203">#203</a> Show game names instead of IDs when syncing</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/207">#207</a> Add a feature: Hidden Pinned Giveaways</li>\n                    </ul>\n                '},{date:'November 12, 2017',version:'7.7.4',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/167">#167</a> Fix a Comment History conflict with other scripts</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/168">#168</a> Move entries tracker from settings menu to the user menu in the header</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/166">#166</a> Fix a bug that happens when trying to create multiple giveaways</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/169">#169</a> Fix a bug that happens when there are less than 5 unhidden discussions</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/171">#171</a> Fix a bug that shows the wrong message for cases where the user has unblacklisted another user in Blacklist Giveaway Loader</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/172">#172</a> Fix a bug in Group Library/Wishlist Checker that does not check only wishlist if there is no Steam API key set</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/173">#173</a> Fix a bug that prevents some giveaway features from loading</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/175">#175</a> Refresh active discussions and pinned giveaways when refreshing main giveaway pages in Endless Scrolling</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/174">#174</a> Fix a bug in Giveaway Winning Ratio that does not round up the ratio correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/176">#176</a> Fix a bug in Attached Images Carousel that does not close the popup when clicking on the source link</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/177">#177</a> Fix a bug that happens when uploading images through Imgur</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/178">#178</a> Fix a bug in Tables Sorter that does not sort some columns correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/179">#179</a> Remove text from giveaway icons in popups in normal view</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/164">#164</a> Fix a bug that does not automatically collapse replies in Collapse/Expand Replies Button when using Endless Scrolling</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/163">#163</a> Fix a bug that does not set the gift/key field correctly when editing a giveaway in Multiple Giveaways Creator</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/181">#181</a> Fix a bug that happens when trying to import/export through Google Drive/OneDrive using the script or the extension on Firefox</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/180">#180</a> Fix a bug in Multiple Giveaways Creator that alters the date when editing a giveaway</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/182">#182</a> Fix a bug that shows wrong chance/ratio in the entered page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/183">#183</a> Add the script code to the extension code</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/145">#145</a> Add option to Giveaways Extractor to only extract from the current giveaway onwards</li>\n                    </ul>\n                '},{date:'November 11, 2017',version:'7.7.3',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/136">#136</a> Move recent username changes and comment history from the header menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/139">#139</a> Extend Time To Enter Calculator to Giveaways Manager</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/138">#138</a> Remove text from giveaway icons in popups</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/146">#146</a> Fix a bug in Whitelist/Blacklist Sorter that opens the whitelist in the blacklist page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/135">#135</a> Add download link to the update notification popup in the extension</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/148">#148</a> Extend Blacklist Giveaway Loader to situations where the user has unblacklisted the other user</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/140">#140</a> Fix a bug in Reply From Inbox that shows the wrong time ago for replies</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/150">#150</a> Fix a bug that opens the automatic sync multiple times</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/151">#151</a> Prevent sync from clearing game data when store method is unavailable</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/149">#149</a> Fix a bug in Game Categories that happens when the Steam store does not have information about the base game of a DLC</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/154">#154</a> Fix a bug that does not update the storage in the current session when deleting data</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/155">#155</a> Fix a bug that happens when importing/exporting data through Dropbox</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/156">#156</a> Add option to import/export through Google Drive</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/157">#157</a> Add option to import/export through OneDrive</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/158">#158</a> Fix a bug that calculates the size of files incorrectly when importing through Dropbox/OneDrive</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/159">#159</a> Make the buttons in the import/export/delete menus inline so there is more room for the options</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/160">#160</a> Color the buttons in the import/export/delete menus white</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/161">#161</a> Extend #159 to other places where there are multiple buttons</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/153">#153</a> Add option to shuffle giveaways to Multiple Giveaways Creator</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/162">#162</a> Fix a bug that does not update the cache when reordering/deleting giveaways in Multiple Giveaways Creator</li>\n                    </ul>\n                '},{date:'November 4, 2017',version:'7.7.2',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/133">#133</a> Fix a typo in the URL for groups in Group Library/Wishlist Checker</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/134">#134</a> Fix a bug that does not update the last sync date when performing an automatic sync</li>\n                    </ul>\n                '},{date:'November 4, 2017',version:'7.7.1',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/128">#128</a> Fix a bug that does not show Time To Enter Calculator in the settings menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/130">#130</a> Fix a bug in Endless Scrolling that does not load the next page when the ended filter is set to hide all and there is a deleted giveaway in the page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/131">#131</a> Extend deleted filter to the entered page in Giveaway Filters</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/132">#132</a> Fix a bug that does not detect won games correctly</li>\n                    </ul>\n                '},{date:'November 4, 2017',version:'7.7.0',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/106">#106</a> Fix a bug in Discussions Sorter that does not sort by created time correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/107">#107</a> Stop Endless Scrolling in the entered page when reaching ended giveaways with the ended filter enabled as "hide all"</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/108">#108</a> Allow setting different automatic sync frequencies for each data</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/109">#109</a> Separate single giveaway filters from multiple filters</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/110">#110</a> Add a fallback method to Next/Previous Train Hotkeys</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/111">#111</a> Add an option not to exclude deals from the discussions section in Old Active Discussions Design</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/112">#112</a> Add a feature: Time To Enter Calculator</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/113">#113</a> Fix a bug that happens when syncing games</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/115">#115</a> Fix a bug in Entries Tracker that does not sort the dates correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/116">#116</a> Add more stats to Entries Tracker</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/117">#117</a> Fix a bug in Giveaway Filters that does not apply overrides correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/118">#118</a> Add 2 new links to the header menu</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/120">#120</a> Allow exporting settings without personal data</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/121">#121</a> Fix a bug that happens when completing the active discussions/deals</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/122">#122</a> Refresh header when refreshing page through Endless Scrolling if Header Refresher is disabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/123">#123</a> Add a button to reset the Imgur setting in Comment Formatting Helper</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/124">#124</a> Separate the Grid View elements below the enter/leave button in two columns</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/125">#125</a> Fix a bug that does not set the default value for new settings correctly</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/126">#126</a> Go to the next unread comment after going to the first in Comment Tracker</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/127">#127</a> Save data for whitelisted/blacklisted users in Whitelist/Blacklist Checker</li>\n                    </ul>\n                '},{date:'November 3, 2017',version:'7.6.4',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/86">#86</a> Add an option to highlight public/group giveaways in Giveaways Extractor</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/87">#87</a> Ignore inactive users in Group Library/Wishlist Checker</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/88">#88</a> Make the header dropdown menus work in ESGST generated pages</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/89">#89</a> Fix a bug in Comment Formatting Helper that does not correctly undo automatic link formatting</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/90">#90</a> Split Shared Groups Checker results in two columns: public and private</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/91">#91</a> Fix a bug in Giveaway Popup that adds a button to the review giveaway page when creating invite only giveaways</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/92">#92</a> Complete the active discussions/deals if some of them have been hidden through Discussion Filters</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/93">#93</a> Fix a bug in Old Active Discussions Design that shows deals in the discussions section</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/94">#94</a> Fix a bug in Giveaway Filters that does not automatically filter giveaways in popups</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/95">#95</a> Undo formatting when pressing backspace in Comment Formatting Helper</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/96">#96</a> Focus on text area after undoing/redoing formatting in Comment Formatting Helper</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/97">#97</a> Fix a bug in Group Library/Wishlist Checker that uses the incorrect URL for groups</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/98">#98</a> Fix a bug in Shared Groups Checker that does not return the groups</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/99">#99</a> Reposition open popups every second</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/100">#100</a> Allow navigating through Attached Images Carousel using the arrow keys</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/101">#101</a> Improvements to #99</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/102">#102</a> Close a div tag in addDhHighlightButton</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/103">#103</a> Fix a bug in Giveaway Filters that does not filter giveaways when the genre filter is enabled</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/104">#104</a> Fix a bug that does not load the features correctly when a discussion with 0 comments is in the page</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/105">#105</a> Fix a bug that shows the SG icon instead of the ESGST one in some ESGST generated pages</li>\n                    </ul>\n                '},{date:'November 2, 2017',version:'7.6.3',changelog:'\n                    <ul>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/7">#7</a> Add an option to prevent Game Categories from being links in Grid View</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/54">#54</a> Fix a bug in Header Refresher that shows duplicate notifications</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/78">#78</a> Fix a bug in Giveaways Recreator that uses assigned keys instead of unassigned</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/79">#79</a> Fix a bug in Giveaway Filters that duplicates the DefaultUser preset every time a profile page is loaded</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/80">#80</a> Allow separate Giveaway Filters presets/settings for Giveaway Bookmarks, Giveaways Extractor and Giveaways Encrypter/Decrypter</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/81">#81</a> Fix a bug in User Tags that does not delete tags</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/82">#82</a> Add 3 new encryption methods to Giveaways Encrypter/Decrypter</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/83">#83</a> Fix a bug in Main Post Popup that scrolls down the page when the main post is hidden</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/84">#84</a> Fix a bug in Header Refresher that sometimes does not notify about wishlist giveaways in the tab title</li>\n                        <li><a href="https://github.com/revilheart/ESGST/issues/85">#85</a> Fix a bug in Giveaway Filters that does not rename presets globally</li>\n                    </ul>\n                '},{date:'October 31, 2017',version:'7.6.2',changelog:'\n                    <ul>\n                        <li>Made some style alterations to Quick Giveaway Search and added an option (Giveaways.2.1) to hide the native search when on the main giveaway pages (<a href="https://github.com/revilheart/ESGST/issues/77">#77</a>).</li>\n                        <li>Extended Giveaway Filters to the profile pages.</li>\n                        <li>Fixed a bug in Giveaway Bookmarks that was unbookmarking giveaways for which there were not enough points to enter.</li>\n                        <li>Fixed a bug in Discussion Filters that was not filtering discussions automatically (<a href="https://github.com/revilheart/ESGST/issues/76">#76</a>).</li>\n                    </ul>\n                '},{date:'October 29, 2017',version:'7.6.1',changelog:'\n                    <ul>\n                        <li>Fixed a bug in Quick Giveaway Search that was messing the header (<a href="https://github.com/revilheart/ESGST/issues/72">#72</a>).</li>\n                        <li>Extended Giveaway Filters and Giveaways Manager to Giveaway Bookmarks.</li>\n                        <li>When using Giveaways Extractor, you no longer have to click on "Extract" to start extracting - it now starts automatically.</li>\n                        <li>Discussion Filters now has a different preset for the created discussions page (<a href="https://github.com/revilheart/ESGST/issues/71">#71</a>).</li>\n                        <li>Fixed a bug in Group Library/Wishlist Checker that was showing the wrong percentages.</li>\n                    </ul>\n                '},{date:'October 24, 2017',version:'7.6.0',changelog:'\n                    <ul>\n                        <li>Added something that should prevent ESGST from loading more than once in the same page for some users (<a href="https://github.com/revilheart/ESGST/issues/59">#59</a>).</li>\n                        <li>Added an option to Header Refresher to only notify about unentered wishlist giveaways that are ending in X hours (<a href="https://github.com/revilheart/ESGST/issues/64">#64</a>).</li>\n                        <li>Added Giveaways.2 Quick Giveaway Search.</li>\n                        <li>The genre filter in Giveaway Filters now works as a three-state filter like the others ("hide all" hides the genres listed, "show only" shows only the genres listed and "show all" shows everything).</li>\n                        <li>Fixed a bug in Unhide Giveaway Button that was not correctly detecting hidden games for Giveaway Bookmarks (<a href="https://github.com/revilheart/ESGST/issues/68">#68</a>).</li>\n                        <li>Blacklist Giveaway Loader now shows "You Are Blacklisted" if you have been blacklisted by the creator and "On Your Blacklist" if you have blacklisted the creator.</li>\n                        <li>Fixed a bug that was happening for users with Avatar Popout on click enabled.</li>\n                        <li>Group Library/Wishlist Checker now verifies if the user is still a member of the group.</li>\n                    </ul>\n                '},{date:'October 23, 2017',version:'7.5.1',changelog:'\n                    <ul>\n                        <li>The popup that notifies about a new version is now dismissed when closed and only appears again for the next version (<a href="https://github.com/revilheart/ESGST/issues/65">#65</a>).</li>\n                        <li>Added a "Update" link to the popup above in the script.</li>\n                        <li>Added buttons to select all/none/inverse when syncing.</li>\n                        <li>Prevented Giveaways Manager from loading in some pages (<a href="https://github.com/revilheart/ESGST/issues/69">#69</a>).</li>\n                        <li>Possibly fixed a bug in Unsent Gifts Sender that was not sending all gifts (<a href="https://github.com/revilheart/ESGST/issues/3">#3</a>).</li>\n                        <li>Fixed a bug in CFH (Comment Formatting Helper) that was placing the cursor in the wrong place after pasting a link/image without a title.</li>\n                        <li>When toggling the Automatic Links/Images Paste Formatting in CFH, the focus now returns to the text area (<a href="https://github.com/revilheart/ESGST/issues/60">#60</a>).</li>\n                        <li>Fixed a bug that was preventing Group Library/Wishlist Checker from working properly in the script.</li>\n                    </ul>\n                '},{date:'October 22, 2017',version:'7.5.0',changelog:'\n                    <ul>\n                        <li>Fixed a bug that was happening when importing groups.</li>\n                        <li>Giveaway descriptions are no longer mandatory in Enter/Leave Giveaway Button. Yes, for the millionth time this has changed again. Here\'s why: making giveaway descriptions mandatory results in many complaints and users rolling back to old versions, which is a bad thing, especially since ESGST is in constant development and bugs are constantly being fixed. In the end, I still think this falls to the user. Forcing something on someone who doesn\'t care about it amounts to nothing, they will still find ways to ignore it.</li>\n                        <li>Giveaways Extractor now detects giveaways that you cannot enter correctly (<a href="https://github.com/revilheart/ESGST/issues/58">#58</a>).</li>\n                        <li>Added Giveaways.39 Blacklist Giveaway Loader</li>\n                        <li>Fixed a bug in Comment Formatting Helper that was happening for script users when pasting links/images.</li>\n                        <li>Added Users.15/Users.16 Whitelist/Blacklist Manager</li>\n                        <li>Added Groups.3 Group Library/Wishlist Checker</li>\n                    </ul>\n                '},{date:'October 21, 2017',version:'7.4.0',changelog:'\n                    <ul>\n                        <li>Made ESGST a bit more welcoming to new users (users that are installing it for the first time will now get some basic information to help them get started).</li>\n                        <li>In the settings menu you will now see some red icons for features that require syncing, and upon hovering over the icons, tooltips will appear telling you which data needs to be synced to make the feature work correctly.</li>\n                        <li>Moved the sync section to the top of the settings menu.</li>\n                        <li>Fixed a bug that was happening for some users when syncing groups.</li>\n                        <li>Added an option to the settings menu that allows you to sync previously won games.</li>\n                        <li>Fixed a bug that was not allowing users to drag and drop on Firefox.</li>\n                        <li>Added General.13 Attached Images Loader.</li>\n                        <li>Fixed a bug that was adding the Giveaways Manager button to the right side of the main page heading instead of the left (<a href="https://github.com/revilheart/ESGST/issues/63">#63</a>).</li>\n                        <li>Giveaways Extractor now extracts giveaways that cannot be accessed because of blacklist issues and colors them with a red background.</li>\n                        <li>Added an option to use precise start/end dates to Giveaway Templates.</li>\n                        <li>Fixed a bug in CEWGD (Created/Entered/Won Giveaway Details) that was ordering the columns in the entered page wrong.</li>\n                        <li>Fixed a bug in CEWGD that was showing the wrong creator for giveaways in the won page.</li>\n                        <li>Fixed a bug in Comment Formatting Helper that was not formatting some links correctly (<a href="https://github.com/revilheart/ESGST/issues/62">#62</a>).</li>\n                        <li>Fixed a bug in Comment Searcher that was preventing the script from loading correctly (<a href="https://github.com/revilheart/ESGST/issues/61">#61</a>).</li>\n                        <li>Fixed a bug in Not Activated/Multiple Wins Checker that was not coloring users.</li>\n                    </ul>\n                '},{date:'October 18, 2017',version:'7.3.0',changelog:'\n                    <ul>\n                        <li>Made some changes to the structure of the code.</li>\n                        <li>Fixed a bug that was deleting tags when saving data.</li>\n                        <li>Fixed a bug that was happening for some users when syncing groups.</li>\n                        <li>Fixed a bug that was preventing some features from working correctly in pages generated by the script, such as "/esgst/bookmarked-giveaways".</li>\n                        <li>Added the scroll to top button from Endless Scrolling as a separate feature: 1.21 Scroll To Top Button</li>\n                        <li>Fixed a bug that was preventing Enter/Leave Giveaway Button and Giveaway Popup from working correctly with Comment Formatting Helper disabled.</li>\n                        <li>Fixed a bug in Main Post Popup that was opening the popup at the wrong position.</li>\n                        <li>Added the button to the comment formatting page from Comment Formatting Helper as an option (<a href="https://github.com/revilheart/ESGST/issues/57">#57</a>).</li>\n                        <li>Fixed a bug in Whitelist/Blacklist Checker that was not updating the status of users who had whitelisted/blacklisted you and then removed you from those lists.</li>\n                    </ul>\n                '},{date:'October 14, 2017',version:'7.2.2',changelog:'\n                    <ul>\n                        <li>Giveaway Bookmarks can now be accessed through "/esgst/bookmarked-giveaways".</li>\n                        <li>Giveaways Encrypter/Decrypter can now be accessed through "/esgst/decrypted-giveaways".</li>\n                        <li>Giveaways Extractor can now be accessed through "/esgst/extracted-giveaways?url=/giveaway/XXXXX/" or "/esgst/extracted-giveaways?url=/discussion/XXXXX/".</li>\n                        <li>Added an option to each feature above to open it in a new tab using the new URL.</li>\n                        <li>Fixed some style issues in Grid View with Image Borders disabled.</li>\n                        <li>Fixed a bug in Giveaway/Discussion Filters that was not applying overrides correctly.</li>\n                        <li>Fixed a style issue in Giveaway/Discussion Filters that was making the legend and preset panels overlap for users with few filters enabled.</li>\n                        <li>Extended Giveaways Manager to every page and added the option to bookmark/unbookmark/hide multiple giveaways at once.</li>\n                        <li>Fixed a bug in Enter/Leave Giveaway Button that was hiding the enter button for won giveaways marked as not received.</li>\n                        <li>Next/Previous Train Hotkeys now detects previous/next links based on how many giveaway links there are in the page instead of their text (experimental).</li>\n                        <li>Giveaways Extractor now extracts all giveaways in the page instead of just the ones in the giveaway description (<a href="https://github.com/revilheart/ESGST/issues/55">#55</a>).</li>\n                        <li>Fixed a bug in Created/Entered/Won Giveaway Details that was opening Steam links in the same page instead of in a new tab.</li>\n                        <li>Fixed a bug in Comment Formatting Helper that was not showing the Giveaway Encrypter button (<a href="https://github.com/revilheart/ESGST/issues/56">#56</a>).</li>\n                        <li>Fixed a bug that was happening when adding comments to giveaways without a description (<a href="https://github.com/revilheart/ESGST/issues/53">#53</a>).</li>\n                        <li>Added an option to Game Categories (Games.3.21.2) that indicates if the base game of a DLC is free or not.</li>\n                        <li>Because of the new option above, added new filters to Giveaway Filters: "DLC (Free Base)" and "DLC (Non-Free Base)"</li>\n                    </ul>\n                '},{date:'October 13, 2017',version:'7.2.1',changelog:'\n                    <ul>\n                        <li>Fixed a bug in Comment Formatting Helper that was happening in discussion pages.</li>\n                    </ul>\n                '},{date:'October 13, 2017',version:'7.2.0',changelog:'\n                    <ul>\n                        <li>Removed the update button from the header menu in the extension, since you have to update it through the browser.</li>\n                        <li>Added an option that was missing from the settings menu to import/export/delete Giveaway Bookmarks data.</li>\n                        <li>Fixed a bug in Header Refresher that was not notifying unread messages in the icon of the tab.</li>\n                        <li>Fixed a bug in One-Click Hide Giveaway Button that was happening when hiding giveaways in popups.</li>\n                        <li>Fixed a bug that was showing the button to unhide giveaways everywhere instead of just in the main/giveaway pages (<a href="https://github.com/revilheart/ESGST/issues/50">#50</a>).</li>\n                        <li>Added the functionality above as a feature so you can choose whether you want it or not (2.12 Unhide Giveaway Button).</li>\n                        <li>You can now choose whether to load the groups in Giveaway Groups Loader on a panel upon page load (default), on a popout upon hover, on a popout upon click or on a popup upon click.</li>\n                        <li>Renamed Giveaway Countries Popout to Giveaway Countries Loader.</li>\n                        <li>You can now choose whether to load the countries in the feature above on a popout upon hover (default), on a popout upon click or on a popup upon click.</li>\n                        <li>Revamped Comment Formatting Helper (CFH).</li>\n                        <li>Fixed some bugs in CFH.</li>\n                        <li>There is now only one CFH panel per page, instead of one panel per text box. When you focus on a text box, the panel will move to that box.</li>\n                        <li>The buttons in the CFH panel are now faded by default and unfaded on hover.</li>\n                        <li>Added a button at the end of the CFH panel that links to the comment formatting page on SG/ST.</li>\n                        <li>You can now choose whether to open Avatar Popout upon hover (default) or click.</li>\n                    </ul>\n                '},{date:'October 11, 2017',version:'7.1.1',changelog:'\n                    <ul>\n                        <li>Fixed a bug that was happening when trying to save data for users that were not yet on the database.</li>\n                        <li>Fixed a bug in Endless Scrolling that was not updating the points after removing entries from page 2 onwards (closes <a href="https://github.com/revilheart/ESGST/issues/20">#20</a>).</li>\n                        <li>You can now unhide games from the main/giveaway page (closes <a href="https://github.com/revilheart/ESGST/issues/37">#37</a>).</li>\n                        <li>Fixed a bug in Real CV Calculator that was showing the wrong CV because of the recent changes to the point system on SG (closes <a href="https://github.com/revilheart/ESGST/issues/46">#46</a>).</li>\n                        <li>Added a button to User/Game Tags that allows you to reset a tag to its default color.</li>\n                        <li>You can now easily add tags from a list of all tags you have saved in User/Game Tags (closes <a href="https://github.com/revilheart/ESGST/issues/34">#34</a>).</li>\n                    </ul>\n                '},{date:'October 10, 2017',version:'7.1.0',changelog:'\n                    <ul>\n                        <li>Fixed various bugs that were happening when importing/exporting/deleting data, such as some data not being imported/exported and some data remaining in the storage despite having all options selected while deleting them.</li>\n                        <li>Added an option to import/export/delete discussion/giveaway filters presets (closes <a href="https://github.com/revilheart/ESGST/issues/45">#45</a>) and stickied giveaway countries data.</li>\n                        <li>Added an option not to filter games with no rating to Giveaway Filters.</li>\n                        <li>The basic and advanced chances/ratios are now colored separately.</li>\n                        <li>The option to load the groups as a popup in Giveaway Groups Loader has changed to a popout (now you simply have to hover instead of clicking).</li>\n                        <li>The Giveaways Extractor button now correctly appears only when there are giveaways on the page.</li>\n                        <li>Fixed a bug in Discussion Edits Detector that was not detecting edits and therefore not saving the comments.</li>\n                        <li>When adding a link/image without a title to Comment Formatting Helper, the pointer will now move to between the "[" and "]" (closes <a href="https://github.com/revilheart/ESGST/issues/42">#42</a>).</li>\n                        <li>You can now undo/redo formatting in Comment Formatting Helper.</li>\n                        <li>Fixed a bug in User Tags that was not detecting username changes correctly.</li>\n                    </ul>\n                    <p>Added the following features:</p>\n                    <ul>\n                        <li>2.19 Giveaway Countries Popout</li>\n                    </ul>\n                '},{date:'October 8, 2017',version:'7.0.2',changelog:'\n                    <ul>\n                        <li>The extension should now update automatically on Firefox.</li>\n                    </ul>\n                '},{date:'October 8, 2017',version:'7.0.1',changelog:'\n                    <ul>\n                        <li>Fixed a bug in requests for the same domain on the extension.</li>\n                    </ul>\n                '},{date:'October 8, 2017',version:'7.0.0',changelog:'\n                    <ul>\n                        <li>Replaced the Dropbox SDK with the HTTP endpoints, which should fix some bugs.</li>\n                        <li>Fixed a bug in Header Refresher that was not updating the enter buttons in the page.</li>\n                        <li>When inside a giveaway that you have no points to enter, the "Not Enough Points" button will now be replaced by Enter/Leave Giveaway Button and update accordingly when you get more points without the need to refresh the page.</li>\n                    </ul>\n                    <p>\n                        <div class="esgst-bold">ESGST has been ported to an extension (currently only tested with Firefox and Chrome). Head over to the ESGST discussion or GitHub page to learn how to upgrade. The script version of ESGST will continue to be updated normally for now, whenever the extension is updated (I will decide whether or not to discontinue it based on the extension reception). The "Beta" drop in the version name does not mean the script has become stable.</div>\n                    </p>\n                '}],e){for(i=0,o=t.length;i<o&&t[i].version!==e;++i);a=i<o?i-1:o-1}else a=0;for(n=[];a>=0;)n.unshift(`\n                <p class="esgst-bold">v${t[a].version} (${t[a].date})</p>\n                ${t[a].changelog}\n            `),--a;(r=new Popup('fa-file-text-o','Changelog',!0)).scrollable.insertAdjacentHTML('afterBegin',`\n            <div class="esgst-text-left markdown">\n                ${n.join('')}\n            </div>\n        `),r.open()}async function request(e){if(e.headers||(e.headers={}),e.headers['Content-Type']||(e.headers['Content-Type']='application/x-www-form-urlencoded'),e.queue){let t=await createLock('requestLock',1e3),s=await continueRequest(e);return t(),s}return await continueRequest(e)}async function checkUpdate(){let e=(await request({method:'GET',url:'https://raw.githubusercontent.com/revilheart/ESGST/master/ESGST.meta.js'})).responseText.match(/@version (.+)/);e&&e[1]!=esgst.version?location.href='https://raw.githubusercontent.com/revilheart/ESGST/master/ESGST.user.js':alert('No ESGST updates found!')}init()})();